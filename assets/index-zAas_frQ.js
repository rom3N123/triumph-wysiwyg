(function(){const de=document.createElement("link").relList;if(de&&de.supports&&de.supports("modulepreload"))return;for(const Ue of document.querySelectorAll('link[rel="modulepreload"]'))Xe(Ue);new MutationObserver(Ue=>{for(const Le of Ue)if(Le.type==="childList")for(const Ot of Le.addedNodes)Ot.tagName==="LINK"&&Ot.rel==="modulepreload"&&Xe(Ot)}).observe(document,{childList:!0,subtree:!0});function ye(Ue){const Le={};return Ue.integrity&&(Le.integrity=Ue.integrity),Ue.referrerPolicy&&(Le.referrerPolicy=Ue.referrerPolicy),Ue.crossOrigin==="use-credentials"?Le.credentials="include":Ue.crossOrigin==="anonymous"?Le.credentials="omit":Le.credentials="same-origin",Le}function Xe(Ue){if(Ue.ep)return;Ue.ep=!0;const Le=ye(Ue);fetch(Ue.href,Le)}})();function EI(X,de){for(const ye in X)de(X[ye],ye)}function cf(X,de){X.forEach(de)}function jd(X,de,ye){if(!X)throw Error(`${ye?ye+": ":""}${de}`)}function gb({node:X=[],from:de,source:ye,parent:Xe=de||ye,to:Ue,target:Le,child:Ot=Ue||Le,scope:Qt={},meta:io={},family:Bt={type:"regular"},regional:Ao}={}){const ao=DD(Xe),vo=DD(Bt.links),ot=DD(Bt.owners),yt=[];cf(X,(fs=>fs&&mb(yt,fs)));const zt={id:bJ(),seq:yt,next:DD(Ot),meta:io,scope:Qt,family:{triggers:ao.length,type:Bt.type||"crosslink",links:vo,owners:ot}};return cf(vo,(fs=>mb(UD(fs),zt))),cf(ot,(fs=>mb(ZD(fs),zt))),cf(ao,(fs=>mb(fs.next,zt))),zt}function m$(X,de,ye){let Xe,Ue=t1,Le=null,Ot=ni;if(X.target&&(de=X.params,ye=X.defer,Xe=X.meta,Ue="page"in X?X.page:Ue,X.stack&&(Le=X.stack),Ot=OD(X)||Ot,X=X.target),Ot&&ni&&Ot!==ni&&(ni=null),Array.isArray(X))for(let yt=0;yt<X.length;yt++)Qv("pure",Ue,$u(X[yt]),Le,de[yt],Ot,Xe);else Qv("pure",Ue,$u(X),Le,de,Ot,Xe);if(ye&&!ND)return;const Qt={isRoot:ND,currentPage:t1,scope:ni,isWatch:bI,isPure:PD};let io,Bt,Ao,ao,vo,ot;ND=0;e:for(;ao=SJ();){const{idx:yt,stack:zt,type:fs}=ao;Ao=zt.node,t1=vo=zt.page,ni=OD(zt),vo?ot=vo.reg:ni&&(ot=ni.reg);const Me=!!vo,No=!!ni,Je={fail:0,scope:Ao.scope};io=Bt=0;for(let ae=yt;ae<Ao.seq.length&&!io;ae++){const dt=Ao.seq[ae];if(dt.order){const{priority:ie,barrierID:eo}=dt.order,ns=eo?vo?`${vo.fullID}_${eo}`:eo:0;if(ae!==yt||fs!==ie){eo?hI.has(ns)||(hI.add(ns),kI(ae,zt,ie,eo)):kI(ae,zt,ie,0);continue e}eo&&hI.delete(ns)}switch(dt.type){case"mov":{const eo=dt.data;let ns;switch(eo.from){case"stack":ns=MD(zt);break;case"a":case"b":ns=zt[eo.from];break;case"value":ns=eo.store;break;case"store":if(ot&&!ot[eo.store.id])if(Me){const Cs=C$(vo,eo.store.id);zt.page=vo=Cs,Cs?ot=Cs.reg:No?(cC(ni,eo.store,0,1,eo.softRead),ot=ni.reg):ot=void 0}else No&&cC(ni,eo.store,0,1,eo.softRead);ns=w$(ot&&ot[eo.store.id]||eo.store)}switch(eo.to){case"stack":zt.value=ns;break;case"a":case"b":zt[eo.to]=ns;break;case"store":EJ(vo,ni,eo.target,0).current=ns}break}case"compute":const ie=dt.data;if(ie.fn){bI=Ao.meta.op==="watch",PD=ie.pure;const eo=ie.safe?(0,ie.fn)(MD(zt),Je.scope,zt):AJ(Je,ie.fn,zt);ie.filter?Bt=!eo:zt.value=eo,bI=Qt.isWatch,PD=Qt.isPure}}io=Je.fail||Bt}if(!io){const ae=MD(zt),dt=OD(zt);if(cf(Ao.next,(ie=>{Qv("child",vo,ie,zt,ae,dt)})),dt){Ao.meta.needFxCounter&&Qv("child",vo,dt.fxCount,zt,ae,dt),Ao.meta.storeChange&&Qv("child",vo,dt.storeChange,zt,ae,dt),Ao.meta.warnSerialize&&Qv("child",vo,dt.warnSerializeNode,zt,ae,dt);const ie=dt.additionalLinks[Ao.id];ie&&cf(ie,(eo=>{Qv("child",vo,eo,zt,ae,dt)}))}}}ND=Qt.isRoot,t1=Qt.currentPage,ni=OD(Qt)}function dJ(X,de="combine"){let ye=de+"(",Xe="",Ue=0;return EI(X,(Le=>{Ue<25&&(Le!=null&&(ye+=Xe,ye+=WD(Le)?p$(Le).fullName:Le.toString()),Ue+=1,Xe=", ")})),ye+")"}function uJ(X,de){let ye,Xe;const Ue=X;if(de){const Le=p$(de);X.length===0?(ye=Le.path,Xe=Le.fullName):(ye=Le.path.concat([X]),Xe=Le.fullName.length===0?X:Le.fullName+"/"+X)}else ye=X.length===0?[]:[X],Xe=X;return{shortName:Ue,fullName:Xe,path:ye}}function $D(X,de){if(!de||!de.name&&!de.named&&!de.loc)return X;let ye=`[${X}]`;const Xe=de.named||de.name;Xe&&(ye+=` unit '${Xe}'`);const Ue=de.loc;return!Xe&&Ue&&(ye+=` (${Ue.file}:${Ue.line}:${Ue.column})`),ye}function f$(X,de){const ye=de?X:X[0];y$(ye);let Xe=ye.or;const Ue=ye.and;if(Ue){const Le=Ue[0];if(o1(Le)&&"and"in Le){const Ot=f$(Ue,de);X=Ot[0],Xe={...Xe,...Ot[1]}}else X=Ue}return[X,Xe]}function yI(X){const de=()=>X();return de.unsubscribe=()=>X(),de}function t2(X,...de){}function pb(X,de){const ye=EE({or:de,and:typeof X=="string"?{name:X}:X}),Xe=$D("event",ye),Ue=(Qt,...io)=>(jd(!o2(Ue,"derived"),"call of derived event is not supported, use createEvent instead",Xe),jd(!PD,"unit call from pure function is not supported, use operators like sample instead",Xe),t1?((Bt,Ao,ao,vo)=>{const ot=t1;i$(null);const zt=Bt.create(ao,vo);return i$(ot),zt})(Ue,Le,Qt,io):Ue.create(Qt,io)),Le=vJ(),Ot=Object.assign(Ue,{graphite:gb({meta:S$(ye.actualOp||"event",Ue,ye,NI()),regional:1}),create:Qt=>(m$({target:Ue,params:Qt,scope:ni}),Qt),watch:Qt=>k$(Ue,Qt),map:Qt=>xI(Ue,aC,Qt,[e2()]),filter:Qt=>xI(Ue,"filter",Qt.fn?Qt:Qt.fn,[e2(jD,1)]),filterMap:Qt=>xI(Ue,"filterMap",Qt,[e2(),SE((io=>!n2(io)),1)]),prepend(Qt){jd(Ue.targetable,".prepend of derived event is not supported, call source event instead",Xe);const io=pb("* → "+Ue.shortName,{parent:FD(Ue)});return t2("eventPrepend",$u(io)),qD(io,Ue,[e2()],"prepend",Qt),DJ(Ue,io),io}});return ye!=null&&ye.domain&&ye.domain.hooks.event(Ot),e1(Ot,"id",Ot.graphite.id),x$(Ot.graphite),Ot}function s$(X,de,ye,Xe,Ue){return _J(ye,`${Ue} ${de}`,"first argument"),jd(hb(Xe),"second argument should be a function",Ue),zD(!o2(X,"derived"),`${de} in derived store`,`${de} in store created via createStore`,Ue),cf(Array.isArray(ye)?ye:[ye],(Le=>{X.off(Le),E$(Le,X,"on",CJ,Xe)})),X}function VD(X,de){const ye=EE(de),Xe=wI(X),Ue=$D("store",ye),Le=pb({named:"updates",derived:1});t2("storeBase",Xe);const Ot=Xe.id,Qt="skipVoid"in ye,io=Qt&&!ye.skipVoid;zD(!(Qt&&ye.skipVoid),"{skipVoid: true}","updateFilter",Ue);const Bt={updates:Le,defaultState:X,stateRef:Xe,getState(){let Me,No=Xe;if(t1){let Je=t1;for(;Je&&!Je.reg[Ot];)Je=FD(Je);Je&&(Me=Je)}return!Me&&ni&&(cC(ni,Xe,1),Me=ni),Me&&(No=Me.reg[Ot]),w$(No)},setState:Me=>m$({target:Bt,params:Me,defer:1,scope:ni}),reset:(...Me)=>(jd(Bt.targetable,".reset of derived store is not supported",Ue),cf(Me,(No=>s$(Bt,".reset",No,(()=>Bt.defaultState),Ue))),Bt),on:(Me,No)=>(jd(Bt.targetable,".on of derived store is not supported",Ue),s$(Bt,".on",Me,No,Ue)),off(Me){const No=$u(Me).id,Je=$u(Bt).family.links.find((ae=>ae.meta.onTrigger===No));return Je&&HD(Je),Bt},map(Me,No){let Je,ae;o1(Me)&&(Je=Me,Me=Me.fn);const dt=Bt.getState(),ie=n2(dt);(!ie||ie&&io)&&(ae=Me(dt));const eo=VD(ae,{name:`${Bt.shortName} → *`,derived:1,...No,and:Je}),ns=E$(Bt,eo,aC,jD,Me);return CI(iC(eo),{type:aC,fn:Me,from:Xe}),iC(eo).noInit=1,t2("storeMap",Xe,ns),eo},watch(Me,No){if(zD(!No,"watch second argument","sample",Ue),!No||!WD(Me)){const Je=k$(Bt,Me);return t2("storeWatch",Xe,Me)||Me(Bt.getState()),Je}return jd(hb(No),"second argument should be a function",Ue),Me.watch((Je=>No(Bt.getState(),Je)))}},Ao=S$("store",Bt,ye,NI()),ao=Bt.defaultConfig.updateFilter;Bt.graphite=gb({scope:{state:Xe,fn:ao},node:[SE(((Me,No,Je)=>(Je.scope&&!Je.scope.reg[Xe.id]&&(Je.b=1),Me))),_I(Xe),SE(((Me,No,{a:Je,b:ae})=>{const dt=n2(Me);return dt&&!Qt&&pJ(`${ID}`,Bt.graphite),(dt&&io||!dt)&&(Me!==Je||ae)}),1),ao&&e2(wJ,1),Qh({from:"stack",target:Xe})],child:Le,meta:{...Ao,defaultState:X,stateRef:Xe},regional:1}),e1(Bt,"id",Bt.graphite.id),e1(Bt,"rootStateRefId",Ot);const vo=o2(Bt,"serialize"),ot=o2(Bt,"derived"),yt=vo==="ignore",zt=o2(Bt,"sid");zt&&(e1(Bt,"storeChange",1),Xe.sid=zt),zt||yt||ot||e1(Bt,"warnSerialize",1);const fs=n2(X);return jd(ot||!fs||fs&&io,ID,Ue),ot&&fs&&!Qt&&console.error(`${Ue}: ${ID}`),v$(Bt,[Le]),ye!=null&&ye.domain&&ye.domain.hooks.store(Bt),ot||(Bt.reinit=pb({named:"reinit"}),Bt.reset(Bt.reinit)),Xe.meta=Bt.graphite.meta,x$(Bt.graphite),Bt}function g$(...X){let de,ye,Xe;[X,Xe]=f$(X);const Ue=$D("combine",Xe),Le=X[X.length-1],Ot=X.length>1&&!lC(Le)&&o1(Le),Qt=Ot&&Le,io=Ot?X[X.length-2]:Le;let Bt,Ao,ao;if(hb(io)?(ye=X.slice(0,Ot?-2:-1),de=io):ye=X,ye.length===1){const vo=ye[0];lC(vo)||(Bt=vo,Ao=1)}if(!Ao&&(Bt=ye,de)){ao=1;const vo=de;de=ot=>vo(...ot)}return jd(o1(Bt),`${Ue}: shape should be an object`),RJ(Array.isArray(Bt),!ao,Bt,NI(),Xe,de,Qt)}function CE({unit:X,fn:de,scope:ye,batch:Xe}){const Ue=[BD.run({fn:Ot=>de(Ot)})];Xe&&Ue.unshift(BD.compute({priority:"sampler",batch:1})),lC(X)&&Ue.unshift(BD.mov({store:X.stateRef,to:"stack"}));const Le=Array.isArray(X)?X:[X];if(ye){const Ot=[],Qt=ye.additionalLinks;return Le.forEach((io=>{const Bt=Qt[io.graphite.id]||[];Qt[io.graphite.id]=Bt;const Ao=gb({node:mJ(Ue,io),meta:{watchOp:io.kind}});Bt.push(Ao),Ot.push((()=>{const ao=Bt.indexOf(Ao);ao!==-1&&Bt.splice(ao,1),HD(Ao)}))})),yI((()=>{Ot.forEach((io=>io()))}))}{const Ot=gb({node:Ue,parent:Le,family:{owners:Le}});return yI((()=>{HD(Ot)}))}}function mJ(X,de){return lC(de)?[BD.mov({store:de.stateRef,to:"stack"}),...X]:X}const fJ=typeof Symbol<"u"&&Symbol.observable||"@@observable",aC="map",$u=X=>X.graphite||X,UD=X=>X.family.owners,ZD=X=>X.family.links,iC=X=>X.stateRef,MD=X=>X.value,FD=X=>X.parent,OD=X=>X.scope,o2=(X,de)=>$u(X).meta[de],e1=(X,de,ye)=>$u(X).meta[de]=ye,p$=X=>X.compositeName,WD=X=>(hb(X)||o1(X))&&"kind"in X,h$=X=>de=>WD(de)&&de.kind===X,lC=h$("store"),gJ=h$("domain"),gI=(X,de)=>X.includes(de),pI=(X,de)=>{const ye=X.indexOf(de);ye!==-1&&X.splice(ye,1)},mb=(X,de)=>X.push(de),zD=(X,de,ye,Xe)=>!X&&console.error(`${Xe?Xe+": ":""}${de} is deprecated${ye?`, use ${ye} instead`:""}`),pJ=(X,de)=>{const ye=o2(de,"unitTrace"),Xe=o2(de,"config"),Ue=Xe!=null&&Xe.loc?` at ${Xe.loc.file}`:null,Le=Xe?.name;let Ot=X;Le&&(Ot=`${Le}: ${X}`),Ue&&(Ot=`${Le}${Ue}: ${X}`);const Qt=Error(Ot);ye&&(Qt.stack=ye),ye||Le||Ue||console.log(`Add effector's Babel or SWC plugin to your config for more detailed debug information or "import "effector/enable_debug_traces" to your code entry module to see full stack traces`),console.error(Qt)},TI=()=>{let X=0;return()=>""+ ++X},hJ=TI(),b$=TI(),bJ=TI();let xJ=null;const x$=X=>{},vJ=()=>xJ,yJ=X=>X,v$=(X,de)=>{const ye=$u(X);cf(de,(Xe=>{const Ue=$u(Xe);ye.family.type!=="domain"&&(Ue.family.type="crosslink"),mb(UD(Ue),ye),mb(ZD(ye),Ue)}))},DD=(X=[])=>(Array.isArray(X)?X:[X]).flat().map($u),o1=X=>typeof X=="object"&&X!==null,hb=X=>typeof X=="function",n2=X=>X===void 0,y$=X=>jd(o1(X)||hb(X),"expect first argument be an object"),r$=(X,de,ye,Xe)=>jd(!(!o1(X)&&!hb(X)||!("family"in X)&&!("graphite"in X)),`${de}: expect ${ye} to be a unit (store, event or effect)${Xe}`),_J=(X,de,ye)=>{Array.isArray(X)?cf(X,((Xe,Ue)=>r$(Xe,de,`${Ue} item of ${ye}`,""))):r$(X,de,ye," or array of units")},wJ=(X,{fn:de},{a:ye})=>de(X,ye),CJ=(X,{fn:de},{a:ye})=>de(ye,X),jD=(X,{fn:de})=>de(X),_$=(X,de,ye,Xe)=>{const Ue={id:b$(),type:X,data:de};return ye&&(Ue.order={priority:ye},Xe&&(Ue.order.barrierID=++kJ)),Ue};let kJ=0;const Qh=({from:X="store",store:de,target:ye,to:Xe=ye?"store":"stack",batch:Ue,priority:Le})=>_$("mov",{from:X,store:de,to:Xe,target:ye},Le,Ue),kE=({fn:X,batch:de,priority:ye,safe:Xe=0,filter:Ue=0,pure:Le=0})=>_$("compute",{fn:X,safe:Xe,filter:Ue,pure:Le},ye,de),AI=({fn:X})=>kE({fn:X,priority:"effect"}),SE=(X,de,ye)=>kE({fn:X,safe:1,filter:de,priority:ye}),_I=(X,de,ye)=>Qh({store:X,to:de?"stack":"a",priority:ye&&"sampler",batch:1}),e2=(X=jD,de)=>kE({fn:X,pure:1,filter:de}),BD={mov:Qh,compute:kE,filter:({fn:X,pure:de})=>kE({fn:X,filter:1,pure:de}),run:AI},wI=X=>({id:b$(),current:X,initial:X}),w$=({current:X})=>X,CI=(X,de)=>{X.before||(X.before=[]),mb(X.before,de)};let rC=null;const OI=(X,de)=>{if(!X)return de;if(!de)return X;let ye;return(X.v.type===de.v.type&&X.v.id>de.v.id||SI(X.v.type)>SI(de.v.type))&&(ye=X,X=de,de=ye),ye=OI(X.r,de),X.r=X.l,X.l=ye,X},DI=[];let a$=0;for(;a$<6;)mb(DI,{first:null,last:null,size:0}),a$+=1;const SJ=()=>{for(let X=0;X<6;X++){const de=DI[X];if(de.size>0){if(X===3||X===4){de.size-=1;const Xe=rC.v;return rC=OI(rC.l,rC.r),Xe}de.size===1&&(de.last=null);const ye=de.first;return de.first=ye.r,de.size-=1,ye.v}}},Qv=(X,de,ye,Xe,Ue,Le,Ot)=>kI(0,{a:null,b:null,node:ye,parent:Xe,value:Ue,page:de,scope:Le,meta:Ot},X,0),kI=(X,de,ye,Xe)=>{const Ue=SI(ye),Le=DI[Ue],Ot={v:{idx:X,stack:de,type:ye,id:Xe},l:null,r:null};Ue===3||Ue===4?rC=OI(rC,Ot):(Le.size===0?Le.first=Ot:Le.last.r=Ot,Le.last=Ot),Le.size+=1},SI=X=>{switch(X){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},hI=new Set;let ni,ND=1,bI=0,PD=0,t1=null;const i$=X=>{t1=X},C$=(X,de)=>{if(X){for(;X&&!X.reg[de];)X=X.parent;if(X)return X}return null},EJ=(X,de,ye,Xe)=>{const Ue=C$(X,ye.id);return Ue?Ue.reg[ye.id]:de?(cC(de,ye,Xe),de.reg[ye.id]):ye},TJ=X=>X,cC=(X,de,ye,Xe,Ue)=>{const Le=X.reg;if(Le[de.id])return;const Ot=de.sid,Qt={id:de.id,current:de.initial,meta:de.meta};if(Qt.id in X.values.idMap)Qt.current=X.values.idMap[Qt.id];else if(Ot&&Ot in X.values.sidMap&&!(Ot in X.sidIdMap)){var io;const Bt=de==null||(io=de.meta)===null||io===void 0?void 0:io.serialize;Qt.current=(X.fromSerialize&&Bt!=="ignore"&&Bt?.read||TJ)(X.values.sidMap[Ot])}else if(de.before&&!Ue){let Bt=0;const Ao=ye||!de.noInit||Xe;cf(de.before,(ao=>{switch(ao.type){case"map":{const vo=ao.from;if((vo||ao.fn)&&(vo&&cC(X,vo,ye,Xe),Ao)){const ot=vo&&Le[vo.id].current;Qt.current=ao.fn?ao.fn(ot):ot}break}case"field":cC(X,ao.from,ye,Xe),Bt||(Bt=1,Qt.current=Array.isArray(Qt.current)?[...Qt.current]:{...Qt.current}),Ao&&(Qt.current[ao.field]=Le[Le[ao.from.id].id].current)}}))}Ot&&(X.sidIdMap[Ot]=de.id),Le[de.id]=Qt},AJ=(X,de,ye)=>{try{return de(MD(ye),X.scope,ye)}catch(Xe){console.error(Xe),X.fail=1,X.failReason=Xe}},EE=(X,de={})=>(o1(X)&&(EE(X.or,de),EI(X,((ye,Xe)=>{n2(ye)||Xe==="or"||Xe==="and"||(de[Xe]=ye)})),EE(X.and,de)),de),l$=(X,de)=>{pI(X.next,de),pI(UD(X),de),pI(ZD(X),de)},c$=["on","reset","sample","split","merge","guard","forward"],LD=(X,de,ye,Xe,Ue)=>{let Le;X.next.length=0,X.seq.length=0,X.scope=null;let Ot=ZD(X);const{stateRef:Qt,defaultShape:io,isRegion:Bt,op:Ao}=X.meta;if(Qt&&(Qt.before=[],X.meta.stateRef=null),io)for(const vo in io)io[vo]=null;const ao=Bt?X:Xe;if(Ot.length>0){const vo=gI(c$,Ao),ot=!Bt&&!Ue,yt=ot&&ye&&!vo;for(;Le=Ot.pop();){const zt=gI(Le.next,X);l$(Le,X),Bt&&LD(Le,0,0,X,1),zt||(Le.family.triggers-=1),(de||yt||ot&&Le.family.type==="crosslink"&&!vo||Ue&&gI(c$,Le.meta.op)&&(zt&&Le.next.length===0||!zt&&Le.family.triggers<=0))&&LD(Le,de,ye&&Le.meta.op!=="on",ao,Ue)}}for(Ot=UD(X);Le=Ot.pop();)l$(Le,X),ye&&Le.family.type==="crosslink"&&LD(Le,de,Le.meta.op!=="on",ao,Ue)},RD=X=>X.clear(),HD=(X,{deep:de}={})=>{let ye=0;if(X.ownerSet&&X.ownerSet.delete(X),gJ(X)){ye=1;const Xe=X.history;RD(Xe.events),RD(Xe.effects),RD(Xe.stores),RD(Xe.domains)}LD($u(X),!!de,ye,null,0)},OJ=X=>yI((()=>HD(X))),qD=(X,de,ye,Xe,Ue)=>gb({node:ye,parent:X,child:de,scope:{fn:Ue},meta:{op:Xe},family:{owners:[X,de],links:de},regional:1}),k$=(X,de)=>(jd(hb(de),".watch argument should be a function"),OJ(gb({scope:{fn:de},node:[AI({fn:jD})],parent:X,meta:{op:"watch"},family:{owners:X},regional:1}))),DJ=(X,de,ye="event")=>{FD(X)&&FD(X).hooks[ye](de)},NJ=(X,de)=>e1(X,"unitTrace",de),NI=X=>"",S$=(X,de,ye,Xe)=>{const Ue=EE(ye),Le=X==="domain",Ot=hJ(),{sid:Qt=null,named:io=null,domain:Bt=null,parent:Ao=Bt}=Ue,ao=io||Ue.name||(Le?"":Ot),vo=uJ(ao,Ao),ot={op:de.kind=X,name:de.shortName=ao,sid:de.sid=yJ(Qt),named:io,unitId:de.id=Ot,serialize:Ue.serialize,derived:Ue.derived,config:Ue,unitTrace:Xe};return de.targetable=!Ue.derived,de.parent=Ao,de.compositeName=vo,de.defaultConfig=Ue,de.getType=()=>(zD(0,"getType","compositeName.fullName"),vo.fullName),!Le&&(de.subscribe=yt=>(y$(yt),de.watch(hb(yt)?yt:zt=>yt.next&&yt.next(zt))),de[fJ]=()=>de),ot},xI=(X,de,ye,Xe)=>{let Ue;o1(ye)&&(Ue=ye,ye=ye.fn);const Le=pb({name:`${X.shortName} → *`,derived:1,and:Ue});return qD(X,Le,Xe,de,ye),Le},ID="undefined is used to skip updates. To allow undefined as a value provide explicit { skipVoid: false } option",E$=(X,de,ye,Xe,Ue)=>{const Le=iC(de),Ot=Qh({store:Le,to:"a",priority:"read"});ye===aC&&(Ot.data.softRead=1);const Qt=[Ot,e2(Xe)];t2("storeOnMap",Le,Qt,lC(X)&&iC(X));const io=qD(X,de,Qt,ye,Ue);return ye!==aC&&e1(io,"onTrigger",$u(X).id),io},RJ=(X,de,ye,Xe,Ue,Le,Ot)=>{const Qt=$D("combine",Ue),io=X?No=>[...No]:No=>({...No}),Bt=X?[]:{},Ao=io(Bt),ao=wI(Ao),vo=wI(1);ao.type=X?"list":"shape",ao.noInit=1,t2("combineBase",ao,vo);const ot=VD(Ao,{name:dJ(ye),derived:1,...Ot,and:Ue});NJ(ot,Xe);const yt=iC(ot);yt.noInit=1,e1(ot,"isCombine",1),v$(ot,[gb({meta:{stateRef:ao}})]);const zt=_I(ao);zt.order={priority:"barrier"};const fs=Qh({store:yt,to:"b",priority:"read"});fs.data.softRead=1;const Me=[SE(((No,Je,ae)=>(ae.scope&&!ae.scope.reg[ao.id]&&(ae.c=1),No))),zt,Qh({store:vo,to:"b"}),SE(((No,{key:Je},ae)=>{if(ae.c||No!==ae.a[Je])return de&&ae.b&&(ae.a=io(ae.a)),ae.a[Je]=No,1}),1),Qh({from:"a",target:ao}),Qh({from:"value",store:0,target:vo}),Qh({from:"value",store:1,target:vo,priority:"barrier",batch:1}),_I(ao,1,1),Le&&e2(),fs];if(EI(ye,((No,Je)=>{if(!lC(No))return jd(!WD(No)&&!n2(No),`combine expects a store in a field ${Je}`,Qt),void(Ao[Je]=Bt[Je]=No);Bt[Je]=No.defaultState,Ao[Je]=No.getState();const ae=qD(No,ot,Me,"combine",Le);ae.scope.key=Je;const dt=iC(No);CI(ao,{type:"field",field:Je,from:dt}),t2("combineField",dt,ae)})),ot.defaultShape=ye,e1(ot,"defaultShape",ye),CI(yt,{type:aC,from:ao,fn:Le}),Le){const No=Le(Ao);!n2(No)||Ot&&"skipVoid"in Ot||console.error(`${Qt}: ${ID}`),yt.current=No,yt.initial=No,ot.defaultState=No}else ot.defaultState=Bt;return ot};gb({node:[AI({fn:({fn:X,value:de})=>X(de)})],meta:{op:"fx",fx:"sidechain"}});const dC=VD([]),fb=VD(null),d$=g$(dC,fb,(X,de)=>X.find(({id:ye})=>ye===de)?.label||""),RI=pb(),GD=pb(),T$=pb(),MI=pb();dC.on(RI,X=>[...X,{id:Date.now(),label:"template"}]).on(GD,(X,de)=>X.filter(({id:ye})=>ye!==de)).on(MI,(X,{id:de,label:ye})=>{const Xe=X.findIndex(Qt=>Qt.id===de);if(Xe===-1)return X;const Ue=[...X],Ot={...Ue[Xe],label:ye};return Ue[Xe]=Ot,Ue});fb.on(T$,(X,de)=>de).on(GD,(X,de)=>X===de?null:X);class MJ extends HTMLElement{static componentName="templates-list";shadow;constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.render(),this.addListItemClickListeners(),this.observeStore()}get templates(){return dC.getState()}get selectedItemId(){return fb.getState()}observeStore(){g$(dC,fb).subscribe(()=>this.rerender())}onItemClick({target:de}){if(de instanceof Element){const ye=Number(de.id),Xe=ye===fb.getState();T$(Xe?null:ye)}}addListItemClickListeners(){this.shadow.querySelectorAll("li").forEach(ye=>{ye.addEventListener("click",this.onItemClick)})}removeEventListeners(){this.shadow.querySelectorAll("li").forEach(ye=>{ye.removeEventListener("click",this.onItemClick)})}rerender(){this.removeEventListeners(),this.render(),this.addListItemClickListeners()}getUi(){return`
      <style>
        .active-item {
          background-color: green;
        }
      </style>

      <ul class="p-3 border rounded bg-black/80">
        ${this.templates.map(({label:de,id:ye})=>`
              <li class="${ye===this.selectedItemId&&"active-item"}" id="${ye}">${de}</li>
            `).join("")}
      </ul>
    `}render(){this.shadow.innerHTML=this.getUi()}}class BJ extends HTMLElement{static componentName="change-template-input";shadow;ref=null;constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.render(),this.observeStore(),this.createRef(),this.addOnChangeListener()}get selectedTemplateName(){return d$.getState()}observeStore(){CE({unit:d$,fn:()=>this.rerender()})}createRef(){this.ref=this.shadow.querySelector("input")}onChange({currentTarget:{value:de}}){const ye=fb.getState();ye&&MI({id:ye,label:de})}addOnChangeListener(){this.ref&&this.ref.addEventListener("input",this.onChange)}rerender(){this.ref&&(this.ref.value=this.selectedTemplateName,!!fb.getState()?this.ref.removeAttribute("disabled"):this.ref.setAttribute("disabled","true"))}getUi(){return`
      <input 
        placeholder="Enter template name.." 
        disabled
      />
    `}render(){this.shadow.innerHTML=this.getUi()}}class PJ extends HTMLElement{static componentName="create-template-button";shadow;ref=null;constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.render(),this.createRef(),this.addClickListener()}onClick(){RI()}addClickListener(){this.ref&&this.ref.addEventListener("click",this.onClick)}createRef(){this.ref=this.shadow.querySelector("button")}getUi(){return`
      <button>+</button>
    `}render(){this.shadow.innerHTML=this.getUi()}}class LJ extends HTMLElement{static componentName="remove-template-button";shadow;ref=null;constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.render(),this.createRef(),this.addClickListener()}onClick(){const de=fb.getState();de&&GD(de)}addClickListener(){this.ref&&this.ref.addEventListener("click",this.onClick)}createRef(){this.ref=this.shadow.querySelector("button")}getUi(){return`
      <button>-</button>
    `}render(){this.shadow.innerHTML=this.getUi()}}class BI extends HTMLElement{static componentName="select-templates-input";shadow;ref=null;constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.render(),this.createRef(),this.observeStore()}createRef(){this.ref=this.shadow.querySelector("select")}get templates(){return dC.getState()}rerenderOption({id:de,label:ye}){if(this.ref){const Xe=this.ref.querySelector(`[data-id='${de}']`);Xe&&(Xe.textContent=ye,Xe.setAttribute("value",ye))}}addErrorLabelToTheOption(de){if(this.ref){const ye=this.ref.querySelector(`[data-id='${de}']`);this.ref.value===ye?.getAttribute("value")&&(ye.textContent="ERROR",ye.setAttribute("value","ERROR"))}}observeStore(){CE({unit:RI,fn:()=>this.rerender()}),CE({unit:MI,fn:de=>this.rerenderOption(de)}),CE({unit:GD,fn:de=>this.addErrorLabelToTheOption(de)})}renderOptions(){return this.templates.map(({label:de,id:ye})=>`<option value="${de}" data-id="${ye}">
            ${de}
          </option>`).join("")}rerender(){this.ref&&(this.ref.innerHTML=this.renderOptions())}getUi(){return`
      <select>
      </select>
    `}render(){this.shadow.innerHTML=this.getUi()}}const IJ=[MJ,BJ,PJ,LJ,BI],FJ=()=>{IJ.forEach(X=>{customElements.define(X.componentName,X)})};function zJ(X){return X&&X.__esModule&&Object.prototype.hasOwnProperty.call(X,"default")?X.default:X}var vI={exports:{}},u$;function HJ(){return u$||(u$=1,(function(X){(function(){var de=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},ye=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},Xe=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)},Ue=function(e,t){return Le(function(o,s){return e.eq(t(o),t(s))})},Le=function(e){return{eq:e}},Ot=Le(function(e,t){return e===t}),Qt=Ot,io=function(e){return Le(function(t,o){if(t.length!==o.length)return!1;for(var s=t.length,a=0;a<s;a++)if(!e.eq(t[a],o[a]))return!1;return!0})},Bt=function(e,t){return Ue(io(e),function(o){return Xe(o,t)})},Ao=function(e){return Le(function(t,o){var s=Object.keys(t),a=Object.keys(o);if(!Bt(Qt).eq(s,a))return!1;for(var c=s.length,d=0;d<c;d++){var g=s[d];if(!e.eq(t[g],o[g]))return!1}return!0})},ao=Le(function(e,t){if(e===t)return!0;var o=de(e),s=de(t);return o!==s?!1:ye(o)?e===t:o==="array"?io(ao).eq(e,t):o==="object"?Ao(ao).eq(e,t):!1});const vo=Object.getPrototypeOf,ot=(e,t,o)=>{var s;return o(e,t.prototype)?!0:((s=e.constructor)===null||s===void 0?void 0:s.name)===t.name},yt=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&ot(e,String,(o,s)=>s.isPrototypeOf(o))?"string":t},zt=e=>t=>yt(t)===e,fs=e=>t=>typeof t===e,Me=e=>t=>e===t,No=(e,t)=>ae(e)&&ot(e,t,(o,s)=>vo(o)===s),Je=zt("string"),ae=zt("object"),dt=e=>No(e,Object),ie=zt("array"),eo=Me(null),ns=fs("boolean"),Cs=Me(void 0),zo=e=>e==null,Ee=e=>!zo(e),Ut=fs("function"),E=fs("number"),mo=(e,t)=>{if(ie(e)){for(let o=0,s=e.length;o<s;++o)if(!t(e[o]))return!1;return!0}return!1},fo=()=>{},Yn=(e,t)=>(...o)=>e(t.apply(null,o)),ki=(e,t)=>o=>e(t(o)),Ge=e=>()=>e,dn=e=>e,df=(e,t)=>e===t;function bt(e,...t){return(...o)=>{const s=t.concat(o);return e.apply(null,s)}}const Ke=e=>t=>!e(t),vt=e=>()=>{throw new Error(e)},Vu=e=>e(),sn=e=>{e()},un=Ge(!1),qo=Ge(!0);class P{constructor(t,o){this.tag=t,this.value=o}static some(t){return new P(!0,t)}static none(){return P.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?P.some(t(this.value)):P.none()}bind(t){return this.tag?t(this.value):P.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:P.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Ee(t)?P.some(t):P.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}P.singletonNone=new P(!1);const el=Array.prototype.slice,fr=Array.prototype.indexOf,yn=Array.prototype.push,Uc=(e,t)=>fr.call(e,t),Gg=(e,t)=>{const o=Uc(e,t);return o===-1?P.none():P.some(o)},wo=(e,t)=>Uc(e,t)>-1,Sn=(e,t)=>{for(let o=0,s=e.length;o<s;o++){const a=e[o];if(t(a,o))return!0}return!1},go=(e,t)=>{const o=e.length,s=new Array(o);for(let a=0;a<o;a++){const c=e[a];s[a]=t(c,a)}return s},Te=(e,t)=>{for(let o=0,s=e.length;o<s;o++){const a=e[o];t(a,o)}},Uu=(e,t)=>{for(let o=e.length-1;o>=0;o--){const s=e[o];t(s,o)}},Lr=(e,t)=>{const o=[],s=[];for(let a=0,c=e.length;a<c;a++){const d=e[a];(t(d,a)?o:s).push(d)}return{pass:o,fail:s}},Pt=(e,t)=>{const o=[];for(let s=0,a=e.length;s<a;s++){const c=e[s];t(c,s)&&o.push(c)}return o},bb=(e,t)=>{if(e.length===0)return[];{let o=t(e[0]);const s=[];let a=[];for(let c=0,d=e.length;c<d;c++){const g=e[c],b=t(g);b!==o&&(s.push(a),a=[]),o=b,a.push(g)}return a.length!==0&&s.push(a),s}},wa=(e,t,o)=>(Uu(e,(s,a)=>{o=t(o,s,a)}),o),Go=(e,t,o)=>(Te(e,(s,a)=>{o=t(o,s,a)}),o),Zu=(e,t,o)=>{for(let s=0,a=e.length;s<a;s++){const c=e[s];if(t(c,s))return P.some(c);if(o(c,s))break}return P.none()},Ko=(e,t)=>Zu(e,t,un),ss=(e,t)=>{for(let o=0,s=e.length;o<s;o++){const a=e[o];if(t(a,o))return P.some(o)}return P.none()},n1=(e,t)=>{for(let o=e.length-1;o>=0;o--)if(t(e[o],o))return P.some(o);return P.none()},Kg=e=>{const t=[];for(let o=0,s=e.length;o<s;++o){if(!ie(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);yn.apply(t,e[o])}return t},_r=(e,t)=>Kg(go(e,t)),Tl=(e,t)=>{for(let o=0,s=e.length;o<s;++o){const a=e[o];if(t(a,o)!==!0)return!1}return!0},Si=e=>{const t=el.call(e,0);return t.reverse(),t},Wu=(e,t)=>Pt(e,o=>!wo(t,o)),Ir=(e,t)=>{const o={};for(let s=0,a=e.length;s<a;s++){const c=e[s];o[String(c)]=t(c,s)}return o},Dt=(e,t)=>{const o=el.call(e,0);return o.sort(t),o},$o=(e,t)=>t>=0&&t<e.length?P.some(e[t]):P.none(),$n=e=>$o(e,0),Is=e=>$o(e,e.length-1),mt=Ut(Array.from)?Array.from:e=>el.call(e),Zc=(e,t)=>{for(let o=0;o<e.length;o++){const s=t(e[o],o);if(s.isSome())return s}return P.none()},uf=(e,t)=>{const o=[],s=Ut(t)?a=>Sn(o,c=>t(c,a)):a=>wo(o,a);for(let a=0,c=e.length;a<c;a++){const d=e[a];s(d)||o.push(d)}return o},Ca=Object.keys,wr=Object.hasOwnProperty,Mo=(e,t)=>{const o=Ca(e);for(let s=0,a=o.length;s<a;s++){const c=o[s],d=e[c];t(d,c)}},si=(e,t)=>xb(e,(o,s)=>({k:s,v:t(o,s)})),xb=(e,t)=>{const o={};return Mo(e,(s,a)=>{const c=t(s,a);o[c.k]=c.v}),o},qd=e=>(t,o)=>{e[o]=t},yo=(e,t,o,s)=>{Mo(e,(a,c)=>{(t(a,c)?o:s)(a,c)})},Kr=(e,t)=>{const o={},s={};return yo(e,t,qd(o),qd(s)),{t:o,f:s}},Fr=(e,t)=>{const o={};return yo(e,t,qd(o),fo),o},$a=(e,t)=>{const o=[];return Mo(e,(s,a)=>{o.push(t(s,a))}),o},rs=e=>$a(e,dn),Jo=(e,t)=>Xt(e,t)?P.from(e[t]):P.none(),Xt=(e,t)=>wr.call(e,t),ge=(e,t)=>Xt(e,t)&&e[t]!==void 0&&e[t]!==null,s2=(e,t,o=ao)=>Ao(o).eq(e,t),sc={generate:e=>{if(!ie(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],o={};return Te(e,(s,a)=>{const c=Ca(s);if(c.length!==1)throw new Error("one and only one name per case");const d=c[0],g=s[d];if(o[d]!==void 0)throw new Error("duplicate key detected:"+d);if(d==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ie(g))throw new Error("case arguments must be an array");t.push(d),o[d]=(...b)=>{const _=b.length;if(_!==g.length)throw new Error("Wrong number of arguments to case "+d+". Expected "+g.length+" ("+g+"), got "+_);return{fold:(...N)=>{if(N.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+N.length);return N[a].apply(null,b)},match:N=>{const R=Ca(N);if(t.length!==R.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+R.join(","));if(!Tl(t,Y=>wo(R,Y)))throw new Error("Not all branches were specified when using match. Specified: "+R.join(", ")+`
Required: `+t.join(", "));return N[d].apply(null,b)},log:N=>{console.log(N,{constructors:t,constructor:d,params:b})}}}}),o}},Bn=e=>{let t=e;return{get:()=>t,set:a=>{t=a}}},rc=e=>{const t=c=>c(e),o=Ge(e),s=()=>a,a={tag:!0,inner:e,fold:(c,d)=>d(e),isValue:qo,isError:un,map:c=>gs.value(c(e)),mapError:s,bind:t,exists:t,forall:t,getOr:o,or:s,getOrThunk:o,orThunk:s,getOrDie:o,each:c=>{c(e)},toOptional:()=>P.some(e)};return a},ju=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(s,a)=>s(e),isValue:un,isError:qo,map:t,mapError:s=>gs.error(s(e)),bind:t,exists:un,forall:qo,getOr:dn,or:dn,getOrThunk:Vu,orThunk:Vu,getOrDie:vt(String(e)),each:fo,toOptional:P.none};return o},gs={value:rc,error:ju,fromOption:(e,t)=>e.fold(()=>ju(t),rc)},vb=typeof window<"u"?window:Function("return this;")(),Xg=()=>{const e=window.crypto.getRandomValues(new Uint8Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,e},Yr=()=>{const e=Xg(),t=(o,s)=>{let a="";for(let c=o;c<=s;++c){const d=e[c].toString(16).padStart(2,"0");a+=d}return a};return`${t(0,3)}-${t(4,5)}-${t(6,7)}-${t(8,9)}-${t(10,15)}`},mn=(e,t,o)=>Math.min(Math.max(e,t),o),Jg=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Pn=0;const Qs=e=>{const o=new Date().getTime(),s=Math.floor(Jg()*1e9);return Pn++,e+"_"+s+Pn+String(o)},r2=()=>window.isSecureContext?window.crypto.randomUUID():Yr(),Qg=(e,t)=>t,ep=(e,t)=>dt(e)&&dt(t)?Gd(e,t):t,Wc=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const o={};for(let s=0;s<t.length;s++){const a=t[s];for(const c in a)Xt(a,c)&&(o[c]=e(o[c],a[c]))}return o},Gd=Wc(ep),mf=Wc(Qg),gr=(e,t,o=df)=>e.exists(s=>o(s,t)),ff=(e,t,o=df)=>Qn(e,t,o).getOr(e.isNone()&&t.isNone()),uC=e=>{const t=[],o=s=>{t.push(s)};for(let s=0;s<e.length;s++)e[s].each(o);return t},Qn=(e,t,o)=>e.isSome()&&t.isSome()?P.some(o(e.getOrDie(),t.getOrDie())):P.none(),a2=(e,t,o,s)=>e.isSome()&&t.isSome()&&o.isSome()?P.some(s(e.getOrDie(),t.getOrDie(),o.getOrDie())):P.none(),at=(e,t)=>e?P.some(t):P.none(),i2=(e,t)=>{let o=t??vb;for(let s=0;s<e.length&&o!==void 0&&o!==null;++s)o=o[e[s]];return o},yb=(e,t)=>{const o=e.split(".");return i2(o,t)};sc.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const _b=e=>{const t=[],o=[];return Te(e,s=>{s.fold(a=>{t.push(a)},a=>{o.push(a)})}),{errors:t,values:o}},gf=e=>{const t=Bn(P.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(P.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:g=>{o(),t.set(P.some(g))}}},l2=e=>{const t=Bn(P.none()),o=()=>t.get().each(g=>clearInterval(g));return{clear:()=>{o(),t.set(P.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:g=>{o(),t.set(P.some(setInterval(g,e)))}}},ac=()=>{const e=gf(fo);return{...e,on:o=>e.get().each(o)}},c2=(e,t)=>e.substring(t),qu=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,wb=(e,t)=>lo(e,t)?c2(e,t.length):e,zr=(e,t,o=0,s)=>{const a=e.indexOf(t,o);return a!==-1?Cs(s)?!0:a+t.length<=s:!1},lo=(e,t)=>qu(e,t,0),pf=(e,t)=>qu(e,t,e.length-t.length),s1=e=>t=>t.replace(e,""),jc=s1(/^\s+|\s+$/g),tp=s1(/^\s+/g),Cb=s1(/\s+$/g),tl=e=>e.length>0,Ei=e=>!tl(e),d2=(e,t)=>t<=0?"":new Array(t+1).join(e),r1=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?P.none():P.some(o)},op=(e,t)=>{let o=null;return{cancel:()=>{eo(o)||(clearTimeout(o),o=null)},throttle:(...c)=>{eo(o)&&(o=setTimeout(()=>{o=null,e.apply(null,c)},t))}}},es=(e,t)=>{let o=null;const s=()=>{eo(o)||(clearTimeout(o),o=null)};return{cancel:s,throttle:(...c)=>{s(),o=setTimeout(()=>{o=null,e.apply(null,c)},t)}}},Al=e=>{let t=!1,o;return(...s)=>(t||(t=!0,o=e.apply(null,s)),o)},Kd="\uFEFF",Fs=" ",u2="…",ka=e=>e===Kd,Gu=e=>e.replace(/\uFEFF/g,""),m2=e=>{const t={};return Te(e,o=>{t[o]={}}),Ca(t)},f2=e=>e.length!==void 0,Sa=Array.isArray,a1=e=>{if(Sa(e))return e;{const t=[];for(let o=0,s=e.length;o<s;o++)t[o]=e[o];return t}},hf=(e,t,o)=>{if(!e)return!1;if(o=o||e,f2(e)){for(let s=0,a=e.length;s<a;s++)if(t.call(o,e[s],s,e)===!1)return!1}else for(const s in e)if(Xt(e,s)&&t.call(o,e[s],s,e)===!1)return!1;return!0},qc=(e,t)=>{const o=[];return hf(e,(s,a)=>{o.push(t(s,a,e))}),o},bf=(e,t)=>{const o=[];return hf(e,(s,a)=>{(!t||t(s,a,e))&&o.push(s)}),o},g2=(e,t)=>{if(e){for(let o=0,s=e.length;o<s;o++)if(e[o]===t)return o}return-1},xf=(e,t,o,s)=>{let a=Cs(o)?e[0]:o;for(let c=0;c<e.length;c++)a=t.call(s,a,e[c],c);return a},np=(e,t,o)=>{for(let s=0,a=e.length;s<a;s++)if(t.call(o,e[s],s,e))return s;return-1},Hr=e=>e[e.length-1],i1=(e,t,o,s)=>{const a=e.isiOS()&&/ipad/i.test(o)===!0,c=e.isiOS()&&!a,d=e.isiOS()||e.isAndroid(),g=d||s("(pointer:coarse)"),b=a||!c&&d&&s("(min-device-width:768px)"),_=c||d&&!b,T=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,N=!_&&!b&&!T;return{isiPad:Ge(a),isiPhone:Ge(c),isTablet:Ge(b),isPhone:Ge(_),isTouch:Ge(g),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Ge(T),isDesktop:Ge(N)}},p2=(e,t)=>{for(let o=0;o<e.length;o++){const s=e[o];if(s.test(t))return s}},ol=(e,t)=>{const o=p2(e,t);if(!o)return{major:0,minor:0};const s=a=>Number(t.replace(o,"$"+a));return Ol(s(1),s(2))},mC=(e,t)=>{const o=String(t).toLowerCase();return e.length===0?kb():ol(e,o)},kb=()=>Ol(0,0),Ol=(e,t)=>({major:e,minor:t}),Yd={nu:Ol,detect:mC,unknown:kb},Ku=(e,t)=>Zc(t.brands,o=>{const s=o.brand.toLowerCase();return Ko(e,a=>{var c;return s===((c=a.brand)===null||c===void 0?void 0:c.toLowerCase())}).map(a=>({current:a.name,version:Yd.nu(parseInt(o.version,10),0)}))}),$r=(e,t)=>{const o=String(t).toLowerCase();return Ko(e,s=>s.search(o))},ic=(e,t)=>$r(e,t).map(o=>{const s=Yd.detect(o.versionRegexes,t);return{current:o.name,version:s}}),sp=(e,t)=>$r(e,t).map(o=>{const s=Yd.detect(o.versionRegexes,t);return{current:o.name,version:s}}),rp=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,En=e=>t=>zr(t,e),Dl=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>zr(e,"edge/")&&zr(e,"chrome")&&zr(e,"safari")&&zr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,rp],search:e=>zr(e,"chrome")&&!zr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>zr(e,"msie")||zr(e,"trident")},{name:"Opera",versionRegexes:[rp,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:En("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:En("firefox")},{name:"Safari",versionRegexes:[rp,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(zr(e,"safari")||zr(e,"mobile/"))&&zr(e,"applewebkit")}],l1=[{name:"Windows",search:En("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>zr(e,"iphone")||zr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:En("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:En("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:En("linux"),versionRegexes:[]},{name:"Solaris",search:En("sunos"),versionRegexes:[]},{name:"FreeBSD",search:En("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:En("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ti={browsers:Ge(Dl),oses:Ge(l1)},Yu="Edge",Vn="Chromium",Ai="IE",Xd="Opera",Gc="Firefox",As="Safari",nl=()=>lc({current:void 0,version:Yd.unknown()}),lc=e=>{const t=e.current,o=e.version,s=a=>()=>t===a;return{current:t,version:o,isEdge:s(Yu),isChromium:s(Vn),isIE:s(Ai),isOpera:s(Xd),isFirefox:s(Gc),isSafari:s(As)}},Xr={unknown:nl,nu:lc},h2="Windows",Sb="iOS",c1="Android",er="Linux",Xu="macOS",Jd="Solaris",Nl="FreeBSD",Eb="ChromeOS",Cr=()=>vf({current:void 0,version:Yd.unknown()}),vf=e=>{const t=e.current,o=e.version,s=a=>()=>t===a;return{current:t,version:o,isWindows:s(h2),isiOS:s(Sb),isAndroid:s(c1),isMacOS:s(Xu),isLinux:s(er),isSolaris:s(Jd),isFreeBSD:s(Nl),isChromeOS:s(Eb)}},Kc={unknown:Cr,nu:vf},ap={detect:(e,t,o)=>{const s=Ti.browsers(),a=Ti.oses(),c=t.bind(b=>Ku(s,b)).orThunk(()=>ic(s,e)).fold(Xr.unknown,Xr.nu),d=sp(a,e).fold(Kc.unknown,Kc.nu),g=i1(d,c,e,o);return{browser:c,os:d,deviceType:g}}},Rl=e=>window.matchMedia(e).matches;let d1=Al(()=>ap.detect(window.navigator.userAgent,P.from(window.navigator.userAgentData),Rl));const _n=()=>d1(),ip=(e,t)=>yb(e,t),cc=(e,t)=>{const o=ip(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},Ml=Object.getPrototypeOf,Vr=e=>cc("HTMLElement",e),Oi=e=>{const t=yb("ownerDocument.defaultView",e);return ae(e)&&(Vr(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Ml(e).constructor.name))},Tb=window.navigator.userAgent,lp=_n(),zs=lp.browser,ua=lp.os,Bl=lp.deviceType,Vt=Tb.indexOf("Windows Phone")!==-1,Vo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:zs.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!zs.isIE(),windowsPhone:Vt,browser:{current:zs.current,version:zs.version,isChromium:zs.isChromium,isEdge:zs.isEdge,isFirefox:zs.isFirefox,isIE:zs.isIE,isOpera:zs.isOpera,isSafari:zs.isSafari},os:{current:ua.current,version:ua.version,isAndroid:ua.isAndroid,isChromeOS:ua.isChromeOS,isFreeBSD:ua.isFreeBSD,isiOS:ua.isiOS,isLinux:ua.isLinux,isMacOS:ua.isMacOS,isSolaris:ua.isSolaris,isWindows:ua.isWindows},deviceType:{isDesktop:Bl.isDesktop,isiPad:Bl.isiPad,isiPhone:Bl.isiPhone,isPhone:Bl.isPhone,isTablet:Bl.isTablet,isTouch:Bl.isTouch,isWebView:Bl.isWebView}},Hs=/^\s*|\s*$/g,$s=e=>zo(e)?"":(""+e).replace(Hs,""),Ab=(e,t)=>t?t==="array"&&Sa(e)?!0:typeof e===t:e!==void 0,ts=(e,t,o={})=>{const s=Je(e)?e.split(t||","):e||[];let a=s.length;for(;a--;)o[s[a]]={};return o},u1=Xt,dc=(e,...t)=>{for(let o=0;o<t.length;o++){const s=t[o];for(const a in s)if(Xt(s,a)){const c=s[a];c!==void 0&&(e[a]=c)}}return e},m1=function(e,t,o,s){s=s||this,e&&(o&&(e=e[o]),hf(e,(a,c)=>t.call(s,a,c,o)===!1?!1:(m1(a,t,o,s),!0)))},$e={trim:$s,isArray:Sa,is:Ab,toArray:a1,makeMap:ts,each:hf,map:qc,grep:bf,inArray:g2,hasOwn:u1,extend:dc,walk:m1,resolve:(e,t=window)=>{const o=e.split(".");for(let s=0,a=o.length;s<a&&(t=t[o[s]],!!t);s++);return t},explode:(e,t)=>ie(e)?e:e===""?[]:qc(e.split(t||","),$s),_addCacheSuffix:e=>{const t=Vo.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},ma=(e,t)=>{const s=(t||document).createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){const a="HTML does not have a single root node";throw console.error(a,e),new Error(a)}return em(s.childNodes[0])},ps=(e,t)=>{const s=(t||document).createElement(e);return em(s)},b2=(e,t)=>{const s=(t||document).createTextNode(e);return em(s)},em=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Z={fromHtml:ma,fromTag:ps,fromText:b2,fromDom:em,fromPoint:(e,t,o)=>P.from(e.dom.elementFromPoint(t,o)).map(em)},Qd=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,s)=>{e.setStart(o.dom,s)},o=>{e.setStartAfter(o.dom)})},eu=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,s)=>{e.setEnd(o.dom,s)},o=>{e.setEndAfter(o.dom)})},kr=(e,t,o)=>{const s=e.document.createRange();return Qd(s,t),eu(s,o),s},cp=(e,t,o,s,a)=>{const c=e.document.createRange();return c.setStart(t.dom,o),c.setEnd(s.dom,a),c},os=sc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),wf=(e,t,o)=>t(Z.fromDom(o.startContainer),o.startOffset,Z.fromDom(o.endContainer),o.endOffset),uc=(e,t)=>t.match({domRange:o=>({ltr:Ge(o),rtl:P.none}),relative:(o,s)=>({ltr:Al(()=>kr(e,o,s)),rtl:Al(()=>P.some(kr(e,s,o)))}),exact:(o,s,a,c)=>({ltr:Al(()=>cp(e,o,s,a,c)),rtl:Al(()=>P.some(cp(e,a,c,o,s)))})}),_o=(e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter(a=>a.collapsed===!1).map(a=>os.rtl(Z.fromDom(a.endContainer),a.endOffset,Z.fromDom(a.startContainer),a.startOffset)).getOrThunk(()=>wf(e,os.ltr,o)):wf(e,os.ltr,o)},dp=(e,t)=>{const o=uc(e,t);return _o(e,o)};os.ltr,os.rtl;const Cf=8,up=9,Os=11,sl=1,tm=3,Jr=(e,t)=>{const o=e.dom;if(o.nodeType!==sl)return!1;{const s=o;if(s.matches!==void 0)return s.matches(t);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(t);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(t);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Fn=e=>e.nodeType!==sl&&e.nodeType!==up&&e.nodeType!==Os||e.childElementCount===0,Yc=(e,t)=>{const o=t===void 0?document:t.dom;return Fn(o)?[]:go(o.querySelectorAll(e),Z.fromDom)},om=(e,t)=>{const o=t===void 0?document:t.dom;return Fn(o)?P.none():P.from(o.querySelector(e)).map(Z.fromDom)},Lt=(e,t)=>e.dom===t.dom,Qr=(e,t)=>{const o=e.dom,s=t.dom;return o===s?!1:o.contains(s)},Va=Jr,nm=(e,t)=>{const o=[],s=c=>(o.push(c),t(c));let a=t(e);do a=a.bind(s);while(a.isSome());return o},Gt=e=>e.dom.nodeName.toLowerCase(),mp=e=>e.dom.nodeType,fp=e=>t=>mp(t)===e,kf=e=>mp(e)===Cf||Gt(e)==="#comment",sm=e=>hs(e)&&Oi(e.dom),hs=fp(sl),Ur=fp(tm),x2=fp(up),v2=fp(Os),mc=e=>t=>hs(t)&&Gt(t)===e,Ua=e=>Z.fromDom(e.dom.ownerDocument),fc=e=>x2(e)?e:Ua(e),f1=e=>Z.fromDom(fc(e).dom.documentElement),Qo=e=>Z.fromDom(fc(e).dom.defaultView),Vs=e=>P.from(e.dom.parentNode).map(Z.fromDom),rm=e=>P.from(e.dom.parentElement).map(Z.fromDom),am=(e,t)=>{const o=Ut(t)?t:un;let s=e.dom;const a=[];for(;s.parentNode!==null&&s.parentNode!==void 0;){const c=s.parentNode,d=Z.fromDom(c);if(a.push(d),o(d)===!0)break;s=c}return a},Za=e=>{const t=o=>Pt(o,s=>!Lt(e,s));return Vs(e).map(bs).map(t).getOr([])},ri=e=>P.from(e.dom.previousSibling).map(Z.fromDom),gc=e=>P.from(e.dom.nextSibling).map(Z.fromDom),Sf=e=>Si(nm(e,ri)),Ln=e=>nm(e,gc),bs=e=>go(e.dom.childNodes,Z.fromDom),fn=(e,t)=>{const o=e.dom.childNodes;return P.from(o[t]).map(Z.fromDom)},xs=e=>fn(e,0),Di=e=>fn(e,e.dom.childNodes.length-1),Zr=e=>e.dom.childNodes.length,g1=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return Z.fromDom(t)},Ds=e=>v2(e)&&Ee(e.dom.host),Wa=e=>Z.fromDom(e.dom.getRootNode()),gp=e=>Ds(e)?e:g1(fc(e)),Sr=e=>Ds(e)?e:Z.fromDom(fc(e).dom.body),pp=e=>{const t=Wa(e);return Ds(t)?P.some(t):P.none()},hp=e=>Z.fromDom(e.dom.host),p1=e=>{if(Ee(e.target)){const t=Z.fromDom(e.target);if(hs(t)&&h1(t)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return $n(o)}}return P.from(e.target)},h1=e=>Ee(e.dom.shadowRoot),bp=(e,t,o,s,a,c,d)=>({target:e,x:t,y:o,stop:s,prevent:a,kill:c,raw:d}),b1=e=>{const t=Z.fromDom(p1(e).getOr(e.target)),o=()=>e.stopPropagation(),s=()=>e.preventDefault(),a=Yn(s,o);return bp(t,e.clientX,e.clientY,o,s,a,e)},x1=(e,t)=>o=>{e(o)&&t(b1(o))},v1=(e,t,o,s,a)=>{const c=x1(o,s);return e.dom.addEventListener(t,c,a),{unbind:bt(Pl,e,t,c,a)}},y1=(e,t,o,s)=>v1(e,t,o,s,!1),Pl=(e,t,o,s)=>{e.dom.removeEventListener(t,o,s)},_1=qo,y2=(e,t,o)=>y1(e,t,_1,o),w1=()=>Z.fromDom(document),Er=(e,t=!1)=>e.dom.focus({preventScroll:t}),xp=e=>{const t=Wa(e).dom;return e.dom===t.activeElement},Ea=(e=w1())=>P.from(e.dom.activeElement).map(Z.fromDom),vp=e=>Ea(Wa(e)).filter(t=>e.dom.contains(t.dom)),tr=(e,t)=>{Vs(e).each(s=>{s.dom.insertBefore(t.dom,e.dom)})},Ni=(e,t)=>{gc(e).fold(()=>{Vs(e).each(a=>{rn(a,t)})},s=>{tr(s,t)})},Xc=(e,t)=>{xs(e).fold(()=>{rn(e,t)},s=>{e.dom.insertBefore(t.dom,s.dom)})},rn=(e,t)=>{e.dom.appendChild(t.dom)},Ns=(e,t)=>{tr(e,t),rn(t,e)},Us=(e,t)=>{Te(t,o=>{tr(e,o)})},pc=(e,t)=>{Te(t,(o,s)=>{const a=s===0?e:t[s-1];Ni(a,o)})},ai=(e,t)=>{Te(t,o=>{rn(e,o)})},Tr=(e,t,o)=>{if(Je(o)||ns(o)||E(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Zs=(e,t,o)=>{Tr(e.dom,t,o)},Ta=(e,t)=>{const o=e.dom;Mo(t,(s,a)=>{Tr(o,a,s)})},fa=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?void 0:o},or=(e,t)=>P.from(fa(e,t)),im=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},ks=(e,t)=>{e.dom.removeAttribute(t)},C1=e=>{const t=e.dom.attributes;return t==null||t.length===0},rl=e=>Go(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),ja=e=>{e.dom.textContent="",Te(bs(e),t=>{Tn(t)})},Tn=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},ii=e=>{const t=bs(e);t.length>0&&pc(e,t),Tn(e)},lm=(e,t)=>Z.fromDom(e.dom.cloneNode(t)),qa=e=>lm(e,!1),yp=e=>lm(e,!0),li=(e,t)=>{const o=Z.fromTag(t),s=rl(e);return Ta(o,s),o},cm=(e,t)=>{const o=li(e,t);Ni(e,o);const s=bs(e);return ai(o,s),Tn(e),o},k1=(e,t)=>{const s=(t||document).createElement("div");return s.innerHTML=e,bs(Z.fromDom(s))},Un=e=>go(e,Z.fromDom),Jc=e=>e.dom.innerHTML,tu=(e,t)=>{const s=Ua(e).dom,a=Z.fromDom(s.createDocumentFragment()),c=k1(t,s);ai(a,c),ja(e),rn(e,a)},_p=e=>{const t=Z.fromTag("div"),o=Z.fromDom(e.dom.cloneNode(!0));return rn(t,o),Jc(t)},Ef=e=>e.style!==void 0&&Ut(e.style.getPropertyValue),hc=e=>{const t=Ur(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const o=t.ownerDocument;return pp(Z.fromDom(t)).fold(()=>o.body.contains(t),ki(hc,hp))},wp=(e,t,o)=>{if(!Je(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Ef(e)&&e.style.setProperty(t,o)},Ob=(e,t)=>{Ef(e)&&e.style.removeProperty(t)},Tf=(e,t,o)=>{const s=e.dom;wp(s,t,o)},dm=(e,t)=>{const o=e.dom;Mo(t,(s,a)=>{wp(o,a,s)})},Ri=(e,t)=>{const o=e.dom,a=window.getComputedStyle(o).getPropertyValue(t);return a===""&&!hc(e)?Cp(o,t):a},Cp=(e,t)=>Ef(e)?e.style.getPropertyValue(t):"",Af=(e,t)=>{const o=e.dom,s=Cp(o,t);return P.from(s).filter(a=>a.length>0)},kp=e=>{const t={},o=e.dom;if(Ef(o))for(let s=0;s<o.style.length;s++){const a=o.style.item(s);t[a]=o.style[a]}return t},Qc=(e,t)=>{const o=e.dom;Ob(o,t),gr(or(e,"style").map(jc),"")&&ks(e,"style")},ci=e=>e.dom.offsetWidth,ed=((e,t)=>{const o=(g,b)=>{if(!E(b)&&!b.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+b);const _=g.dom;Ef(_)&&(_.style[e]=b+"px")},s=g=>{const b=t(g);if(b<=0||b===null){const _=Ri(g,e);return parseFloat(_)||0}return b},a=s,c=(g,b)=>Go(b,(_,T)=>{const N=Ri(g,T),R=N===void 0?0:parseInt(N,10);return isNaN(R)?_:_+R},0);return{set:o,get:s,getOuter:a,aggregate:c,max:(g,b,_)=>{const T=c(g,_);return b>T?b-T:0}}})("height",e=>{const t=e.dom;return hc(e)?t.getBoundingClientRect().height:t.offsetHeight}),Sp=e=>ed.get(e),Db=(e,t)=>({left:e,top:t,translate:(s,a)=>Db(e+s,t+a)}),td=Db,Of=e=>{const t=e.getBoundingClientRect();return td(t.left,t.top)},ou=(e,t)=>e!==void 0?e:t!==void 0?t:0,_2=e=>{const t=e.dom.ownerDocument,o=t.body,s=t.defaultView,a=t.documentElement;if(o===e.dom)return td(o.offsetLeft,o.offsetTop);const c=ou(s?.pageYOffset,a.scrollTop),d=ou(s?.pageXOffset,a.scrollLeft),g=ou(a.clientTop,o.clientTop),b=ou(a.clientLeft,o.clientLeft);return An(e).translate(d-b,c-g)},An=e=>{const t=e.dom,s=t.ownerDocument.body;return s===t?td(s.offsetLeft,s.offsetTop):hc(e)?Of(t):td(0,0)},Aa=e=>{const t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,s=t.body.scrollTop||t.documentElement.scrollTop;return td(o,s)},ea=(e,t,o)=>{const a=(o!==void 0?o.dom:document).defaultView;a&&a.scrollTo(e,t)},od=(e,t)=>{_n().browser.isSafari()&&Ut(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},ga=(e,t)=>{const o=c=>{if(!e(c))throw new Error("Can only get "+t+" value of a "+t+" node");return s(c).getOr("")},s=c=>e(c)?P.from(c.dom.nodeValue):P.none();return{get:o,getOption:s,set:(c,d)=>{if(!e(c))throw new Error("Can only set raw "+t+" value of a "+t+" node");c.dom.nodeValue=d}}},nd=(e,t)=>{const s=document.createDocumentFragment();return Te(e,a=>{s.appendChild(a.dom)}),Z.fromDom(s)},Ws=ga(Ur,"text"),js=e=>Ws.get(e),Df=e=>Ws.getOption(e),Fe=(e,t)=>Ws.set(e,t),Oa=(e,t)=>{const o=fa(e,t);return o===void 0||o===""?[]:o.split(" ")},Nf=(e,t,o)=>{const a=Oa(e,t).concat([o]);return Zs(e,t,a.join(" ")),!0},Rs=(e,t,o)=>{const s=Pt(Oa(e,t),a=>a!==o);return s.length>0?Zs(e,t,s.join(" ")):ks(e,t),!1};var Mi=(e,t,o,s,a)=>e(o,s)?P.some(o):Ut(a)&&a(o)?P.none():t(o,s,a);const nr=(e,t,o)=>{let s=e.dom;const a=Ut(o)?o:un;for(;s.parentNode;){s=s.parentNode;const c=Z.fromDom(s);if(t(c))return P.some(c);if(a(c))break}return P.none()},ta=(e,t,o)=>Mi((a,c)=>c(a),nr,e,t,o),Rf=(e,t)=>{const o=e.dom;return o.parentNode?oa(Z.fromDom(o.parentNode),s=>!Lt(e,s)&&t(s)):P.none()},oa=(e,t)=>{const o=a=>t(Z.fromDom(a));return Ko(e.dom.childNodes,o).map(Z.fromDom)},Po=(e,t)=>{const o=s=>{for(let a=0;a<s.childNodes.length;a++){const c=Z.fromDom(s.childNodes[a]);if(t(c))return P.some(c);const d=o(s.childNodes[a]);if(d.isSome())return d}return P.none()};return o(e.dom)},na=(e,t,o)=>nr(e,s=>Jr(s,t),o),is=(e,t)=>om(t,e),On=(e,t,o)=>Mi((a,c)=>Jr(a,c),na,e,t,o),nu=e=>e.dom.classList!==void 0,pr=e=>Oa(e,"class"),su=(e,t)=>Nf(e,"class",t),pa=(e,t)=>Rs(e,"class",t),xe=(e,t)=>wo(pr(e),t)?pa(e,t):su(e,t),sa=(e,t)=>{nu(e)?e.dom.classList.add(t):su(e,t)},sd=e=>{(nu(e)?e.dom.classList:pr(e)).length===0&&ks(e,"class")},bn=(e,t)=>{nu(e)?e.dom.classList.remove(t):pa(e,t),sd(e)},al=(e,t)=>{const o=nu(e)?e.dom.classList.toggle(t):xe(e,t);return sd(e),o},sr=(e,t)=>nu(e)&&e.dom.classList.contains(t),wn=(e,t)=>{Te(t,o=>{sa(e,o)})},rd=(e,t)=>{Te(t,o=>{bn(e,o)})},S1=e=>On(e,"[contenteditable]"),Ga=(e,t=!1)=>hc(e)?e.dom.isContentEditable:S1(e).fold(Ge(t),o=>um(o)==="true"),um=e=>e.dom.contentEditable,Ms=(e,t)=>{e.dom.contentEditable=t?"true":"false"},Ll=(e,t,o)=>Pt(am(e,o),t),Ep=(e,t)=>Pt(bs(e),t),Il=(e,t)=>{let o=[];return Te(bs(e),s=>{t(s)&&(o=o.concat([s])),o=o.concat(Il(s,t))}),o},il=(e,t,o)=>Ll(e,s=>Jr(s,t),o),In=(e,t)=>Yc(t,e),mm=(e,t,o)=>nr(e,t,o).isSome(),ru=(e,t)=>Rf(e,t).isSome(),Mf=(e,t)=>Po(e,t).isSome(),Da=(e,t)=>mm(e,bt(Lt,t)),Bi=(e,t,o)=>na(e,t,o).isSome(),E1=e=>Ut(e)?e:un,Fl=(e,t,o)=>{let s=e.dom;const a=E1(o);for(;s.parentNode;){s=s.parentNode;const c=Z.fromDom(s),d=t(c);if(d.isSome())return d;if(a(c))break}return P.none()},Nb=(e,t,o)=>{const s=t(e),a=E1(o);return s.orThunk(()=>a(e)?P.none():Fl(e,t,a))},ad=e=>Df(e).filter(t=>t.trim().length!==0||t.indexOf(Fs)>-1).isSome(),au=e=>sm(e)&&fa(e,"contenteditable")==="false",iu=["img","br"],w2=e=>ad(e)||wo(iu,Gt(e))||au(e),Bf=e=>Po(e,w2),Tp={create:(e,t,o,s)=>({start:e,soffset:t,finish:o,foffset:s})},Kn=sc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),C2=(e,t,o,s)=>e.fold(t,o,s),Pi=e=>e.fold(dn,dn,dn),id=Kn.before,Rb=Kn.on,lu=Kn.after,qs={before:id,on:Rb,after:lu,cata:C2,getStart:Pi},ll=sc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Pf=e=>ll.exact(e.start,e.soffset,e.finish,e.foffset),k2=e=>e.match({domRange:t=>Z.fromDom(t.startContainer),relative:(t,o)=>qs.getStart(t),exact:(t,o,s,a)=>t}),Ap=ll.domRange,Mb=ll.relative,T1=ll.exact,S2=e=>{const t=k2(e);return Qo(t)},E2=Tp.create,ld={domRange:Ap,relative:Mb,exact:T1,exactFromRange:Pf,getWin:S2,range:E2},cu=(e,t,o)=>{var s;return P.from((s=e.caretPositionFromPoint)===null||s===void 0?void 0:s.call(e,t,o)).bind(a=>{if(a.offsetNode===null)return P.none();const c=e.createRange();return c.setStart(a.offsetNode,a.offset),c.collapse(),P.some(c)})},cl=(e,t,o)=>{var s;return P.from((s=e.caretRangeFromPoint)===null||s===void 0?void 0:s.call(e,t,o))},bc=(e,t,o)=>e.caretPositionFromPoint?cu(e,t,o):e.caretRangeFromPoint?cl(e,t,o):P.none(),fm=(e,t,o)=>{const s=e.document;return bc(s,t,o).map(a=>Tp.create(Z.fromDom(a.startContainer),a.startOffset,Z.fromDom(a.endContainer),a.endOffset))},Op=(e,t)=>{const o=Gt(e);return o==="input"?qs.after(e):wo(["br","img"],o)?t===0?qs.before(e):qs.after(e):qs.on(e,t)},A1=(e,t)=>{const o=e.fold(qs.before,Op,qs.after),s=t.fold(qs.before,Op,qs.after);return ld.relative(o,s)},Dp=(e,t,o,s)=>{const a=Op(e,t),c=Op(o,s);return ld.relative(a,c)},O1=e=>e.match({domRange:t=>{const o=Z.fromDom(t.startContainer),s=Z.fromDom(t.endContainer);return Dp(o,t.startOffset,s,t.endOffset)},relative:A1,exact:Dp}),D1=e=>{const t=ld.getWin(e).dom,o=(a,c,d,g)=>cp(t,a,c,d,g),s=O1(e);return dp(t,s).match({ltr:o,rtl:o})},N1=(e,t,o)=>fm(e,t,o),Bb=e=>{const t=e===void 0?window:e;return _n().browser.isFirefox()?P.none():P.from(t.visualViewport)},R1=(e,t,o,s)=>({x:e,y:t,width:o,height:s,right:e+o,bottom:t+s}),di=e=>{const t=e===void 0?window:e,o=t.document,s=Aa(Z.fromDom(o));return Bb(t).fold(()=>{const a=t.document.documentElement,c=a.clientWidth,d=a.clientHeight;return R1(s.left,s.top,c,d)},a=>R1(Math.max(a.pageLeft,s.left),Math.max(a.pageTop,s.top),a.width,a.height))};class zn{constructor(t,o){this.node=t,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,o,s,a){if(t){if(!a&&t[o])return t[o];if(t!==this.rootNode){let c=t[s];if(c)return c;for(let d=t.parentNode;d&&d!==this.rootNode;d=d.parentNode)if(c=d[s],c)return c}}}findPreviousNode(t,o){if(t){const s=t.previousSibling;if(this.rootNode&&s===this.rootNode)return;if(s){if(!o){for(let c=s.lastChild;c;c=c.lastChild)if(!c.lastChild)return c}return s}const a=t.parentNode;if(a&&a!==this.rootNode)return a}}}const Np=/^[ \t\r\n]*$/,gm=e=>Np.test(e),Pb=e=>{for(const t of e)if(!ka(t))return!1;return!0},Lb=e=>" \f	\v".indexOf(e)!==-1,Rp=e=>e===`
`||e==="\r",M1=(e,t)=>t<e.length&&t>=0?Rp(e[t]):!1,Ib=(e,t=4,o=!0,s=!0)=>{const a=d2(" ",t),c=e.replace(/\t/g,a);return Go(c,(g,b)=>Lb(b)||b===Fs?g.pcIsSpace||g.str===""&&o||g.str.length===c.length-1&&s||M1(c,g.str.length+1)?{pcIsSpace:!1,str:g.str+Fs}:{pcIsSpace:!0,str:g.str+" "}:{pcIsSpace:Rp(b),str:g.str+b},{pcIsSpace:!1,str:""}).str},pm=e=>t=>!!t&&t.nodeType===e,Lf=e=>!!e&&!Object.getPrototypeOf(e),ft=pm(1),Ka=e=>ft(e)&&sm(Z.fromDom(e)),Co=e=>ft(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",rr=e=>{const t=e.toLowerCase();return o=>Ee(o)&&o.nodeName.toLowerCase()===t},Na=e=>{const t=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const s=o.nodeName.toLowerCase();return wo(t,s)}return!1}},hm=(e,t)=>{const o=t.toLowerCase().split(" ");return s=>{if(ft(s)){const a=s.ownerDocument.defaultView;if(a)for(let c=0;c<o.length;c++){const d=a.getComputedStyle(s,null);if((d?d.getPropertyValue(e):null)===o[c])return!0}}return!1}},Cn=e=>t=>ft(t)&&t.hasAttribute(e),du=e=>ft(e)&&e.hasAttribute("data-mce-bogus"),T2=e=>ft(e)&&e.getAttribute("data-mce-bogus")==="all",Ra=e=>ft(e)&&e.tagName==="TABLE",B1=e=>t=>!!(Ka(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),Mp=Na(["textarea","input"]),je=pm(3),cd=pm(4),Fb=pm(7),dl=pm(8),uu=pm(9),Bp=pm(11),Zn=rr("br"),P1=rr("img"),zb=rr("a"),Ma=B1("true"),xn=B1("false"),xc=e=>Ka(e)&&e.isContentEditable&&Ee(e.parentElement)&&!e.parentElement.isContentEditable,mu=Na(["td","th"]),L1=Na(["td","th","caption"]),Pp=rr("template"),Xn=Na(["video","audio","object","embed"]),bm=rr("li"),Hb=rr("details"),fC=rr("summary"),A2={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},gC=(e,t,o)=>{const s=Z.fromDom(t),a=Z.fromDom(e),c=o.getWhitespaceElements();return mm(a,g=>Xt(c,Gt(g)),bt(Lt,s))},O2=e=>ft(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),D2=(e,t)=>ft(e)&&Xt(t.getNonEmptyElements(),e.nodeName),I1=Cn("data-mce-bookmark"),ha=e=>rm(Z.fromDom(e)).exists(t=>!Ga(t)),Li=(e,t,o)=>gm(e.data)&&!gC(e,t,o),ul=(e,t,o,s)=>je(e)&&!Li(e,t,o)&&(!s.includeZwsp||!Pb(e.data)),If=(e,t,o,s)=>Ut(s.isContent)&&s.isContent(t)||D2(t,e)||I1(t)||O2(t)||ul(t,o,e,s)||xn(t)||Ma(t)&&ha(t),zl=(e,t,o)=>{const s={...A2,...o};if(s.checkRootAsContent&&If(e,t,t,s))return!1;let a=t.firstChild,c=0;if(!a)return!0;const d=new zn(a,t);do{if(s.skipBogus&&ft(a)){const g=a.getAttribute("data-mce-bogus");if(g){a=d.next(g==="all");continue}}if(dl(a)){a=d.next(!0);continue}if(Zn(a)){c++,a=d.next();continue}if(If(e,a,t,s))return!1;a=d.next()}while(a);return c<=1},ra=(e,t,o)=>zl(e,t.dom,{checkRootAsContent:!0,...o}),F1=(e,t,o)=>If(e,t,t,{includeZwsp:A2.includeZwsp,...o}),z1=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},xm=e=>z1(e)!=="html",Lp=e=>xm(e.nodeName),Ff=e=>z1(e.nodeName),N2=["svg","math"],$b=()=>{const e=ac(),t=()=>e.get().map(Ff).getOr("html");return{track:a=>(Lp(a)?e.set(a):e.get().exists(c=>!c.contains(a))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},zf="data-mce-block",vn=e=>Pt(Ca(e),t=>!/[A-Z]/.test(t)),vc=e=>go(vn(e),t=>{const o=CSS.escape(t);return`${o}:`+go(N2,s=>`not(${s} ${o})`).join(":")}).join(","),Ip=(e,t)=>Ee(t.querySelector(e))?(t.setAttribute(zf,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(zf),!1),H1=(e,t)=>{const o=vc(e.getTransparentElements()),s=vc(e.getBlockElements());return Pt(t.querySelectorAll(o),a=>Ip(s,a))},$1=(e,t,o)=>{var s;const a=o?"lastChild":"firstChild";for(let c=t[a];c;c=c[a])if(zl(e,c,{checkRootAsContent:!0})){(s=c.parentNode)===null||s===void 0||s.removeChild(c);return}},V1=(e,t,o)=>{const s=document.createRange(),a=t.parentNode;if(a){s.setStartBefore(t),s.setEndBefore(o);const c=s.extractContents();$1(e,c,!0),s.setStartAfter(o),s.setEndAfter(t);const d=s.extractContents();$1(e,d,!1),zl(e,c,{checkRootAsContent:!0})||a.insertBefore(c,t),zl(e,o,{checkRootAsContent:!0})||a.insertBefore(o,t),zl(e,d,{checkRootAsContent:!0})||a.insertBefore(d,t),a.removeChild(t)}},Vb=(e,t,o)=>{const s=e.getBlockElements(),a=Z.fromDom(t),c=g=>Gt(g)in s,d=g=>Lt(g,a);Te(Un(o),g=>{nr(g,c,d).each(b=>{const _=Ep(g,T=>c(T)&&!e.isValidChild(Gt(b),Gt(T)));if(_.length>0){const T=rm(b);Te(_,N=>{nr(N,c,d).each(R=>{V1(e,R.dom,N.dom)})}),T.each(N=>H1(e,N.dom))}})})},Ub=(e,t,o)=>{Te([...o,..._c(e,t)?[t]:[]],s=>Te(In(Z.fromDom(s),s.nodeName.toLowerCase()),a=>{Wb(e,a.dom)&&ii(a)}))},U1=(e,t)=>{const o=H1(e,t);Vb(e,t,o),Ub(e,t,o)},Zb=(e,t)=>{if(yc(e,t)){const o=vc(e.getBlockElements());Ip(o,t)}},Ya=(e,t,o)=>{const s=c=>Lt(c,Z.fromDom(t)),a=am(Z.fromDom(o),s);$o(a,a.length-2).filter(hs).fold(()=>U1(e,t),c=>U1(e,c.dom))},Hf=e=>e.hasAttribute(zf),ar=(e,t)=>Xt(e.getTransparentElements(),t),yc=(e,t)=>ft(t)&&ar(e,t.nodeName),_c=(e,t)=>yc(e,t)&&Hf(t),Wb=(e,t)=>yc(e,t)&&!Hf(t),Fp=(e,t)=>t.type===1&&ar(e,t.name)&&Je(t.attr(zf)),jb=_n().browser,qb=e=>Ko(e,hs),R2=e=>jb.isFirefox()&&Gt(e)==="table"?qb(bs(e)).filter(t=>Gt(t)==="caption").bind(t=>qb(Ln(t)).map(o=>{const s=o.dom.offsetTop,a=t.dom.offsetTop,c=t.dom.offsetHeight;return s<=a?-c:0})).getOr(0):0,Gb=(e,t)=>e.children&&wo(e.children,t),M2=(e,t,o)=>{let s=0,a=0;const c=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&Ri(Z.fromDom(e),"position")==="static"){const g=t.getBoundingClientRect();return s=g.left+(c.documentElement.scrollLeft||e.scrollLeft)-c.documentElement.clientLeft,a=g.top+(c.documentElement.scrollTop||e.scrollTop)-c.documentElement.clientTop,{x:s,y:a}}let d=t;for(;d&&d!==o&&d.nodeType&&!Gb(d,o);){const g=d;s+=g.offsetLeft||0,a+=g.offsetTop||0,d=g.offsetParent}for(d=t.parentNode;d&&d!==o&&d.nodeType&&!Gb(d,o);)s-=d.scrollLeft||0,a-=d.scrollTop||0,d=d.parentNode;a+=R2(Z.fromDom(t))}return{x:s,y:a}},Ar=(e,t)=>{const o=t.crossOrigin;return t.contentCssCors?"anonymous":Ut(o)?o(e):void 0},dd=(e,t={})=>{let o=0;const s={},a=Z.fromDom(e),c=fc(a),d=le=>{t.referrerPolicy=le},g=le=>{t.contentCssCors=le},b=le=>{t.crossOrigin=le},_=le=>{rn(gp(a),le)},T=le=>{const fe=gp(a);is(fe,"#"+le).each(Tn)},N=le=>Jo(s,le).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),R=le=>new Promise((fe,ve)=>{let Pe;const tt=$e._addCacheSuffix(le),We=N(tt);s[tt]=We,We.count++;const De=(oo,xo)=>{Te(oo,sn),We.status=xo,We.passed=[],We.failed=[],Pe&&(Pe.onload=null,Pe.onerror=null,Pe=null)},Se=()=>De(We.passed,2),Ie=()=>De(We.failed,3);if(fe&&We.passed.push(fe),ve&&We.failed.push(ve),We.status===1)return;if(We.status===2){Se();return}if(We.status===3){Ie();return}We.status=1;const gt=Z.fromTag("link",c.dom);Ta(gt,{rel:"stylesheet",type:"text/css",id:We.id});const Mt=Ar(le,t);Mt!==void 0&&Zs(gt,"crossOrigin",Mt),t.referrerPolicy&&Zs(gt,"referrerpolicy",t.referrerPolicy),Pe=gt.dom,Pe.onload=Se,Pe.onerror=Ie,_(gt),Zs(gt,"href",tt)}),I=(le,fe)=>{const ve=N(le);s[le]=ve,ve.count++;const Pe=Z.fromTag("style",c.dom);Ta(Pe,{rel:"stylesheet",type:"text/css",id:ve.id,"data-mce-key":le}),Pe.dom.innerHTML=fe,_(Pe)},Y=le=>Promise.allSettled(go(le,ve=>R(ve).then(Ge(ve)))).then(ve=>{const Pe=Lr(ve,tt=>tt.status==="fulfilled");return Pe.fail.length>0?Promise.reject(go(Pe.fail,tt=>tt.reason)):go(Pe.pass,tt=>tt.value)}),G=le=>{const fe=$e._addCacheSuffix(le);Jo(s,fe).each(ve=>{--ve.count===0&&(delete s[fe],T(ve.id))})};return{load:R,loadRawCss:I,loadAll:Y,unload:G,unloadRawCss:le=>{Jo(s,le).each(fe=>{--fe.count===0&&(delete s[le],T(fe.id))})},unloadAll:le=>{Te(le,fe=>{G(fe)})},_setReferrerPolicy:d,_setContentCssCors:g,_setCrossOrigin:b}},Kb=(()=>{const e=new WeakMap;return{forElement:(o,s)=>{const c=Wa(o).dom;return P.from(e.get(c)).getOrThunk(()=>{const d=dd(c,s);return e.set(c,d),d})}}})(),B2=e=>e.nodeName.toLowerCase()==="span",Z1=(e,t)=>Ee(e)&&(F1(t,e)||t.isInline(e.nodeName.toLowerCase())),Yb=(e,t,o)=>{const s=new zn(e,t).prev(!1),a=new zn(e,t).next(!1),c=Cs(s)||Z1(s,o),d=Cs(a)||Z1(a,o);return c&&d},Xb=e=>B2(e)&&e.getAttribute("data-mce-type")==="bookmark",Bs=(e,t,o)=>je(e)&&e.data.length>0&&Yb(e,t,o),Ps=e=>ft(e)?e.childNodes.length>0:!1,Or=e=>Bp(e)||uu(e),ir=(e,t,o,s)=>{var a;const c=s||t;if(ft(t)&&Xb(t))return t;const d=t.childNodes;for(let g=d.length-1;g>=0;g--)ir(e,d[g],o,c);if(ft(t)){const g=t.childNodes;g.length===1&&Xb(g[0])&&((a=t.parentNode)===null||a===void 0||a.insertBefore(g[0],t))}return!Or(t)&&!F1(o,t)&&!Ps(t)&&!Bs(t,c,o)&&e.remove(t),t},lr=$e.makeMap,ls=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vm=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,W1=/[<>&\"\']/g,Jb=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,P2={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},wc={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},zp={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Qb=e=>{const t=Z.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Hp=(e,t)=>{const o={};if(e){const s=e.split(",");t=t||10;for(let a=0;a<s.length;a+=2){const c=String.fromCharCode(parseInt(s[a],t));if(!wc[c]){const d="&"+s[a+1]+";";o[c]=d,o[d]=c}}return o}else return},Ba=Hp("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),ud=(e,t)=>e.replace(t?ls:vm,o=>wc[o]||o),fu=e=>(""+e).replace(W1,t=>wc[t]||t),j1=(e,t)=>e.replace(t?ls:vm,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":wc[o]||"&#"+o.charCodeAt(0)+";"),q1=(e,t,o)=>{const s=o||Ba;return e.replace(t?ls:vm,a=>wc[a]||s[a]||a)},md={encodeRaw:ud,encodeAllRaw:fu,encodeNumeric:j1,encodeNamed:q1,getEncodeFunc:(e,t)=>{const o=Hp(t)||Ba,s=(d,g)=>d.replace(g?ls:vm,b=>wc[b]!==void 0?wc[b]:o[b]!==void 0?o[b]:b.length>1?"&#"+((b.charCodeAt(0)-55296)*1024+(b.charCodeAt(1)-56320)+65536)+";":"&#"+b.charCodeAt(0)+";"),a=(d,g)=>q1(d,g,o),c=lr(e.replace(/\+/g,","));return c.named&&c.numeric?s:c.named?t?a:q1:c.numeric?j1:ud},decode:e=>e.replace(Jb,(t,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):P2[o]||String.fromCharCode(o)):zp[t]||Ba[t]||Qb(t))},Gs=(e,t)=>(e=$e.trim(e),e?e.split(t||" "):[]),ym=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),$p=e=>ae(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",$f=e=>{const t=o=>ie(o)?go(o,t):$p(o)?new RegExp(o.source,o.flags):ae(o)?si(o,t):o;return t(e)},_m=e=>{const t=/^(~)?(.+)$/;return _r(Gs(e,","),o=>{const s=t.exec(o);if(s){const c=s[1]==="~"?"span":"div",d=s[2];return[{cloneName:c,name:d}]}else return[]})},ui=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Vf=e=>{let t,o;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress template time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const s=[t,o].join(" ");return{blockContent:t,phrasingContent:o,flowContent:s}},Uf=e=>{const{blockContent:t,phrasingContent:o,flowContent:s}=Vf(e),a=c=>Object.freeze(c.split(" "));return Object.freeze({blockContent:a(t),phrasingContent:a(o),flowContent:a(s)})},tx={html4:Al(()=>Uf("html4")),html5:Al(()=>Uf("html5")),"html5-strict":Al(()=>Uf("html5-strict"))},I2=(e,t)=>{const{blockContent:o,phrasingContent:s,flowContent:a}=tx[e]();return t==="blocks"?P.some(o):t==="phrasing"?P.some(s):t==="flow"?P.some(a):P.none()},F2=e=>{const t=ui(e),{phrasingContent:o,flowContent:s}=Vf(e),a={},c=(b,_,T)=>{a[b]={attributes:Ir(_,Ge({})),attributesOrder:_,children:Ir(T,Ge({}))}},d=(b,_="",T="")=>{const N=Gs(T),R=Gs(b);let I=R.length;const Y=[...t,...Gs(_)];for(;I--;)c(R[I],Y.slice(),N)},g=(b,_)=>{const T=Gs(b),N=Gs(_);let R=T.length;for(;R--;){const I=a[T[R]];for(let Y=0,G=N.length;Y<G;Y++)I.attributes[N[Y]]={},I.attributesOrder.push(N[Y])}};return e!=="html5-strict"&&(Te(Gs("acronym applet basefont big font strike tt"),T=>{d(T,"",o)}),Te(Gs("center dir isindex noframes"),T=>{d(T,"",s)})),d("html","manifest","head body"),d("head","","base command link meta noscript script style title"),d("title hr noscript br"),d("base","href target"),d("link","href rel media hreflang type sizes hreflang"),d("meta","name http-equiv content charset"),d("style","media type scoped"),d("script","src async defer type charset"),d("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",s),d("dd div","",s),d("address dt caption","",e==="html4"?o:s),d("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),d("blockquote","cite",s),d("ol","reversed start type","li"),d("ul","","li"),d("li","value",s),d("dl","","dt dd"),d("a","href target rel media hreflang type",e==="html4"?o:s),d("q","cite",o),d("ins del","cite datetime",s),d("img","src sizes srcset alt usemap ismap width height"),d("iframe","src name width height",s),d("embed","src type width height"),d("object","data type typemustmatch name usemap form width height",[s,"param"].join(" ")),d("param","name value"),d("map","name",[s,"area"].join(" ")),d("area","alt coords shape href target rel media hreflang type"),d("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),d("colgroup","span","col"),d("col","span"),d("tbody thead tfoot","","tr"),d("tr","","td th"),d("td","colspan rowspan headers",s),d("th","colspan rowspan headers scope abbr",s),d("form","accept-charset action autocomplete enctype method name novalidate target",s),d("fieldset","disabled form name",[s,"legend"].join(" ")),d("label","form for",o),d("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),d("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?s:o),d("select","disabled form multiple name required size","option optgroup"),d("optgroup","disabled label","option"),d("option","disabled label selected value"),d("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),d("menu","type label",[s,"li"].join(" ")),d("noscript","",s),e!=="html4"&&(d("wbr"),d("ruby","",[o,"rt rp"].join(" ")),d("figcaption","",s),d("mark rt rp bdi","",o),d("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),d("canvas","width height",s),d("data","value",o),d("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[s,"track source"].join(" ")),d("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[s,"track source"].join(" ")),d("picture","","img source"),d("source","src srcset type media sizes"),d("track","kind src srclang label default"),d("datalist","",[o,"option"].join(" ")),d("article section nav aside main header footer","",s),d("hgroup","","h1 h2 h3 h4 h5 h6"),d("figure","",[s,"figcaption"].join(" ")),d("time","datetime",o),d("dialog","open",s),d("command","type label icon disabled checked radiogroup command"),d("output","for form name",o),d("progress","value max",o),d("meter","value min max low high optimum",o),d("details","open",[s,"summary"].join(" ")),d("keygen","autofocus challenge disabled form keytype name"),c("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(g("script","language xml:space"),g("style","xml:space"),g("object","declare classid code codebase codetype archive standby align border hspace vspace"),g("embed","align name hspace vspace"),g("param","valuetype type"),g("a","charset name rev shape coords"),g("br","clear"),g("applet","codebase archive code object alt name width height align hspace vspace"),g("img","name longdesc align border hspace vspace"),g("iframe","longdesc frameborder marginwidth marginheight scrolling align"),g("font basefont","size color face"),g("input","usemap align"),g("select"),g("textarea"),g("h1 h2 h3 h4 h5 h6 div p legend caption","align"),g("ul","type compact"),g("li","type"),g("ol dl menu dir","compact"),g("pre","width xml:space"),g("hr","align noshade size width"),g("isindex","prompt"),g("table","summary width frame rules cellspacing cellpadding align bgcolor"),g("col","width align char charoff valign"),g("colgroup","width align char charoff valign"),g("thead","align char charoff valign"),g("tr","align char charoff valign bgcolor"),g("th","axis align char charoff valign nowrap bgcolor width height"),g("form","accept"),g("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),g("tfoot","align char charoff valign"),g("tbody","align char charoff valign"),g("area","nohref"),g("body","background bgcolor text link vlink alink")),e!=="html4"&&(g("input button select textarea","autofocus"),g("input textarea","placeholder"),g("a","download"),g("link script img","crossorigin"),g("img","loading"),g("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&Te([a.video,a.audio],b=>{delete b.children.audio,delete b.children.video}),Te(Gs("a form meter progress dfn"),b=>{a[b]&&delete a[b].children[b]}),delete a.caption.children.table,delete a.script,a},hC=e=>e==="-"?"remove":"add",ox=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return P.from(t.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},gu=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return _r(Gs(e,","),o=>{const s=t.exec(o);if(s){const a=s[1],c=a?hC(a):"replace",d=s[2],g=_r(Gs(s[3],"|"),b=>ox(b).toArray());return[{operation:c,name:d,validChildren:g}]}else return[]})},nx=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,s=/[*?+]/,{attributes:a,attributesOrder:c}=t;return Te(Gs(e,"|"),d=>{const g=o.exec(d);if(g){const b={},_=g[1],T=g[2].replace(/[\\:]:/g,":"),N=g[3],R=g[4];if(_==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(T),b.required=!0),_==="-"){delete a[T],c.splice($e.inArray(c,T),1);return}if(N&&(N==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:T,value:R}),b.defaultValue=R):N==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:T,value:R}),b.forcedValue=R):N==="<"&&(b.validValues=$e.makeMap(R,"?"))),s.test(T)){const I=b;t.attributePatterns=t.attributePatterns||[],I.pattern=ym(T),t.attributePatterns.push(I)}else a[T]||c.push(T),a[T]=b}})},wm=(e,t)=>{Mo(e.attributes,(o,s)=>{t.attributes[s]=o}),t.attributesOrder.push(...e.attributesOrder)},G1=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return _r(Gs(t,","),s=>{const a=o.exec(s);if(a){const c=a[1],d=a[2],g=a[3],b=a[4],_=a[5],T={attributes:{},attributesOrder:[]};if(e.each(N=>wm(N,T)),c==="#"?T.paddEmpty=!0:c==="-"&&(T.removeEmpty=!0),b==="!"&&(T.removeEmptyAttrs=!0),_&&nx(_,T),g&&(T.outputName=d),d==="@")if(e.isNone())e=P.some(T);else return[];return[g?{name:d,element:T,aliasName:g}:{name:d,element:T}]}else return[]})},Ii={},fd=$e.makeMap,ml=$e.each,aa=$e.extend,mi=$e.explode,ia=(e,t={})=>{const o=fd(e," ",fd(e.toUpperCase()," "));return aa(o,t)},Cm=e=>ia("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),fl=(e,t)=>{if(e){const o={};return Je(e)&&(e={"*":e}),ml(e,(s,a)=>{o[a]=o[a.toUpperCase()]=t==="map"?fd(s,/[, ]/):mi(s,/[, ]/)}),o}else return},no=(e={})=>{var t;const o={},s={};let a=[];const c={},d={},g=(Nt,Fo,Es)=>{const Br=e[Nt];if(Br)return fd(Br,/[, ]/,fd(Br.toUpperCase(),/[, ]/));{let Gr=Ii[Nt];return Gr||(Gr=ia(Fo,Es),Ii[Nt]=Gr),Gr}},b=(t=e.schema)!==null&&t!==void 0?t:"html5",_=F2(b);e.verify_html===!1&&(e.valid_elements="*[*]");const T=fl(e.valid_styles),N=fl(e.invalid_styles,"map"),R=fl(e.valid_classes,"map"),I=g("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Y=g("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),G=g("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),W=g("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),ce="td th iframe video audio object script code",le=g("non_empty_elements",ce+" pre svg textarea summary",G),fe=g("move_caret_before_on_enter_elements",ce+" table",G),ve="h1 h2 h3 h4 h5 h6",Pe=g("text_block_elements",ve+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),tt=g("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing colgroup col",Pe),We=g("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),De=g("transparent_elements","a ins del canvas map"),Se=g("wrap_block_elements","pre "+ve);ml("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Nt=>{d[Nt]=new RegExp("</"+Nt+"[^>]*>","gi")});const Ie=Nt=>{const Fo=P.from(o["@"]),Es=/[*?+]/;Te(G1(Fo,Nt??""),({name:Br,element:Gr,aliasName:yr})=>{if(yr&&(o[yr]=Gr),Es.test(Br)){const us=Gr;us.pattern=ym(Br),a.push(us)}else o[Br]=Gr})},gt=Nt=>{a=[],Te(Ca(o),Fo=>{delete o[Fo]}),Ie(Nt)},Mt=(Nt,Fo)=>{var Es,Br;delete Ii.text_block_elements,delete Ii.block_elements;const Gr=Fo.extends?!Ci(Fo.extends):!1,yr=Fo.extends;if(s[Nt]=yr?s[yr]:{},c[Nt]=yr??Nt,le[Nt.toUpperCase()]={},le[Nt]={},Gr||(tt[Nt.toUpperCase()]={},tt[Nt]={}),yr&&!o[Nt]&&o[yr]){const us=$f(o[yr]);delete us.removeEmptyAttrs,delete us.removeEmpty,o[Nt]=us}else o[Nt]={attributesOrder:[],attributes:{}};if(ie(Fo.attributes)){const us=Qi=>{ms.attributesOrder.push(Qi),ms.attributes[Qi]={}},ms=(Es=o[Nt])!==null&&Es!==void 0?Es:{};delete ms.attributesDefault,delete ms.attributesForced,delete ms.attributePatterns,delete ms.attributesRequired,ms.attributesOrder=[],ms.attributes={},Te(Fo.attributes,Qi=>{const Fu=ui(b);ox(Qi).each(({preset:qg,name:af})=>{qg?af==="global"&&Te(Fu,us):us(af)})}),o[Nt]=ms}if(ns(Fo.padEmpty)){const us=(Br=o[Nt])!==null&&Br!==void 0?Br:{};us.paddEmpty=Fo.padEmpty,o[Nt]=us}if(ie(Fo.children)){const us={},ms=Fu=>{us[Fu]={}},Qi=Fu=>{I2(b,Fu).each(qg=>{Te(qg,ms)})};Te(Fo.children,Fu=>{ox(Fu).each(({preset:qg,name:af})=>{qg?Qi(af):ms(af)})}),s[Nt]=us}yr&&Mo(s,(us,ms)=>{us[yr]&&(s[ms]=us=aa({},s[ms]),us[Nt]=us[yr])})},oo=Nt=>{Te(_m(Nt??""),({name:Fo,cloneName:Es})=>{Mt(Fo,{extends:Es})})},xo=Nt=>{ae(Nt)?Mo(Nt,(Fo,Es)=>Mt(Es,Fo)):Je(Nt)&&oo(Nt)},hn=Nt=>{Te(gu(Nt??""),({operation:Fo,name:Es,validChildren:Br})=>{const Gr=Fo==="replace"?{"#comment":{}}:s[Es],yr=ms=>{Fo==="remove"?delete Gr[ms]:Gr[ms]={}},us=ms=>{I2(b,ms).each(Qi=>{Te(Qi,yr)})};Te(Br,({preset:ms,name:Qi})=>{ms?us(Qi):yr(Qi)}),s[Es]=Gr})},Mn=Nt=>{const Fo=o[Nt];if(Fo)return Fo;let Es=a.length;for(;Es--;){const Br=a[Es];if(Br.pattern.test(Nt))return Br}},ur=()=>{e.valid_elements?(gt(e.valid_elements),ml(_,(Nt,Fo)=>{s[Fo]=Nt.children})):(ml(_,(Nt,Fo)=>{o[Fo]={attributes:Nt.attributes,attributesOrder:Nt.attributesOrder},s[Fo]=Nt.children}),ml(Gs("strong/b em/i"),Nt=>{const Fo=Gs(Nt,"/");o[Fo[1]].outputName=Fo[0]}),ml(We,(Nt,Fo)=>{o[Fo]&&(e.padd_empty_block_inline_children&&(o[Fo].paddInEmptyBlock=!0),o[Fo].removeEmpty=!0)}),ml(Gs("ol ul blockquote a table tbody"),Nt=>{o[Nt]&&(o[Nt].removeEmpty=!0)}),ml(Gs("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Nt=>{o[Nt]&&(o[Nt].paddEmpty=!0)}),ml(Gs("span"),Nt=>{o[Nt].removeEmptyAttrs=!0})),delete o.svg,xo(e.custom_elements),hn(e.valid_children),Ie(e.extended_valid_elements),hn("+ol[ul|ol],+ul[ul|ol]"),ml({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Nt,Fo)=>{o[Fo]&&(o[Fo].parentsRequired=Gs(Nt))}),e.invalid_elements&&ml(mi(e.invalid_elements),Nt=>{o[Nt]&&delete o[Nt]}),Mn("span")||Ie("span[!data-mce-type|*]")},mr=Ge(T),oc=Ge(N),rt=Ge(R),Et=Ge(W),Wo=Ge(tt),Yo=Ge(Pe),xt=Ge(We),Ye=Ge(Object.seal(G)),ct=Ge(Y),jt=Ge(le),qt=Ge(fe),jo=Ge(I),Gn=Ge(De),nc=Ge(Se),Xi=Ge(Object.seal(d)),Zd=(Nt,Fo)=>{const Es=s[Nt.toLowerCase()];return!!(Es&&Es[Fo.toLowerCase()])},$c=(Nt,Fo)=>{const Es=Mn(Nt);if(Es)if(Fo){if(Es.attributes[Fo])return!0;const Br=Es.attributePatterns;if(Br){let Gr=Br.length;for(;Gr--;)if(Br[Gr].pattern.test(Fo))return!0}}else return!0;return!1},Ci=Nt=>Xt(Wo(),Nt),Ji=Nt=>!lo(Nt,"#")&&$c(Nt)&&!Ci(Nt),Wd=Nt=>Xt(nc(),Nt)||Ji(Nt),cb=Ge(c);return ur(),{type:b,children:s,elements:o,getValidStyles:mr,getValidClasses:rt,getBlockElements:Wo,getInvalidStyles:oc,getVoidElements:Ye,getTextBlockElements:Yo,getTextInlineElements:xt,getBoolAttrs:Et,getElementRule:Mn,getSelfClosingElements:ct,getNonEmptyElements:jt,getMoveCaretBeforeOnEnterElements:qt,getWhitespaceElements:jo,getTransparentElements:Gn,getSpecialElements:Xi,isValidChild:Zd,isValid:$c,isBlock:Ci,isInline:Ji,isWrapper:Wd,getCustomElements:cb,addValidElements:Ie,setValidElements:gt,addCustomElements:xo,addValidChildren:hn}},Ct=e=>({value:Vp(e)}),Vp=e=>wb(e,"#").toUpperCase(),Up=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},sx=e=>{const t=Up(e.red)+Up(e.green)+Up(e.blue);return Ct(t)},Zf=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,en=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,pu=(e,t,o,s)=>({red:e,green:t,blue:o,alpha:s}),Zp=(e,t,o,s)=>{const a=parseInt(e,10),c=parseInt(t,10),d=parseInt(o,10),g=parseFloat(s);return pu(a,c,d,g)},Ne=e=>Zf.test(e)?"rgb":en.test(e)?"rgba":"other",Wp=e=>{const t=Zf.exec(e);if(t!==null)return P.some(Zp(t[1],t[2],t[3],"1"));const o=en.exec(e);return o!==null?P.some(Zp(o[1],o[2],o[3],o[4])):P.none()},jp=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Cc=e=>Wp(e).map(sx).map(t=>"#"+t.value).getOr(e),qp=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,c={};let d,g;const b=Kd;t&&(d=t.getValidStyles(),g=t.getInvalidStyles());const _=(`\\" \\' \\; \\: ; : `+b).split(" ");for(let N=0;N<_.length;N++)c[_[N]]=b+N,c[b+N]=_[N];const T={parse:N=>{const R={};let I=!1;const Y=e.url_converter,G=e.url_converter_scope||T,W=(De,Se,Ie)=>{const gt=R[De+"-top"+Se];if(!gt)return;const Mt=R[De+"-right"+Se];if(!Mt)return;const oo=R[De+"-bottom"+Se];if(!oo)return;const xo=R[De+"-left"+Se];if(!xo)return;const hn=[gt,Mt,oo,xo];let Mn=hn.length-1;for(;Mn--&&hn[Mn]===hn[Mn+1];);Mn>-1&&Ie||(R[De+Se]=Mn===-1?hn[0]:hn.join(" "),delete R[De+"-top"+Se],delete R[De+"-right"+Se],delete R[De+"-bottom"+Se],delete R[De+"-left"+Se])},ce=De=>{const Se=R[De];if(!Se)return;const Ie=Se.indexOf(",")>-1?[Se]:Se.split(" ");let gt=Ie.length;for(;gt--;)if(Ie[gt]!==Ie[0])return!1;return R[De]=Ie[0],!0},le=(De,Se,Ie,gt)=>{ce(Se)&&ce(Ie)&&ce(gt)&&(R[De]=R[Se]+" "+R[Ie]+" "+R[gt],delete R[Se],delete R[Ie],delete R[gt])},fe=De=>(I=!0,c[De]),ve=(De,Se)=>(I&&(De=De.replace(/\uFEFF[0-9]/g,Ie=>c[Ie])),Se||(De=De.replace(/\\([\'\";:])/g,"$1")),De),Pe=De=>String.fromCharCode(parseInt(De.slice(1),16)),tt=De=>De.replace(/\\[0-9a-f]+/gi,Pe),We=(De,Se,Ie,gt,Mt,oo)=>{if(Mt=Mt||oo,Mt)return Mt=ve(Mt),"'"+Mt.replace(/\'/g,"\\'")+"'";if(Se=ve(Se||Ie||gt||""),!e.allow_script_urls){const xo=Se.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(xo)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(xo))return""}return Y&&(Se=Y.call(G,Se,"style")),"url('"+Se.replace(/\'/g,"\\'")+"')"};if(N){N=N.replace(/[\u0000-\u001F]/g,""),N=N.replace(/\\[\"\';:\uFEFF]/g,fe).replace(/\"[^\"]+\"|\'[^\']+\'/g,Se=>Se.replace(/[;:]/g,fe));let De;for(;De=s.exec(N);){s.lastIndex=De.index+De[0].length;let Se=De[1].replace(a,"").toLowerCase(),Ie=De[2].replace(a,"");if(Se&&Ie){if(Se=tt(Se),Ie=tt(Ie),Se.indexOf(b)!==-1||Se.indexOf('"')!==-1||!e.allow_script_urls&&(Se==="behavior"||/expression\s*\(|\/\*|\*\//.test(Ie)))continue;Se==="font-weight"&&Ie==="700"?Ie="bold":(Se==="color"||Se==="background-color")&&(Ie=Ie.toLowerCase()),Ne(Ie)==="rgb"&&Wp(Ie).each(gt=>{Ie=Cc(jp(gt)).toLowerCase()}),Ie=Ie.replace(o,We),R[Se]=I?ve(Ie,!0):Ie}}W("border","",!0),W("border","-width"),W("border","-color"),W("border","-style"),W("padding",""),W("margin",""),le("border","border-width","border-style","border-color"),R.border==="medium none"&&delete R.border,R["border-image"]==="none"&&delete R["border-image"]}return R},serialize:(N,R)=>{let I="";const Y=(W,ce)=>{const le=ce[W];if(le)for(let fe=0,ve=le.length;fe<ve;fe++){const Pe=le[fe],tt=N[Pe];tt&&(I+=(I.length>0?" ":"")+Pe+": "+tt+";")}},G=(W,ce)=>{if(!g||!ce)return!0;let le=g["*"];return le&&le[W]?!1:(le=g[ce],!(le&&le[W]))};return R&&d?(Y("*",d),Y(R,d)):Mo(N,(W,ce)=>{W&&G(ce,R)&&(I+=(I.length>0?" ":"")+ce+": "+W+";")}),I}};return T},gd={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},rx=e=>e instanceof Event||Ut(e.initEvent),pd=e=>e.isDefaultPrevented===qo||e.isDefaultPrevented===un,gn=e=>zo(e.preventDefault)||rx(e),Fi=(e,t)=>{const o=t??{};for(const s in e)Xt(gd,s)||(o[s]=e[s]);return Ee(e.composedPath)&&(o.composedPath=()=>e.composedPath()),Ee(e.getModifierState)&&(o.getModifierState=s=>e.getModifierState(s)),Ee(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},K1=(e,t,o,s)=>{var a;const c=Fi(t,s);return c.type=e,zo(c.target)&&(c.target=(a=c.srcElement)!==null&&a!==void 0?a:o),gn(t)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=qo,Ut(t.preventDefault)&&t.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=qo,Ut(t.stopPropagation)&&t.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=qo,c.stopPropagation()},pd(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?qo:un,c.isPropagationStopped=c.cancelBubble===!0?qo:un,c.isImmediatePropagationStopped=un)),c},kc="mce-data-",Hl=/^(?:mouse|contextmenu)|click/,Wf=(e,t,o,s)=>{e.addEventListener(t,o,s||!1)},Y1=(e,t,o,s)=>{e.removeEventListener(t,o,s||!1)},z2=e=>Ee(e)&&Hl.test(e.type),He=(e,t)=>{const o=K1(e.type,e,document,t);if(z2(e)&&Cs(e.pageX)&&!Cs(e.clientX)){const s=o.target.ownerDocument||document,a=s.documentElement,c=s.body,d=o;d.pageX=e.clientX+(a&&a.scrollLeft||c&&c.scrollLeft||0)-(a&&a.clientLeft||c&&c.clientLeft||0),d.pageY=e.clientY+(a&&a.scrollTop||c&&c.scrollTop||0)-(a&&a.clientTop||c&&c.clientTop||0)}return o},bC=(e,t,o)=>{const s=e.document,a={type:"ready"};if(o.domLoaded){t(a);return}const c=()=>s.readyState==="complete"||s.readyState==="interactive"&&s.body,d=()=>{Y1(e,"DOMContentLoaded",d),Y1(e,"load",d),o.domLoaded||(o.domLoaded=!0,t(a)),e=null};c()?d():Wf(e,"DOMContentLoaded",d),o.domLoaded||Wf(e,"load",d)};class cs{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=kc+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,o,s,a){const c=this;let d;const g=window,b=R=>{c.executeHandlers(He(R||g.event),_)};if(!t||je(t)||dl(t))return s;let _;t[c.expando]?_=t[c.expando]:(_=c.count++,t[c.expando]=_,c.events[_]={}),a=a||t;const T=o.split(" ");let N=T.length;for(;N--;){let R=T[N],I=b,Y=!1,G=!1;if(R==="DOMContentLoaded"&&(R="ready"),c.domLoaded&&R==="ready"&&t.readyState==="complete"){s.call(a,He({type:R}));continue}!c.hasFocusIn&&(R==="focusin"||R==="focusout")&&(Y=!0,G=R==="focusin"?"focus":"blur",I=W=>{const ce=He(W||g.event);ce.type=ce.type==="focus"?"focusin":"focusout",c.executeHandlers(ce,_)}),d=c.events[_][R],d?R==="ready"&&c.domLoaded?s(He({type:R})):d.push({func:s,scope:a}):(c.events[_][R]=d=[{func:s,scope:a}],d.fakeName=G,d.capture=Y,d.nativeHandler=I,R==="ready"?bC(t,I,c):Wf(t,G||R,I,Y))}return t=d=null,s}unbind(t,o,s){if(!t||je(t)||dl(t))return this;const a=t[this.expando];if(a){let c=this.events[a];if(o){const d=o.split(" ");let g=d.length;for(;g--;){const b=d[g],_=c[b];if(_){if(s){let T=_.length;for(;T--;)if(_[T].func===s){const N=_.nativeHandler,R=_.fakeName,I=_.capture,Y=_.slice(0,T).concat(_.slice(T+1));Y.nativeHandler=N,Y.fakeName=R,Y.capture=I,c[b]=Y}}(!s||_.length===0)&&(delete c[b],Y1(t,_.fakeName||b,_.nativeHandler,_.capture))}}}else Mo(c,(d,g)=>{Y1(t,d.fakeName||g,d.nativeHandler,d.capture)}),c={};for(const d in c)if(Xt(c,d))return this;delete this.events[a];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,o,s){return this.dispatch(t,o,s)}dispatch(t,o,s){if(!t||je(t)||dl(t))return this;const a=He({type:o,target:t},s);do{const c=t[this.expando];c&&this.executeHandlers(a,c),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!a.isPropagationStopped());return this}clean(t){if(!t||je(t)||dl(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const o=t.getElementsByTagName("*");let s=o.length;for(;s--;)t=o[s],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,o){const s=this.events[o],a=s&&s[t.type];if(a)for(let c=0,d=a.length;c<d;c++){const g=a[c];if(g&&g.func.call(g.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}cs.Event=new cs;const ax=$e.each,ix=$e.grep,X1="data-mce-style",It=$e.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),km=(e,t,o)=>{zo(o)||o===""?ks(e,t):Zs(e,t,o)},Gp=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),jf=(e,t)=>{let o=0;if(e)for(let s=e.nodeType,a=e.previousSibling;a;a=a.previousSibling){const c=a.nodeType;t&&je(a)&&(c===s||!a.data.length)||(o++,s=c)}return o},Sm=(e,t)=>{const o=fa(t,"style"),s=e.serialize(e.parse(o),Gt(t));km(t,X1,s)},Zt=(e,t)=>E(e)?Xt(It,t)?e+"":e+"px":e,J1=(e,t,o)=>{const s=Gp(t);zo(o)||o===""?Qc(e,s):Tf(e,s,Zt(o,s))},hd=(e,t,o)=>{const s=t.keep_values,a={set:(d,g,b)=>{const _=Z.fromDom(d);Ut(t.url_converter)&&Ee(g)&&(g=t.url_converter.call(t.url_converter_scope||o(),String(g),b,d));const T="data-mce-"+b;km(_,T,g),km(_,b,g)},get:(d,g)=>{const b=Z.fromDom(d);return fa(b,"data-mce-"+g)||fa(b,g)}},c={style:{set:(d,g)=>{const b=Z.fromDom(d);s&&km(b,X1,g),ks(b,"style"),Je(g)&&dm(b,e.parse(g))},get:d=>{const g=Z.fromDom(d),b=fa(g,X1)||fa(g,"style");return e.serialize(e.parse(b),Gt(g))}}};return s&&(c.href=c.src=a),c},ko=(e,t={})=>{const o={},s=window,a={};let c=0;const d=!0,g=!0,b=Kb.forElement(Z.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy,crossOrigin:be=>{const _e=t.crossOrigin;if(Ut(_e))return _e(be,"stylesheet")}}),_=[],T=t.schema?t.schema:no({}),N=qp({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),R=t.ownEvents?new cs:cs.Event,I=T.getBlockElements(),Y=be=>Je(be)?Xt(I,be):ft(be)&&(Xt(I,be.nodeName)||_c(T,be)),G=be=>be&&e&&Je(be)?e.getElementById(be):be,W=be=>{const _e=G(be);return Ee(_e)?Z.fromDom(_e):null},ce=(be,_e,st="")=>{let Qe;const $t=W(be);if(Ee($t)&&hs($t)){const Uo=AD[_e];Uo&&Uo.get?Qe=Uo.get($t.dom,_e):Qe=fa($t,_e)}return Ee(Qe)?Qe:st},le=be=>{const _e=G(be);return zo(_e)?[]:_e.attributes},fe=(be,_e,st)=>{Et(be,Qe=>{if(ft(Qe)){const $t=Z.fromDom(Qe),Uo=st===""?null:st,Ts=fa($t,_e),lf=AD[_e];lf&&lf.set?lf.set($t.dom,Uo,_e):km($t,_e,Uo),Ts!==Uo&&t.onSetAttrib&&t.onSetAttrib({attrElm:$t.dom,attrName:_e,attrValue:Uo})}})},ve=(be,_e)=>be.cloneNode(_e),Pe=()=>t.root_element||e.body,tt=be=>{const _e=di(be);return{x:_e.x,y:_e.y,w:_e.width,h:_e.height}},We=(be,_e)=>M2(e.body,G(be),_e),De=(be,_e,st)=>{Et(be,Qe=>{const $t=Z.fromDom(Qe);J1($t,_e,st),t.update_styles&&Sm(N,$t)})},Se=(be,_e)=>{Et(be,st=>{const Qe=Z.fromDom(st);Mo(_e,($t,Uo)=>{J1(Qe,Uo,$t)}),t.update_styles&&Sm(N,Qe)})},Ie=(be,_e,st)=>{const Qe=G(be);if(!(zo(Qe)||!Ka(Qe)&&!Co(Qe)))return st?Ri(Z.fromDom(Qe),Gp(_e)):(_e=_e.replace(/-(\D)/g,($t,Uo)=>Uo.toUpperCase()),_e==="float"&&(_e="cssFloat"),Qe.style?Qe.style[_e]:void 0)},gt=be=>{const _e=G(be);if(!_e)return{w:0,h:0};let st=Ie(_e,"width"),Qe=Ie(_e,"height");return(!st||st.indexOf("px")===-1)&&(st="0"),(!Qe||Qe.indexOf("px")===-1)&&(Qe="0"),{w:parseInt(st,10)||_e.offsetWidth||_e.clientWidth,h:parseInt(Qe,10)||_e.offsetHeight||_e.clientHeight}},Mt=be=>{const _e=G(be),st=We(_e),Qe=gt(_e);return{x:st.x,y:st.y,w:Qe.w,h:Qe.h}},oo=(be,_e)=>{if(!be)return!1;const st=ie(be)?be:[be];return Sn(st,Qe=>Jr(Z.fromDom(Qe),_e))},xo=(be,_e,st,Qe)=>{const $t=[];let Uo=G(be);Qe=Qe===void 0;const Ts=st||(Pe().nodeName!=="BODY"?Pe().parentNode:null);if(Je(_e))if(_e==="*")_e=ft;else{const lf=_e;_e=Hu=>oo(Hu,lf)}for(;Uo&&!(Uo===Ts||zo(Uo.nodeType)||uu(Uo)||Bp(Uo));){if(!_e||_e(Uo))if(Qe)$t.push(Uo);else return[Uo];Uo=Uo.parentNode}return Qe?$t:null},hn=(be,_e,st)=>{const Qe=xo(be,_e,st,!1);return Qe&&Qe.length>0?Qe[0]:null},Mn=(be,_e,st)=>{let Qe=_e;if(be){Je(_e)&&(Qe=$t=>oo($t,_e));for(let $t=be[st];$t;$t=$t[st])if(Ut(Qe)&&Qe($t))return $t}return null},ur=(be,_e)=>Mn(be,_e,"nextSibling"),mr=(be,_e)=>Mn(be,_e,"previousSibling"),oc=be=>Ut(be.querySelectorAll),rt=(be,_e)=>{var st,Qe;const $t=(Qe=(st=G(_e))!==null&&st!==void 0?st:t.root_element)!==null&&Qe!==void 0?Qe:e;return oc($t)?mt($t.querySelectorAll(be)):[]},Et=function(be,_e,st){const Qe=st??this;if(ie(be)){const $t=[];return ax(be,(Uo,Ts)=>{const lf=G(Uo);lf&&$t.push(_e.call(Qe,lf,Ts))}),$t}else{const $t=G(be);return $t?_e.call(Qe,$t):!1}},Wo=(be,_e)=>{Et(be,st=>{Mo(_e,(Qe,$t)=>{fe(st,$t,Qe)})})},Yo=(be,_e)=>{Et(be,st=>{const Qe=Z.fromDom(st);tu(Qe,_e)})},xt=(be,_e,st,Qe,$t)=>Et(be,Uo=>{const Ts=Je(_e)?e.createElement(_e):_e;return Ee(st)&&Wo(Ts,st),Qe&&(!Je(Qe)&&Qe.nodeType?Ts.appendChild(Qe):Je(Qe)&&Yo(Ts,Qe)),$t?Ts:Uo.appendChild(Ts)}),Ye=(be,_e,st)=>xt(e.createElement(be),be,_e,st,!0),ct=md.decode,jt=md.encodeAllRaw,qt=(be,_e,st="")=>{let Qe="<"+be;for(const $t in _e)ge(_e,$t)&&(Qe+=" "+$t+'="'+jt(_e[$t])+'"');return Ei(st)&&Xt(T.getVoidElements(),be)?Qe+" />":Qe+">"+st+"</"+be+">"},jo=be=>{const _e=e.createElement("div"),st=e.createDocumentFragment();st.appendChild(_e),be&&(_e.innerHTML=be);let Qe;for(;Qe=_e.firstChild;)st.appendChild(Qe);return st.removeChild(_e),st},Gn=(be,_e)=>Et(be,st=>{const Qe=Z.fromDom(st);return _e&&Te(bs(Qe),$t=>{Ur($t)&&$t.dom.length===0?Tn($t):tr(Qe,$t)}),Tn(Qe),Qe.dom}),nc=be=>Et(be,_e=>{const st=_e.attributes;for(let Qe=st.length-1;Qe>=0;Qe--)_e.removeAttributeNode(st.item(Qe))}),Xi=be=>N.parse(be),Zd=(be,_e)=>N.serialize(be,_e),$c=be=>{if(ub!==ko.DOM&&e===document){if(o[be])return;o[be]=!0}let _e=e.getElementById("mceDefaultStyles");if(!_e){_e=e.createElement("style"),_e.id="mceDefaultStyles",_e.type="text/css";const st=e.head;st.firstChild?st.insertBefore(_e,st.firstChild):st.appendChild(_e)}_e.styleSheet?_e.styleSheet.cssText+=be:_e.appendChild(e.createTextNode(be))},Ci=be=>{be||(be=""),Te(be.split(","),_e=>{a[_e]=!0,b.load(_e).catch(fo)})},Ji=(be,_e,st)=>{Et(be,Qe=>{if(ft(Qe)){const $t=Z.fromDom(Qe),Uo=_e.split(" ");Te(Uo,Ts=>{Ee(st)?(st?sa:bn)($t,Ts):al($t,Ts)})}})},Wd=(be,_e)=>{Ji(be,_e,!0)},cb=(be,_e)=>{Ji(be,_e,!1)},Nt=(be,_e)=>{const st=W(be),Qe=_e.split(" ");return Ee(st)&&Tl(Qe,$t=>sr(st,$t))},Fo=be=>{Et(be,_e=>Qc(Z.fromDom(_e),"display"))},Es=be=>{Et(be,_e=>Tf(Z.fromDom(_e),"display","none"))},Br=be=>{const _e=W(be);return Ee(_e)&&gr(Af(_e,"display"),"none")},Gr=be=>(be||"mce_")+c++,yr=be=>{const _e=W(be);return Ee(_e)?ft(_e.dom)?_e.dom.outerHTML:_p(_e):""},us=(be,_e)=>{Et(be,st=>{ft(st)&&(st.outerHTML=_e)})},ms=(be,_e)=>{const st=G(_e);return Et(be,Qe=>{const $t=st?.parentNode,Uo=st?.nextSibling;return $t&&(Uo?$t.insertBefore(Qe,Uo):$t.appendChild(Qe)),Qe})},Qi=(be,_e,st)=>Et(_e,Qe=>{var $t;const Uo=ie(_e)?be.cloneNode(!0):be;return st&&ax(ix(Qe.childNodes),Ts=>{Uo.appendChild(Ts)}),($t=Qe.parentNode)===null||$t===void 0||$t.replaceChild(Uo,Qe),Qe}),Fu=(be,_e)=>{if(be.nodeName!==_e.toUpperCase()){const st=Ye(_e);return ax(le(be),Qe=>{fe(st,Qe.nodeName,ce(be,Qe.nodeName))}),Qi(st,be,!0),st}else return be},qg=(be,_e)=>{let st=be;for(;st;){let Qe=_e;for(;Qe&&st!==Qe;)Qe=Qe.parentNode;if(st===Qe)break;st=st.parentNode}return!st&&be.ownerDocument?be.ownerDocument.documentElement:st},af=(be,_e,st)=>dt(_e)?zl(T,be,{...st,isContent:$t=>{const Uo=$t.nodeName.toLowerCase();return!!_e[Uo]}}):zl(T,be,st),eC=()=>e.createRange(),tC=(be,_e,st)=>{let Qe=eC(),$t,Uo;if(be&&_e&&be.parentNode&&_e.parentNode){const Ts=be.parentNode;return Qe.setStart(Ts,jf(be)),Qe.setEnd(_e.parentNode,jf(_e)),$t=Qe.extractContents(),Qe=eC(),Qe.setStart(_e.parentNode,jf(_e)+1),Qe.setEnd(Ts,jf(be)+1),Uo=Qe.extractContents(),Ts.insertBefore(ir(ub,$t,T),be),st?Ts.insertBefore(st,be):Ts.insertBefore(_e,be),Ts.insertBefore(ir(ub,Uo,T),be),Gn(be),st||_e}else return},Jv=(be,_e,st,Qe)=>{if(ie(be)){let $t=be.length;const Uo=[];for(;$t--;)Uo[$t]=Jv(be[$t],_e,st,Qe);return Uo}else return t.collect&&(be===e||be===s)&&_.push([be,_e,st,Qe]),R.bind(be,_e,st,Qe||ub)},zu=(be,_e,st)=>{if(ie(be)){let Qe=be.length;const $t=[];for(;Qe--;)$t[Qe]=zu(be[Qe],_e,st);return $t}else{if(_.length>0&&(be===e||be===s)){let Qe=_.length;for(;Qe--;){const[$t,Uo,Ts]=_[Qe];be===$t&&(!_e||_e===Uo)&&(!st||st===Ts)&&R.unbind($t,Uo,Ts)}}return R.unbind(be,_e,st)}},db=(be,_e,st)=>R.dispatch(be,_e,st),vE=(be,_e,st)=>R.dispatch(be,_e,st),oC=be=>{if(be&&Ka(be)){const _e=be.getAttribute("data-mce-contenteditable");return _e&&_e!=="inherit"?_e:be.contentEditable!=="inherit"?be.contentEditable:null}else return null},ub={doc:e,settings:t,win:s,files:a,stdMode:d,boxModel:g,styleSheetLoader:b,boundEvents:_,styles:N,schema:T,events:R,isBlock:Y,root:null,clone:ve,getRoot:Pe,getViewPort:tt,getRect:Mt,getSize:gt,getParent:hn,getParents:xo,get:G,getNext:ur,getPrev:mr,select:rt,is:oo,add:xt,create:Ye,createHTML:qt,createFragment:jo,remove:Gn,setStyle:De,getStyle:Ie,setStyles:Se,removeAllAttribs:nc,setAttrib:fe,setAttribs:Wo,getAttrib:ce,getPos:We,parseStyle:Xi,serializeStyle:Zd,addStyle:$c,loadCSS:Ci,addClass:Wd,removeClass:cb,hasClass:Nt,toggleClass:Ji,show:Fo,hide:Es,isHidden:Br,uniqueId:Gr,setHTML:Yo,getOuterHTML:yr,setOuterHTML:us,decode:ct,encode:jt,insertAfter:ms,replace:Qi,rename:Fu,findCommonAncestor:qg,run:Et,getAttribs:le,isEmpty:af,createRng:eC,nodeIndex:jf,split:tC,bind:Jv,unbind:zu,fire:vE,dispatch:db,getContentEditable:oC,getContentEditableParent:be=>{const _e=Pe();let st=null;for(let Qe=be;Qe&&Qe!==_e&&(st=oC(Qe),st===null);Qe=Qe.parentNode);return st},isEditable:be=>{if(Ee(be)){const _e=ft(be)?be:be.parentElement;return Ee(_e)&&Ka(_e)&&Ga(Z.fromDom(_e))}else return!1},destroy:()=>{if(_.length>0){let be=_.length;for(;be--;){const[_e,st,Qe]=_[be];R.unbind(_e,st,Qe)}}Mo(a,(be,_e)=>{b.unload(_e),delete a[_e]})},isChildOf:(be,_e)=>be===_e||_e.contains(be),dumpRng:be=>"startContainer: "+be.startContainer.nodeName+", startOffset: "+be.startOffset+", endContainer: "+be.endContainer.nodeName+", endOffset: "+be.endOffset},AD=hd(N,t,Ge(ub));return ub};ko.DOM=ko(document),ko.nodeIndex=jf;const Em=ko.DOM,Pa=0,Tm=1,bd=2,qf=3;class La{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}_setCrossOrigin(t){this.settings.crossOrigin=t}loadScript(t){return new Promise((o,s)=>{const a=Em;let c;const d=()=>{a.remove(_),c&&(c.onerror=c.onload=c=null)},g=()=>{d(),o()},b=()=>{d(),s("Failed to load script: "+t)},_=a.uniqueId();c=document.createElement("script"),c.id=_,c.type="text/javascript",c.src=$e._addCacheSuffix(t),this.settings.referrerPolicy&&a.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy);const T=this.settings.crossOrigin;if(Ut(T)){const N=T(t);N!==void 0&&a.setAttrib(c,"crossorigin",N)}c.onload=g,c.onerror=b,(document.getElementsByTagName("head")[0]||document.body).appendChild(c)})}isDone(t){return this.states[t]===bd}markDone(t){this.states[t]=bd}add(t){const o=this;return o.queue.push(t),o.states[t]===void 0&&(o.states[t]=Pa),new Promise((a,c)=>{o.scriptLoadedCallbacks[t]||(o.scriptLoadedCallbacks[t]=[]),o.scriptLoadedCallbacks[t].push({resolve:a,reject:c})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const o=this,s=(b,_)=>{Jo(o.scriptLoadedCallbacks,_).each(T=>{Te(T,N=>N[b](_))}),delete o.scriptLoadedCallbacks[_]},a=b=>{const _=Pt(b,T=>T.status==="rejected");return _.length>0?Promise.reject(_r(_,({reason:T})=>ie(T)?T:[T])):Promise.resolve()},c=b=>Promise.allSettled(go(b,_=>o.states[_]===bd?(s("resolve",_),Promise.resolve()):o.states[_]===qf?(s("reject",_),Promise.reject(_)):(o.states[_]=Tm,o.loadScript(_).then(()=>{o.states[_]=bd,s("resolve",_);const T=o.queue;return T.length>0?(o.queue=[],c(T).then(a)):Promise.resolve()},()=>(o.states[_]=qf,s("reject",_),Promise.reject(_)))))),d=b=>(o.loading=!0,c(b).then(_=>{o.loading=!1;const T=o.queueLoadedCallbacks.shift();return P.from(T).each(sn),a(_)})),g=m2(t);return o.loading?new Promise((b,_)=>{o.queueLoadedCallbacks.push(()=>{d(g).then(b,_)})}):d(g)}}La.ScriptLoader=new La;const Sc=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o},Ec=e=>ae(e)&&Xt(e,"raw"),hu=e=>ie(e)&&e.length>1,xd={},Q1=Bn("en"),e0=()=>Jo(xd,Q1.get()),co={getData:()=>si(xd,e=>({...e})),setCode:e=>{e&&Q1.set(e)},getCode:()=>Q1.get(),add:(e,t)=>{let o=xd[e];o||(xd[e]=o={});const s=go(Ca(t),a=>a.toLowerCase());Mo(t,(a,c)=>{const d=c.toLowerCase();d!==c&&Sc(s,d)?(Xt(t,d)||(o[d]=a),o[c]=a):o[d]=a})},translate:e=>{const t=e0().getOr({}),o=g=>Ut(g)?Object.prototype.toString.call(g):s(g)?"":""+g,s=g=>g===""||g===null||g===void 0,a=g=>{const b=o(g);return Xt(t,b)?o(t[b]):Jo(t,b.toLowerCase()).map(o).getOr(b)},c=g=>g.replace(/{context:\w+}$/,""),d=g=>g.replaceAll("...",u2);if(s(e))return"";if(Ec(e))return d(o(e.raw));if(hu(e)){const g=e.slice(1),b=a(e[0]).replace(/\{([0-9]+)\}/g,(_,T)=>Xt(g,T)?o(g[T]):_);return d(c(b))}return d(c(a(e)))},isRtl:()=>e0().bind(e=>Jo(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Xt(xd,e)},Wr=()=>{const e=[],t={},o={},s=[],a=(G,W)=>{const ce=Pt(s,le=>le.name===G&&le.state===W);Te(ce,le=>le.resolve())},c=G=>Xt(t,G),d=G=>Xt(o,G),g=G=>{if(o[G])return o[G].instance},b=(G,W)=>{const ce=co.getCode(),le=","+(W||"")+",";!ce||W&&le.indexOf(","+ce+",")===-1||La.ScriptLoader.add(t[G]+"/langs/"+ce+".js")},_=(G,W)=>{Wr.languageLoad!==!1&&(c(G)?b(G,W):Y(G,"loaded").then(()=>b(G,W)))},T=(G,W)=>(e.push(W),o[G]={instance:W},a(G,"added"),W),N=G=>{delete t[G],delete o[G]},R=(G,W)=>Je(W)?Je(G)?{prefix:"",resource:W,suffix:""}:{prefix:G.prefix,resource:W,suffix:G.suffix}:W,I=(G,W)=>{if(t[G])return Promise.resolve();let ce=Je(W)?W:W.prefix+W.resource+W.suffix;ce.indexOf("/")!==0&&ce.indexOf("://")===-1&&(ce=Wr.baseURL+"/"+ce),t[G]=ce.substring(0,ce.lastIndexOf("/"));const le=()=>(a(G,"loaded"),Promise.resolve());return o[G]?le():La.ScriptLoader.add(ce).then(le)},Y=(G,W="added")=>W==="added"&&d(G)||W==="loaded"&&c(G)?Promise.resolve():new Promise(ce=>{s.push({name:G,state:W,resolve:ce})});return{items:e,urls:t,lookup:o,get:g,requireLangPack:_,add:T,remove:N,createUrl:R,load:I,waitFor:Y}};Wr.languageLoad=!0,Wr.baseURL="",Wr.PluginManager=Wr(),Wr.ThemeManager=Wr(),Wr.ModelManager=Wr();const Tc=Ge("mce-annotation"),Ac=Ge("data-mce-annotation"),Am=Ge("data-mce-annotation-uid"),Om=Ge("data-mce-annotation-active"),Dm=Ge("data-mce-annotation-classes"),Vl=Ge("data-mce-annotation-attrs"),t0=e=>t=>Lt(t,e),Yp=(e,t)=>{const o=e.selection.getRng(),s=Z.fromDom(o.startContainer),a=Z.fromDom(e.getBody()),c=t.fold(()=>"."+Tc(),b=>`[${Ac()}="${b}"]`),d=fn(s,o.startOffset).getOr(s);return On(d,c,t0(a)).bind(b=>or(b,`${Am()}`).bind(_=>or(b,`${Ac()}`).map(T=>{const N=o0(e,_);return{uid:_,name:T,elements:N}})))},So=e=>hs(e)&&sr(e,Tc()),lx=(e,t)=>im(e,"data-mce-bogus")||Bi(e,'[data-mce-bogus="all"]',t0(t)),o0=(e,t)=>{const o=Z.fromDom(e.getBody()),s=In(o,`[${Am()}="${t}"]`);return Pt(s,a=>!lx(a,o))},n0=(e,t)=>{const o=Z.fromDom(e.getBody()),s=In(o,`[${Ac()}="${t}"]`),a={};return Te(s,c=>{if(!lx(c,o)){const d=fa(c,Am()),g=Jo(a,d).getOr([]);a[d]=g.concat([c])}}),a},gl=(e,t)=>{const o=Bn({}),s=()=>({listeners:[],previous:ac()}),a=(N,R)=>{c(N,I=>(R(I),I))},c=(N,R)=>{const I=o.get(),Y=Jo(I,N).getOrThunk(s),G=R(Y);I[N]=G,o.set(I)},d=(N,R,I)=>{a(N,Y=>{Te(Y.listeners,G=>G(!0,N,{uid:R,nodes:go(I,W=>W.dom)}))})},g=N=>{a(N,R=>{Te(R.listeners,I=>I(!1,N))})},b=(N,R)=>{Te(o0(e,N),I=>{R?Zs(I,Om(),"true"):ks(I,Om())})},_=es(()=>{const N=Dt(t.getNames());Te(N,R=>{c(R,I=>{const Y=I.previous.get();return Yp(e,P.some(R)).fold(()=>{Y.each(G=>{g(R),I.previous.clear(),b(G,!1)})},({uid:G,name:W,elements:ce})=>{gr(Y,G)||(Y.each(le=>b(le,!1)),d(W,G,ce),I.previous.set(G),b(G,!0))}),{previous:I.previous,listeners:I.listeners}})})},30);return e.on("remove",()=>{_.cancel()}),e.on("NodeChange",()=>{_.throttle()}),{addListener:(N,R)=>{c(N,I=>({previous:I.previous,listeners:I.listeners.concat([R])}))}}},cx=(e,t)=>{const o=Ac(),s=c=>P.from(c.attr(o)).bind(t.lookup),a=c=>{var d,g;c.attr(Am(),null),c.attr(Ac(),null),c.attr(Om(),null);const b=P.from(c.attr(Vl())).map(R=>R.split(",")).getOr([]),_=P.from(c.attr(Dm())).map(R=>R.split(",")).getOr([]);Te(b,R=>c.attr(R,null));const T=(g=(d=c.attr("class"))===null||d===void 0?void 0:d.split(" "))!==null&&g!==void 0?g:[],N=Wu(T,[Tc()].concat(_));c.attr("class",N.length>0?N.join(" "):null),c.attr(Dm(),null),c.attr(Vl(),null)};e.serializer.addTempAttr(Om()),e.serializer.addAttributeFilter(o,c=>{for(const d of c)s(d).each(g=>{g.persistent===!1&&(d.name==="span"?d.unwrap():a(d))})})},dx=()=>{const e={};return{register:(a,c)=>{e[a]={name:a,settings:c}},lookup:a=>Jo(e,a).map(c=>c.settings),getNames:()=>Ca(e)}},Xp=(e,t,o=un)=>{const s=new zn(e,t),a=c=>{let d;do d=s[c]();while(d&&!je(d)&&!o(d));return P.from(d).filter(je)};return{current:()=>P.from(s.current()).filter(je),next:()=>a("next"),prev:()=>a("prev"),prev2:()=>a("prev2")}},fi=(e,t)=>{const o=t||(d=>e.isBlock(d)||Zn(d)||xn(d)),s=(d,g,b,_)=>{if(je(d)){const T=_(d,g,d.data);if(T!==-1)return P.some({container:d,offset:T})}return b().bind(T=>s(T.container,T.offset,b,_))};return{backwards:(d,g,b,_)=>{const T=Xp(d,_??e.getRoot(),o);return s(d,g,()=>T.prev().map(N=>({container:N,offset:N.length})),b).getOrNull()},forwards:(d,g,b,_)=>{const T=Xp(d,_??e.getRoot(),o);return s(d,g,()=>T.next().map(N=>({container:N,offset:0})),b).getOrNull()}}},Nm=["td","th"],Kf=["thead","tbody","tfoot"],Rm=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Jp=["li","dd","dt"],$2=["ul","ol","dl"],V2=["pre","script","textarea","style"],bu=e=>{let t;return o=>(t=t||Ir(e,qo),Xt(t,Gt(o)))},Ul=e=>Gt(e)==="table",Oc=e=>hs(e)&&Gt(e)==="br",Qp=bu(Rm),Yf=bu($2),zi=bu(Jp),eh=bu(Kf),vs=bu(Nm),Mm=bu(V2),ux=e=>{const t=[];let o=e.dom;for(;o;)t.push(Z.fromDom(o)),o=o.lastChild;return t},U2=e=>{const t=In(e,"br"),o=Pt(ux(e).slice(-1),Oc);t.length===o.length&&Te(o,Tn)},Bm=()=>{const e=Z.fromTag("br");return Zs(e,"data-mce-bogus","1"),e},vd=e=>{ja(e),rn(e,Bm())},th=(e,t)=>{Di(e).each(o=>{ri(o).each(s=>{t.isBlock(Gt(e))&&Oc(o)&&t.isBlock(Gt(s))&&Tn(o)})})},Ks=Kd,Xf=ka,jr=Gu,mx=e=>e.insertContent(Ks,{preserve_zwsp:!0}),s0=ft,xu=je,Pm=e=>(xu(e)&&(e=e.parentNode),s0(e)&&e.hasAttribute("data-mce-caret")),yd=e=>xu(e)&&Xf(e.data),Hi=e=>Pm(e)||yd(e),fx=e=>e.firstChild!==e.lastChild||!Zn(e.firstChild),Z2=(e,t)=>{var o;const a=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ks),c=e.parentNode;if(t){const d=e.previousSibling;if(xu(d)){if(Hi(d))return d;if(eg(d))return d.splitText(d.data.length-1)}c?.insertBefore(a,e)}else{const d=e.nextSibling;if(xu(d)){if(Hi(d))return d;if(Qf(d))return d.splitText(1),d}e.nextSibling?c?.insertBefore(a,e.nextSibling):c?.appendChild(a)}return a},r0=e=>{const t=e.container();return je(t)?t.data.charAt(e.offset())===Ks||e.isAtStart()&&yd(t.previousSibling):!1},Jf=e=>{const t=e.container();return je(t)?t.data.charAt(e.offset()-1)===Ks||e.isAtEnd()&&yd(t.nextSibling):!1},a0=(e,t,o)=>{var s;const c=((s=t.ownerDocument)!==null&&s!==void 0?s:document).createElement(e);c.setAttribute("data-mce-caret",o?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(Bm().dom);const d=t.parentNode;return o?d?.insertBefore(c,t):t.nextSibling?d?.insertBefore(c,t.nextSibling):d?.appendChild(c),c},Qf=e=>xu(e)&&e.data[0]===Ks,eg=e=>xu(e)&&e.data[e.data.length-1]===Ks,W2=e=>{var t;const o=e.getElementsByTagName("br"),s=o[o.length-1];du(s)&&((t=s.parentNode)===null||t===void 0||t.removeChild(s))},tg=e=>e&&e.hasAttribute("data-mce-caret")?(W2(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,gx=e=>Pm(e.startContainer),Lm=Math.round,Im=e=>e?{left:Lm(e.left),top:Lm(e.top),bottom:Lm(e.bottom),right:Lm(e.right),width:Lm(e.width),height:Lm(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},f=(e,t)=>(e=Im(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),h=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,y=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,C=(e,t)=>{const o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top?!0:e.top>t.bottom?!1:y(t.top-e.bottom,e,t)},O=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:y(t.bottom-e.top,e,t),D=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom,L=e=>Go(e,(t,o)=>t.fold(()=>P.some(o),s=>{const a=Math.min(o.left,s.left),c=Math.min(o.top,s.top),d=Math.max(o.right,s.right),g=Math.max(o.bottom,s.bottom);return P.some({top:c,right:d,bottom:g,left:a,width:d-a,height:g-c})}),P.none()),F=(e,t,o)=>{const s=Math.max(Math.min(t,e.left+e.width),e.left),a=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-s)*(t-s)+(o-a)*(o-a))},q=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),J=e=>{const t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},se=(e,t)=>{if(ft(e)&&e.hasChildNodes()){const o=e.childNodes,s=mn(t,0,o.length-1);return o[s]}else return e},Q=(e,t)=>{if(!(t<0&&ft(e)&&e.hasChildNodes()))return se(e,t)},ne=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),ee=e=>Je(e)&&e.charCodeAt(0)>=768&&ne.test(e),me=(...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1},ue=(...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0},Re=Ma,Be=xn,Ve=Zn,Ze=je,qe=Na(["script","style","textarea"]),et=Na(["img","input","textarea","hr","iframe","video","audio","object","embed"]),nt=Na(["table"]),_t=Hi,kt=e=>_t(e)?!1:Ze(e)?!qe(e.parentNode):et(e)||Ve(e)||nt(e)||Jt(e),Do=e=>ft(e)&&e.getAttribute("unselectable")==="true",Jt=e=>!Do(e)&&Be(e),ho=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(Jt(o))return!1;if(Re(o))return!0}return!0},to=e=>Jt(e)?!Go(mt(e.getElementsByTagName("*")),(t,o)=>t||Re(o),!1):!1,tn=e=>et(e)||to(e),ys=(e,t)=>kt(e)&&ho(e,t),Dr=ft,hr=kt,Xa=hm("display","block table"),ht=hm("float","left right"),Ys=ue(Dr,hr,Ke(ht)),vu=Ke(hm("white-space","pre pre-line pre-wrap")),_d=je,wd=Zn,og=ko.nodeIndex,Zl=Q,Dc=e=>e?e.createRange():ko.DOM.createRng(),j2=e=>Je(e)&&/[\r\n\t ]/.test(e),q2=e=>!!e.setStart&&!!e.setEnd,G2=e=>{const t=e.startContainer,o=e.startOffset;if(j2(e.toString())&&vu(t.parentNode)&&je(t)){const s=t.data;if(j2(s[o-1])||j2(s[o+1]))return!0}return!1},oh=e=>{const t=e.ownerDocument,o=Dc(t),s=t.createTextNode(Fs),a=e.parentNode;a.insertBefore(s,e),o.setStart(s,0),o.setEnd(s,1);const c=Im(o.getBoundingClientRect());return a.removeChild(s),c},OE=e=>{const t=e.startContainer,o=e.endContainer,s=e.startOffset,a=e.endOffset;if(t===o&&je(o)&&s===0&&a===1){const c=e.cloneRange();return c.setEndAfter(o),gi(c)}else return null},vC=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,gi=e=>{var t;let o;const s=e.getClientRects();return s.length>0?o=Im(s[0]):o=Im(e.getBoundingClientRect()),!q2(e)&&wd(e)&&vC(o)?oh(e):vC(o)&&q2(e)&&(t=OE(e))!==null&&t!==void 0?t:o},ng=(e,t)=>{const o=f(e,t);return o.width=1,o.right=o.left+1,o},yC=e=>{const t=[],o=d=>{d.height!==0&&(t.length>0&&h(d,t[t.length-1])||t.push(d))},s=(d,g)=>{const b=Dc(d.ownerDocument);if(g<d.data.length){if(ee(d.data[g]))return;if(ee(d.data[g-1])&&(b.setStart(d,g),b.setEnd(d,g+1),!G2(b))){o(ng(gi(b),!1));return}}g>0&&(b.setStart(d,g-1),b.setEnd(d,g),G2(b)||o(ng(gi(b),!1))),g<d.data.length&&(b.setStart(d,g),b.setEnd(d,g+1),G2(b)||o(ng(gi(b),!0)))},a=e.container(),c=e.offset();if(_d(a))return s(a,c),t;if(Dr(a))if(e.isAtEnd()){const d=Zl(a,c);_d(d)&&s(d,d.data.length),Ys(d)&&!wd(d)&&o(ng(gi(d),!1))}else{const d=Zl(a,c);if(_d(d)&&s(d,0),Ys(d)&&e.isAtEnd())return o(ng(gi(d),!1)),t;const g=Zl(e.container(),e.offset()-1);Ys(g)&&!wd(g)&&(Xa(g)||Xa(d)||!Ys(d))&&o(ng(gi(g),!1)),Ys(d)&&o(ng(gi(d),!0))}return t},Ae=(e,t,o)=>{const s=()=>(_d(e),t===0),a=()=>_d(e)?t>=e.data.length:t>=e.childNodes.length,c=()=>{const T=Dc(e.ownerDocument);return T.setStart(e,t),T.setEnd(e,t),T},d=()=>(o||(o=yC(Ae(e,t))),o),g=()=>d().length>0,b=T=>T&&e===T.container()&&t===T.offset(),_=T=>Zl(e,T?t-1:t);return{container:Ge(e),offset:Ge(t),toRange:c,getClientRects:d,isVisible:g,isAtStart:s,isAtEnd:a,isEqual:b,getNode:_}};Ae.fromRangeStart=e=>Ae(e.startContainer,e.startOffset),Ae.fromRangeEnd=e=>Ae(e.endContainer,e.endOffset),Ae.after=e=>Ae(e.parentNode,og(e)+1),Ae.before=e=>Ae(e.parentNode,og(e)),Ae.isAbove=(e,t)=>Qn($n(t.getClientRects()),Is(e.getClientRects()),C).getOr(!1),Ae.isBelow=(e,t)=>Qn(Is(t.getClientRects()),$n(e.getClientRects()),O).getOr(!1),Ae.isAtStart=e=>e?e.isAtStart():!1,Ae.isAtEnd=e=>e?e.isAtEnd():!1,Ae.isTextPosition=e=>e?je(e.container()):!1,Ae.isElementPosition=e=>!Ae.isTextPosition(e);const px=(e,t)=>{je(t)&&t.data.length===0&&e.remove(t)},KD=(e,t,o)=>{t.insertNode(o),px(e,o.previousSibling),px(e,o.nextSibling)},DE=(e,t,o)=>{const s=P.from(o.firstChild),a=P.from(o.lastChild);t.insertNode(o),s.each(c=>px(e,c.previousSibling)),a.each(c=>px(e,c.nextSibling))},K2=(e,t,o)=>{Bp(o)?DE(e,t,o):KD(e,t,o)},Nc=je,Y2=du,_C=ko.nodeIndex,wC=e=>{const t=e.parentNode;return Y2(t)?wC(t):t},CC=e=>e?xf(e.childNodes,(t,o)=>(Y2(o)&&o.nodeName!=="BR"?t=t.concat(CC(o)):t.push(o),t),[]):[],kC=(e,t)=>{let o=e;for(;(o=o.previousSibling)&&Nc(o);)t+=o.data.length;return t},NE=e=>t=>e===t,X2=e=>{let t,o;t=CC(wC(e)),o=np(t,NE(e),e),t=t.slice(0,o+1);const s=xf(t,(a,c,d)=>(Nc(c)&&Nc(t[d-1])&&a++,a),0);return t=bf(t,Na([e.nodeName])),o=np(t,NE(e),e),o-s},SC=e=>(Nc(e)?"text()":e.nodeName.toLowerCase())+"["+X2(e)+"]",YD=(e,t,o)=>{const s=[];for(let a=t.parentNode;a&&a!==e;a=a.parentNode)s.push(a);return s},Kt=(e,t)=>{let o=[],s=t.container(),a=t.offset(),c;if(Nc(s))c=kC(s,a);else{const g=s.childNodes;a>=g.length?(c="after",a=g.length-1):c="before",s=g[a]}o.push(SC(s));let d=YD(e,s);return d=bf(d,Ke(du)),o=o.concat(qc(d,g=>SC(g))),o.reverse().join("/")+","+c},XD=(e,t,o)=>{let s=CC(e);return s=bf(s,(a,c)=>!Nc(a)||!Nc(s[c-1])),s=bf(s,Na([t])),s[o]},JD=(e,t)=>{let o=e,s=0;for(;Nc(o);){const a=o.data.length;if(t>=s&&t<=s+a){e=o,t=t-s;break}if(!Nc(o.nextSibling)){e=o,t=a;break}s+=a,o=o.nextSibling}return Nc(e)&&t>e.data.length&&(t=e.data.length),Ae(e,t)},RE=(e,t)=>{if(!t)return null;const o=t.split(","),s=o[0].split("/"),a=o.length>1?o[1]:"before",c=xf(s,(d,g)=>{const b=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(g);return b?(b[1]==="text()"&&(b[1]="#text"),XD(d,b[1],parseInt(b[2],10))):null},e);if(!c)return null;if(!Nc(c)&&c.parentNode){let d;return a==="after"?d=_C(c)+1:d=_C(c),Ae(c.parentNode,d)}return JD(c,parseInt(a,10))},J2=xn,QD=(e,t,o)=>{let s=e(t.data.slice(0,o)).length;for(let a=t.previousSibling;a&&je(a);a=a.previousSibling)s+=e(a.data).length;return s},EC=(e,t,o,s,a)=>{const c=a?s.startContainer:s.endContainer;let d=a?s.startOffset:s.endOffset;const g=[],b=e.getRoot();if(je(c))g.push(o?QD(t,c,d):d);else{let _=0;const T=c.childNodes;d>=T.length&&T.length&&(_=1,d=Math.max(0,T.length-1)),g.push(e.nodeIndex(T[d],o)+_)}for(let _=c;_&&_!==b;_=_.parentNode)g.push(e.nodeIndex(_,o));return g},TC=(e,t,o,s)=>{const a=t.dom,c=EC(a,e,o,s,!0),d=t.isForward(),g=gx(s)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:c,forward:d,...g};{const b=EC(a,e,o,s,!1);return{start:c,end:b,forward:d,...g}}},nh=(e,t,o)=>{let s=0;return $e.each(e.select(t),a=>{if(a.getAttribute("data-mce-bogus")!=="all"){if(a===o)return!1;s++;return}}),s},sh=(e,t)=>{let o=t?e.startContainer:e.endContainer,s=t?e.startOffset:e.endOffset;if(ft(o)&&o.nodeName==="TR"){const a=o.childNodes;o=a[Math.min(t?s:s-1,a.length-1)],o&&(s=t?0:o.childNodes.length,t?e.setStart(o,s):e.setEnd(o,s))}},ME=e=>(sh(e,!0),sh(e,!1),e),hx=(e,t)=>{if(ft(e)&&(e=se(e,t),J2(e)))return e;if(Hi(e)){je(e)&&Pm(e)&&(e=e.parentNode);let o=e.previousSibling;if(J2(o)||(o=e.nextSibling,J2(o)))return o}},eN=e=>hx(e.startContainer,e.startOffset)||hx(e.endContainer,e.endOffset),AC=(e,t,o)=>{const s=o.getNode(),a=o.getRng();if(s.nodeName==="IMG"||J2(s)){const d=s.nodeName;return{name:d,index:nh(o.dom,d,s)}}const c=eN(a);if(c){const d=c.tagName;return{name:d,index:nh(o.dom,d,c)}}return TC(e,o,t,a)},OC=e=>{const t=e.getRng();return{start:Kt(e.dom.getRoot(),Ae.fromRangeStart(t)),end:Kt(e.dom.getRoot(),Ae.fromRangeEnd(t)),forward:e.isForward()}},tN=e=>({rng:e.getRng(),forward:e.isForward()}),BE=(e,t,o)=>{const s={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",s,"&#xFEFF;"):e.create("span",s)},PE=(e,t)=>{const o=e.dom;let s=e.getRng();const a=o.uniqueId(),c=e.isCollapsed(),d=e.getNode(),g=d.nodeName,b=e.isForward();if(g==="IMG")return{name:g,index:nh(o,g,d)};const _=ME(s.cloneRange());if(!c){_.collapse(!1);const N=BE(o,a+"_end",t);K2(o,_,N)}s=ME(s),s.collapse(!0);const T=BE(o,a+"_start",t);return K2(o,s,T),e.moveToBookmark({id:a,keep:!0,forward:b}),{id:a,forward:b}},oN=(e,t,o=!1)=>t===2?AC(jr,o,e):t===3?OC(e):t?tN(e):PE(e,!1),Fm=bt(AC,dn,!0),nN=e=>e.type==="inline-command"||e.type==="inline-format",sN=e=>e.type==="block-command"||e.type==="block-format",LE=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,rN=e=>{var t;const o=a=>gs.error({message:a,pattern:e}),s=(a,c,d)=>{if(e.format!==void 0){let g;if(ie(e.format)){if(!Tl(e.format,Je))return o(a+" pattern has non-string items in the `format` array");g=e.format}else if(Je(e.format))g=[e.format];else return o(a+" pattern has non-string `format` parameter");return gs.value(c(g))}else return e.cmd!==void 0?Je(e.cmd)?gs.value(d(e.cmd,e.value)):o(a+" pattern has non-string `cmd` parameter"):o(a+" pattern is missing both `format` and `cmd` parameters")};if(!ae(e))return o("Raw pattern is not an object");if(!Je(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!Je(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let a=e.start,c=e.end;return c.length===0&&(c=a,a=""),s("Inline",d=>({type:"inline-format",start:a,end:c,format:d}),(d,g)=>({type:"inline-command",start:a,end:c,cmd:d,value:g}))}else{if(e.replacement!==void 0)return Je(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):gs.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const a=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):s("Block",c=>({type:"block-format",start:e.start,format:c[0],trigger:a}),(c,d)=>({type:"block-command",start:e.start,cmd:c,value:d,trigger:a}))}}},IE=e=>Pt(e,sN),FE=e=>Pt(e,nN),Hn=(e,t)=>({inlinePatterns:FE(e),blockPatterns:IE(e),dynamicPatternsLookup:t}),Q2=(e,t)=>({...e,blockPatterns:Pt(e.blockPatterns,o=>LE(o,t))}),zE=e=>{const t=_b(go(e,rN));return Te(t.errors,o=>console.error(o.message,o.pattern)),t.values},DC=e=>t=>{const o=e(t);return zE(o)},ba=(e,t)=>e.dispatch("PreProcess",t),pl=(e,t)=>e.dispatch("PostProcess",t),HE=e=>{e.dispatch("remove")},aN=e=>{e.dispatch("detach")},iN=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},Cd=(e,t,o,s,a)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:s,origin:a})},lN=(e,t,o,s,a)=>{e.dispatch("ObjectResized",{target:t,width:o,height:s,origin:a})},cN=e=>{e.dispatch("PreInit")},Bo=e=>{e.dispatch("PostRender")},dN=e=>{e.dispatch("Init")},uN=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},$E=(e,t,o)=>{e.dispatch(t,o)},_s=(e,t,o,s)=>{e.dispatch("FormatApply",{format:t,node:o,vars:s})},VE=(e,t,o,s)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:s})},UE=(e,t)=>e.dispatch("BeforeSetContent",t),ey=(e,t)=>e.dispatch("SetContent",t),mN=(e,t)=>e.dispatch("BeforeGetContent",t),ZE=(e,t)=>e.dispatch("GetContent",t),fN=(e,t)=>{e.dispatch("AutocompleterStart",t)},gN=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},bx=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},NC=e=>{e.dispatch("AutocompleterEnd")},WE=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}),pN=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}),jE=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),hN=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),wt=(e,t)=>e.dispatch("DisabledStateChange",{state:t}),Rc=e=>e.dispatch("CloseActiveTooltips"),ty=_n().deviceType,bN=ty.isTouch(),xN=ko.DOM,qE=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Go(t,(o,s)=>{const a=s.split("="),c=a[0],d=a.length>1?a[1]:c;return o[jc(c)]=jc(d),o},{})},RC=e=>No(e,RegExp),ut=e=>t=>t.options.get(e),i0=e=>Je(e)||ae(e),oy=(e,t="")=>o=>{const s=Je(o);if(s)if(o.indexOf("=")!==-1){const a=qE(o);return{value:Jo(a,e.id).getOr(t),valid:s}}else return{value:o,valid:s};else return{valid:!1,message:"Must be a string."}},MC=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("crossorigin",{processor:"function",default:Ge(void 0)}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.editorManager.documentBaseURL}),t("body_id",{processor:oy(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:oy(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:o=>{const s=Je(o)&&tl(o);return s?{value:o,valid:s}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:o=>{const s=wo(["block","linebreak","invert","default"],o);return s?{value:o,valid:s}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:o=>ns(o)?{valid:!0,value:o}:Je(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:o=>{const s=o===!1||Je(o)||mo(o,Je);return s?Je(o)?{value:go(o.split(","),jc),valid:s}:ie(o)?{value:o,valid:s}:o===!1?{value:[],valid:s}:{value:o,valid:s}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:IC(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:o=>{const s=Je(o)||mo(o,Je);return s?{value:ie(o)?o:go(o.split(","),jc),valid:s}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("extended_mathml_attributes",{processor:"string[]"}),t("extended_mathml_elements",{processor:"string[]"}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:o=>{const s=ns(o)||Je(o);return s?o===!1||ty.isiPhone()||ty.isiPad()?{value:"",valid:s}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:s}:{valid:!1,message:"Must be boolean or a string"}},default:!bN}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("onboarding",{processor:"boolean",default:!0}),t("tiny_cloud_entry_url",{processor:"string"}),t("theme",{processor:o=>o===!1||Je(o)||Ut(o),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:o=>{const s=o===!1||Je(o);return s?{value:o===!1?"":o,valid:s}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("disabled",{processor:o=>ns(o)?(e.initialized&&Cx(e)!==o&&Promise.resolve().then(()=>{wt(e,o)}),{valid:!0,value:o}):{valid:!1,message:"The value must be a boolean."},default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_html_in_comments",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("allow_mathml_annotation_encodings",{processor:o=>{const s=mo(o,Je);return s?{value:o,valid:s}:{valid:!1,message:"Must be an array of strings."}},default:[]}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:i0}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:i0}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:i0}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:i0}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:o=>Je(o)||o===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:o=>mo(o,ae)||o===!1?{value:zE(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:o=>Ut(o)?{value:DC(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:o=>mo(o,RC)?{value:o,valid:!0}:RC(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:o=>{const s=wo(["inherited","collapsed","expanded"],o);return s?{value:o,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:o=>{const s=wo(["inherited","collapsed","expanded"],o);return s?{value:o,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),t("user_id",{processor:"string",default:"Anonymous"}),t("fetch_users",{processor:o=>o===void 0?{valid:!0,value:void 0}:Ut(o)?{valid:!0,value:o}:{valid:!1,message:"fetch_users must be a function that returns a Promise<ExpectedUser[]>"}}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:co.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:xN.getAttrib(e.getElement(),"placeholder")})}),t("lists_indent_on_tab",{processor:"boolean",default:!0}),t("list_max_depth",{processor:o=>{const s=E(o);if(s){if(o<0)throw new Error("list_max_depth cannot be set to lower than 0");return{value:o,valid:s}}else return{valid:!1,message:"Must be a number"}}})},GE=ut("iframe_attrs"),KE=ut("doctype"),ny=ut("document_base_url"),vN=ut("body_id"),YE=ut("body_class"),sy=ut("content_security_policy"),XE=ut("br_in_pre"),qr=ut("forced_root_block"),zm=ut("forced_root_block_attrs"),JE=ut("newline_behavior"),QE=ut("br_newline_selector"),yN=ut("no_newline_selector"),_N=ut("keep_styles"),wN=ut("end_container_on_empty_block"),e5=ut("automatic_uploads"),t5=ut("images_reuse_filename"),Wn=ut("images_replace_blob_uris"),ry=ut("icons"),ay=ut("icons_url"),iy=ut("images_upload_url"),Hm=ut("images_upload_base_path"),ly=ut("images_upload_credentials"),l0=ut("images_upload_handler"),o5=ut("content_css_cors"),cy=ut("referrer_policy"),xx=ut("crossorigin"),vx=ut("language"),sg=ut("language_url"),rg=ut("indent_use_margin"),n5=ut("indentation"),CN=ut("content_css"),s5=ut("content_style"),r5=ut("font_css"),kN=ut("directionality"),SN=ut("inline_boundaries_selector"),Nr=ut("object_resizing"),BC=ut("resize_img_proportional"),la=ut("placeholder"),rh=ut("event_root"),c0=ut("service_message"),ah=ut("theme"),PC=ut("theme_url"),dy=ut("model"),EN=ut("model_url"),yx=ut("inline_boundaries"),hl=ut("formats"),Ja=ut("preview_styles"),kd=ut("format_empty_lines"),LC=ut("format_noneditable_selector"),a5=ut("custom_ui_selector"),IC=ut("inline"),i5=ut("hidden_input"),TN=ut("submit_patch"),FC=ut("add_form_submit_trigger"),AN=ut("add_unload_trigger"),l5=ut("custom_undo_redo_levels"),zC=ut("disable_nodechange"),HC=ut("readonly"),$C=ut("editable_root"),c5=ut("content_css_cors"),d0=ut("plugins"),ON=ut("external_plugins"),d5=ut("block_unsupported_drop"),u5=ut("visual"),DN=ut("visual_table_class"),m5=ut("visual_anchor_class"),f5=ut("iframe_aria_text"),NN=ut("setup"),RN=ut("init_instance_callback"),ih=ut("urlconverter_callback"),MN=ut("auto_focus"),g5=ut("browser_spellcheck"),p5=ut("protect"),h5=ut("paste_block_drop"),_x=ut("paste_data_images"),VC=ut("paste_preprocess"),BN=ut("paste_postprocess"),PN=ut("newdocument_content"),LN=ut("paste_webkit_styles"),UC=ut("paste_remove_styles_if_webkit"),b5=ut("paste_merge_formats"),IN=ut("smart_paste"),FN=ut("paste_as_text"),x5=ut("paste_tab_spaces"),v5=ut("allow_html_data_urls"),zN=ut("text_patterns"),y5=ut("text_patterns_lookup"),_5=ut("noneditable_class"),HN=ut("editable_class"),$N=ut("noneditable_regexp"),VN=ut("preserve_cdata"),lt=ut("highlight_on_focus"),Sd=ut("xss_sanitization"),UN=ut("init_content_sync"),ZC=e=>e.options.isSet("text_patterns_lookup"),w5=e=>$e.explode(e.options.get("font_size_style_values")),C5=e=>$e.explode(e.options.get("font_size_classes")),WC=e=>e.options.get("encoding")==="xml",k5=e=>$e.explode(e.options.get("images_file_types")),S5=ut("table_tab_navigation"),ZN=ut("details_initial_state"),WN=ut("details_serialized_state"),wx=ut("sandbox_iframes"),jC=e=>e.options.get("sandbox_iframes_exclusions"),E5=ut("convert_unsafe_embeds"),uy=ut("license_key"),jN=ut("api_key"),Cx=ut("disabled"),qN=ut("user_id"),my=ut("fetch_users"),lh=ut("lists_indent_on_tab"),kx=e=>P.from(e.options.get("list_max_depth")),GN=ft,T5=je,qC=e=>{const t=e.parentNode;t&&t.removeChild(e)},A5=e=>{const t=jr(e);return{count:e.length-t.length,text:t}},O5=e=>{let t;for(;(t=e.data.lastIndexOf(Ks))!==-1;)e.deleteData(t,1)},GC=(e,t)=>(ag(e),t),D5=(e,t)=>{const o=A5(e.data.substr(0,t.offset())),s=A5(e.data.substr(t.offset()));return(o.text+s.text).length>0?(O5(e),Ae(e,t.offset()-o.count)):t},KN=(e,t)=>{const o=t.container(),s=Gg(mt(o.childNodes),e).map(a=>a<t.offset()?Ae(o,t.offset()-1):t).getOr(t);return ag(e),s},YN=(e,t)=>T5(e)&&t.container()===e?D5(e,t):GC(e,t),N5=(e,t)=>t.container()===e.parentNode?KN(e,t):GC(e,t),KC=(e,t)=>Ae.isTextPosition(t)?YN(e,t):N5(e,t),ag=e=>{GN(e)&&Hi(e)&&(fx(e)?e.removeAttribute("data-mce-caret"):qC(e)),T5(e)&&(O5(e),e.data.length===0&&qC(e))},XN=xn,fy=Xn,R5=mu,YC="*[contentEditable=false],video,audio,embed,object",XC=(e,t,o)=>{const s=f(t.getBoundingClientRect(),o);let a,c;if(e.tagName==="BODY"){const g=e.ownerDocument.documentElement;a=e.scrollLeft||g.scrollLeft,c=e.scrollTop||g.scrollTop}else{const g=e.getBoundingClientRect();a=e.scrollLeft-g.left,c=e.scrollTop-g.top}s.left+=a,s.right+=a,s.top+=c,s.bottom+=c,s.width=1;let d=t.offsetWidth-t.clientWidth;return d>0&&(o&&(d*=-1),s.left+=d,s.right+=d),s},JN=e=>{var t,o;const s=In(Z.fromDom(e),YC);for(let a=0;a<s.length;a++){const c=s[a].dom;let d=c.previousSibling;if(eg(d)){const g=d.data;g.length===1?(t=d.parentNode)===null||t===void 0||t.removeChild(d):d.deleteData(g.length-1,1)}d=c.nextSibling,Qf(d)&&(d.data.length===1?(o=d.parentNode)===null||o===void 0||o.removeChild(d):d.deleteData(0,1))}},gy=(e,t,o,s)=>{const a=ac();let c,d;const g=qr(e),b=e.dom,_=(G,W)=>{let ce;if(T(),R5(W))return null;if(o(W)){const le=a0(g,W,G),fe=XC(t,W,G);b.setStyle(le,"top",fe.top),b.setStyle(le,"caret-color","transparent"),d=le;const ve=b.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});b.setStyles(ve,{...fe}),b.add(t,ve),a.set({caret:ve,element:W,before:G}),G&&b.addClass(ve,"mce-visual-caret-before"),N(),ce=W.ownerDocument.createRange(),ce.setStart(le,0),ce.setEnd(le,0)}else return d=Z2(W,G),ce=W.ownerDocument.createRange(),u0(d.nextSibling)?(ce.setStart(d,0),ce.setEnd(d,0)):(ce.setStart(d,1),ce.setEnd(d,1)),ce;return ce},T=()=>{JN(t),d&&(ag(d),d=null),a.on(G=>{b.remove(G.caret),a.clear()}),c&&(clearInterval(c),c=void 0)},N=()=>{c=window.setInterval(()=>{a.on(G=>{s()?b.toggleClass(G.caret,"mce-visual-caret-hidden"):b.addClass(G.caret,"mce-visual-caret-hidden")})},500)},R=()=>{a.on(G=>{const W=XC(t,G.element,G.before);b.setStyles(G.caret,{...W})})},I=()=>clearInterval(c),Y=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{isShowing:a.isSet,show:_,hide:T,getCss:Y,reposition:R,destroy:I}},JC=()=>Vo.browser.isFirefox(),u0=e=>XN(e)||fy(e),m0=e=>(u0(e)||Ra(e)&&JC())&&rm(Z.fromDom(e)).exists(Ga),M5=Ma,py=xn,B5=Xn,QC=hm("display","block table table-cell table-row table-caption list-item"),e4=Hi,t4=Pm,P5=ft,QN=je,eR=kt,f0=e=>e===1,ch=e=>e===-1,hy=(e,t)=>{let o;for(;o=e(t);)if(!t4(o))return o;return null},g0=(e,t,o,s,a)=>{const c=new zn(e,s),d=py(e)||t4(e);let g;if(ch(t)){if(d&&(g=hy(c.prev.bind(c),!0),o(g)))return g;for(;g=hy(c.prev.bind(c),a);)if(o(g))return g}if(f0(t)){if(d&&(g=hy(c.next.bind(c),!0),o(g)))return g;for(;g=hy(c.next.bind(c),a);)if(o(g))return g}return null},tR=(e,t)=>{const o=a=>M5(a.dom),s=a=>a.dom===t;return nr(Z.fromDom(e),o,s).map(a=>a.dom).getOr(t)},Ls=(e,t)=>{for(;e&&e!==t;){if(QC(e))return e;e=e.parentNode}return null},yu=(e,t,o)=>Ls(e.container(),o)===Ls(t.container(),o),o4=(e,t)=>{if(!t)return P.none();const o=t.container(),s=t.offset();return P5(o)?P.from(o.childNodes[s+e]):P.none()},pi=(e,t)=>{var o;const a=((o=t.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)),a},oR=(e,t,o)=>Ls(t,e)===Ls(o,e),L5=(e,t,o)=>{const s=e?"previousSibling":"nextSibling";let a=o;for(;a&&a!==t;){let c=a[s];if(c&&e4(c)&&(c=c[s]),py(c)||B5(c)){if(oR(t,c,a))return c;break}if(eR(c))break;a=a.parentNode}return null},Sx=bt(pi,!0),xa=bt(pi,!1),by=(e,t,o)=>{let s;const a=bt(L5,!0,t),c=bt(L5,!1,t),d=o.startContainer,g=o.startOffset;if(Pm(d)){const b=QN(d)?d.parentNode:d,_=b.getAttribute("data-mce-caret");if(_==="before"&&(s=b.nextSibling,m0(s)))return Sx(s);if(_==="after"&&(s=b.previousSibling,m0(s)))return xa(s)}if(!o.collapsed)return o;if(je(d)){if(e4(d)){if(e===1){if(s=c(d),s)return Sx(s);if(s=a(d),s)return xa(s)}if(e===-1){if(s=a(d),s)return xa(s);if(s=c(d),s)return Sx(s)}return o}if(eg(d)&&g>=d.data.length-1)return e===1&&(s=c(d),s)?Sx(s):o;if(Qf(d)&&g<=1)return e===-1&&(s=a(d),s)?xa(s):o;if(g===d.data.length)return s=c(d),s?Sx(s):o;if(g===0)return s=a(d),s?xa(s):o}return o},n4=(e,t)=>o4(e?0:-1,t).filter(py),p0=(e,t,o)=>{const s=by(e,t,o);return e===-1?Ae.fromRangeStart(s):Ae.fromRangeEnd(s)},Ex=e=>P.from(e.getNode()).map(Z.fromDom),I5=e=>P.from(e.getNode(!0)).map(Z.fromDom),xy=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},vy=(e,t)=>{const o=yu(e,t);return!o&&Zn(e.getNode())?!0:o},nR=xn,_u=je,F5=ft,Ro=Zn,wu=kt,Cu=tn,ku=ys,yy=(e,t)=>{const o=[];let s=e;for(;s&&s!==t;)o.push(s),s=s.parentNode;return o},_y=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,wy=(e,t)=>{if(f0(e)){if(wu(t.previousSibling)&&!_u(t.previousSibling))return Ae.before(t);if(_u(t))return Ae(t,0)}if(ch(e)){if(wu(t.nextSibling)&&!_u(t.nextSibling))return Ae.after(t);if(_u(t))return Ae(t,t.data.length)}return ch(e)?Ro(t)?Ae.before(t):Ae.after(t):Ae.before(t)},z5=(e,t)=>{const o=t.nextSibling;return o&&wu(o)?_u(o)?Ae(o,0):Ae.before(o):s4(1,Ae.after(t),e)},s4=(e,t,o)=>{let s,a,c,d;if(!F5(o)||!t)return null;if(t.isEqual(Ae.after(o))&&o.lastChild){if(d=Ae.after(o.lastChild),ch(e)&&wu(o.lastChild)&&F5(o.lastChild))return Ro(o.lastChild)?Ae.before(o.lastChild):d}else d=t;const g=d.container();let b=d.offset();if(_u(g)){if(ch(e)&&b>0)return Ae(g,--b);if(f0(e)&&b<g.length)return Ae(g,++b);s=g}else{if(ch(e)&&b>0&&(a=_y(g,b-1),wu(a)))return!Cu(a)&&(c=g0(a,e,ku,a),c)?_u(c)?Ae(c,c.data.length):Ae.after(c):_u(a)?Ae(a,a.data.length):Ae.before(a);if(f0(e)&&b<g.childNodes.length&&(a=_y(g,b),wu(a)))return Ro(a)?z5(o,a):!Cu(a)&&(c=g0(a,e,ku,a),c)?_u(c)?Ae(c,0):Ae.before(c):_u(a)?Ae(a,0):Ae.after(a);s=a||d.getNode()}if(s&&(f0(e)&&d.isAtEnd()||ch(e)&&d.isAtStart())&&(s=g0(s,e,qo,o,!0),ku(s,o)))return wy(e,s);a=s&&g0(s,e,ku,o);const _=Hr(Pt(yy(g,o),nR));return _&&(!a||!_.contains(a))?(f0(e)?d=Ae.after(_):d=Ae.before(_),d):a?wy(e,a):null},Ed=e=>({next:t=>s4(1,t,e),prev:t=>s4(-1,t,e)}),H5=(e,t,o)=>{const s=e?Ae.before(o):Ae.after(o);return Wl(e,t,s)},$5=e=>Zn(e)?Ae.before(e):Ae.after(e),r4=e=>Ae.isTextPosition(e)?e.offset()===0:kt(e.getNode()),V5=e=>{if(Ae.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return kt(e.getNode(!0))},U5=(e,t)=>!Ae.isTextPosition(e)&&!Ae.isTextPosition(t)&&e.getNode()===t.getNode(!0),sR=e=>!Ae.isTextPosition(e)&&Zn(e.getNode()),hi=(e,t,o)=>e?!U5(t,o)&&!sR(t)&&V5(t)&&r4(o):!U5(o,t)&&r4(t)&&V5(o),Wl=(e,t,o)=>{const s=Ed(t);return P.from(e?s.next(o):s.prev(o))},dh=(e,t,o)=>Wl(e,t,o).bind(s=>yu(o,s,t)&&hi(e,o,s)?Wl(e,t,s):P.some(s)),Z5=(e,t,o,s)=>dh(e,t,o).bind(a=>s(a)?Z5(e,t,a,s):P.some(a)),h0=(e,t)=>{const o=e?t.firstChild:t.lastChild;return je(o)?P.some(Ae(o,e?0:o.data.length)):o?kt(o)?P.some(e?Ae.before(o):$5(o)):H5(e,t,o):P.none()},Ia=bt(Wl,!0),$i=bt(Wl,!1),Fa=bt(h0,!0),Lo=bt(h0,!1),uh="_mce_caret",bl=e=>ft(e)&&e.id===uh,ig=(e,t)=>{let o=t;for(;o&&o!==e;){if(bl(o))return o;o=o.parentNode}return null},rR=e=>Je(e.start),aR=e=>Xt(e,"rng"),W5=e=>Xt(e,"id"),j5=e=>Xt(e,"name"),bo=e=>$e.isArray(e.start),b0=e=>!j5(e)&&ns(e.forward)?e.forward:!0,a4=(e,t)=>(ft(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),Tx=(e,t)=>{const o=P.from(RE(e.getRoot(),t.start)),s=P.from(RE(e.getRoot(),t.end));return Qn(o,s,(a,c)=>{const d=e.createRng();return d.setStart(a.container(),a.offset()),d.setEnd(c.container(),c.offset()),{range:d,forward:b0(t)}})},Ax=(e,t)=>{var o;const a=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ks);e.appendChild(a),t.setStart(a,0),t.setEnd(a,0)},Ox=e=>!e.hasChildNodes(),Dx=(e,t)=>Lo(e).fold(un,o=>(t.setStart(o.container(),o.offset()),t.setEnd(o.container(),o.offset()),!0)),i4=(e,t,o)=>Ox(t)&&ig(e,t)?(Ax(t,o),!0):!1,q5=(e,t,o,s)=>{const a=o[t?"start":"end"],c=e.getRoot();if(a){let d=c,g=a[0];for(let b=a.length-1;d&&b>=1;b--){const _=d.childNodes;if(i4(c,d,s))return!0;if(a[b]>_.length-1)return i4(c,d,s)?!0:Dx(d,s);d=_[a[b]]}je(d)&&(g=Math.min(a[0],d.data.length)),ft(d)&&(g=Math.min(a[0],d.childNodes.length)),t?s.setStart(d,g):s.setEnd(d,g)}return!0},l4=e=>je(e)&&e.data.length>0,G5=(e,t,o)=>{const s=e.get(o.id+"_"+t),a=s?.parentNode,c=o.keep;if(s&&a){let d,g;if(t==="start"?c?s.hasChildNodes()?(d=s.firstChild,g=1):l4(s.nextSibling)?(d=s.nextSibling,g=0):l4(s.previousSibling)?(d=s.previousSibling,g=s.previousSibling.data.length):(d=a,g=e.nodeIndex(s)+1):(d=a,g=e.nodeIndex(s)):c?s.hasChildNodes()?(d=s.firstChild,g=1):l4(s.previousSibling)?(d=s.previousSibling,g=s.previousSibling.data.length):(d=a,g=e.nodeIndex(s)):(d=a,g=e.nodeIndex(s)),!c){const b=s.previousSibling,_=s.nextSibling;$e.each($e.grep(s.childNodes),N=>{je(N)&&(N.data=N.data.replace(/\uFEFF/g,""))});let T;for(;T=e.get(o.id+"_"+t);)e.remove(T,!0);if(je(_)&&je(b)&&!Vo.browser.isOpera()){const N=b.data.length;b.appendData(_.data),e.remove(_),d=b,g=N}}return P.some(Ae(d,g))}else return P.none()},iR=(e,t)=>{const o=e.createRng();return q5(e,!0,t,o)&&q5(e,!1,t,o)?P.some({range:o,forward:b0(t)}):P.none()},Dn=(e,t)=>{const o=G5(e,"start",t),s=G5(e,"end",t);return Qn(o,s.or(o),(a,c)=>{const d=e.createRng();return d.setStart(a4(e,a.container()),a.offset()),d.setEnd(a4(e,c.container()),c.offset()),{range:d,forward:b0(t)}})},Nx=(e,t)=>P.from(e.select(t.name)[t.index]).map(o=>{const s=e.createRng();return s.selectNode(o),{range:s,forward:!0}}),$m=(e,t)=>{const o=e.dom;if(t){if(bo(t))return iR(o,t);if(rR(t))return Tx(o,t);if(W5(t))return Dn(o,t);if(j5(t))return Nx(o,t);if(aR(t))return P.some({range:t.rng,forward:b0(t)})}return P.none()},Zo=(e,t,o)=>oN(e,t,o),br=(e,t)=>{$m(e,t).each(({range:o,forward:s})=>{e.setRng(o,s)})},Rr=e=>ft(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Rx=(e=>t=>e===t)(Fs),Td=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Cy=e=>!Td(e)&&!Rx(e)&&!ka(e),ky=e=>{const t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},K5=e=>_r(e,t=>{const o=J(t);return o?[Z.fromDom(o)]:[]}),lR=e=>ky(e).length>1,c4=e=>Pt(K5(e),vs),Y5=e=>In(e,"td[data-mce-selected],th[data-mce-selected]"),Sy=(e,t)=>{const o=Y5(t);return o.length>0?o:c4(e)},Xs=e=>Sy(ky(e.selection.getSel()),Z.fromDom(e.getBody())),Mx=(e,t)=>na(e,"table",t),cR=e=>{const t=e.startContainer,o=e.startOffset;return je(t)?o===0?P.some(Z.fromDom(t)):P.none():P.from(t.childNodes[o]).map(Z.fromDom)},dR=e=>{const t=e.endContainer,o=e.endOffset;return je(t)?o===t.data.length?P.some(Z.fromDom(t)):P.none():P.from(t.childNodes[o-1]).map(Z.fromDom)},d4=e=>xs(e).fold(Ge([e]),t=>[e].concat(d4(t))),mh=e=>Di(e).fold(Ge([e]),t=>Gt(t)==="br"?ri(t).map(o=>[e].concat(mh(o))).getOr([]):[e].concat(mh(t))),Ey=(e,t)=>Qn(cR(t),dR(t),(o,s)=>{const a=Ko(d4(e),bt(Lt,o)),c=Ko(mh(e),bt(Lt,s));return a.isSome()&&c.isSome()}).getOr(!1),Vm=(e,t,o,s)=>{const a=o,c=new zn(o,a),d=Fr(e.schema.getMoveCaretBeforeOnEnterElements(),(b,_)=>!wo(["td","th","table"],_.toLowerCase()));let g=o;do{if(je(g)&&$e.trim(g.data).length!==0){s?t.setStart(g,0):t.setEnd(g,g.data.length);return}if(d[g.nodeName]){s?t.setStartBefore(g):g.nodeName==="BR"?t.setEndBefore(g):t.setEndAfter(g);return}}while(g=s?c.next():c.prev());a.nodeName==="BODY"&&(s?t.setStart(a,0):t.setEnd(a,a.childNodes.length))},Bx=e=>{const t=e.selection.getSel();return Ee(t)&&t.rangeCount>0},Ty=(e,t)=>{const o=Xs(e);o.length>0?Te(o,s=>{const a=s.dom,c=e.dom.createRng();c.setStartBefore(a),c.setEndAfter(a),t(c,!0)}):t(e.selection.getRng(),!1)},u4=(e,t,o)=>{const s=PE(e,t);o(s),e.moveToBookmark(s)},Ay=(e,t)=>e.startContainer===e.endContainer&&e.endOffset-e.startOffset===1&&t(e.startContainer.childNodes[e.startOffset]),X5=e=>Ay(e,Ka),J5=e=>Ay(e,je),uR=e=>Ay(e,zb),Px=e=>E(e?.nodeType),m4=e=>ft(e)&&!Rr(e)&&!bl(e)&&!du(e),mR=(e,t)=>{if(m4(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected"),s=parseInt(o,10);return!isNaN(s)&&s>0}else return!1},Q5=(e,t,o)=>{const{selection:s,dom:a}=e,c=s.getNode(),d=xn(c);u4(s,!0,()=>{t()}),d&&xn(c)&&a.isChildOf(c,e.getBody())?e.selection.select(c):o(s.getStart())&&f4(a,s)},f4=(e,t)=>{var o,s;const a=t.getRng(),{startContainer:c,startOffset:d}=a,g=t.getNode();if(!mR(e,g)&&ft(c)){const b=c.childNodes,_=e.getRoot();let T;if(d<b.length){const N=b[d];T=new zn(N,(o=e.getParent(N,e.isBlock))!==null&&o!==void 0?o:_)}else{const N=b[b.length-1];T=new zn(N,(s=e.getParent(N,e.isBlock))!==null&&s!==void 0?s:_),T.next(!0)}for(let N=T.current();N;N=T.next()){if(e.getContentEditable(N)==="false")return;if(je(N)&&!p4(N)){a.setStart(N,0),t.setRng(a);return}}}},Oy=(e,t,o)=>{if(e){const s=t?"nextSibling":"previousSibling";for(e=e[s];e;e=e[s])if(ft(e)||!p4(e))return e}},g4=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||_c(e,t),x0=(e,t,o)=>e.schema.isValidChild(t,o),p4=(e,t=!1)=>{if(Ee(e)&&je(e)){const o=t?e.data.replace(/ /g," "):e.data;return gm(o)}else return!1},fR=e=>Ee(e)&&je(e)&&e.length===0,eT=(e,t)=>{const o="[data-mce-cef-wrappable]",s=LC(e),a=Ei(s)?o:`${o},${s}`;return Jr(Z.fromDom(t),a)},Su=(e,t)=>{const o=e.dom;return m4(t)&&o.getContentEditable(t)==="false"&&eT(e,t)&&o.select('[contenteditable="true"]',t).length===0},Um=(e,t)=>Ut(e)?e(t):(Ee(t)&&(e=e.replace(/%(\w+)/g,(o,s)=>t[s]||o)),e),Dy=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),h4=(e,t)=>{if(zo(e))return null;{let o=String(e);return(t==="color"||t==="backgroundColor")&&(o=Cc(o)),t==="fontWeight"&&e===700&&(o="bold"),t==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},Ny=(e,t,o)=>{const s=e.getStyle(t,o);return h4(s,o)},b4=(e,t)=>{let o;return e.getParent(t,s=>ft(s)?(o=e.getStyle(s,"text-decoration"),!!o&&o!=="none"):!1),o},Lx=(e,t,o)=>e.getParents(t,o,e.getRoot()),x4=(e,t,o)=>{const s=e.formatter.get(t);return Ee(s)&&Sn(s,o)},fh=(e,t)=>x4(e,t,s=>{const a=c=>Ut(c)||c.length>1&&c.charAt(0)==="%";return Sn(["styles","attributes"],c=>Jo(s,c).exists(d=>{const g=ie(d)?d:rs(d);return Sn(g,a)}))}),tT=(e,t,o)=>{const s=["inline","block","selector","attributes","styles","classes"],a=c=>Fr(c,(d,g)=>Sn(s,b=>b===g));return x4(e,t,c=>{const d=a(c);return x4(e,o,g=>{const b=a(g);return s2(d,b)})})},Eu=e=>ge(e,"block"),gR=e=>Eu(e)&&e.wrapper===!0,v4=e=>Eu(e)&&e.wrapper!==!0,jl=e=>ge(e,"selector"),cr=e=>ge(e,"inline"),oT=e=>jl(e)&&cr(e)&&gr(Jo(e,"mixed"),!0),v0=e=>jl(e)&&e.expand!==!1&&!cr(e),pR=e=>{const t=[];let o=e;for(;o;){if(je(o)&&o.data!==Ks||o.childNodes.length>1)return[];ft(o)&&t.push(o),o=o.firstChild}return t},y4=e=>pR(e).length>0,Ry=e=>bl(e.dom)&&y4(e.dom),gh=Rr,_4=Lx,w4=p4,hR=g4,bR=e=>Zn(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,bi=(e,t)=>{let o=t;for(;o;){if(ft(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:t;o=o.parentNode}return t},C4=(e,t,o,s)=>{const a=t.data;if(e){for(let c=o;c>0;c--)if(s(a.charAt(c-1)))return c}else for(let c=o;c<a.length;c++)if(s(a.charAt(c)))return c;return-1},xR=(e,t,o)=>C4(e,t,o,s=>Rx(s)||Td(s)),nT=(e,t,o)=>C4(e,t,o,Cy),sT=(e,t,o,s,a,c)=>{let d;const g=e.getParent(o,N=>xc(N)||e.isBlock(N)),b=Ee(g)?g:t,_=(N,R,I)=>{const Y=fi(e),G=a?Y.backwards:Y.forwards;return P.from(G(N,R,(W,ce)=>gh(W.parentNode)?-1:(d=W,I(a,W,ce)),b))};return _(o,s,xR).bind(N=>c?_(N.container,N.offset+(a?-1:0),nT):P.some(N)).orThunk(()=>d?P.some({container:d,offset:a?0:d.length}):P.none())},ph=(e,t,o,s,a)=>{const c=s[a];je(s)&&Ei(s.data)&&c&&(s=c);const d=_4(e,s);for(let g=0;g<d.length;g++)for(let b=0;b<t.length;b++){const _=t[b];if(!(Ee(_.collapsed)&&_.collapsed!==o.collapsed)&&jl(_)&&e.is(d[g],_.selector))return d[g]}return s},hh=(e,t,o,s)=>{var a;let c=o;const d=e.getRoot(),g=t[0];if(Eu(g)&&(c=g.wrapper?null:e.getParent(o,g.block,d)),!c){const b=(a=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&a!==void 0?a:d;c=e.getParent(je(o)?o.parentNode:o,_=>_!==d&&hR(e.schema,_),b)}if(c&&Eu(g)&&g.wrapper&&(c=_4(e,c,"ul,ol").reverse()[0]||c),!c)for(c=o;c&&c[s]&&!e.isBlock(c[s])&&(c=c[s],!Dy(c,"br")););return c||o},rT=(e,t,o,s)=>{const a=o.parentNode;return Ee(o[s])?!1:a===t||zo(a)||e.isBlock(a)?!0:rT(e,t,a,s)},xl=(e,t,o,s,a,c)=>{let d=o;const g=a?"previousSibling":"nextSibling",b=e.getRoot();if(je(o)&&!w4(o)&&(a?s>0:s<o.data.length))return o;for(;d;){if(xc(d))return o;if(!t[0].block_expand&&e.isBlock(d))return c?d:o;for(let _=d[g];_;_=_[g]){const T=je(_)&&!rT(e,b,_,g);if(!gh(_)&&!bR(_)&&!w4(_,T))return d}if(d===b||d.parentNode===b){o=d;break}d=d.parentNode}return o},aT=e=>gh(e.parentNode)||gh(e),bh=(e,t,o,s={})=>{const{includeTrailingSpace:a=!1,expandToBlock:c=!0}=s,d=e.getParent(t.commonAncestorContainer,I=>xc(I)),g=Ee(d)?d:e.getRoot();let{startContainer:b,startOffset:_,endContainer:T,endOffset:N}=t;const R=o[0];return ft(b)&&b.hasChildNodes()&&(b=se(b,_),je(b)&&(_=0)),ft(T)&&T.hasChildNodes()&&(T=se(T,t.collapsed?N:N-1),je(T)&&(N=T.data.length)),b=bi(e,b),T=bi(e,T),aT(b)&&(b=gh(b)?b:b.parentNode,t.collapsed?b=b.previousSibling||b:b=b.nextSibling||b,je(b)&&(_=t.collapsed?b.length:0)),aT(T)&&(T=gh(T)?T:T.parentNode,t.collapsed?T=T.nextSibling||T:T=T.previousSibling||T,je(T)&&(N=t.collapsed?0:T.length)),t.collapsed&&(sT(e,g,b,_,!0,a).each(({container:G,offset:W})=>{b=G,_=W}),sT(e,g,T,N,!1,a).each(({container:G,offset:W})=>{T=G,N=W})),(cr(R)||R.block_expand)&&((!cr(R)||!je(b)||_===0)&&(b=xl(e,o,b,_,!0,c)),(!cr(R)||!je(T)||N===T.data.length)&&(T=xl(e,o,T,N,!1,c))),v0(R)&&(b=ph(e,o,t,b,"previousSibling"),T=ph(e,o,t,T,"nextSibling")),(Eu(R)||jl(R))&&(b=hh(e,o,b,"previousSibling"),T=hh(e,o,T,"nextSibling"),Eu(R)&&(e.isBlock(b)||(b=xl(e,o,b,_,!0,c),je(b)&&(_=0)),e.isBlock(T)||(T=xl(e,o,T,N,!1,c),je(T)&&(N=T.data.length)))),ft(b)&&b.parentNode&&(_=e.nodeIndex(b),b=b.parentNode),ft(T)&&T.parentNode&&(N=e.nodeIndex(T)+1,T=T.parentNode),{startContainer:b,startOffset:_,endContainer:T,endOffset:N}},lg=(e,t,o)=>{var s;const a=t.startOffset,c=se(t.startContainer,a),d=t.endOffset,g=se(t.endContainer,d-1),b=W=>{const ce=W[0];je(ce)&&ce===c&&a>=ce.data.length&&W.splice(0,1);const le=W[W.length-1];return d===0&&W.length>0&&le===g&&je(le)&&W.splice(W.length-1,1),W},_=(W,ce,le)=>{const fe=[];for(;W&&W!==le;W=W[ce])fe.push(W);return fe},T=(W,ce)=>e.getParent(W,le=>le.parentNode===ce,ce),N=(W,ce,le)=>{const fe=le?"nextSibling":"previousSibling";for(let ve=W,Pe=ve.parentNode;ve&&ve!==ce;ve=Pe){Pe=ve.parentNode;const tt=_(ve===W?ve:ve[fe],fe);tt.length&&(le||tt.reverse(),o(b(tt)))}};if(c===g)return o(b([c]));const R=(s=e.findCommonAncestor(c,g))!==null&&s!==void 0?s:e.getRoot();if(e.isChildOf(c,g))return N(c,R,!0);if(e.isChildOf(g,c))return N(g,R);const I=T(c,R)||c,Y=T(g,R)||g;N(c,I,!0);const G=_(I===c?I:I.nextSibling,"nextSibling",Y===g?Y.nextSibling:Y);G.length&&o(b(G)),N(g,Y)},k4=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],S4=e=>Ur(e)&&js(e)===Ks,iT=(e,t,o,s)=>rm(t).fold(()=>"skipping",a=>s==="br"||S4(t)?"valid":So(t)?"existing":bl(t.dom)?"caret":Sn(k4,c=>Jr(t,c))?"valid-block":!x0(e,o,s)||!x0(e,Gt(a),o)?"invalid-child":"valid"),cg=(e,t)=>{const o=bh(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)},lT=(e,t,o,s,a,c)=>{const{uid:d=t,...g}=o;sa(e,Tc()),Zs(e,`${Am()}`,d),Zs(e,`${Ac()}`,s);const{attributes:b={},classes:_=[]}=a(d,g);if(Ta(e,b),wn(e,_),c){_.length>0&&Zs(e,`${Dm()}`,_.join(","));const T=Ca(b);T.length>0&&Zs(e,`${Vl()}`,T.join(","))}},vR=e=>{bn(e,Tc()),ks(e,`${Am()}`),ks(e,`${Ac()}`),ks(e,`${Om()}`);const t=or(e,`${Vl()}`).map(s=>s.split(",")).getOr([]),o=or(e,`${Dm()}`).map(s=>s.split(",")).getOr([]);Te(t,s=>ks(e,s)),rd(e,o),ks(e,`${Dm()}`),ks(e,`${Vl()}`)},uo=(e,t,o,s,a)=>{const c=Z.fromTag("span",e);return lT(c,t,o,s,a,!1),c},yR=(e,t,o,s,a,c)=>{const d=[],g=uo(e.getDoc(),o,c,s,a),b=ac(),_=()=>{b.clear()},T=()=>b.get().getOrThunk(()=>{const Y=qa(g);return d.push(Y),b.set(Y),Y}),N=Y=>{Te(Y,R)},R=Y=>{switch(iT(e,Y,"span",Gt(Y))){case"invalid-child":{_();const W=bs(Y);N(W),_();break}case"valid-block":{_(),lT(Y,o,c,s,a,!0);break}case"valid":{const W=T();Ns(Y,W);break}}},I=Y=>{const G=go(Y,Z.fromDom);N(G)};return lg(e.dom,t,Y=>{_(),I(Y)}),d},cT=(e,t,o,s)=>{e.undoManager.transact(()=>{const a=e.selection,c=a.getRng(),d=Xs(e).length>0,g=Qs("mce-annotation");if(c.collapsed&&!d&&cg(e,c),a.getRng().collapsed&&!d){const b=uo(e.getDoc(),g,s,t,o.decorate);tu(b,Fs),a.getRng().insertNode(b.dom),a.select(b.dom)}else u4(a,!1,()=>{Ty(e,b=>{yR(e,b,g,t,o.decorate,s)})})})},dT=e=>{const t=dx();cx(e,t);const o=gl(e,t),s=mc("span"),a=c=>{Te(c,d=>{s(d)?ii(d):vR(d)})};return{register:(c,d)=>{t.register(c,d)},annotate:(c,d)=>{t.lookup(c).each(g=>{cT(e,c,g,d)})},annotationChanged:(c,d)=>{o.addListener(c,d)},remove:c=>{Yp(e,P.some(c)).each(({elements:d})=>{const g=e.selection.getBookmark();a(d),e.selection.moveToBookmark(g)})},removeAll:c=>{const d=e.selection.getBookmark();Mo(n0(e,c),(g,b)=>{a(g)}),e.selection.moveToBookmark(d)},getAll:c=>{const d=n0(e,c);return si(d,g=>go(g,b=>b.dom))}}},jn=e=>({getBookmark:bt(Zo,e),moveToBookmark:bt(br,e)});jn.isBookmarkNode=Rr;const uT=(e,t,o)=>o.collapsed?!1:Sn(o.getClientRects(),s=>D(s,e,t)),qn=(e,t)=>{const o=Ur(t)?js(t).length:bs(t).length+1;return e>o?o:e<0?0:e},mT=e=>ld.range(e.start,qn(e.soffset,e.start),e.finish,qn(e.foffset,e.finish)),E4=(e,t)=>!Lf(t.dom)&&(Qr(e,t)||Lt(e,t)),fT=e=>t=>E4(e,t.start)&&E4(e,t.finish),gT=e=>e.inline||Vo.browser.isFirefox(),Zm=e=>ld.range(Z.fromDom(e.startContainer),e.startOffset,Z.fromDom(e.endContainer),e.endOffset),T4=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?P.none():P.from(t.getRangeAt(0))).map(Zm)},_R=e=>{const t=Qo(e);return T4(t.dom).filter(fT(e))},A4=(e,t)=>P.from(t).filter(fT(e)).map(mT),wR=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),P.some(t)}catch{return P.none()}},Ss=e=>{const t=gT(e)?_R(Z.fromDom(e.getBody())):P.none();e.bookmark=t.isSome()?t:e.bookmark},O4=e=>(e.bookmark?e.bookmark:P.none()).bind(o=>A4(Z.fromDom(e.getBody()),o)).bind(wR),dg=e=>{O4(e).each(t=>e.selection.setRng(t))},pT={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},CR=(e,t)=>(E(t)||(t=0),window.setTimeout(e,t)),kR=(e,t)=>(E(t)||(t=0),window.setInterval(e,t)),ql={setEditorTimeout:(e,t,o)=>CR(()=>{e.removed||t()},o),setEditorInterval:(e,t,o)=>{const s=kR(()=>{e.removed?window.clearInterval(s):t()},o);return s}},hT=(e,t)=>e.view(t).fold(Ge([]),s=>{const a=e.owner(s),c=hT(e,a);return[s].concat(c)}),SR=(e,t)=>{const o=t.owner(e);return hT(t,o)};var My=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?P.none():P.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(Z.fromDom)},owner:e=>fc(e)});const bT=e=>{const t=w1(),o=Aa(t),s=SR(e,My),a=An(e),c=wa(s,(d,g)=>{const b=An(g);return{left:d.left+b.left,top:d.top+b.top}},{left:0,top:0});return td(c.left+a.left+o.left,c.top+a.top+o.top)},ER=e=>e.type==="nodechange"&&e.selectionChange,Ix=(e,t)=>{const o=()=>{t.throttle()};ko.DOM.bind(document,"mouseup",o),e.on("remove",()=>{ko.DOM.unbind(document,"mouseup",o)})},D4=(e,t)=>{e.on("mouseup touchend",o=>{t.throttle()})},xh=(e,t)=>{D4(e,t),e.on("keyup NodeChange AfterSetSelectionRange",o=>{ER(o)||Ss(e)})},vh=e=>{const t=op(()=>{Ss(e)},0);e.on("init",()=>{e.inline&&Ix(e,t),xh(e,t)}),e.on("remove",()=>{t.cancel()})};let Wm;const y0=ko.DOM,yh=e=>ft(e)&&pT.isEditorUIElement(e),jm=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},_h=(e,t)=>{const o=a5(e);return y0.getParent(t,a=>yh(a)||(o?e.dom.is(a,o):!1))!==null},_0=e=>{try{const t=Wa(Z.fromDom(e.getElement()));return Ea(t).fold(()=>document.body,o=>o.dom)}catch{return document.body}},xT=(e,t)=>{const o=t.editor;vh(o);const s=(c,d)=>{if(lt(c)&&c.inline!==!0){const g=Z.fromDom(c.getContainer());d(g,"tox-edit-focus")}},a=c=>{if(!c.iframeElement)return;const g=Z.fromDom(c.iframeElement),b=bT(g),_=di(window);(b.top<_.y||b.top>_.bottom-25)&&g.dom.scrollIntoView({block:"center"})};o.on("focusin",()=>{const c=e.focusedEditor;if(jm(_0(o))&&s(o,sa),c!==o){c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0);const d=_n().browser;o.inline!==!0&&(d.isSafari()||d.isChromium())&&a(o)}}),o.on("focusout",()=>{ql.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!jm(_0(o))||c!==o)&&s(o,bn),!_h(o,_0(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Wm||(Wm=c=>{const d=e.activeEditor;d&&p1(c).each(g=>{const b=g;b.ownerDocument===document&&b!==document.body&&!_h(d,b)&&e.focusedEditor===d&&(d.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},y0.bind(document,"focusin",Wm))},N4=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Wm&&(y0.unbind(document,"focusin",Wm),Wm=null)},R4=e=>{e.on("AddEditor",bt(xT,e)),e.on("RemoveEditor",bt(N4,e))},vT=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="true"),yT=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="false")!==null,w0=e=>e.collapsed?P.from(se(e.startContainer,e.startOffset)).map(Z.fromDom):P.none(),_T=(e,t)=>w0(t).bind(o=>eh(o)?P.some(o):Qr(e,o)?P.none():P.some(e)),M4=(e,t)=>{_T(Z.fromDom(e.getBody()),t).bind(o=>Fa(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},Fx=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},By=e=>xp(e)||vp(e).isSome(),wT=e=>Ee(e.iframeElement)&&xp(Z.fromDom(e.iframeElement)),CT=e=>{const t=e.getBody();return t&&By(Z.fromDom(t))},kT=e=>{const t=Wa(Z.fromDom(e.getElement()));return Ea(t).filter(o=>!jm(o.dom)&&_h(e,o.dom)).isSome()},wh=e=>e.inline?CT(e):wT(e),Ad=e=>wh(e)||kT(e),ug=e=>{const t=e.selection,o=e.getBody();let s=t.getRng();e.quirks.refreshContentEditable();const a=d=>{O4(d).each(g=>{d.selection.setRng(g),s=g})};!wh(e)&&e.hasEditableRoot()&&a(e);const c=vT(e,t.getNode());if(c&&e.dom.isChildOf(c,o)){yT(e,c)||Fx(o),Fx(c),e.hasEditableRoot()||a(e),M4(e,s),vl(e);return}e.inline||(Vo.browser.isOpera()||Fx(o),e.getWin().focus()),(Vo.browser.isFirefox()||e.inline)&&(Fx(o),M4(e,s)),vl(e)},vl=e=>e.editorManager.setActive(e),B4=(e,t)=>{e.removed||(t?vl(e):ug(e))},it={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||it.metaKeyPressed(e),metaKeyPressed:e=>Vo.os.isMacOS()||Vo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},mg="data-mce-selected",ST="table,img,figure.image,hr,video,span.mce-preview-object,details",P4=Math.abs,C0=Math.round,Py={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},ET=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Ly=(e,t)=>{const o=t.dom,s=t.getDoc(),a=document,c=t.getBody();let d,g,b,_,T,N,R,I,Y,G,W,ce,le,fe,ve;const Pe=xt=>Ee(xt)&&(P1(xt)||o.is(xt,"figure.image")),tt=xt=>Xn(xt)||o.hasClass(xt,"mce-preview-object"),We=(xt,Ye)=>{if(ET(xt)){const ct=xt.touches[0];return Pe(xt.target)&&!uT(ct.clientX,ct.clientY,Ye)}else return Pe(xt.target)&&!uT(xt.clientX,xt.clientY,Ye)},De=xt=>{const Ye=xt.target;We(xt,t.selection.getRng())&&!xt.isDefaultPrevented()&&t.selection.select(Ye)},Se=xt=>o.hasClass(xt,"mce-preview-object")&&Ee(xt.firstElementChild)?[xt,xt.firstElementChild]:o.is(xt,"figure.image")?[xt.querySelector("img")]:[xt],Ie=xt=>{const Ye=Nr(t);return!Ye||t.mode.isReadOnly()||xt.getAttribute("data-mce-resize")==="false"||xt===t.getBody()?!1:o.hasClass(xt,"mce-preview-object")&&Ee(xt.firstElementChild)?Jr(Z.fromDom(xt.firstElementChild),Ye):Jr(Z.fromDom(xt),Ye)},gt=(xt,Ye)=>{if(tt(Ye))return xt.create("img",{src:Vo.transparentSrc});if(Ra(Ye)){const jt=lo(_.name,"n")?$n:Is,qt=Ye.cloneNode(!0);return jt(xt.select("tr",qt)).each(jo=>{const Gn=xt.select("td,th",jo);xt.setStyle(jo,"height",null),Te(Gn,nc=>xt.setStyle(nc,"height",null))}),qt}else return Ye.cloneNode(!0)},Mt=(xt,Ye,ct)=>{if(Ee(ct)){const jt=Se(xt);Te(jt,qt=>{qt.style[Ye]||!t.schema.isValid(qt.nodeName.toLowerCase(),Ye)?o.setStyle(qt,Ye,ct):o.setAttrib(qt,Ye,""+ct)})}},oo=(xt,Ye,ct)=>{Mt(xt,"width",Ye),Mt(xt,"height",ct)},xo=xt=>{let Ye,ct,jt,qt,jo;Ye=xt.screenX-N,ct=xt.screenY-R,ce=Ye*_[2]+I,le=ct*_[3]+Y,ce=ce<5?5:ce,le=le<5?5:le,(Pe(d)||tt(d))&&BC(t)!==!1?jt=!it.modifierPressed(xt):jt=it.modifierPressed(xt),jt&&(P4(Ye)>P4(ct)?(le=C0(ce*G),ce=C0(le/G)):(ce=C0(le/G),le=C0(ce*G))),oo(g,ce,le),qt=_.startPos.x+Ye,jo=_.startPos.y+ct,qt=qt>0?qt:0,jo=jo>0?jo:0,o.setStyles(b,{left:qt,top:jo,display:"block"}),b.innerHTML=ce+" &times; "+le,Ye=c.scrollWidth-fe,ct=c.scrollHeight-ve,Ye+ct!==0&&o.setStyles(b,{left:qt-Ye,top:jo-ct}),W||(Cd(t,d,I,Y,"corner-"+_.name),W=!0)},hn=()=>{const xt=W;W=!1,xt&&(Mt(d,"width",ce),Mt(d,"height",le)),o.unbind(s,"mousemove",xo),o.unbind(s,"mouseup",hn),a!==s&&(o.unbind(a,"mousemove",xo),o.unbind(a,"mouseup",hn)),o.remove(g),o.remove(b),o.remove(T),Mn(d),xt&&(lN(t,d,ce,le,"corner-"+_.name),o.setAttrib(d,"style",o.getAttrib(d,"style"))),t.nodeChanged()},Mn=xt=>{Et();const Ye=o.getPos(xt,c),ct=Ye.x,jt=Ye.y,qt=xt.getBoundingClientRect(),jo=qt.width||qt.right-qt.left,Gn=qt.height||qt.bottom-qt.top;d!==xt&&(mr(),d=xt,ce=le=0);const nc=t.dispatch("ObjectSelected",{target:xt});Ie(xt)&&!nc.isDefaultPrevented()?Mo(Py,(Xi,Zd)=>{const $c=Ji=>{const Wd=Se(d)[0];N=Ji.screenX,R=Ji.screenY,I=Wd.clientWidth,Y=Wd.clientHeight,G=Y/I,_=Xi,_.name=Zd,_.startPos={x:jo*Xi[0]+ct,y:Gn*Xi[1]+jt},fe=c.scrollWidth,ve=c.scrollHeight,T=o.add(c,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(T,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),g=gt(o,d),o.addClass(g,"mce-clonedresizable"),o.setAttrib(g,"data-mce-bogus","all"),g.contentEditable="false",o.setStyles(g,{left:ct,top:jt,margin:0}),oo(g,jo,Gn),g.removeAttribute(mg),c.appendChild(g),o.bind(s,"mousemove",xo),o.bind(s,"mouseup",hn),a!==s&&(o.bind(a,"mousemove",xo),o.bind(a,"mouseup",hn)),b=o.add(c,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},I+" &times; "+Y)};let Ci=o.get("mceResizeHandle"+Zd);Ci&&o.remove(Ci),Ci=o.add(c,"div",{id:"mceResizeHandle"+Zd,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Zd+"-resize; margin:0; padding:0"}),o.bind(Ci,"mousedown",Ji=>{Ji.stopImmediatePropagation(),Ji.preventDefault(),$c(Ji)}),Xi.elm=Ci,o.setStyles(Ci,{left:jo*Xi[0]+ct-Ci.offsetWidth/2,top:Gn*Xi[1]+jt-Ci.offsetHeight/2})}):mr(!1)},ur=op(Mn,0),mr=(xt=!0)=>{ur.cancel(),Et(),d&&xt&&d.removeAttribute(mg),Mo(Py,(Ye,ct)=>{const jt=o.get("mceResizeHandle"+ct);jt&&(o.unbind(jt),o.remove(jt))})},oc=(xt,Ye)=>o.isChildOf(xt,Ye),rt=xt=>{if(W||t.removed||t.composing)return;const Ye=xt.type==="mousedown"?xt.target:e.getNode(),ct=On(Z.fromDom(Ye),ST).map(qt=>qt.dom).filter(qt=>o.isEditable(qt.parentElement)||qt.nodeName==="IMG"&&o.isEditable(qt)).getOrUndefined(),jt=Ee(ct)?o.getAttrib(ct,mg,"1"):"1";if(Te(o.select(`img[${mg}],hr[${mg}]`),qt=>{qt.removeAttribute(mg)}),Ee(ct)&&oc(ct,c)&&Ad(t)){Wo();const qt=e.getStart(!0);if(oc(qt,ct)&&oc(e.getEnd(!0),ct)){o.setAttrib(ct,mg,jt),ur.throttle(ct);return}}mr()},Et=()=>{Mo(Py,xt=>{xt.elm&&(o.unbind(xt.elm),delete xt.elm)})},Wo=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{Wo(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",rt),t.on("keyup compositionend",xt=>{d&&d.nodeName==="TABLE"&&rt(xt)}),t.on("hide blur",mr),t.on("contextmenu longpress",De,!0)}),t.on("remove",Et),{isResizable:Ie,showResizeRect:Mn,hideResizeRect:mr,updateResizeRect:rt,destroy:()=>{ur.cancel(),d=g=T=null}}},Od=(e,t,o)=>{const s=Qo(Z.fromDom(o));return N1(s.dom,e,t).map(a=>{const c=o.createRange();return c.setStart(a.start.dom,a.soffset),c.setEnd(a.finish.dom,a.foffset),c}).getOrUndefined()},yl=(e,t)=>Ee(e)&&Ee(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,Iy=(e,t,o)=>{let s=e;for(;s&&s!==t;){if(o(s))return s;s=s.parentNode}return null},L4=(e,t,o)=>Iy(e,t,o)!==null,Fy=(e,t,o)=>L4(e,t,s=>s.nodeName===o),TT=(e,t)=>Hi(e)&&!L4(e,t,bl),I4=(e,t,o)=>{const s=t.parentNode;if(s){const a=new zn(t,e.getParent(s,e.isBlock)||e.getRoot());let c;for(;c=a[o?"prev":"next"]();)if(Zn(c))return!0}return!1},AT=(e,t)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===t},OT=(e,t)=>{let o=t;for(;o&&o!==e;){if(xn(o))return!0;o=o.parentNode}return!1},zy=(e,t,o,s,a)=>{const c=e.getRoot(),d=e.schema.getNonEmptyElements(),g=a.parentNode;let b,_;if(!g)return P.none();const T=e.getParent(g,e.isBlock)||c;if(s&&Zn(a)&&t&&e.isEmpty(T))return P.some(Ae(g,e.nodeIndex(a)));const N=new zn(a,T);for(;_=N[s?"prev":"next"]();){if(e.getContentEditableParent(_)==="false"||TT(_,c))return P.none();if(je(_)&&_.data.length>0)return Fy(_,c,"A")?P.none():P.some(Ae(_,s?_.data.length:0));if(e.isBlock(_)||d[_.nodeName.toLowerCase()])return P.none();b=_}return dl(b)?P.none():o&&b?P.some(Ae(b,0)):P.none()},F4=(e,t,o,s)=>{const a=e.getRoot();let c,d=!1,g=o?s.startContainer:s.endContainer,b=o?s.startOffset:s.endOffset;const _=ft(g)&&b===g.childNodes.length,T=e.schema.getNonEmptyElements();let N=o;if(Hi(g))return P.none();if(ft(g)&&b>g.childNodes.length-1&&(N=!1),uu(g)&&(g=a,b=0),g===a){if(N&&(c=g.childNodes[b>0?b-1:0],c&&(Hi(c)||T[c.nodeName]||Ra(c))))return P.none();if(g.hasChildNodes()){if(b=Math.min(!N&&b>0?b-1:b,g.childNodes.length-1),g=g.childNodes[b],b=je(g)&&_?g.data.length:0,!t&&g===a.lastChild&&Ra(g)||OT(a,g)||Hi(g)||Hb(g))return P.none();if(g.hasChildNodes()&&!Ra(g)){c=g;const R=new zn(g,a);do{if(xn(c)||Hi(c)){d=!1;break}if(je(c)&&c.data.length>0){b=N?0:c.data.length,g=c,d=!0;break}if(T[c.nodeName.toLowerCase()]&&!L1(c)){b=e.nodeIndex(c),g=c.parentNode,N||b++,d=!0;break}}while(c=N?R.next():R.prev())}}}return t&&(je(g)&&b===0&&zy(e,_,t,!0,g).each(R=>{g=R.container(),b=R.offset(),d=!0}),ft(g)&&(c=g.childNodes[b],c||(c=g.childNodes[b-1]),c&&Zn(c)&&!AT(c,"A")&&!I4(e,c,!1)&&!I4(e,c,!0)&&zy(e,_,t,!0,c).each(R=>{g=R.container(),b=R.offset(),d=!0}))),N&&!t&&je(g)&&b===g.data.length&&zy(e,_,t,!1,g).each(R=>{g=R.container(),b=R.offset(),d=!0}),d&&g?P.some(Ae(g,b)):P.none()},Ch=(e,t)=>{const o=t.collapsed,s=t.cloneRange(),a=Ae.fromRangeStart(t);return F4(e,o,!0,s).each(c=>{(!o||!Ae.isAbove(a,c))&&s.setStart(c.container(),c.offset())}),o||F4(e,o,!1,s).each(c=>{s.setEnd(c.container(),c.offset())}),o&&s.collapse(!0),yl(t,s)?P.none():P.some(s)},k0=(e,t)=>e.splitText(t),zx=e=>{let t=e.startContainer,o=e.startOffset,s=e.endContainer,a=e.endOffset;if(t===s&&je(t)){if(o>0&&o<t.data.length)if(s=k0(t,o),t=s.previousSibling,a>o){a=a-o;const c=k0(s,a).previousSibling;t=s=c,a=c.data.length,o=0}else a=0}else if(je(t)&&o>0&&o<t.data.length&&(t=k0(t,o),o=0),je(s)&&a>0&&a<s.data.length){const c=k0(s,a).previousSibling;s=c,a=c.data.length}return{startContainer:t,startOffset:o,endContainer:s,endOffset:a}},Mc=e=>({walk:(c,d)=>lg(e,c,d),split:zx,expand:(c,d={type:"word"})=>{if(d.type==="word"){const g=bh(e,c,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),b=e.createRng();return b.setStart(g.startContainer,g.startOffset),b.setEnd(g.endContainer,g.endOffset),b}return c},normalize:c=>Ch(e,c).fold(un,d=>(c.setStart(d.startContainer,d.startOffset),c.setEnd(d.endContainer,d.endOffset),!0))});Mc.compareRanges=yl,Mc.getCaretRangeFromPoint=Od,Mc.getSelectedNode=J,Mc.getNode=se;const z4=e=>Gt(e)==="textarea",TR=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),AR=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},OR=(e,t)=>{const o=bs(e);if(o.length===0||z4(e))return{element:e,offset:t};if(t<o.length&&!z4(o[t]))return{element:o[t],offset:0};{const s=o[o.length-1];return z4(s)?{element:e,offset:t}:Gt(s)==="img"?{element:s,offset:1}:Ur(s)?{element:s,offset:js(s).length}:{element:s,offset:bs(s).length}}},DT=(e,t)=>{const o=_2(e),s=Sp(e);return{element:e,bottom:o.top+s,height:s,pos:o,cleanup:t}},DR=(e,t)=>{const o=OR(e,t),s=Z.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ks+"</span>");return tr(o.element,s),DT(s,()=>Tn(s))},Hy=e=>DT(Z.fromDom(e),fo),$y=(e,t,o,s)=>{NR(e,(a,c)=>$4(e,t,o,s),o)},H4=(e,t,o,s,a)=>{const c={elm:s.element.dom,alignToTop:a};if(TR(e,c))return;const d=Aa(t).top;o(e,t,d,s,a),AR(e,c)},$4=(e,t,o,s)=>{const a=Z.fromDom(e.getBody()),c=Z.fromDom(e.getDoc());ci(a);const d=DR(Z.fromDom(o.startContainer),o.startOffset);H4(e,c,t,d,s),d.cleanup()},NT=(e,t,o,s)=>{const a=Z.fromDom(e.getDoc());H4(e,a,o,Hy(t),s)},NR=(e,t,o)=>{const s=o.startContainer,a=o.startOffset,c=o.endContainer,d=o.endOffset;t(Z.fromDom(s),Z.fromDom(c));const g=e.dom.createRng();g.setStart(s,a),g.setEnd(c,d),e.selection.setRng(o)},V4=(e,t,o,s,a)=>{const c=t.pos,d=30;if(s)ea(c.left,Math.max(0,c.top-d),a);else{const g=c.top-o+t.height+d;ea(-e.getBody().getBoundingClientRect().left,g,a)}},RT=(e,t,o,s,a,c)=>{const d=s+o,g=a.pos.top,b=a.bottom,_=b-g>=s;g<o?V4(e,a,s,c!==!1,t):g>d?V4(e,a,s,_?c!==!1:c===!0,t):b>d&&!_&&V4(e,a,s,c===!0,t)},MT=(e,t,o,s,a)=>{const c=Qo(t).dom.innerHeight;RT(e,t,o,c,s,a)},BT=(e,t,o,s,a)=>{const c=Qo(t).dom.innerHeight;RT(e,t,o,c,s,a);const d=bT(s.element),g=di(window);d.top<g.y?od(s.element,a!==!1):d.top>g.bottom&&od(s.element,a===!0)},Vy=(e,t,o)=>$y(e,MT,t,o),Uy=(e,t,o)=>NT(e,t,MT,o),Zy=(e,t,o)=>$y(e,BT,t,o),RR=(e,t,o)=>NT(e,t,BT,o),MR=(e,t,o)=>{(e.inline?Uy:RR)(e,t,o)},Hx=(e,t,o)=>{(e.inline?Vy:Zy)(e,t,o)},PT=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),LT=(e,t,o,s,a)=>{const c=o?t.startContainer:t.endContainer,d=o?t.startOffset:t.endOffset;return P.from(c).map(Z.fromDom).map(g=>!s||!t.collapsed?fn(g,a(g,d)).getOr(g):g).bind(g=>hs(g)?P.some(g):Vs(g).filter(hs)).map(g=>g.dom).getOr(e)},IT=(e,t,o=!1)=>LT(e,t,!0,o,(s,a)=>Math.min(Zr(s),a)),Gl=(e,t,o=!1)=>LT(e,t,!1,o,(s,a)=>a>0?a-1:a),U4=(e,t)=>{const o=e;for(;e&&je(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||o},BR=(e,t)=>{if(!t)return e;let o=t.startContainer,s=t.endContainer;const a=t.startOffset,c=t.endOffset;let d=t.commonAncestorContainer;t.collapsed||(o===s&&c-a<2&&o.hasChildNodes()&&(d=o.childNodes[a]),je(o)&&je(s)&&(o.length===a?o=U4(o.nextSibling,!0):o=o.parentNode,c===0?s=U4(s.previousSibling,!1):s=s.parentNode,o&&o===s&&(d=o)));const g=je(d)?d.parentNode:d;return Ka(g)?g:e},FT=(e,t,o,s)=>{const a=[],c=e.getRoot(),d=e.getParent(o||IT(c,t,t.collapsed),e.isBlock),g=e.getParent(s||Gl(c,t,t.collapsed),e.isBlock);if(d&&d!==c&&a.push(d),d&&g&&d!==g){let b;const _=new zn(d,c);for(;(b=_.next())&&b!==g;)e.isBlock(b)&&a.push(b)}return g&&d!==g&&g!==c&&a.push(g),a},PR=(e,t,o)=>P.from(t).bind(s=>P.from(s.parentNode).map(a=>{const c=e.nodeIndex(s),d=e.createRng();return d.setStart(a,c),d.setEnd(a,c+1),o&&(Vm(e,d,s,!0),Vm(e,d,s,!1)),d})),Z4=(e,t)=>go(t,o=>{const s=e.dispatch("GetSelectionRange",{range:o});return s.range!==o?s.range:o}),va={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},S0=(e,t,o)=>{const s=o?"lastChild":"firstChild",a=o?"prev":"next";if(e[s])return e[s];if(e!==t){let c=e[a];if(c)return c;for(let d=e.parent;d&&d!==t;d=d.parent)if(c=d[a],c)return c}},zT=e=>{var t;const o=(t=e.value)!==null&&t!==void 0?t:"";if(!gm(o))return!1;const s=e.parent;return!(s&&(s.name!=="span"||s.attr("style"))&&/^[ ]+$/.test(o))},$x=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class ca{static create(t,o){const s=new ca(t,va[t]||1);return o&&Mo(o,(a,c)=>{s.attr(c,a)}),s}constructor(t,o){this.name=t,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(t){const o=this;return t.parent&&t.remove(),o.insert(t,o),o.remove(),o}attr(t,o){const s=this;if(!Je(t))return Ee(t)&&Mo(t,(c,d)=>{s.attr(d,c)}),s;const a=s.attributes;if(a){if(o!==void 0){if(o===null){if(t in a.map){delete a.map[t];let c=a.length;for(;c--;)if(a[c].name===t)return a.splice(c,1),s}return s}if(t in a.map){let c=a.length;for(;c--;)if(a[c].name===t){a[c].value=o;break}}else a.push({name:t,value:o});return a.map[t]=o,s}return a.map[t]}}clone(){const t=this,o=new ca(t.name,t.type),s=t.attributes;if(s){const a=[];a.map={};for(let c=0,d=s.length;c<d;c++){const g=s[c];g.name!=="id"&&(a[a.length]={name:g.name,value:g.value},a.map[g.name]=g.value)}o.attributes=a}return o.value=t.value,o}wrap(t){const o=this;return o.parent&&(o.parent.insert(t,o),t.append(o)),o}unwrap(){const t=this;for(let o=t.firstChild;o;){const s=o.next;t.insert(o,t,!0),o=s}t.remove()}remove(){const t=this,o=t.parent,s=t.next,a=t.prev;return o&&(o.firstChild===t?(o.firstChild=s,s&&(s.prev=null)):a&&(a.next=s),o.lastChild===t?(o.lastChild=a,a&&(a.next=null)):s&&(s.prev=a),t.parent=t.next=t.prev=null),t}append(t){const o=this;t.parent&&t.remove();const s=o.lastChild;return s?(s.next=t,t.prev=s,o.lastChild=t):o.lastChild=o.firstChild=t,t.parent=o,t}insert(t,o,s){t.parent&&t.remove();const a=o.parent||this;return s?(o===a.firstChild?a.firstChild=t:o.prev&&(o.prev.next=t),t.prev=o.prev,t.next=o,o.prev=t):(o===a.lastChild?a.lastChild=t:o.next&&(o.next.prev=t),t.next=o.next,t.prev=o,o.next=t),t.parent=a,t}getAll(t){const o=this,s=[];for(let a=o.firstChild;a;a=S0(a,o))a.name===t&&s.push(a);return s}children(){const t=this,o=[];for(let s=t.firstChild;s;s=s.next)o.push(s);return o}empty(){const t=this;if(t.firstChild){const o=[];for(let a=t.firstChild;a;a=S0(a,t))o.push(a);let s=o.length;for(;s--;){const a=o[s];a.parent=a.firstChild=a.lastChild=a.next=a.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,o={},s){var a;const c=this;let d=c.firstChild;if($x(c))return!1;if(d)do{if(d.type===1){if(d.attr("data-mce-bogus"))continue;if(t[d.name]||$x(d))return!1}if(d.type===8||d.type===3&&!zT(d)||d.type===3&&d.parent&&o[d.parent.name]&&gm((a=d.value)!==null&&a!==void 0?a:"")||s&&s(d))return!1}while(d=S0(d,c));return!0}walk(t){return S0(this,null,t)}}const HT=$e.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),W4=e=>Je(e.nodeValue)&&e.nodeValue.includes(Ks),$T=e=>`${e.length===0?"":`${go(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,LR=(e,t)=>t.querySelectorAll($T(e)),VT=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>W4(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),UT=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(W4(t)){const o=t.parentNode;return o&&Xt(HT,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),Wy=e=>VT(e).nextNode()!==null,ZT=e=>UT(e).nextNode()!==null,WT=(e,t)=>t.querySelector($T(e))!==null,jT=(e,t)=>{Te(LR(e,t),o=>{const s=Z.fromDom(o);fa(s,"data-mce-bogus")==="all"?Tn(s):Te(e,a=>{im(s,a)&&ks(s,a)})})},qT=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},IR=Yn(qT,VT),j4=Yn(qT,UT),jy=(e,t)=>{const o=[{condition:bt(WT,t),action:bt(jT,t)},{condition:Wy,action:IR},{condition:ZT,action:j4}];let s=e,a=!1;return Te(o,({condition:c,action:d})=>{c(s)&&(a||(s=e.cloneNode(!0),a=!0),d(s))}),s},qy=e=>{const t=In(e,"[data-mce-bogus]");Te(t,o=>{fa(o,"data-mce-bogus")==="all"?Tn(o):Oc(o)?(tr(o,Z.fromText(Kd)),Tn(o)):ii(o)})},GT=e=>{const t=In(e,"input");Te(t,o=>{ks(o,"name")})},FR=(e,t)=>{const o=qr(e),s=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(s,"")},zR=(e,t)=>{const o=e.getDoc(),s=Wa(Z.fromDom(e.getBody())),a=Z.fromTag("div",o);Zs(a,"data-mce-bogus","all"),dm(a,{position:"fixed",left:"-9999999px",top:"0"}),tu(a,t.innerHTML),qy(a),GT(a);const c=Sr(s);rn(c,a);const d=jr(a.dom.innerText);return Tn(a),d},HR=(e,t,o)=>{let s;return t.format==="raw"?s=$e.trim(jr(jy(o,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?s=zR(e,o):t.format==="tree"?s=e.serializer.serialize(o,t):s=FR(e,e.serializer.serialize(o,t)),t.format!=="text"&&!Mm(Z.fromDom(o))&&Je(s)?$e.trim(s):s},KT=(e,t)=>P.from(e.getBody()).fold(Ge(t.format==="tree"?new ca("body",11):""),o=>HR(e,t,o)),YT=$e.makeMap,XT=e=>{const t=[];e=e||{};const o=e.indent,s=YT(e.indent_before||""),a=YT(e.indent_after||""),c=md.getEncodeFunc(e.entity_encoding||"raw",e.entities),d=e.element_format!=="xhtml";return{start:(g,b,_)=>{if(o&&s[g]&&t.length>0){const T=t[t.length-1];T.length>0&&T!==`
`&&t.push(`
`)}if(t.push("<",g),b)for(let T=0,N=b.length;T<N;T++){const R=b[T];t.push(" ",R.name,'="',c(R.value,!0),'"')}if(!_||d?t[t.length]=">":t[t.length]=" />",_&&o&&a[g]&&t.length>0){const T=t[t.length-1];T.length>0&&T!==`
`&&t.push(`
`)}},end:g=>{let b;t.push("</",g,">"),o&&a[g]&&t.length>0&&(b=t[t.length-1],b.length>0&&b!==`
`&&t.push(`
`))},text:(g,b)=>{g.length>0&&(t[t.length]=b?g:c(g))},cdata:g=>{t.push("<![CDATA[",g,"]]>")},comment:g=>{t.push("<!--",g,"-->")},pi:(g,b)=>{b?t.push("<?",g," ",c(b),"?>"):t.push("<?",g,"?>"),o&&t.push(`
`)},doctype:g=>{t.push("<!DOCTYPE",g,">",o?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},fg=(e={},t=no())=>{const o=XT(e);return e.validate="validate"in e?e.validate:!0,{serialize:a=>{const c=e.validate,d={3:b=>{var _;o.text((_=b.value)!==null&&_!==void 0?_:"",b.raw)},8:b=>{var _;o.comment((_=b.value)!==null&&_!==void 0?_:"")},7:b=>{o.pi(b.name,b.value)},10:b=>{var _;o.doctype((_=b.value)!==null&&_!==void 0?_:"")},4:b=>{var _;o.cdata((_=b.value)!==null&&_!==void 0?_:"")},11:b=>{let _=b;if(_=_.firstChild)do g(_);while(_=_.next)}};o.reset();const g=b=>{var _;const T=d[b.type];if(T)T(b);else{const N=b.name,R=N in t.getVoidElements();let I=b.attributes;if(c&&I&&I.length>1){const Y=[];Y.map={};const G=t.getElementRule(b.name);if(G){for(let W=0,ce=G.attributesOrder.length;W<ce;W++){const le=G.attributesOrder[W];if(le in I.map){const fe=I.map[le];Y.map[le]=fe,Y.push({name:le,value:fe})}}for(let W=0,ce=I.length;W<ce;W++){const le=I[W].name;if(!(le in Y.map)){const fe=I.map[le];Y.map[le]=fe,Y.push({name:le,value:fe})}}I=Y}}if(o.start(N,I,R),xm(N))Je(b.value)&&o.text(b.value,!0),o.end(N);else if(!R){let Y=b.firstChild;if(Y){(N==="pre"||N==="textarea")&&Y.type===3&&((_=Y.value)===null||_===void 0?void 0:_[0])===`
`&&o.text(`
`,!0);do g(Y);while(Y=Y.next)}o.end(N)}}};return a.type===1&&!e.inner?g(a):a.type===3?d[3](a):d[11](a),o.getContent()}}},JT=new Set;Te(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{JT.add(t)});const QT=new Set;Te(["background-color"],t=>{QT.add(t)});const kh=["font","text-decoration","text-emphasis"],Gy=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),Sh=(e,t)=>Ca(Gy(e,t)),e6=e=>JT.has(e),q4=e=>QT.has(e),t6=(e,t)=>Sn(Sh(e,t),o=>e6(o)),$R=(e,t)=>t6(e,t)&&Sn(Sh(e,t),o=>q4(o)),VR=e=>Pt(e,t=>Sn(kh,o=>lo(t,o))),_l=(e,t,o)=>{const s=Sh(e,t),a=Sh(e,o),c=d=>{var g,b;const _=(g=e.getStyle(t,d))!==null&&g!==void 0?g:"",T=(b=e.getStyle(o,d))!==null&&b!==void 0?b:"";return tl(_)&&tl(T)&&_!==T};return Sn(s,d=>{const g=b=>Sn(b,_=>_===d);if(!g(a)&&g(kh)){const b=VR(a);return Sn(b,c)}else return c(d)})},E0=(e,t,o)=>P.from(o.container()).filter(je).exists(s=>{const a=e?0:-1;return t(s.data.charAt(o.offset()+a))}),G4=bt(E0,!0,Td),T0=bt(E0,!1,Td),Vx=e=>{const t=e.container();return je(t)&&(t.data.length===0||Xf(t.data)&&jn.isBookmarkNode(t.parentNode))},gg=(e,t)=>o=>o4(e?0:-1,o).filter(t).isSome(),Eh=e=>P1(e)&&Ri(Z.fromDom(e),"display")==="block",on=e=>xn(e)&&!T2(e),Ux=gg(!0,Eh),o6=gg(!1,Eh),A0=gg(!0,Xn),pg=gg(!1,Xn),Ky=gg(!0,Ra),Zx=gg(!1,Ra),Tu=gg(!0,on),Au=gg(!1,on),Yy=e=>e.slice(0,-1),K4=(e,t,o)=>Qr(t,e)?Yy(am(e,s=>o(s)||Lt(s,t))):[],Y4=(e,t)=>K4(e,t,un),Ou=(e,t)=>[e].concat(Y4(e,t)),Xy=(e,t,o)=>Z5(e,t,o,Vx),n6=e=>t=>e.isBlock(Gt(t)),X4=(e,t,o)=>Ko(Ou(Z.fromDom(t.container()),e),n6(o)),hg=(e,t,o,s)=>Xy(e,t.dom,o).forall(a=>X4(t,o,s).fold(()=>!yu(a,o,t.dom),c=>!yu(a,o,t.dom)&&Qr(c,Z.fromDom(a.container())))),J4=(e,t,o,s)=>X4(t,o,s).fold(()=>Xy(e,t.dom,o).forall(a=>!yu(a,o,t.dom)),a=>Xy(e,a.dom,o).isNone()),Wx=bt(J4,!1),s6=bt(J4,!0),UR=bt(hg,!1),r6=bt(hg,!0),a6=e=>Ex(e).exists(Oc),jx=(e,t,o,s)=>{const a=Pt(Ou(Z.fromDom(o.container()),t),d=>s.isBlock(Gt(d))),c=$n(a).getOr(t);return Wl(e,c.dom,o).filter(a6)},O0=(e,t,o)=>Ex(t).exists(Oc)||jx(!0,e,t,o).isSome(),qx=(e,t,o)=>I5(t).exists(Oc)||jx(!1,e,t,o).isSome(),Q4=bt(jx,!1),i6=bt(jx,!0),e3=e=>Ae.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),t3=(e,t,o)=>{const s=Pt(Ou(Z.fromDom(t.container()),e),a=>o.isBlock(Gt(a)));return $n(s).getOr(e)},o3=(e,t,o)=>e3(t)?T0(t):T0(t)||$i(t3(e,t,o).dom,t).exists(T0),n3=(e,t,o)=>e3(t)?G4(t):G4(t)||Ia(t3(e,t,o).dom,t).exists(G4),l6=e=>wo(["pre","pre-wrap"],e),Jy=e=>Ex(e).bind(t=>ta(t,hs)).exists(t=>l6(Ri(t,"white-space"))),c6=(e,t)=>$i(e.dom,t).isNone(),s3=(e,t)=>Ia(e.dom,t).isNone(),d6=(e,t,o)=>c6(e,t)||s3(e,t)||Wx(e,t,o)||s6(e,t,o)||qx(e,t,o)||O0(e,t,o),u6=e=>Ee(e)&&xn(e)&&QC(e),r3=(e,t)=>o=>u6(new zn(o,e)[t]()),m6=(e,t)=>{const o=Ia(e.dom,t).getOr(t),s=r3(e.dom,"next");return t.isAtEnd()&&(s(t.container())||s(o.container()))},f6=(e,t)=>{const o=$i(e.dom,t).getOr(t),s=r3(e.dom,"prev");return t.isAtStart()&&(s(t.container())||s(o.container()))},a3=(e,t,o)=>Jy(t)?!1:d6(e,t,o)||o3(e,t,o)||n3(e,t,o),D0=(e,t,o)=>Jy(t)?!1:Wx(e,t,o)||UR(e,t,o)||qx(e,t,o)||o3(e,t,o)||f6(e,t),i3=e=>{const t=e.container(),o=e.offset();return je(t)&&o<t.data.length?Ae(t,o+1):e},bg=(e,t,o)=>Jy(t)?!1:s6(e,t,o)||r6(e,t,o)||O0(e,t,o)||n3(e,t,o)||m6(e,t),Qy=(e,t,o)=>D0(e,t,o)||bg(e,i3(t),o),l3=(e,t)=>Rx(e.charAt(t)),Gx=(e,t)=>Td(e.charAt(t)),c3=e=>{const t=e.container();return je(t)&&zr(t.data,Fs)},Kx=e=>{const t=e.split("");return go(t,(o,s)=>Rx(o)&&s>0&&s<t.length-1&&Cy(t[s-1])&&Cy(t[s+1])?" ":o).join("")},e_=(e,t,o,s)=>{const a=t.data,c=Ae(t,0);return!o&&l3(a,0)&&!Qy(e,c,s)?(t.data=" "+a.slice(1),!0):o&&Gx(a,0)&&D0(e,c,s)?(t.data=Fs+a.slice(1),!0):!1},g6=e=>{const t=e.data,o=Kx(t);return o!==t?(e.data=o,!0):!1},Th=(e,t,o,s)=>{const a=t.data,c=Ae(t,a.length-1);return!o&&l3(a,a.length-1)&&!Qy(e,c,s)?(t.data=a.slice(0,-1)+" ",!0):o&&Gx(a,a.length-1)&&bg(e,c,s)?(t.data=a.slice(0,-1)+Fs,!0):!1},d3=(e,t,o)=>{const s=t.container();if(!je(s))return P.none();if(c3(t)){const a=e_(e,s,!1,o)||g6(s)||Th(e,s,!1,o);return at(a,t)}else if(Qy(e,t,o)){const a=e_(e,s,!0,o)||Th(e,s,!0,o);return at(a,t)}else return P.none()},u3=e=>{const t=Z.fromDom(e.getBody());e.selection.isCollapsed()&&d3(t,Ae.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},Ah=(e,t,o,s)=>{if(o===0)return;const a=Z.fromDom(e),c=nr(a,_=>s.isBlock(Gt(_))).getOr(a),d=e.data.slice(t,t+o),g=t+o>=e.data.length&&bg(c,Ae(e,e.data.length),s),b=t===0&&D0(c,Ae(e,0),s);e.replaceData(t,o,Ib(d,4,b,g))},Dd=(e,t,o)=>{const s=e.data.slice(t),a=s.length-tp(s).length;Ah(e,t,a,o)},t_=(e,t,o)=>{const s=e.data.slice(0,t),a=s.length-Cb(s).length;Ah(e,t-a,a,o)},m3=(e,t,o,s,a=!0)=>{const c=Cb(e.data).length,d=a?e:t,g=a?t:e;return a?d.appendData(g.data):d.insertData(0,g.data),Tn(Z.fromDom(g)),s&&Dd(d,c,o),d},ZR=(e,t)=>{const o=e.container(),s=e.offset();return!Ae.isTextPosition(e)&&o===t.parentNode&&s>Ae.before(t).offset()},p6=(e,t)=>ZR(t,e)?Ae(t.container(),t.offset()-1):t,h6=e=>je(e)?Ae(e,0):Ae.before(e),b6=e=>je(e)?Ae(e,e.data.length):Ae.after(e),qm=e=>kt(e.previousSibling)?P.some(b6(e.previousSibling)):e.previousSibling?Lo(e.previousSibling):P.none(),xg=e=>kt(e.nextSibling)?P.some(h6(e.nextSibling)):e.nextSibling?Fa(e.nextSibling):P.none(),x6=(e,t)=>P.from(t.previousSibling?t.previousSibling:t.parentNode).bind(o=>$i(e,Ae.before(o))).orThunk(()=>Ia(e,Ae.after(t))),v6=(e,t)=>Ia(e,Ae.after(t)).orThunk(()=>$i(e,Ae.before(t))),WR=(e,t)=>qm(t).orThunk(()=>xg(t)).orThunk(()=>x6(e,t)),jR=(e,t)=>xg(t).orThunk(()=>qm(t)).orThunk(()=>v6(e,t)),qR=(e,t,o)=>e?jR(t,o):WR(t,o),Vi=(e,t,o)=>qR(e,t,o).map(bt(p6,o)),Kl=(e,t,o)=>{o.fold(()=>{e.focus()},s=>{e.selection.setRng(s.toRange(),t)})},y6=e=>t=>t.dom===e,f3=(e,t)=>t&&Xt(e.schema.getBlockElements(),Gt(t)),g3=(e,t,o)=>{if(ra(e,t)){const s=Z.fromHtml('<br data-mce-bogus="1">');return o?Te(bs(t),a=>{Ry(a)||Tn(a)}):ja(t),rn(t,s),P.some(Ae.before(s.dom))}else return P.none()},o_=(e,t,o,s)=>{const a=ri(e).filter(Ur),c=gc(e).filter(Ur);return Tn(e),a2(a,c,t,(d,g,b)=>{const _=d.dom,T=g.dom,N=_.data.length;return m3(_,T,o,s),b.container()===T?Ae(_,N):b}).orThunk(()=>(s&&(a.each(d=>t_(d.dom,d.dom.length,o)),c.each(d=>Dd(d.dom,0,o))),t))},GR=(e,t)=>Xt(e.schema.getTextInlineElements(),Gt(t)),Gm=(e,t,o,s=!0,a=!1)=>{const c=Vi(t,e.getBody(),o.dom),d=nr(o,bt(f3,e),y6(e.getBody())),g=o_(o,c,e.schema,GR(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):d.bind(b=>g3(e.schema,b,a)).fold(()=>{s&&Kl(e,t,g)},b=>{s&&Kl(e,t,P.some(b))})},Yx=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,KR=e=>Yx.test(e),Du=(e,t)=>Jr(Z.fromDom(t),SN(e))&&!_c(e.schema,t)&&e.dom.isEditable(t),n_=e=>{var t;return ko.DOM.getStyle(e,"direction",!0)==="rtl"||KR((t=e.textContent)!==null&&t!==void 0?t:"")},_6=(e,t,o)=>Pt(ko.DOM.getParents(o.container(),"*",t),e),Bc=(e,t,o)=>{const s=_6(e,t,o);return P.from(s[s.length-1])},YR=(e,t,o)=>{const s=Ls(t,e),a=Ls(o,e);return Ee(s)&&s===a},XR=e=>r0(e)||Jf(e),xr=(e,t)=>{const o=t.container(),s=t.offset();return e?yd(o)?je(o.nextSibling)?Ae(o.nextSibling,0):Ae.after(o):r0(t)?Ae(o,s+1):t:yd(o)?je(o.previousSibling)?Ae(o.previousSibling,o.previousSibling.data.length):Ae.before(o):Jf(t)?Ae(o,s-1):t},xi=bt(xr,!0),N0=bt(xr,!1),p3=(e,t)=>{const o=s=>s.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},Ui=e=>{e.execCommand("delete")},an=e=>p3(e,"Delete"),w6=e=>p3(e,"ForwardDelete"),Km=e=>t=>gr(Vs(t),e,Lt),Xx=e=>Qp(e)||zi(e),Jx=(e,t)=>Qr(e,t)?ta(t,Xx,Km(e)):P.none(),Qx=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},s_=(e,t,o)=>Qn(Fa(o),Lo(o),(s,a)=>{const c=xr(!0,s),d=xr(!1,a),g=xr(!1,t);return e?Ia(o,g).exists(b=>b.isEqual(d)&&t.isEqual(c)):$i(o,g).exists(b=>b.isEqual(c)&&t.isEqual(d))}).getOr(!0),C6=e=>(kf(e)?ri(e):Di(e)).bind(C6).orThunk(()=>P.some(e)),r_=(e,t,o,s=!0)=>{var a;t.deleteContents();const c=C6(o).getOr(o),d=Z.fromDom((a=e.dom.getParent(c.dom,e.dom.isBlock))!==null&&a!==void 0?a:o.dom);if(d.dom===e.getBody()?Qx(e,s):ra(e.schema,d,{checkRootAsContent:!1})&&(vd(d),s&&e.selection.setCursorLocation(d.dom,0)),!Lt(o,d)){const g=gr(Vs(d),o)?[]:Za(d);Te(g.concat(bs(o)),b=>{!Lt(b,d)&&!Qr(b,d)&&ra(e.schema,b)&&Tn(b)})}},JR=e=>t=>Lt(e,t),a_=e=>In(e,"td,th"),h3=(e,t)=>Mx(Z.fromDom(e),t),b3=e=>Qn(e.startTable,e.endTable,(t,o)=>{const s=Mf(t,c=>Lt(c,o)),a=Mf(o,c=>Lt(c,t));return!s&&!a?e:{...e,startTable:s?P.none():e.startTable,endTable:a?P.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),k6=e=>b3(e),i_=(e,t)=>{const o=h3(e.startContainer,t),s=h3(e.endContainer,t),a=o.isSome(),c=s.isSome(),d=Qn(o,s,Lt).getOr(!1);return k6({startTable:o,endTable:s,isStartInTable:a,isEndInTable:c,isSameTable:d,isMultiTable:!d&&a&&c})},x3=(e,t)=>({start:e,end:t}),QR=(e,t,o)=>({rng:e,table:t,cells:o}),ev=sc.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),l_=(e,t)=>On(Z.fromDom(e),"td,th",t),S6=e=>!Lt(e.start,e.end),v3=(e,t)=>Mx(e.start,t).bind(o=>Mx(e.end,t).bind(s=>at(Lt(o,s),o))),eM=(e,t)=>!S6(e)&&v3(e,t).exists(o=>{const s=o.dom.rows;return s.length===1&&s[0].cells.length===1}),tM=(e,t)=>{const o=l_(e.startContainer,t),s=l_(e.endContainer,t);return Qn(o,s,x3)},E6=e=>t=>Mx(t,e).bind(o=>Is(a_(o)).map(s=>x3(t,s))),oM=e=>t=>Mx(t,e).bind(o=>$n(a_(o)).map(s=>x3(s,t))),c_=e=>t=>v3(t,e).map(o=>QR(t,o,a_(o))),T6=(e,t,o,s)=>{if(o.collapsed||!e.forall(S6))return P.none();if(t.isSameTable){const a=e.bind(c_(s));return P.some({start:a,end:a})}else{const a=l_(o.startContainer,s),c=l_(o.endContainer,s),d=a.bind(E6(s)).bind(c_(s)),g=c.bind(oM(s)).bind(c_(s));return P.some({start:d,end:g})}},A6=(e,t)=>ss(e,o=>Lt(o,t)),d_=e=>Qn(A6(e.cells,e.rng.start),A6(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1)),ya=(e,t,o)=>e.exists(s=>eM(s,o)&&Ey(s.start,t)),O6=(e,t)=>{const{startTable:o,endTable:s}=t,a=e.cloneRange();return o.each(c=>a.setStartAfter(c.dom)),s.each(c=>a.setEndBefore(c.dom)),a},D6=(e,t,o,s)=>T6(e,t,o,s).bind(({start:a,end:c})=>a.or(c)).bind(a=>{const{isSameTable:c}=t,d=d_(a).getOr([]);if(c&&a.cells.length===d.length)return P.some(ev.fullTable(a.table));if(d.length>0){if(c)return P.some(ev.partialTable(d,P.none()));{const g=O6(o,t);return P.some(ev.partialTable(d,P.some({...t,rng:g})))}}else return P.none()}),y3=(e,t,o,s)=>T6(e,t,o,s).bind(({start:a,end:c})=>{const d=a.bind(d_).getOr([]),g=c.bind(d_).getOr([]);if(d.length>0&&g.length>0){const b=O6(o,t);return P.some(ev.multiTable(d,g,b))}else return P.none()}),_3=(e,t)=>{const o=JR(e),s=tM(t,o),a=i_(t,o);return ya(s,t,o)?s.map(c=>ev.singleCellTable(t,c.start)):a.isMultiTable?y3(s,a,t,o):D6(s,a,t,o)},w3=e=>Te(e,t=>{ks(t,"contenteditable"),vd(t)}),N6=(e,t)=>P.from(e.dom.getParent(t,e.dom.isBlock)).map(Z.fromDom),R6=(e,t,o)=>{o.each(s=>{t?Tn(s):(vd(s),e.selection.setCursorLocation(s.dom,0))})},u_=(e,t,o,s)=>{const a=o.cloneRange();s?(a.setStart(o.startContainer,o.startOffset),a.setEndAfter(t.dom.lastChild)):(a.setStartBefore(t.dom.firstChild),a.setEnd(o.endContainer,o.endOffset)),k3(e,a,t,!1).each(c=>c())},Zi=e=>{const t=Xs(e),o=Z.fromDom(e.selection.getNode());mu(o.dom)&&ra(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&Sn(t,s=>Lt(s,o))&&Zs(o,"data-mce-selected","1")},M6=(e,t,o)=>P.some(()=>{const s=e.selection.getRng(),a=o.bind(({rng:c,isStartInTable:d})=>{const g=N6(e,d?c.endContainer:c.startContainer);c.deleteContents(),R6(e,d,g.filter(bt(ra,e.schema)));const b=d?t[0]:t[t.length-1];return u_(e,b,s,d),ra(e.schema,b)?P.none():P.some(d?t.slice(1):t.slice(0,-1))}).getOr(t);w3(a),Zi(e)}),C3=(e,t,o,s)=>P.some(()=>{const a=e.selection.getRng(),c=t[0],d=o[o.length-1];u_(e,c,a,!0),u_(e,d,a,!1);const g=ra(e.schema,c)?t:t.slice(1),b=ra(e.schema,d)?o:o.slice(0,-1);w3(g.concat(b)),s.deleteContents(),Zi(e)}),k3=(e,t,o,s=!0)=>P.some(()=>{r_(e,t,o,s)}),S3=(e,t)=>P.some(()=>Gm(e,!1,t)),Pc=(e,t,o)=>_3(t,o).bind(s=>s.fold(bt(k3,e),bt(S3,e),bt(M6,e),bt(C3,e))),E3=(e,t)=>R0(e,t),m_=(e,t,o,s)=>tv(t,s).fold(()=>Pc(e,t,o),a=>E3(e,a)),B6=(e,t,o)=>{const s=Z.fromDom(e.getBody()),a=e.selection.getRng();return o.length!==0?M6(e,o,P.none()):m_(e,s,a,t)},P6=(e,t)=>Ko(Ou(t,e),vs),tv=(e,t)=>Ko(Ou(t,e),mc("caption")),L6=(e,t,o,s,a)=>dh(o,e.getBody(),a).bind(c=>P6(t,Z.fromDom(c.getNode())).bind(d=>Lt(d,s)?P.none():P.some(fo))),R0=(e,t)=>P.some(()=>{vd(t),e.selection.setCursorLocation(t.dom,0)}),I6=(e,t,o,s)=>Fa(e.dom).bind(a=>Lo(e.dom).map(c=>t?o.isEqual(a)&&s.isEqual(c):o.isEqual(c)&&s.isEqual(a))).getOr(!0),Oh=(e,t)=>R0(e,t),F6=(e,t,o)=>tv(e,Z.fromDom(o.getNode())).fold(()=>P.some(fo),s=>at(!Lt(s,t),fo)),z6=(e,t,o,s,a)=>dh(o,e.getBody(),a).fold(()=>P.some(fo),c=>I6(s,o,a,c)?Oh(e,s):F6(t,s,c)),H6=(e,t,o,s)=>{const a=Ae.fromRangeStart(e.selection.getRng());return P6(o,s).bind(c=>ra(e.schema,c,{checkRootAsContent:!1})?R0(e,c):L6(e,o,t,c,a))},nM=(e,t,o,s)=>{const a=Ae.fromRangeStart(e.selection.getRng());return ra(e.schema,s)?R0(e,s):z6(e,o,t,s,a)},f_=(e,t)=>e?Ky(t):Zx(t),vg=(e,t)=>{const o=Ae.fromRangeStart(e.selection.getRng());return f_(t,o)||Wl(t,e.getBody(),o).exists(s=>f_(t,s))},sM=(e,t,o)=>{const s=Z.fromDom(e.getBody());return tv(s,o).fold(()=>H6(e,t,s,o).orThunk(()=>at(vg(e,t),fo)),a=>nM(e,t,s,a))},T3=(e,t)=>{const o=Z.fromDom(e.selection.getStart(!0)),s=Xs(e);return e.selection.isCollapsed()&&s.length===0?sM(e,t,o):B6(e,o,s)},Nd=(e,t)=>{let o=t;for(;o&&o!==e;){if(Ma(o)||xn(o))return o;o=o.parentNode}return null},$6=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],V6=$e.each,g_=e=>{const t=e.dom,o=new Set(e.serializer.getTempAttrs()),s=(c,d)=>{if(c.nodeName!==d.nodeName||c.nodeType!==d.nodeType)return!1;const g=_=>{const T={};return V6(t.getAttribs(_),N=>{const R=N.nodeName.toLowerCase();R!=="style"&&!a(R)&&(T[R]=t.getAttrib(_,R))}),T},b=(_,T)=>{for(const N in _)if(Xt(_,N)){const R=T[N];if(Cs(R)||_[N]!==R)return!1;delete T[N]}for(const N in T)if(Xt(T,N))return!1;return!0};return ft(c)&&ft(d)&&(!b(g(c),g(d))||!b(t.parseStyle(t.getAttrib(c,"style")),t.parseStyle(t.getAttrib(d,"style"))))?!1:!Rr(c)&&!Rr(d)},a=c=>Sn($6,d=>lo(c,d))||o.has(c);return{compare:s,isAttributeInternal:a}},ov=(e,t)=>{if(je(e))return{container:e,offset:t};const o=Mc.getNode(e,t);return je(o)?{container:o,offset:t>=e.childNodes.length?o.data.length:0}:o.previousSibling&&je(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&je(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:t}},U6=e=>{const t=e.cloneRange(),o=ov(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const s=ov(e.endContainer,e.endOffset);return t.setEnd(s.container,s.offset),t},M0=ko.DOM,rM=e=>{const t={},o=s=>{let a=e[s?"startContainer":"endContainer"],c=e[s?"startOffset":"endOffset"];if(ft(a)){const d=M0.create("span",{"data-mce-type":"bookmark"});a.hasChildNodes()?c===a.childNodes.length?a.appendChild(d):a.insertBefore(d,a.childNodes[c]):a.appendChild(d),a=d,c=0}t[s?"startContainer":"endContainer"]=a,t[s?"startOffset":"endOffset"]=c};return o(!0),e.collapsed||o(),t},p_=e=>{const t=s=>{const a=g=>{var b;let _=(b=g.parentNode)===null||b===void 0?void 0:b.firstChild,T=0;for(;_;){if(_===g)return T;(!ft(_)||_.getAttribute("data-mce-type")!=="bookmark")&&T++,_=_.nextSibling}return-1};let c=e[s?"startContainer":"endContainer"],d=e[s?"startOffset":"endOffset"];if(c){if(ft(c)&&c.parentNode){const g=c;d=a(c),c=c.parentNode,M0.remove(g),!c.hasChildNodes()&&M0.isBlock(c)&&c.appendChild(M0.create("br"))}e[s?"startContainer":"endContainer"]=c,e[s?"startOffset":"endOffset"]=d}};t(!0),t();const o=M0.createRng();return o.setStart(e.startContainer,e.startOffset),e.endContainer&&o.setEnd(e.endContainer,e.endOffset),U6(o)},A3=(e,t,o,s)=>{if($e.each(o.styles,(a,c)=>{e.setStyle(t,c,Um(a,s))}),o.styles){const a=e.getAttrib(t,"style");a&&e.setAttrib(t,"data-mce-style",a)}},Dh=(e,t,o,s,a)=>{const c=e.dom;Ut(o.onformat)&&o.onformat(t,o,s,a),A3(c,t,o,s),$e.each(o.attributes,(d,g)=>{c.setAttrib(t,g,Um(d,s))}),$e.each(o.classes,d=>{const g=Um(d,s);c.hasClass(t,g)||c.addClass(t,g)})},h_=e=>!ie(e.attributes)&&!ie(e.styles),b_=Dy,x_=(e,t,o)=>{const s=e.formatter.get(o);if(s)for(let a=0;a<s.length;a++){const c=s[a];if(jl(c)&&c.inherit===!1&&e.dom.is(t,c.selector))return!0}return!1},v_=(e,t,o,s,a)=>{const c=e.dom.getRoot();if(t===c)return!1;const d=e.dom.getParent(t,g=>x_(e,g,o)?!0:g.parentNode===c||!!Yl(e,g,o,s,!0));return!!Yl(e,d,o,s,a)},yg=(e,t,o)=>cr(o)&&b_(t,o.inline)||Eu(o)&&b_(t,o.block)?!0:jl(o)?ft(t)&&e.is(t,o.selector):!1,Lc=(e,t,o,s,a,c)=>{const d=o[s],g=s==="attributes";if(Ut(o.onmatch))return o.onmatch(t,o,s);if(d){if(f2(d)){for(let b=0;b<d.length;b++)if(g?e.getAttrib(t,d[b]):Ny(e,t,d[b]))return!0}else for(const b in d)if(Xt(d,b)){const _=g?e.getAttrib(t,b):Ny(e,t,b),T=Um(d[b],c),N=zo(_)||Ei(_);if(N&&zo(T))continue;if(a&&N&&!o.exact||(!a||o.exact)&&!b_(_,h4(T,b)))return!1}}return!0},Yl=(e,t,o,s,a)=>{const c=e.formatter.get(o),d=e.dom;if(c&&ft(t))for(let g=0;g<c.length;g++){const b=c[g];if(yg(e.dom,t,b)&&Lc(d,t,b,"attributes",a,s)&&Lc(d,t,b,"styles",a,s)){const _=b.classes;if(_){for(let T=0;T<_.length;T++)if(!e.dom.hasClass(t,Um(_[T],s)))return}return b}}},nv=(e,t,o,s,a)=>{if(s)return v_(e,s,t,o,a);if(s=e.selection.getNode(),v_(e,s,t,o,a))return!0;const c=e.selection.getStart();return!!(c!==s&&v_(e,c,t,o,a))},ds=(e,t,o)=>{const s=[],a={},c=e.selection.getStart();return e.dom.getParent(c,d=>{for(let g=0;g<t.length;g++){const b=t[g];!a[b]&&Yl(e,d,b,o)&&(a[b]=!0,s.push(b))}},e.dom.getRoot()),s},O3=(e,t)=>{const o=a=>Lt(a,Z.fromDom(e.getBody())),s=(a,c)=>Yl(e,a.dom,c)?P.some(c):P.none();return P.from(e.selection.getStart(!0)).bind(a=>Nb(Z.fromDom(a),c=>Zc(t,d=>s(c,d)),o)).getOrNull()},y_=(e,t)=>{const o=e.formatter.get(t),s=e.dom;if(o&&e.selection.isEditable()){const a=e.selection.getStart(),c=Lx(s,a);for(let d=o.length-1;d>=0;d--){const g=o[d];if(!jl(g))return!0;for(let b=c.length-1;b>=0;b--)if(s.is(c[b],g.selector))return!0}}return!1},Ym=(e,t,o)=>Go(o,(s,a)=>{const c=fh(e,a);return e.formatter.matchNode(t,a,{},c)?s.concat([a]):s},[]),B0=Ks,D3=(e,t)=>e.importNode(t,!0),Z6=e=>{if(e){const t=new zn(e,e);for(let o=t.current();o;o=t.next())if(je(o))return o}return null},_g=e=>{const t=Z.fromTag("span");return Ta(t,{id:uh,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&rn(t,Z.fromText(B0)),t},aM=e=>{const t=Z6(e);return t&&t.data.charAt(0)===B0&&t.deleteData(0,1),t},N3=(e,t,o)=>{const s=e.dom,a=e.selection;if(y4(t))Gm(e,!1,Z.fromDom(t),o,!0);else{const c=a.getRng(),d=s.getParent(t,s.isBlock),g=c.startContainer,b=c.startOffset,_=c.endContainer,T=c.endOffset,N=aM(t);s.remove(t,!0),g===N&&b>0&&c.setStart(N,b-1),_===N&&T>0&&c.setEnd(N,T-1),d&&s.isEmpty(d)&&vd(Z.fromDom(d)),a.setRng(c)}},wg=(e,t,o)=>{const s=e.dom,a=e.selection;if(t)N3(e,t,o);else if(t=ig(e.getBody(),a.getStart()),!t)for(;t=s.get(uh);)N3(e,t,o)},iM=(e,t,o)=>{var s,a;const c=e.dom,d=c.getParent(o,bt(g4,e.schema));d&&c.isEmpty(d)?(s=o.parentNode)===null||s===void 0||s.replaceChild(t,o):(U2(Z.fromDom(o)),c.isEmpty(o)?(a=o.parentNode)===null||a===void 0||a.replaceChild(t,o):c.insertAfter(t,o))},Cg=(e,t)=>(e.appendChild(t),t),W6=(e,t)=>{var o;const s=wa(e,(c,d)=>Cg(c,d.cloneNode(!1)),t),a=(o=s.ownerDocument)!==null&&o!==void 0?o:document;return Cg(s,a.createTextNode(B0))},kg=(e,t,o,s,a,c)=>{const d=e.formatter,g=e.dom,b=Pt(Ca(d.get()),N=>N!==s&&!zr(N,"removeformat")),_=Ym(e,o,b);if(Pt(_,N=>!tT(e,N,s)).length>0){const N=o.cloneNode(!1);return g.add(t,N),d.remove(s,a,N,c),g.remove(N),P.some(N)}else return P.none()},j6=e=>Fe(e,js(e).replace(new RegExp(`${Fs}$`)," ")),wl=(e,t)=>{const o=()=>{t!==null&&!e.dom.isEmpty(t)&&ri(Z.fromDom(t)).each(s=>{Ur(s)?j6(s):Po(s,a=>Ur(a)).each(a=>{Ur(a)&&j6(a)})})};e.once("input",s=>{s.data&&!Td(s.data)&&(s.isComposing?e.once("compositionend",()=>{o()}):o())})},Nh=(e,t,o)=>{let s;const a=e.selection,c=e.formatter.get(t);if(!c)return;const d=a.getRng();let g=d.startOffset;const _=d.startContainer.nodeValue;s=ig(e.getBody(),a.getStart());const T=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(_&&g>0&&g<_.length&&T.test(_.charAt(g))&&T.test(_.charAt(g-1))){const N=a.getBookmark();d.collapse(!0);let R=bh(e.dom,d,c);R=zx(R),e.formatter.apply(t,o,R),a.moveToBookmark(N)}else{let N=s?Z6(s):null;(!s||N?.data!==B0)&&(s=D3(e.getDoc(),_g(!0).dom),N=s.firstChild,d.insertNode(s),g=1,wl(e,s)),e.formatter.apply(t,o,s),a.setCursorLocation(N,g)}},lM=(e,t,o,s)=>{const a=e.dom,c=e.selection;let d=!1;const g=e.formatter.get(t);if(!g)return;const b=c.getRng(),_=b.startContainer,T=b.startOffset;let N=_;je(_)&&(T!==_.data.length&&(d=!0),N=N.parentNode);const R=[];let I;for(;N;){if(Yl(e,N,t,o,s)){I=N;break}N.nextSibling&&(d=!0),R.push(N),N=N.parentNode}if(I)if(d){const Y=c.getBookmark();b.collapse(!0);let G=bh(a,b,g,{includeTrailingSpace:!0});G=zx(G),e.formatter.remove(t,o,G,s),c.moveToBookmark(Y)}else{const Y=ig(e.getBody(),I),G=Ee(Y)?a.getParents(I.parentNode,qo,Y):[],W=_g(!1).dom;iM(e,W,Y??I);const ce=kg(e,W,I,t,o,s),le=W6([...R,...ce.toArray(),...G],W);Y&&N3(e,Y,Ee(Y)),c.setCursorLocation(le,1),wl(e,W),a.isEmpty(I)&&a.remove(I)}},sv=(e,t,o)=>{const s=e.selection,a=e.getBody();wg(e,null,o),(t===8||t===46)&&s.isCollapsed()&&s.getStart().innerHTML===B0&&wg(e,ig(a,s.getStart()),!0),(t===37||t===39)&&wg(e,ig(a,s.getStart()),!0)},R3=e=>je(e)&&pf(e.data,Fs),cM=e=>{e.on("mouseup keydown",t=>{sv(e,t.keyCode,R3(e.selection.getRng().endContainer))})},Rh=e=>{const t=_g(!1),o=W6(e,t.dom);return{caretContainer:t,caretPosition:Ae(o,0)}},q6=(e,t)=>{const{caretContainer:o,caretPosition:s}=Rh(t);return tr(Z.fromDom(e),o),Tn(Z.fromDom(e)),s},Ic=(e,t)=>{const{caretContainer:o,caretPosition:s}=Rh(t);return e.insertNode(o.dom),s},rv=(e,t)=>{if(bl(t.dom))return!1;const o=e.schema.getTextInlineElements();return Xt(o,Gt(t))&&!bl(t.dom)&&!du(t.dom)},M3=["fontWeight","fontStyle","color","fontSize","fontFamily"],B3=e=>ae(e.styles)&&Sn(Ca(e.styles),t=>wo(M3,t)),P3=e=>Ko(e,t=>cr(t)&&t.inline==="span"&&B3(t)),Sg=(e,t)=>{const o=e.get(t);return ie(o)?P3(o):P.none()},__=(e,t)=>$i(t,Ae.fromRangeStart(e)).isNone(),G6=(e,t)=>Ia(t,Ae.fromRangeEnd(e)).exists(o=>!Zn(o.getNode())||Ia(t,o).isSome())===!1,K6=e=>t=>bm(t)&&e.isEditable(t),dM=e=>{const t=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return __(o,t[0])&&G6(o,t[0])?t:[];{const s=$n(t).filter(d=>__(o,d)).toArray(),a=Is(t).filter(d=>G6(o,d)).toArray(),c=t.slice(1,-1);return s.concat(c).concat(a)}},uM=e=>Pt(dM(e),K6(e.dom)),Mh=e=>Pt(e.getSelectedBlocks(),K6(e.dom)),Xl=$e.each,L3=e=>ft(e)&&!Rr(e)&&!bl(e)&&!du(e),Y6=(e,t)=>{for(let o=e;o;o=o[t]){if(je(o)&&tl(o.data))return e;if(ft(o)&&!Rr(o))return o}return e},X6=(e,t,o)=>{const s=g_(e),a=Ka(t)&&e.dom.isEditable(t),c=Ka(o)&&e.dom.isEditable(o);if(a&&c){const d=Y6(t,"previousSibling"),g=Y6(o,"nextSibling");if(s.compare(d,g)){for(let b=d.nextSibling;b&&b!==g;){const _=b;b=b.nextSibling,d.appendChild(_)}return e.dom.remove(g),$e.each($e.grep(g.childNodes),b=>{d.appendChild(b)}),d}}return o},J6=(e,t,o,s)=>{var a;if(s&&t.merge_siblings!==!1){const c=(a=X6(e,Oy(s),s))!==null&&a!==void 0?a:s;X6(e,c,Oy(c,!0))}},mM=(e,t,o)=>{if(t.clear_child_styles){const s=t.links?"*:not(a)":"*";Xl(e.select(s,o),a=>{L3(a)&&e.isEditable(a)&&Xl(t.styles,(c,d)=>{e.setStyle(a,d,"")})})}},I3=(e,t,o)=>{Xl(e.childNodes,s=>{L3(s)&&(t(s)&&o(s),s.hasChildNodes()&&I3(s,t,o))})},fM=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},Q6=(e,t)=>o=>!!(o&&Ny(e,o,t)),eA=(e,t,o)=>s=>{e.setStyle(s,t,o),s.getAttribute("style")===""&&s.removeAttribute("style"),fM(e,s)},Bh=sc.generate([{keep:[]},{rename:["name"]},{removed:[]}]),gM=/^(src|href|style)$/,F3=$e.each,w_=Dy,pM=e=>/^(TR|TH|TD)$/.test(e.nodeName),tA=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),Xm=(e,t,o)=>{let s=t[o?"startContainer":"endContainer"],a=t[o?"startOffset":"endOffset"];if(ft(s)){const c=s.childNodes.length-1;!o&&a&&a--,s=s.childNodes[a>c?c:a]}return je(s)&&o&&a>=s.data.length&&(s=new zn(s,e.getBody()).next()||s),je(s)&&!o&&a===0&&(s=new zn(s,e.getBody()).prev()||s),s},oA=(e,t)=>{const o=t?"firstChild":"lastChild",s=e[o];return pM(e)&&s?e.nodeName==="TR"&&s[o]||s:e},z3=(e,t,o,s)=>{var a;const c=e.create(o,s);return(a=t.parentNode)===null||a===void 0||a.insertBefore(c,t),c.appendChild(t),c},C_=(e,t,o,s,a)=>{const c=Z.fromDom(t),d=Z.fromDom(e.create(s,a)),g=o?Ln(c):Sf(c);return ai(d,g),o?(tr(c,d),Xc(d,c)):(Ni(c,d),rn(d,c)),d.dom},nA=(e,t)=>t.links&&e.nodeName==="A",k_=(e,t,o)=>{const s=t.parentNode;let a;const c=e.dom,d=qr(e);Eu(o)&&s===c.getRoot()&&(!o.list_block||!w_(t,o.list_block))&&Te(mt(t.childNodes),g=>{x0(e,d,g.nodeName.toLowerCase())?a?a.appendChild(g):(a=z3(c,g,d),c.setAttribs(a,zm(e))):a=null}),!(oT(o)&&!w_(o.inline,t))&&c.remove(t,!0)},sA=(e,t,o)=>E(e)?{name:t,value:null}:{name:e,value:Um(t,o)},rA=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},aA=(e,t,o,s,a)=>{let c=!1;F3(o.styles,(d,g)=>{const{name:b,value:_}=sA(g,d,s),T=h4(_,b);(o.remove_similar||eo(_)||!ft(a)||w_(Ny(e,a,b),T))&&e.setStyle(t,b,""),c=!0}),c&&rA(e,t)},hM=(e,t,o)=>{t==="removeformat"?Te(Mh(e.selection),s=>{Te(M3,a=>e.dom.setStyle(s,a,"")),rA(e.dom,s)}):Sg(e.formatter,t).each(s=>{Te(Mh(e.selection),a=>aA(e.dom,a,s,o,null))})},H3=(e,t,o,s,a)=>{const c=e.dom,d=g_(e),g=e.schema;if(cr(t)&&ar(g,t.inline)&&_c(g,s)&&s.parentElement===e.getBody())return k_(e,s,t),Bh.removed();if(!t.ceFalseOverride&&s&&c.getContentEditableParent(s)==="false"||s&&!yg(c,s,t)&&!nA(s,t))return Bh.keep();const b=s,_=t.preserve_attributes;if(cr(t)&&t.remove==="all"&&ie(_)){const T=Pt(c.getAttribs(b),N=>wo(_,N.name.toLowerCase()));if(c.removeAllAttribs(b),Te(T,N=>c.setAttrib(b,N.name,N.value)),T.length>0)return Bh.rename("span")}if(t.remove!=="all"){aA(c,b,t,o,a),F3(t.attributes,(N,R)=>{const{name:I,value:Y}=sA(R,N,o);if(t.remove_similar||eo(Y)||!ft(a)||w_(c.getAttrib(a,I),Y)){if(I==="class"){const G=c.getAttrib(b,I);if(G){let W="";if(Te(G.split(/\s+/),ce=>{/mce\-\w+/.test(ce)&&(W+=(W?" ":"")+ce)}),W){c.setAttrib(b,I,W);return}}}if(gM.test(I)&&b.removeAttribute("data-mce-"+I),I==="style"&&Na(["li"])(b)&&c.getStyle(b,"list-style-type")==="none"){b.removeAttribute(I),c.setStyle(b,"list-style-type","none");return}I==="class"&&b.removeAttribute("className"),b.removeAttribute(I)}}),F3(t.classes,N=>{N=Um(N,o),(!ft(a)||c.hasClass(a,N))&&c.removeClass(b,N)});const T=c.getAttribs(b);for(let N=0;N<T.length;N++){const R=T[N].nodeName;if(!d.isAttributeInternal(R))return Bh.keep()}}return t.remove!=="none"?(k_(e,b,t),Bh.removed()):Bh.keep()},bM=(e,t,o,s,a)=>{let c;return t.parentNode&&Te(Lx(e.dom,t.parentNode).reverse(),d=>{if(!c&&ft(d)&&d.id!=="_start"&&d.id!=="_end"){const g=Yl(e,d,o,s,a);g&&g.split!==!1&&(c=d)}}),c},xM=(e,t,o,s)=>H3(e,t,o,s,s).fold(Ge(s),a=>(e.dom.createFragment().appendChild(s),e.dom.rename(s,a)),Ge(null)),vM=(e,t,o,s,a,c,d,g)=>{var b,_;let T,N;const R=e.dom;if(o){const I=o.parentNode;for(let Y=s.parentNode;Y&&Y!==I;Y=Y.parentNode){let G=R.clone(Y,!1);for(let W=0;W<t.length&&(G=xM(e,t[W],g,G),G!==null);W++);G&&(T&&G.appendChild(T),N||(N=G),T=G)}(!d.mixed||!R.isBlock(o))&&(s=(b=R.split(o,s))!==null&&b!==void 0?b:s),T&&N&&((_=a.parentNode)===null||_===void 0||_.insertBefore(T,a),N.appendChild(a),cr(d)&&J6(e,d,g,T))}return s},yM=(e,t,o,s,a)=>{const c=e.formatter.get(t),d=c[0],g=e.dom,b=e.selection,_=G=>{const W=bM(e,G,t,o,a);return vM(e,c,W,G,G,!0,d,o)},T=G=>Rr(G)&&ft(G)&&(G.id==="_start"||G.id==="_end"),N=G=>Sn(c,W=>av(e,W,o,G,G)),R=G=>{const W=mt(G.childNodes),le=N(G)||Sn(c,Pe=>yg(g,G,Pe)),fe=G.parentNode;if(!le&&Ee(fe)&&v0(d)&&N(fe),d.deep&&W.length)for(let Pe=0;Pe<W.length;Pe++)R(W[Pe]);Te(["underline","line-through","overline"],Pe=>{ft(G)&&e.dom.getStyle(G,"text-decoration")===Pe&&G.parentNode&&b4(g,G.parentNode)===Pe&&av(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Pe}},void 0,G)})},I=G=>{const W=g.get(G?"_start":"_end");if(W){let ce=W[G?"firstChild":"lastChild"];return T(ce)&&(ce=ce[G?"firstChild":"lastChild"]),je(ce)&&ce.data.length===0&&(ce=G?W.previousSibling||W.nextSibling:W.nextSibling||W.previousSibling),g.remove(W,!0),ce}else return null},Y=G=>{let W,ce,le=bh(g,G,c,{includeTrailingSpace:G.collapsed});if(d.split){if(le=zx(le),W=Xm(e,le,!0),ce=Xm(e,le),W!==ce){if(W=oA(W,!0),ce=oA(ce,!1),tA(g,W,ce)){const ve=P.from(W.firstChild).getOr(W);_(C_(g,ve,!0,"span",{id:"_start","data-mce-type":"bookmark"})),I(!0);return}if(tA(g,ce,W)){const ve=P.from(ce.lastChild).getOr(ce);_(C_(g,ve,!1,"span",{id:"_end","data-mce-type":"bookmark"})),I(!1);return}W=z3(g,W,"span",{id:"_start","data-mce-type":"bookmark"}),ce=z3(g,ce,"span",{id:"_end","data-mce-type":"bookmark"});const fe=g.createRng();fe.setStartAfter(W),fe.setEndBefore(ce),lg(g,fe,ve=>{Te(ve,Pe=>{!Rr(Pe)&&!Rr(Pe.parentNode)&&_(Pe)})}),_(W),_(ce),W=I(!0),ce=I()}else W=ce=_(W);le.startContainer=W.parentNode?W.parentNode:W,le.startOffset=g.nodeIndex(W),le.endContainer=ce.parentNode?ce.parentNode:ce,le.endOffset=g.nodeIndex(ce)+1}lg(g,le,fe=>{Te(fe,R)})};if(s){if(Px(s)){const G=g.createRng();G.setStartBefore(s),G.setEndAfter(s),Y(G)}else Y(s);VE(e,t,s,o);return}!b.isCollapsed()||!cr(d)||Xs(e).length?(Q5(e,()=>Ty(e,Y),G=>cr(d)&&nv(e,t,o,G)),e.nodeChanged()):lM(e,t,o,a),hM(e,t,o),VE(e,t,s,o)},iA=(e,t,o,s,a)=>{(s||e.selection.isEditable())&&yM(e,t,o,s,a)},_M=(e,t,o,s)=>H3(e,t,o,s).fold(()=>P.some(s),a=>P.some(e.dom.rename(s,a)),P.none),av=(e,t,o,s,a)=>H3(e,t,o,s,a).fold(un,c=>(e.dom.rename(s,c),!0),qo),lA=["fontsize","subscript","superscript"],wM=["strikethrough",...lA],CM=(e,t,o)=>Ee(e.matchNode(t.dom,o,{},o==="fontsize")),$3=(e,t)=>Sn(lA,o=>CM(e,t,o)),kM=e=>wo(wM,e),SM=(e,t,o,s,a)=>{const c=am(t,e).filter(hs);return n1(c,o).map(d=>{const g=c[d],b=s(g),_=[...a(qa(g)).toArray(),..._r(c.slice(0,d),T=>o(T)?a(T).toArray():[qa(T)])];return{container:g,innerWrapper:b,outerWrappers:_}})},EM=(e,t,o,s)=>{Te(bs(e),a=>{hs(a)&&o(a)&&s(a).isNone()&&ii(a)}),Te(bs(e),a=>rn(t,a)),Xc(e,t)},TM=(e,t)=>{if(t.length>0){const o=t[t.length-1];tr(e,o);const s=Go(t.slice(0,t.length-1),(a,c)=>(rn(a,c),c),o);rn(s,e)}},cA=(e,t,o,s,a)=>{const c=d=>Lt(Z.fromDom(e.getRoot()),d)||e.isBlock(d.dom);Te(t,d=>{SM(c,d,o,s,a).each(({container:g,innerWrapper:b,outerWrappers:_})=>{e.split(g.dom,d.dom),EM(d,b,o,a),TM(d,_)})})},dA=(e,t,o)=>{const s=g=>Ee(Yl(e,g.dom,t)),a=g=>{const b=Z.fromTag(Gt(g)),_=Yl(e,g.dom,t,{});return Ee(_)&&h_(_)&&Dh(e,b.dom,_),b},c=g=>{const b=Yl(e,g.dom,t,{});return Ee(b)?_M(e,b,{},g.dom).map(Z.fromDom):P.some(g)},d=rM(e.selection.getRng());cA(e.dom,o,s,a,c),e.selection.setRng(p_(d))},AM=(e,t)=>_r(t,o=>{const s=Il(o,a=>$3(e,a));return $3(e,o)?[o,...s]:s}),OM=(e,t,o)=>{if(kM(t)){const s=AM(e.formatter,o);dA(e,"strikethrough",s)}},DM=(e,t)=>{const o=Pt(t,s=>$3(e.formatter,s));dA(e,"strikethrough",o)},uA=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),NM=e=>e.name==="summary",RM=(e,t)=>{let o=e;for(;o=o.walk();)t(o)},mA=(e,t,o,s)=>{const a=o.name;for(let c=0,d=e.length;c<d;c++){const g=e[c];if(g.name===a){const b=s.nodes[a];b?b.nodes.push(o):s.nodes[a]={filter:g,nodes:[o]}}}if(o.attributes)for(let c=0,d=t.length;c<d;c++){const g=t[c],b=g.name;if(b in o.attributes.map){const _=s.attributes[b];_?_.nodes.push(o):s.attributes[b]={filter:g,nodes:[o]}}}},fA=(e,t,o)=>{const s={nodes:{},attributes:{}};return o.firstChild&&RM(o,a=>{mA(e,t,a,s)}),s},gA=(e,t)=>{const o=(s,a)=>{Mo(s,c=>{const d=mt(c.nodes);Te(c.filter.callbacks,g=>{for(let b=d.length-1;b>=0;b--){const _=d[b];(!(a?_.attr(c.filter.name)!==void 0:_.name===c.filter.name)||zo(_.parent))&&d.splice(b,1)}d.length>0&&g(d,c.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},pA=(e,t,o,s={})=>{const a=fA(e,t,o);gA(a,s)},V3=(e,t,o,s)=>{if((e.pad_empty_with_br||t.insert)&&o(s)){const c=new ca("br",1);t.insert&&c.attr("data-mce-bogus","1"),s.empty().append(c)}else s.empty().append(new ca("#text",3)).value=Fs},MM=e=>{var t;return hA(e,"#text")&&((t=e?.firstChild)===null||t===void 0?void 0:t.value)===Fs},hA=(e,t)=>{const o=e?.firstChild;return Ee(o)&&o===e.lastChild&&o.name===t},BM=(e,t)=>{const o=e.getElementRule(t.name);return o?.paddEmpty===!0},iv=(e,t,o,s)=>s.isEmpty(t,o,a=>BM(e,a)),PM=(e,t)=>Ee(e)&&(t(e)||e.name==="br"),LM=e=>{let t;for(let o=e;o;o=o.parent){const s=o.attr("contenteditable");if(s==="false")break;s==="true"&&(t=o)}return P.from(t)},bA=e=>{const t=[];for(let o=e.firstChild;Ee(o);o=o.walk())t.push(o);return t},S_=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const s=e.children();for(const a of s)o&&!t.isValidChild(o.name,a.name)&&S_(a,t,o);e.unwrap()}},U3=(e,t,o,s=fo)=>{const a=t.getTextBlockElements(),c=t.getNonEmptyElements(),d=t.getWhitespaceElements(),g=$e.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),b=new Set,_=T=>T!==o&&!g[T.name];for(let T=0;T<e.length;T++){const N=e[T];let R,I,Y;if(!N.parent||b.has(N))continue;if(a[N.name]&&N.parent.name==="li"){let W=N.next;for(;W&&a[W.name];){W.name="li",b.add(W),N.parent.insert(W,N.parent);W=W.next}N.unwrap();continue}const G=[N];for(R=N.parent;R&&!t.isValidChild(R.name,N.name)&&_(R);R=R.parent)G.push(R);if(R&&G.length>1)if(Z3(t,N,R))S_(N,t);else{G.reverse(),I=G[0].clone(),s(I);let W=I;for(let ce=0;ce<G.length-1;ce++){t.isValidChild(W.name,G[ce].name)&&ce>0?(Y=G[ce].clone(),s(Y),W.append(Y)):Y=W;for(let le=G[ce].firstChild;le&&le!==G[ce+1];){const fe=le.next;Y.append(le),le=fe}W=Y}iv(t,c,d,I)?R.insert(N,G[0],!0):(R.insert(I,G[0],!0),R.insert(N,I)),R=G[0],(iv(t,c,d,R)||hA(R,"br"))&&R.empty().remove()}else if(N.parent){if(N.name==="li"){let W=N.prev;if(W&&(W.name==="ul"||W.name==="ol")){W.append(N);continue}if(W=N.next,W&&(W.name==="ul"||W.name==="ol")&&W.firstChild){W.insert(N,W.firstChild,!0);continue}const ce=new ca("ul",1);s(ce),N.wrap(ce);continue}if(t.isValidChild(N.parent.name,"div")&&t.isValidChild("div",N.name)){const W=new ca("div",1);s(W),N.wrap(W)}else S_(N,t)}}},xA=(e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1},Z3=(e,t,o=t.parent)=>o?e.children[t.name]&&!e.isValidChild(o.name,t.name)||t.name==="a"&&xA(o,"a")?!0:NM(o)&&uA(t)?!(o?.firstChild===t&&o?.lastChild===t):!1:!1,vA=(e,t,o,s)=>{const a=document.createRange();return a.setStart(e,t),a.setEnd(o,s),a},IM=e=>{const t=Ae.fromRangeStart(e),o=Ae.fromRangeEnd(e),s=e.commonAncestorContainer;return Wl(!1,s,o).map(a=>!yu(t,o,s)&&yu(t,a,s)?vA(t.container(),t.offset(),a.container(),a.offset()):e).getOr(e)},E_=e=>e.collapsed?e:IM(e),yA=$e.explode,_A=()=>{const e={};return{addFilter:(a,c)=>{Te(yA(a),d=>{Xt(e,d)||(e[d]={name:d,callbacks:[]}),e[d].callbacks.push(c)})},getFilters:()=>rs(e),removeFilter:(a,c)=>{Te(yA(a),d=>{if(Xt(e,d))if(Ee(c)){const g=e[d],b=Pt(g.callbacks,_=>_!==c);b.length>0?g.callbacks=b:delete e[d]}else delete e[d]})}}},FM=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),zM=e=>e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),W3=(e,t)=>{Te(t,o=>{e.attr(o,null)})},j3=(e,t,o)=>{e.addNodeFilter("font",s=>{Te(s,a=>{const c=t.parse(a.attr("style")),d=a.attr("color"),g=a.attr("face"),b=a.attr("size");d&&(c.color=d),g&&(c["font-family"]=g),b&&r1(b).each(_=>{c["font-size"]=o[_-1]}),a.name="span",a.attr("style",t.serialize(c)),W3(a,["color","face","size"])})})},HM=(e,t,o)=>{e.addNodeFilter("strike",s=>{const a=t.type!=="html4";Te(s,c=>{if(a)c.name="s";else{const d=o.parse(c.attr("style"));d["text-decoration"]="line-through",c.name="span",c.attr("style",o.serialize(d))}})})},wA=(e,t,o)=>{var s;const a=qp();t.convert_fonts_to_spans&&j3(e,a,$e.explode((s=t.font_size_legacy_values)!==null&&s!==void 0?s:"")),HM(e,o,a)},$M=(e,t,o)=>{t.inline_styles&&wA(e,t,o)},VM=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),UM=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},ZM=e=>{try{return decodeURIComponent(e)}catch{return e}},q3=e=>{const[t,...o]=e.split(","),s=o.join(","),a=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(a){const c=a[2]===";base64",d=ZM(s),g=c?UM(d):d;return P.some({type:a[1],data:g,base64Encoded:c})}else return P.none()},CA=(e,t,o=!0)=>{let s=t;if(o)try{s=atob(t)}catch{return P.none()}const a=new Uint8Array(s.length);for(let c=0;c<a.length;c++)a[c]=s.charCodeAt(c);return P.some(new Blob([a],{type:e}))},WM=e=>new Promise((t,o)=>{q3(e).bind(({type:s,data:a,base64Encoded:c})=>CA(s,a,c)).fold(()=>o("Invalid data URI"),t)}),jM=e=>lo(e,"blob:")?VM(e):lo(e,"data:")?WM(e):Promise.reject("Unknown URI format"),T_=e=>new Promise((t,o)=>{const s=new FileReader;s.onloadend=()=>{t(s.result)},s.onerror=()=>{var a;o((a=s.error)===null||a===void 0?void 0:a.message)},s.readAsDataURL(e)});let qM=0;const GM=e=>"blobid"+qM++,kA=(e,t,o)=>q3(e).bind(({data:s,type:a,base64Encoded:c})=>{if(t&&!c)return P.none();{const d=c?s:btoa(s);return o(d,a)}}),G3=(e,t,o)=>{const s=e.create(GM(),t,o);return e.add(s),s},Eg=(e,t,o=!1)=>kA(t,o,(s,a)=>P.from(e.getByData(s,a)).orThunk(()=>CA(a,s).map(c=>G3(e,c,s)))),SA=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(lo(t,"blob:")){const s=e.getByUri(t);return Ee(s)?Promise.resolve(s):jM(t).then(a=>T_(a).then(c=>kA(c,!1,d=>P.some(G3(e,a,d))).getOrThunk(o)))}else return lo(t,"data:")?Eg(e,t).fold(o,s=>Promise.resolve(s)):Promise.reject("Unknown image data format")},KM=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,P0=e=>P.from(e.match(KM)).bind(t=>$o(t,1)).map(t=>lo(t,"www.")?t.substring(4):t),EA=(e,t)=>{P.from(e.attr("src")).bind(P0).forall(o=>!wo(t,o))&&e.attr("sandbox","")},lv=(e,t)=>lo(e,`${t}/`),K3=e=>Cs(e)?"iframe":lv(e,"image")?"img":lv(e,"video")?"video":lv(e,"audio")?"audio":"iframe",YM=({type:e,src:t,width:o,height:s}={},a,c)=>{const d=K3(e),g=new ca(d,1);return g.attr(d==="audio"?{src:t}:{src:t,width:o,height:s}),(d==="audio"||d==="video")&&g.attr("controls",""),d==="iframe"&&a&&EA(g,c),g},TA=e=>Ee(e.attr("data-mce-bogus")),A_=e=>e.attr("src")===Vo.transparentSrc||Ee(e.attr("data-mce-placeholder")),XM=(e,t)=>{const{blob_cache:o}=t;if(o){const s=a=>{const c=a.attr("src");A_(a)||TA(a)||zo(c)||Eg(o,c,!0).each(d=>{a.attr("src",d.blobUri())})};e.addAttributeFilter("src",a=>Te(a,s))}},JM=(e,t)=>{var o,s;const a=e.schema;e.addAttributeFilter("href",b=>{let _=b.length;const T=R=>R.split(" ").filter(Y=>Y.length>0).concat(["noopener"]).sort().join(" "),N=R=>{const I=R?$e.trim(R):"";return/\b(noopener)\b/g.test(I)?I:T(I)};if(!t.allow_unsafe_link_target)for(;_--;){const R=b[_];R.name==="a"&&R.attr("target")==="_blank"&&R.attr("rel",N(R.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",b=>{let _=b.length,T,N,R,I;for(;_--;)if(I=b[_],I.name==="a"&&I.firstChild&&!I.attr("href"))for(R=I.parent,T=I.lastChild;T&&R;)N=T.prev,R.insert(T,I),T=N}),t.fix_list_elements&&e.addNodeFilter("ul,ol",b=>{let _=b.length,T,N;for(;_--;)if(T=b[_],N=T.parent,N&&(N.name==="ul"||N.name==="ol"))if(T.prev&&T.prev.name==="li")T.prev.append(T);else{const R=new ca("li",1);R.attr("style","list-style-type: none"),T.wrap(R)}});const c=a.getValidClasses();t.validate&&c&&e.addAttributeFilter("class",b=>{var _;let T=b.length;for(;T--;){const N=b[T],R=(_=N.attr("class"))!==null&&_!==void 0?_:"",I=$e.explode(R," ");let Y="";for(let G=0;G<I.length;G++){const W=I[G];let ce=!1,le=c["*"];le&&le[W]&&(ce=!0),le=c[N.name],!ce&&le&&le[W]&&(ce=!0),ce&&(Y&&(Y+=" "),Y+=W)}Y.length||(Y=null),N.attr("class",Y)}}),XM(e,t);const d=(o=t.sandbox_iframes)!==null&&o!==void 0?o:!1,g=uf((s=t.sandbox_iframes_exclusions)!==null&&s!==void 0?s:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",b=>Te(b,_=>{_.replace(YM({type:_.attr("type"),src:_.name==="object"?_.attr("data"):_.attr("src"),width:_.attr("width"),height:_.attr("height")},d,g))})),d&&e.addNodeFilter("iframe",b=>Te(b,_=>EA(_,g)))};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:AA,setPrototypeOf:OA,isFrozen:Y3,getPrototypeOf:QM,getOwnPropertyDescriptor:eB}=Object;let{freeze:Wi,seal:Fc,create:DA}=Object,{apply:X3,construct:J3}=typeof Reflect<"u"&&Reflect;Wi||(Wi=function(t){return t}),Fc||(Fc=function(t){return t}),X3||(X3=function(t,o,s){return t.apply(o,s)}),J3||(J3=function(t,o){return new t(...o)});const O_=qi(Array.prototype.forEach),tB=qi(Array.prototype.lastIndexOf),NA=qi(Array.prototype.pop),cv=qi(Array.prototype.push),RA=qi(Array.prototype.splice),D_=qi(String.prototype.toLowerCase),Q3=qi(String.prototype.toString),MA=qi(String.prototype.match),Ph=qi(String.prototype.replace),oB=qi(String.prototype.indexOf),nB=qi(String.prototype.trim),Rd=qi(Object.prototype.hasOwnProperty),ji=qi(RegExp.prototype.test),dv=sB(TypeError);function qi(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];return X3(e,t,s)}}function sB(e){return function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return J3(e,o)}}function kn(e,t){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D_;OA&&OA(e,null);let s=t.length;for(;s--;){let a=t[s];if(typeof a=="string"){const c=o(a);c!==a&&(Y3(t)||(t[s]=c),a=c)}e[a]=!0}return e}function rB(e){for(let t=0;t<e.length;t++)Rd(e,t)||(e[t]=null);return e}function Jm(e){const t=DA(null);for(const[o,s]of AA(e))Rd(e,o)&&(Array.isArray(s)?t[o]=rB(s):s&&typeof s=="object"&&s.constructor===Object?t[o]=Jm(s):t[o]=s);return t}function uv(e,t){for(;e!==null;){const s=eB(e,t);if(s){if(s.get)return qi(s.get);if(typeof s.value=="function")return qi(s.value)}e=QM(e)}function o(){return null}return o}const BA=Wi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),N_=Wi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),R_=Wi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),aB=Wi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ek=Wi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),iB=Wi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),M_=Wi(["#text"]),L0=Wi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),B_=Wi(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),I0=Wi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Tg=Wi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),mv=Fc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Md=Fc(/<%[\w\W]*|[\w\W]*%>/gm),Lh=Fc(/\$\{[\w\W]*/gm),tk=Fc(/^data-[\-\w.\u00B7-\uFFFF]+$/),PA=Fc(/^aria-[\-\w]+$/),F0=Fc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),LA=Fc(/^(?:\w+script|data):/i),lB=Fc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),z0=Fc(/^html$/i),IA=Fc(/^[a-z][.\w]*(-[.\w]+)+$/i);var ws=Object.freeze({__proto__:null,ARIA_ATTR:PA,ATTR_WHITESPACE:lB,CUSTOM_ELEMENT:IA,DATA_ATTR:tk,DOCTYPE_NAME:z0,ERB_EXPR:Md,IS_ALLOWED_URI:F0,IS_SCRIPT_OR_DATA:LA,MUSTACHE_EXPR:mv,TMPLIT_EXPR:Lh});const fv={element:1,text:3,progressingInstruction:7,comment:8,document:9},cB=function(){return typeof window>"u"?null:window},H0=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const a="data-tt-policy-suffix";o&&o.hasAttribute(a)&&(s=o.getAttribute(a));const c="dompurify"+(s?"#"+s:"");try{return t.createPolicy(c,{createHTML(d){return d},createScriptURL(d){return d}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}},Ag=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Og(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cB();const t=To=>Og(To);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==fv.document||!e.Element)return t.isSupported=!1,t;let{document:o}=e;const s=o,a=s.currentScript,{DocumentFragment:c,HTMLTemplateElement:d,Node:g,Element:b,NodeFilter:_,NamedNodeMap:T=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:N,DOMParser:R,trustedTypes:I}=e,Y=b.prototype,G=uv(Y,"cloneNode"),W=uv(Y,"remove"),ce=uv(Y,"nextSibling"),le=uv(Y,"childNodes"),fe=uv(Y,"parentNode");if(typeof d=="function"){const To=o.createElement("template");To.content&&To.content.ownerDocument&&(o=To.content.ownerDocument)}let ve,Pe="";const{implementation:tt,createNodeIterator:We,createDocumentFragment:De,getElementsByTagName:Se}=o,{importNode:Ie}=s;let gt=Ag();t.isSupported=typeof AA=="function"&&typeof fe=="function"&&tt&&tt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Mt,ERB_EXPR:oo,TMPLIT_EXPR:xo,DATA_ATTR:hn,ARIA_ATTR:Mn,IS_SCRIPT_OR_DATA:ur,ATTR_WHITESPACE:mr,CUSTOM_ELEMENT:oc}=ws;let{IS_ALLOWED_URI:rt}=ws,Et=null;const Wo=kn({},[...BA,...N_,...R_,...ek,...M_]);let Yo=null;const xt=kn({},[...L0,...B_,...I0,...Tg]);let Ye=Object.seal(DA(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ct=null,jt=null,qt=!0,jo=!0,Gn=!1,nc=!0,Xi=!1,Zd=!0,$c=!1,Ci=!1,Ji=!1,Wd=!1,cb=!1,Nt=!1,Fo=!0,Es=!1;const Br="user-content-";let Gr=!0,yr=!1,us={},ms=null;const Qi=kn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Fu=null;const qg=kn({},["audio","video","img","source","image","track"]);let af=null;const eC=kn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tC="http://www.w3.org/1998/Math/MathML",Jv="http://www.w3.org/2000/svg",zu="http://www.w3.org/1999/xhtml";let db=zu,vE=!1,oC=null;const qH=kn({},[tC,Jv,zu],Q3);let yE=kn({},["mi","mo","mn","ms","mtext"]),_E=kn({},["annotation-xml"]);const GH=kn({},["title","style","font","a","script"]);let nC=null;const ub=["application/xhtml+xml","text/html"],AD="text/html";let be=null,_e=null;const st=o.createElement("form"),Qe=function(ke){return ke instanceof RegExp||ke instanceof Function},$t=function(){let ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(_e&&_e===ke)){if((!ke||typeof ke!="object")&&(ke={}),ke=Jm(ke),nC=ub.indexOf(ke.PARSER_MEDIA_TYPE)===-1?AD:ke.PARSER_MEDIA_TYPE,be=nC==="application/xhtml+xml"?Q3:D_,Et=Rd(ke,"ALLOWED_TAGS")?kn({},ke.ALLOWED_TAGS,be):Wo,Yo=Rd(ke,"ALLOWED_ATTR")?kn({},ke.ALLOWED_ATTR,be):xt,oC=Rd(ke,"ALLOWED_NAMESPACES")?kn({},ke.ALLOWED_NAMESPACES,Q3):qH,af=Rd(ke,"ADD_URI_SAFE_ATTR")?kn(Jm(eC),ke.ADD_URI_SAFE_ATTR,be):eC,Fu=Rd(ke,"ADD_DATA_URI_TAGS")?kn(Jm(qg),ke.ADD_DATA_URI_TAGS,be):qg,ms=Rd(ke,"FORBID_CONTENTS")?kn({},ke.FORBID_CONTENTS,be):Qi,ct=Rd(ke,"FORBID_TAGS")?kn({},ke.FORBID_TAGS,be):Jm({}),jt=Rd(ke,"FORBID_ATTR")?kn({},ke.FORBID_ATTR,be):Jm({}),us=Rd(ke,"USE_PROFILES")?ke.USE_PROFILES:!1,qt=ke.ALLOW_ARIA_ATTR!==!1,jo=ke.ALLOW_DATA_ATTR!==!1,Gn=ke.ALLOW_UNKNOWN_PROTOCOLS||!1,nc=ke.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Xi=ke.SAFE_FOR_TEMPLATES||!1,Zd=ke.SAFE_FOR_XML!==!1,$c=ke.WHOLE_DOCUMENT||!1,Wd=ke.RETURN_DOM||!1,cb=ke.RETURN_DOM_FRAGMENT||!1,Nt=ke.RETURN_TRUSTED_TYPE||!1,Ji=ke.FORCE_BODY||!1,Fo=ke.SANITIZE_DOM!==!1,Es=ke.SANITIZE_NAMED_PROPS||!1,Gr=ke.KEEP_CONTENT!==!1,yr=ke.IN_PLACE||!1,rt=ke.ALLOWED_URI_REGEXP||F0,db=ke.NAMESPACE||zu,yE=ke.MATHML_TEXT_INTEGRATION_POINTS||yE,_E=ke.HTML_INTEGRATION_POINTS||_E,Ye=ke.CUSTOM_ELEMENT_HANDLING||{},ke.CUSTOM_ELEMENT_HANDLING&&Qe(ke.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ye.tagNameCheck=ke.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ke.CUSTOM_ELEMENT_HANDLING&&Qe(ke.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ye.attributeNameCheck=ke.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ke.CUSTOM_ELEMENT_HANDLING&&typeof ke.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ye.allowCustomizedBuiltInElements=ke.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Xi&&(jo=!1),cb&&(Wd=!0),us&&(Et=kn({},M_),Yo=[],us.html===!0&&(kn(Et,BA),kn(Yo,L0)),us.svg===!0&&(kn(Et,N_),kn(Yo,B_),kn(Yo,Tg)),us.svgFilters===!0&&(kn(Et,R_),kn(Yo,B_),kn(Yo,Tg)),us.mathMl===!0&&(kn(Et,ek),kn(Yo,I0),kn(Yo,Tg))),ke.ADD_TAGS&&(Et===Wo&&(Et=Jm(Et)),kn(Et,ke.ADD_TAGS,be)),ke.ADD_ATTR&&(Yo===xt&&(Yo=Jm(Yo)),kn(Yo,ke.ADD_ATTR,be)),ke.ADD_URI_SAFE_ATTR&&kn(af,ke.ADD_URI_SAFE_ATTR,be),ke.FORBID_CONTENTS&&(ms===Qi&&(ms=Jm(ms)),kn(ms,ke.FORBID_CONTENTS,be)),Gr&&(Et["#text"]=!0),$c&&kn(Et,["html","head","body"]),Et.table&&(kn(Et,["tbody"]),delete ct.tbody),ke.TRUSTED_TYPES_POLICY){if(typeof ke.TRUSTED_TYPES_POLICY.createHTML!="function")throw dv('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ke.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw dv('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ve=ke.TRUSTED_TYPES_POLICY,Pe=ve.createHTML("")}else ve===void 0&&(ve=H0(I,a)),ve!==null&&typeof Pe=="string"&&(Pe=ve.createHTML(""));Wi&&Wi(ke),_e=ke}},Uo=kn({},[...N_,...R_,...aB]),Ts=kn({},[...ek,...iB]),lf=function(ke){let Tt=fe(ke);(!Tt||!Tt.tagName)&&(Tt={namespaceURI:db,tagName:"template"});const po=D_(ke.tagName),Pr=D_(Tt.tagName);return oC[ke.namespaceURI]?ke.namespaceURI===Jv?Tt.namespaceURI===zu?po==="svg":Tt.namespaceURI===tC?po==="svg"&&(Pr==="annotation-xml"||yE[Pr]):!!Uo[po]:ke.namespaceURI===tC?Tt.namespaceURI===zu?po==="math":Tt.namespaceURI===Jv?po==="math"&&_E[Pr]:!!Ts[po]:ke.namespaceURI===zu?Tt.namespaceURI===Jv&&!_E[Pr]||Tt.namespaceURI===tC&&!yE[Pr]?!1:!Ts[po]&&(GH[po]||!Uo[po]):!!(nC==="application/xhtml+xml"&&oC[ke.namespaceURI]):!1},Hu=function(ke){cv(t.removed,{element:ke});try{fe(ke).removeChild(ke)}catch{W(ke)}},sC=function(ke,Tt){try{cv(t.removed,{attribute:Tt.getAttributeNode(ke),from:Tt})}catch{cv(t.removed,{attribute:null,from:Tt})}if(Tt.removeAttribute(ke),ke==="is")if(Wd||cb)try{Hu(Tt)}catch{}else try{Tt.setAttribute(ke,"")}catch{}},KH=function(ke){let Tt=null,po=null;if(Ji)ke="<remove></remove>"+ke;else{const oi=MA(ke,/^[\r\n\t ]+/);po=oi&&oi[0]}nC==="application/xhtml+xml"&&db===zu&&(ke='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ke+"</body></html>");const Pr=ve?ve.createHTML(ke):ke;if(db===zu)try{Tt=new R().parseFromString(Pr,nC)}catch{}if(!Tt||!Tt.documentElement){Tt=tt.createDocument(db,"template",null);try{Tt.documentElement.innerHTML=vE?Pe:Pr}catch{}}const Sl=Tt.body||Tt.documentElement;return ke&&po&&Sl.insertBefore(o.createTextNode(po),Sl.childNodes[0]||null),db===zu?Se.call(Tt,$c?"html":"body")[0]:$c?Tt.documentElement:Sl},YH=function(ke){return We.call(ke.ownerDocument||ke,ke,_.SHOW_ELEMENT|_.SHOW_COMMENT|_.SHOW_TEXT|_.SHOW_PROCESSING_INSTRUCTION|_.SHOW_CDATA_SECTION,null)},mI=function(ke){return ke instanceof N&&(typeof ke.nodeName!="string"||typeof ke.textContent!="string"||typeof ke.removeChild!="function"||!(ke.attributes instanceof T)||typeof ke.removeAttribute!="function"||typeof ke.setAttribute!="function"||typeof ke.namespaceURI!="string"||typeof ke.insertBefore!="function"||typeof ke.hasChildNodes!="function")},XH=function(ke){return typeof g=="function"&&ke instanceof g};function Xh(To,ke,Tt){O_(To,po=>{po.call(t,ke,Tt,_e)})}const JH=function(ke){let Tt=null;if(Xh(gt.beforeSanitizeElements,ke,null),mI(ke))return Hu(ke),!0;const po=be(ke.nodeName);if(Xh(gt.uponSanitizeElement,ke,{tagName:po,allowedTags:Et}),Zd&&ke.hasChildNodes()&&!XH(ke.firstElementChild)&&ji(/<[/\w!]/g,ke.innerHTML)&&ji(/<[/\w!]/g,ke.textContent)||ke.nodeType===fv.progressingInstruction||Zd&&ke.nodeType===fv.comment&&ji(/<[/\w]/g,ke.data))return Hu(ke),!0;if(!Et[po]||ct[po]){if(!ct[po]&&e$(po)&&(Ye.tagNameCheck instanceof RegExp&&ji(Ye.tagNameCheck,po)||Ye.tagNameCheck instanceof Function&&Ye.tagNameCheck(po)))return!1;if(Gr&&!ms[po]){const Pr=fe(ke)||ke.parentNode,Sl=le(ke)||ke.childNodes;if(Sl&&Pr){const oi=Sl.length;for(let Vc=oi-1;Vc>=0;--Vc){const Jh=G(Sl[Vc],!0);Jh.__removalCount=(ke.__removalCount||0)+1,Pr.insertBefore(Jh,ce(ke))}}}return Hu(ke),!0}return ke instanceof b&&!lf(ke)||(po==="noscript"||po==="noembed"||po==="noframes")&&ji(/<\/no(script|embed|frames)/i,ke.innerHTML)?(Hu(ke),!0):(Xi&&ke.nodeType===fv.text&&(Tt=ke.textContent,O_([Mt,oo,xo],Pr=>{Tt=Ph(Tt,Pr," ")}),ke.textContent!==Tt&&(cv(t.removed,{element:ke.cloneNode()}),ke.textContent=Tt)),Xh(gt.afterSanitizeElements,ke,null),!1)},QH=function(ke,Tt,po){if(Fo&&(Tt==="id"||Tt==="name")&&(po in o||po in st))return!1;if(!(jo&&!jt[Tt]&&ji(hn,Tt))){if(!(qt&&ji(Mn,Tt))){if(!Yo[Tt]||jt[Tt]){if(!(e$(ke)&&(Ye.tagNameCheck instanceof RegExp&&ji(Ye.tagNameCheck,ke)||Ye.tagNameCheck instanceof Function&&Ye.tagNameCheck(ke))&&(Ye.attributeNameCheck instanceof RegExp&&ji(Ye.attributeNameCheck,Tt)||Ye.attributeNameCheck instanceof Function&&Ye.attributeNameCheck(Tt))||Tt==="is"&&Ye.allowCustomizedBuiltInElements&&(Ye.tagNameCheck instanceof RegExp&&ji(Ye.tagNameCheck,po)||Ye.tagNameCheck instanceof Function&&Ye.tagNameCheck(po))))return!1}else if(!af[Tt]){if(!ji(rt,Ph(po,mr,""))){if(!((Tt==="src"||Tt==="xlink:href"||Tt==="href")&&ke!=="script"&&oB(po,"data:")===0&&Fu[ke])){if(!(Gn&&!ji(ur,Ph(po,mr,"")))){if(po)return!1}}}}}}return!0},e$=function(ke){return ke!=="annotation-xml"&&MA(ke,oc)},t$=function(ke){Xh(gt.beforeSanitizeAttributes,ke,null);const{attributes:Tt}=ke;if(!Tt||mI(ke))return;const po={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Yo,forceKeepAttr:void 0};let Pr=Tt.length;for(;Pr--;){const Sl=Tt[Pr],{name:oi,namespaceURI:Vc,value:Jh}=Sl,wE=be(oi),fI=Jh;let El=oi==="value"?fI:nB(fI);if(po.attrName=wE,po.attrValue=El,po.keepAttr=!0,po.forceKeepAttr=void 0,Xh(gt.uponSanitizeAttribute,ke,po),El=po.attrValue,Es&&(wE==="id"||wE==="name")&&(sC(oi,ke),El=Br+El),Zd&&ji(/((--!?|])>)|<\/(style|title)/i,El)){sC(oi,ke);continue}if(po.forceKeepAttr)continue;if(!po.keepAttr){sC(oi,ke);continue}if(!nc&&ji(/\/>/i,El)){sC(oi,ke);continue}Xi&&O_([Mt,oo,xo],n$=>{El=Ph(El,n$," ")});const o$=be(ke.nodeName);if(!QH(o$,wE,El)){sC(oi,ke);continue}if(ve&&typeof I=="object"&&typeof I.getAttributeType=="function"&&!Vc)switch(I.getAttributeType(o$,wE)){case"TrustedHTML":{El=ve.createHTML(El);break}case"TrustedScriptURL":{El=ve.createScriptURL(El);break}}if(El!==fI)try{Vc?ke.setAttributeNS(Vc,oi,El):ke.setAttribute(oi,El),mI(ke)?Hu(ke):NA(t.removed)}catch{sC(oi,ke)}}Xh(gt.afterSanitizeAttributes,ke,null)},cJ=function To(ke){let Tt=null;const po=YH(ke);for(Xh(gt.beforeSanitizeShadowDOM,ke,null);Tt=po.nextNode();)Xh(gt.uponSanitizeShadowNode,Tt,null),JH(Tt),t$(Tt),Tt.content instanceof c&&To(Tt.content);Xh(gt.afterSanitizeShadowDOM,ke,null)};return t.sanitize=function(To){let ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Tt=null,po=null,Pr=null,Sl=null;if(vE=!To,vE&&(To="<!-->"),typeof To!="string"&&!XH(To))if(typeof To.toString=="function"){if(To=To.toString(),typeof To!="string")throw dv("dirty is not a string, aborting")}else throw dv("toString is not a function");if(!t.isSupported)return To;if(Ci||$t(ke),t.removed=[],typeof To=="string"&&(yr=!1),yr){if(To.nodeName){const Jh=be(To.nodeName);if(!Et[Jh]||ct[Jh])throw dv("root node is forbidden and cannot be sanitized in-place")}}else if(To instanceof g)Tt=KH("<!---->"),po=Tt.ownerDocument.importNode(To,!0),po.nodeType===fv.element&&po.nodeName==="BODY"||po.nodeName==="HTML"?Tt=po:Tt.appendChild(po);else{if(!Wd&&!Xi&&!$c&&To.indexOf("<")===-1)return ve&&Nt?ve.createHTML(To):To;if(Tt=KH(To),!Tt)return Wd?null:Nt?Pe:""}Tt&&Ji&&Hu(Tt.firstChild);const oi=YH(yr?To:Tt);for(;Pr=oi.nextNode();)JH(Pr),t$(Pr),Pr.content instanceof c&&cJ(Pr.content);if(yr)return To;if(Wd){if(cb)for(Sl=De.call(Tt.ownerDocument);Tt.firstChild;)Sl.appendChild(Tt.firstChild);else Sl=Tt;return(Yo.shadowroot||Yo.shadowrootmode)&&(Sl=Ie.call(s,Sl,!0)),Sl}let Vc=$c?Tt.outerHTML:Tt.innerHTML;return $c&&Et["!doctype"]&&Tt.ownerDocument&&Tt.ownerDocument.doctype&&Tt.ownerDocument.doctype.name&&ji(z0,Tt.ownerDocument.doctype.name)&&(Vc="<!DOCTYPE "+Tt.ownerDocument.doctype.name+`>
`+Vc),Xi&&O_([Mt,oo,xo],Jh=>{Vc=Ph(Vc,Jh," ")}),ve&&Nt?ve.createHTML(Vc):Vc},t.setConfig=function(){let To=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$t(To),Ci=!0},t.clearConfig=function(){_e=null,Ci=!1},t.isValidAttribute=function(To,ke,Tt){_e||$t({});const po=be(To),Pr=be(ke);return QH(po,Pr,Tt)},t.addHook=function(To,ke){typeof ke=="function"&&cv(gt[To],ke)},t.removeHook=function(To,ke){if(ke!==void 0){const Tt=tB(gt[To],ke);return Tt===-1?void 0:RA(gt[To],Tt,1)[0]}return NA(gt[To])},t.removeHooks=function(To){gt[To]=[]},t.removeAllHooks=function(){gt=Ag()},t}var ok=Og();const P_=$e.each,nk=$e.trim,FA=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],zA={ftp:21,http:80,https:443,mailto:25},dB=["img","video"],uB=(e,t)=>Ee(e)?!e:Ee(t)?!wo(dB,t):!0,sk=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},L_=(e,t,o)=>{const s=sk(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(s)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(s)?uB(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)};class Jl{static parseDataUri(t){let o;const s=decodeURIComponent(t).split(","),a=/data:([^;]+)/.exec(s[0]);return a&&(o=a[1]),{type:o,data:s[1]}}static isDomSafe(t,o,s={}){if(s.allow_script_urls)return!0;{const a=md.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!L_(s,a,o)}}static getDocumentBaseUrl(t){var o;let s;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?s=(o=t.href)!==null&&o!==void 0?o:"":s=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s}constructor(t,o={}){this.path="",this.directory="",t=nk(t),this.settings=o;const s=o.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){a.source=t;return}const c=t.indexOf("//")===0;if(t.indexOf("/")===0&&!c&&(t=(s&&s.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const g=s?s.path:new Jl(document.location.href).directory;if(s?.protocol==="")t="//mce_host"+a.toAbsPath(g,t);else{const b=/([^#?]*)([#?]?.*)/.exec(t);b&&(t=(s&&s.protocol||"http")+"://mce_host"+a.toAbsPath(g,b[1])+b[2])}}t=t.replace(/@@/g,"(mce_at)");const d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);d&&P_(FA,(g,b)=>{let _=d[b];_&&(_=_.replace(/\(mce_at\)/g,"@@")),a[g]=_}),s&&(a.protocol||(a.protocol=s.protocol),a.userInfo||(a.userInfo=s.userInfo),!a.port&&a.host==="mce_host"&&(a.port=s.port),(!a.host||a.host==="mce_host")&&(a.host=s.host),a.source=""),c&&(a.protocol="")}setPath(t){const o=/^(.*?)\/?(\w+)?$/.exec(t);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const o=new Jl(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const s=this.getURI(),a=o.getURI();if(s===a||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===a)return s;let c=this.toRelPath(this.path,o.path);return o.query&&(c+="?"+o.query),o.anchor&&(c+="#"+o.anchor),c}toAbsolute(t,o){const s=new Jl(t,{base_uri:this});return s.getURI(o&&this.isSameOrigin(s))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const o=this.protocol?zA[this.protocol]:null;if(o&&(this.port||o)==(t.port||o))return!0}return!1}toRelPath(t,o){let s=0,a="",c,d;const g=t.substring(0,t.lastIndexOf("/")).split("/"),b=o.split("/");if(g.length>=b.length){for(c=0,d=g.length;c<d;c++)if(c>=b.length||g[c]!==b[c]){s=c+1;break}}if(g.length<b.length){for(c=0,d=b.length;c<d;c++)if(c>=g.length||g[c]!==b[c]){s=c+1;break}}if(s===1)return o;for(c=0,d=g.length-(s-1);c<d;c++)a+="../";for(c=s-1,d=b.length;c<d;c++)c!==s-1?a+="/"+b[c]:a+=b[c];return a}toAbsPath(t,o){let s=0;const a=/\/$/.test(o)?"/":"",c=t.split("/"),d=o.split("/"),g=[];P_(c,N=>{N&&g.push(N)});const b=[];for(let N=d.length-1;N>=0;N--)if(!(d[N].length===0||d[N]===".")){if(d[N]===".."){s++;continue}if(s>0){s--;continue}b.push(d[N])}const _=g.length-s;let T;return _<=0?T=Si(b).join("/"):T=g.slice(0,_).join("/")+"/"+Si(b).join("/"),T.indexOf("/")!==0&&(T="/"+T),a&&T.lastIndexOf("/")!==T.length-1&&(T+=a),T}getURI(t=!1){let o;return(!this.source||t)&&(o="",t||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const $0=$e.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),I_="data-mce-type";let rk=0;const ak=(e,t,o,s,a)=>{var c,d,g,b;const _=t.validate,T=o.getSpecialElements();e.nodeType===Cf&&(!t.allow_conditional_comments&&/^\[if/i.test((c=e.nodeValue)!==null&&c!==void 0?c:"")&&(e.nodeValue=" "+e.nodeValue),t.sanitize&&t.allow_html_in_comments&&Je(e.nodeValue)&&(e.nodeValue=FM(e.nodeValue)));const N=(d=a?.tagName)!==null&&d!==void 0?d:e.nodeName.toLowerCase();if(s!=="html"&&o.isValid(s)){Ee(a)&&(a.allowedTags[N]=!0);return}if(e.nodeType!==sl||N==="body")return;const R=Z.fromDom(e),I=im(R,I_),Y=fa(R,"data-mce-bogus");if(!I&&Je(Y)){Y==="all"?Tn(R):ii(R);return}const G=o.getElementRule(N);if(_&&!G){Xt(T,N)?Tn(R):ii(R);return}else Ee(a)&&(a.allowedTags[N]=!0);if(_&&G&&!I){if(Te((g=G.attributesForced)!==null&&g!==void 0?g:[],W=>{Zs(R,W.name,W.value==="{$uid}"?`mce_${rk++}`:W.value)}),Te((b=G.attributesDefault)!==null&&b!==void 0?b:[],W=>{im(R,W.name)||Zs(R,W.name,W.value==="{$uid}"?`mce_${rk++}`:W.value)}),G.attributesRequired&&!Sn(G.attributesRequired,W=>im(R,W))){ii(R);return}if(G.removeEmptyAttrs&&C1(R)){ii(R);return}G.outputName&&G.outputName!==N&&cm(R,G.outputName)}},HA=(e,t,o,s,a)=>{const c=e.tagName.toLowerCase(),{attrName:d,attrValue:g}=a;a.keepAttr=ik(t,o,s,c,d,g),a.keepAttr?(a.allowedAttributes[d]=!0,ck(d,o)&&(a.attrValue=d),t.allow_svg_data_urls&&lo(g,"data:image/svg+xml")&&(a.forceKeepAttr=!0)):lk(e,d)&&(a.forceKeepAttr=!0)},ik=(e,t,o,s,a,c)=>o!=="html"&&!xm(s)?!0:!(a in $0&&L_(e,c,s))&&(!e.validate||t.isValid(s,a)||lo(a,"data-")||lo(a,"aria-")),lk=(e,t)=>e.hasAttribute(I_)&&(t==="id"||t==="class"||t==="style"),ck=(e,t)=>e in t.getBoolAttrs(),$A=(e,t,o,s)=>{const{attributes:a}=e;for(let c=a.length-1;c>=0;c--){const d=a[c],g=d.name,b=d.value;!ik(t,o,s,e.tagName.toLowerCase(),g,b)&&!lk(e,g)?e.removeAttribute(g):ck(g,o)&&e.setAttribute(g,g)}},VA=(e,t,o)=>{const s=ok();return s.addHook("uponSanitizeElement",(a,c)=>{ak(a,e,t,o.track(a),c)}),s.addHook("uponSanitizeAttribute",(a,c)=>{HA(a,e,t,o.current(),c)}),s},dk=(e,t)=>{const s={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return s.PARSER_MEDIA_TYPE=t,e.allow_script_urls?s.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(s.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),s},gv=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(s=>`xlink:${s}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};ok().sanitize(e,o)},pv=(e,t)=>{const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},s=ok(),a=t.allow_mathml_annotation_encodings,c=ie(a)&&a.length>0,d=b=>{const _=b.getAttribute("encoding");return c&&Je(_)&&wo(a,_)},g=(b,_)=>c&&_==="semantics"?P.some(!0):_==="annotation"?P.some(ft(b)&&d(b)):ie(t.extended_mathml_elements)&&t.extended_mathml_elements.includes(_)?P.from(!0):P.none();s.addHook("uponSanitizeElement",(b,_)=>{var T;const N=(T=_.tagName)!==null&&T!==void 0?T:b.nodeName.toLowerCase();g(b,N).each(I=>{_.allowedTags[N]=I,!I&&t.sanitize&&ft(b)&&b.remove()})}),s.addHook("uponSanitizeAttribute",(b,_)=>{ie(t.extended_mathml_attributes)&&t.extended_mathml_attributes.includes(_.attrName)&&(_.forceKeepAttr=!0)}),s.sanitize(e,o)},uk=e=>t=>{const o=Ff(t);if(o==="svg")gv(t);else if(o==="math")pv(t,e);else throw new Error("Not a namespace element")},UA=(e,t)=>{const o=$b();if(e.sanitize){const s=VA(e,t,o);return{sanitizeHtmlElement:(c,d)=>{s.sanitize(c,dk(e,d)),s.removed=[],o.reset()},sanitizeNamespaceElement:uk(e)}}else return{sanitizeHtmlElement:(c,d)=>{const g=document.createNodeIterator(c,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let b;for(;b=g.nextNode();){const _=o.track(b);ak(b,e,t,_),ft(b)&&$A(b,e,t,_)}o.reset()},sanitizeNamespaceElement:fo}},mk=["script","style","template","param"],hv=$e.makeMap,ZA=$e.extend,WA=(e,t,o,s,a)=>{const c=e.name,d=c in o&&c!=="title"&&c!=="textarea"&&c!=="noscript",g=t.childNodes;for(let b=0,_=g.length;b<_;b++){const T=g[b],N=new ca(T.nodeName.toLowerCase(),T.nodeType);if(ft(T)){const R=T.attributes;for(let I=0,Y=R.length;I<Y;I++){const G=R[I];N.attr(G.name,G.value)}xm(N.name)&&(s(T),N.value=T.innerHTML)}else je(T)?(N.value=T.data,d&&(N.raw=!0)):dl(T)?N.value=a?zM(T.data):T.data:(cd(T)||Fb(T))&&(N.value=T.data);if(Pp(T)){const R=ca.create("#text");R.value=T.innerHTML,R.raw=!0,N.append(R)}else xm(N.name)||WA(N,T,o,s,a);e.append(N)}},Ih=(e,t,o)=>{const s=[];for(let a=e,c=a;a;c=a,a=a.walk()){const d=a;Te(t,g=>g(d)),zo(d.parent)&&d!==e?a=c:s.push(d)}for(let a=s.length-1;a>=0;a--){const c=s[a];Te(o,d=>d(c))}},fk=(e,t,o,s)=>{const a=o.validate,c=t.getNonEmptyElements(),d=t.getWhitespaceElements(),g=ZA(hv(mk),t.getBlockElements()),b=Cm(t),_=/[ \t\r\n]+/g,T=/^[ \t\r\n]+/,N=/[ \t\r\n]+$/,R=le=>{let fe=le.parent;for(;Ee(fe);){if(fe.name in d)return!0;fe=fe.parent}return!1},I=le=>{let fe=le;for(;Ee(fe);){if(fe.name in b)return iv(t,c,d,fe);fe=fe.parent}return!1},Y=le=>le.name in g||Fp(t,le)||xm(le.name)&&le.parent===e,G=(le,fe)=>{const ve=fe?le.prev:le.next;return Ee(ve)||zo(le.parent)?!1:Y(le.parent)&&(le.parent!==e||s.isRootContent===!0)};return[le=>{var fe;if(le.type===3&&!R(le)){let ve=(fe=le.value)!==null&&fe!==void 0?fe:"";ve=ve.replace(_," "),(PM(le.prev,Y)||G(le,!0))&&(ve=ve.replace(T,"")),ve.length===0||ve===" "&&le.prev&&le.prev.type===Cf&&le.next&&le.next.type===Cf?le.remove():le.value=ve}},le=>{var fe;if(le.type===1){const ve=t.getElementRule(le.name);if(a&&ve){const Pe=iv(t,c,d,le);ve.paddInEmptyBlock&&Pe&&I(le)?V3(o,s,Y,le):ve.removeEmpty&&Pe?Y(le)?le.remove():le.unwrap():ve.paddEmpty&&(Pe||MM(le))&&V3(o,s,Y,le)}}else if(le.type===3&&!R(le)){let ve=(fe=le.value)!==null&&fe!==void 0?fe:"";(le.next&&Y(le.next)||G(le,!1))&&(ve=ve.replace(N,"")),ve.length===0?le.remove():le.value=ve}}]},jA=(e,t)=>{var o;const s=(o=t.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return s===!1?"":s===!0?"p":s},Nu=(e={},t=no())=>{const o=_A(),s=_A(),a={validate:!0,root_name:"body",sanitize:!0,allow_html_in_comments:!1,...e},c=new DOMParser,d=UA(a,t),g=(fe,ve,Pe="html")=>{const tt=Pe==="xhtml"?"application/xhtml+xml":"text/html",We=Xt(t.getSpecialElements(),ve.toLowerCase()),De=We?`<${ve}>${fe}</${ve}>`:fe,Se=()=>Pe==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${De}</body></html>`:/^[\s]*<head/i.test(fe)||/^[\s]*<html/i.test(fe)||/^[\s]*<!DOCTYPE/i.test(fe)?`<html>${De}</html>`:`<body>${De}</body>`,Ie=c.parseFromString(Se(),tt).body;return d.sanitizeHtmlElement(Ie,tt),We?Ie.firstChild:Ie},b=o.addFilter,_=o.getFilters,T=o.removeFilter,N=s.addFilter,R=s.getFilters,I=s.removeFilter,Y=(fe,ve)=>{Z3(t,fe)&&ve.push(fe)},G=(fe,ve)=>{const Pe=Je(ve.attr(I_)),tt=ve.type===1&&!Xt(fe,ve.name)&&!Fp(t,ve)&&!xm(ve.name);return ve.type===3||tt&&!Pe},W=(fe,ve)=>{const Pe=ZA(hv(mk),t.getBlockElements()),tt=/^[ \t\r\n]+/,We=/[ \t\r\n]+$/;let De=fe.firstChild,Se=null;const Ie=gt=>{var Mt,oo;gt&&(De=gt.firstChild,De&&De.type===3&&(De.value=(Mt=De.value)===null||Mt===void 0?void 0:Mt.replace(tt,"")),De=gt.lastChild,De&&De.type===3&&(De.value=(oo=De.value)===null||oo===void 0?void 0:oo.replace(We,"")))};if(t.isValidChild(fe.name,ve.toLowerCase())){for(;De;){const gt=De.next;G(Pe,De)?(Se||(Se=new ca(ve,1),Se.attr(a.forced_root_block_attrs),fe.insert(Se,De)),Se.append(De)):(Ie(Se),Se=null),De=gt}Ie(Se)}},le={schema:t,addAttributeFilter:N,getAttributeFilters:R,removeAttributeFilter:I,addNodeFilter:b,getNodeFilters:_,removeNodeFilter:T,parse:(fe,ve={})=>{var Pe;const tt=a.validate,We=(Pe=ve.context)!==null&&Pe!==void 0?Pe:a.root_name,De=g(fe,We,ve.format);U1(t,De);const Se=new ca(We,11);WA(Se,De,t.getSpecialElements(),d.sanitizeNamespaceElement,a.sanitize&&a.allow_html_in_comments),De.innerHTML="";const[Ie,gt]=fk(Se,t,a,ve),Mt=[],oo=tt?ur=>Y(ur,Mt):fo,xo={nodes:{},attributes:{}},hn=ur=>mA(_(),R(),ur,xo);Ih(Se,[Ie,hn],[gt,oo]),Mt.reverse(),tt&&Mt.length>0&&(ve.context?ve.invalid=!0:U3(Mt,t,Se,hn));const Mn=jA(a,ve);return Mn&&(Se.name==="body"||ve.isRootContent)&&W(Se,Mn),ve.invalid||gA(xo,ve),Se}};return JM(le,a),$M(le,a,t),le},bv=e=>e instanceof ca,gk=e=>bv(e)?fg({validate:!1}).serialize(e):e,pk=(e,t,o)=>{const s=gk(e),a=t(s);if(a.isDefaultPrevented())return a;if(bv(e))if(a.content!==s){const c=Nu({validate:!1,forced_root_block:!1,...o}).parse(a.content,{context:e.name});return{...a,content:c}}else return{...a,content:e};else return a},hk=e=>({sanitize:Sd(e),sandbox_iframes:wx(e),sandbox_iframes_exclusions:jC(e)}),bk=(e,t)=>{if(t.no_events)return gs.value(t);{const o=mN(e,t);return o.isDefaultPrevented()?gs.error(ZE(e,{content:"",...o}).content):gs.value(o)}},F_=(e,t,o)=>o.no_events?t:pk(t,a=>ZE(e,{...o,content:a}),hk(e)).content,z_=(e,t)=>{if(t.no_events)return gs.value(t);{const o=pk(t.content,s=>UE(e,{...t,content:s}),hk(e));return o.isDefaultPrevented()?(ey(e,o),gs.error(void 0)):gs.value(o)}},xk=(e,t,o)=>{o.no_events||ey(e,{...o,content:t})},qA="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),H_=[],za="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),xv=[{name:"export",replacedWith:"Export to PDF"}],Dg=(e,t)=>{const o=Pt(t,s=>Xt(e,s));return Dt(o)},GA=e=>{const t=Dg(e,qA),o=e.forced_root_block;return(o===!1||o==="")&&t.push("forced_root_block (false only)"),Dt(t)},Gi=e=>Dg(e,H_),Ng=(e,t)=>{const o=$e.makeMap(e.plugins," "),a=Pt(t,c=>Xt(o,c));return Dt(a)},KA=e=>Ng(e,za),YA=e=>Ng(e,xv.map(t=>t.name)),XA=(e,t)=>{const o=GA(e),s=KA(t),a=s.length>0,c=o.length>0,d=t.theme==="mobile";if(a||c||d){const b=d?`

Themes:
- mobile`:"",_=a?`

Plugins:
- ${s.join(`
- `)}`:"",T=c?`

Options:
- ${o.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 8.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/8/migration-from-7x/ for more information."+b+_+T)}},vk=e=>Ko(xv,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),yk=(e,t)=>{const o=Gi(e),s=YA(t),a=s.length>0,c=o.length>0;if(a||c){const g=a?`

Plugins:
- ${s.map(vk).join(`
- `)}`:"",b=c?`

Options:
- ${o.join(`
- `)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+g+b)}},JA=(e,t)=>{XA(e,t),yk(e,t)},Bd={fire:'The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',selectionSetContent:'The "editor.selection.setContent" method has been deprecated and will be removed in TinyMCE 9. Use "editor.insertContent" instead.'},$_=e=>{console.warn(Bd[e],new Error().stack)},vv=e=>e.dom.length===0?(Tn(e),P.none()):P.some(e),_k=(e,t)=>e.filter(o=>jn.isBookmarkNode(o.dom)).bind(t?gc:ri),QA=(e,t,o,s,a)=>{const c=e.dom,d=t.dom,g=s?c.length:d.length;s?(m3(c,d,a,!1,!s),o.setStart(d,g)):(m3(d,c,a,!1,!s),o.setEnd(d,g))},eO=(e,t,o)=>{Vs(e).each(s=>{const a=e.dom;t&&D0(s,Ae(a,0),o)?Dd(a,0,o):!t&&bg(s,Ae(a,a.length),o)&&t_(a,a.length,o)})},wk=(e,t,o,s,a)=>{e.bind(c=>((s?t_:Dd)(c.dom,s?c.dom.length:0,a),t.filter(Ur).map(g=>QA(c,g,o,s,a)))).orThunk(()=>_k(t,s).or(t).filter(Ur).map(d=>eO(d,s,a)))},mB=(e,t,o)=>{const s=P.from(t.firstChild).map(Z.fromDom),a=P.from(t.lastChild).map(Z.fromDom);e.deleteContents(),e.insertNode(t);const c=s.bind(ri).filter(Ur).bind(vv),d=a.bind(gc).filter(Ur).bind(vv);wk(c,s,e,!0,o),wk(d,a,e,!1,o),e.collapse(!1)},fB=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),tO=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng(),s=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),a=s?{context:s.nodeName.toLowerCase()}:{},c=e.parser.parse(t.content,{forced_root_block:!1,...a,...t});return fg({validate:!1},e.schema).serialize(c)}else return t.content},yv=(e,t,o={})=>{const s=fB(o,t);z_(e,s).each(a=>{const c=tO(e,a),d=e.selection.getRng();mB(d,d.createContextualFragment(c),e.schema),e.selection.setRng(d),Hx(e,d),xk(e,c,a)})},Ck=(e,t,o={})=>{$_("selectionSetContent"),yv(e,t,o)},kk=e=>Ee(e.firstChild)&&e.firstChild===e.lastChild,oO=e=>e.name==="br"||e.value===Fs,Sk=(e,t)=>e.getBlockElements()[t.name]&&kk(t)&&oO(t.firstChild),nO=(e,t)=>{const o=e.getNonEmptyElements();return Ee(t)&&(t.isEmpty(o)||Sk(e,t))},sO=(e,t)=>{let o=t.firstChild,s=t.lastChild;return o&&o.name==="meta"&&(o=o.next),s&&s.attr("id")==="mce_marker"&&(s=s.prev),nO(e,s)&&(s=s?.prev),!o||o!==s?!1:o.name==="ul"||o.name==="ol"},Ek=e=>{var t,o;const s=e.firstChild,a=e.lastChild;return s&&s.nodeName==="META"&&((t=s.parentNode)===null||t===void 0||t.removeChild(s)),a&&a.id==="mce_marker"&&((o=a.parentNode)===null||o===void 0||o.removeChild(a)),e},rO=(e,t,o)=>{const s=t.serialize(o),a=e.createFragment(s);return Ek(a)},aO=e=>{var t;return Pt((t=e?.childNodes)!==null&&t!==void 0?t:[],o=>o.nodeName==="LI")},iO=e=>e.data===Fs||Zn(e),V_=e=>Ee(e?.firstChild)&&e.firstChild===e.lastChild&&iO(e.firstChild),gB=e=>!e.firstChild||V_(e),_v=e=>e.length>0&&gB(e[e.length-1])?e.slice(0,-1):e,U_=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null},lO=(e,t)=>!!U_(e,t),pB=(e,t)=>{const o=t.cloneRange(),s=t.cloneRange();return o.setStartBefore(e),s.setEndAfter(e),[o.cloneContents(),s.cloneContents()]},hB=(e,t)=>{const o=Ae.before(e),a=Ed(t).next(o);return a?a.toRange():null},Tk=(e,t)=>{const o=Ae.after(e),a=Ed(t).prev(o);return a?a.toRange():null},bB=(e,t,o,s)=>{const a=pB(e,s),c=e.parentNode;return c&&(c.insertBefore(a[0],e),$e.each(t,d=>{c.insertBefore(d,e)}),c.insertBefore(a[1],e),c.removeChild(e)),Tk(t[t.length-1],o)},cO=(e,t,o)=>{const s=e.parentNode;return s&&$e.each(t,a=>{s.insertBefore(a,e)}),hB(e,o)},dO=(e,t,o,s)=>(s.insertAfter(t.reverse(),e),Tk(t[0],o)),xB=(e,t,o,s)=>{const a=rO(t,e,s),c=U_(t,o.startContainer),d=_v(aO(a.firstChild)),g=1,b=2,_=t.getRoot(),T=N=>{const R=Ae.fromRangeStart(o),I=Ed(t.getRoot()),Y=N===g?I.prev(R):I.next(R),G=Y?.getNode();return G?U_(t,G)!==c:!0};return c?T(g)?cO(c,d,_):T(b)?dO(c,d,_,t):bB(c,d,_,o):null},vB=["pre"],Z_=(e,t,o,s)=>{var a;const c=t.firstChild,d=t.lastChild,g=d.attr("data-mce-type")==="bookmark"?d.prev:d,b=c===g,_=wo(vB,c.name);if(b&&_){const T=c.attr("contenteditable")!=="false",N=((a=e.getParent(o,e.isBlock))===null||a===void 0?void 0:a.nodeName.toLowerCase())===c.name,R=P.from(Nd(s,o)).forall(Ma);return T&&N&&R}else return!1},Ak=mu,yB=(e,t,o)=>{if(Ee(o)){const s=e.getParent(t.endContainer,Ak);return o===s&&Ey(Z.fromDom(o),t)}else return!1},uO=(e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){const o=t.childNodes;return o.length===1&&Zn(o[0])||o.length===0}else return!1},Ok=(e,t,o)=>{var s;o.getAttribute("data-mce-bogus")==="all"?(s=o.parentNode)===null||s===void 0||s.insertBefore(e.dom.createFragment(t),o):uO(e.dom,o)?e.dom.setHTML(o,t):yv(e,t,{no_events:!0})},_B=(e,t,o)=>{P.from(e.getParent(t,"td,th")).map(Z.fromDom).each(s=>th(s,o))},wB=(e,t)=>{const o=e.schema.getTextInlineElements(),s=e.dom;if(t){const a=e.getBody(),c=g_(e),d="*[data-mce-fragment]",g=s.select(d);$e.each(g,b=>{const _=R=>Ee(o[R.nodeName.toLowerCase()]),T=R=>R.childNodes.length===1;if((R=>!(t6(s,R)||$R(s,R)))(b)&&_(b)&&T(b)){const R=Sh(s,b),I=(ce,le)=>Tl(ce,fe=>wo(le,fe)),Y=ce=>T(b)&&s.is(ce,d)&&_(ce)&&(ce.nodeName===b.nodeName&&I(R,Sh(s,ce))||Y(ce.children[0])),G=ce=>Ee(ce)&&ce!==a&&(c.compare(b,ce)||G(ce.parentElement)),W=ce=>Ee(ce)&&ce!==a&&s.is(ce,d)&&(_l(s,b,ce)||W(ce.parentElement));(Y(b.children[0])||G(b.parentElement)&&!W(b.parentElement))&&s.remove(b,!0)}}),DM(e,Un(g))}},CB=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},wv=e=>{$e.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},kB=e=>!!e.getAttribute("data-mce-fragment"),mO=(e,t)=>Ee(t)&&!e.schema.getVoidElements()[t.nodeName],Rg=(e,t)=>{var o,s,a;let c;const d=e.dom,g=e.selection;if(!t)return;g.scrollIntoView(t);const b=Nd(e.getBody(),t);if(b&&d.getContentEditable(b)==="false"){d.remove(t),g.select(b);return}let _=d.createRng();const T=t.previousSibling;if(je(T)){_.setStart(T,(s=(o=T.nodeValue)===null||o===void 0?void 0:o.length)!==null&&s!==void 0?s:0);const I=t.nextSibling;je(I)&&(T.appendData(I.data),(a=I.parentNode)===null||a===void 0||a.removeChild(I))}else _.setStartBefore(t),_.setEndBefore(t);const N=I=>{let Y=Ae.fromRangeStart(I);return Y=Ed(e.getBody()).next(Y),Y?.toRange()},R=d.getParent(t,d.isBlock);if(d.remove(t),R&&d.isEmpty(R)){const I=Ak(R);ja(Z.fromDom(R)),_.setStart(R,0),_.setEnd(R,0),!I&&!kB(R)&&(c=N(_))?(_=c,d.remove(R)):d.add(R,d.create("br",I?{}:{"data-mce-bogus":"1"}))}g.setRng(_)},vi=e=>{const t=e.dom,o=E_(e.selection.getRng());e.selection.setRng(o);const s=t.getParent(o.startContainer,Ak);yB(t,o,s)?k3(e,o,Z.fromDom(s)):uR(o)||J5(o)?o.deleteContents():e.getDoc().execCommand("Delete",!1)},fO=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return P.some(t);return P.none()},Cv=(e,t,o)=>{var s;return Sn(o.children(),uA)&&((s=e.getParent(t,e.isBlock))===null||s===void 0?void 0:s.nodeName)==="SUMMARY"},Mg=(e,t,o)=>{var s;const a=e.selection,c=e.dom,d=e.parser,g=o.merge,b=fg({validate:!0},e.schema),_='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(t=jr(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,_);let T=a.getRng();const N=T.startContainer,R=e.getBody();N===R&&a.isCollapsed()&&c.isBlock(R.firstChild)&&mO(e,R.firstChild)&&c.isEmpty(R.firstChild)&&(T=c.createRng(),T.setStart(R.firstChild,0),T.setEnd(R.firstChild,0),a.setRng(T)),a.isCollapsed()||vi(e);const I=a.getNode(),Y={context:I.nodeName.toLowerCase(),data:o.data,insert:!0},G=d.parse(t,Y);if(o.paste===!0&&sO(e.schema,G)&&lO(c,I))return T=xB(b,c,a.getRng(),G),T&&a.setRng(T),t;o.paste===!0&&Z_(c,G,I,e.getBody())&&((s=G.firstChild)===null||s===void 0||s.unwrap()),CB(G);let W=G.lastChild;if(W&&W.attr("id")==="mce_marker"){const ce=W;for(W=W.prev;W&&W.name!=="table";W=W.walk(!0))if(W.type===3||!c.isBlock(W.name)){W.parent&&e.schema.isValidChild(W.parent.name,"span")&&W.parent.insert(ce,W,W.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(I),!Y.invalid&&!Cv(c,I,G))t=b.serialize(G),Ok(e,t,I);else{yv(e,_);let ce=a.getNode(),le;const fe=e.getBody();for(uu(ce)?ce=le=fe:le=ce;le&&le!==fe;)ce=le,le=le.parentNode;t=ce===fe?fe.innerHTML:c.getOuterHTML(ce);const ve=d.parse(t),Pe=fO(ve),tt=Pe.bind(LM).getOr(ve);Pe.each(Se=>Se.replace(G));const We=bA(G);G.unwrap();const De=Pt(We,Se=>Z3(e.schema,Se));U3(De,e.schema,tt),pA(d.getNodeFilters(),d.getAttributeFilters(),ve),t=b.serialize(ve),ce===fe?c.setHTML(fe,t):c.setOuterHTML(ce,t)}return wB(e,g),Rg(e,c.get("mce_marker")),wv(e.getBody()),_B(c,a.getStart(),e.schema),Ya(e.schema,e.getBody(),a.getStart()),t},Ru=e=>{wh(e)&&Fa(e.getBody()).each(t=>{const o=t.getNode(),s=Ra(o)?Fa(o).getOr(t):t;e.selection.setRng(s.toRange())})},Fh=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),o!==!0&&Ru(e)},Dk=(e,t,o,s)=>{if(o=jr(o),o.length===0||/^\s+$/.test(o)){const a='<br data-mce-bogus="1">';t.nodeName==="TABLE"?o="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+a+"</li>");const c=qr(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),c.toLowerCase())?(o=a,o=e.dom.createHTML(c,zm(e),o)):o||(o=a),Fh(e,o,s.no_selection),{content:o,html:o}}else{s.format!=="raw"&&(o=fg({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const a=Mm(Z.fromDom(t))?o:$e.trim(o);return Fh(e,a,s.no_selection),{content:a,html:a}}},Nk=(e,t,o,s)=>{pA(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const a=fg({validate:!1},e.schema).serialize(o),c=jr(Mm(Z.fromDom(t))?a:$e.trim(a));return Fh(e,c,s.no_selection),{content:o,html:c}},gO=(e,t,o)=>P.from(e.getBody()).map(s=>bv(t)?Nk(e,s,t,o):Dk(e,s,t,o)).getOr({content:t,html:bv(o.content)?"":o.content}),V0={},pO=Na(["pre"]),hO=(e,t)=>{V0[e]||(V0[e]=[]),V0[e].push(t)},bO=(e,t)=>{Xt(V0,e)&&Te(V0[e],o=>{o(t)})};hO("pre",e=>{const t=e.selection.getRng(),o=a=>c=>{const d=c.previousSibling;return pO(d)&&wo(a,d)},s=(a,c)=>{const d=Z.fromDom(c),g=fc(d).dom;Tn(d),ai(Z.fromDom(a),[Z.fromTag("br",g),Z.fromTag("br",g),...bs(d)])};if(!t.collapsed){const a=e.selection.getSelectedBlocks(),c=Pt(Pt(a,pO),o(a));Te(c,d=>{s(d.previousSibling,d)})}});const Rk=$e.each,Bg=(e,t,o,s)=>{const a=c=>{if(Ka(c)&&ft(c.parentNode)&&e.isEditable(c)){const d=b4(e,c.parentNode);e.getStyle(c,"color")&&d?e.setStyle(c,"text-decoration",d):e.getStyle(c,"text-decoration")===d&&e.setStyle(c,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&($e.walk(s,a,"childNodes"),a(s))},Mk=(e,t,o,s)=>{if(t.styles&&t.styles.backgroundColor){const a=Q6(e,"fontSize");I3(s,c=>a(c)&&e.isEditable(c),eA(e,"backgroundColor",Um(t.styles.backgroundColor,o)))}},SB=(e,t,o,s)=>{if(cr(t)&&(t.inline==="sub"||t.inline==="sup")){const a=Q6(e,"fontSize");I3(s,d=>a(d)&&e.isEditable(d),eA(e,"fontSize",""));const c=Pt(e.select(t.inline==="sup"?"sub":"sup",s),e.isEditable);e.remove(c,!0)}},EB=(e,t,o,s)=>{Rk(t,a=>{cr(a)&&Rk(e.dom.select(a.inline,s),c=>{L3(c)&&av(e,a,o,c,a.exact?c:null)}),mM(e.dom,a,s)})},zh=(e,t,o,s,a)=>{const c=a.parentNode;Yl(e,c,o,s)&&av(e,t,s,a)||t.merge_with_parents&&c&&e.dom.getParent(c,d=>Yl(e,d,o,s)?(av(e,t,s,a),!0):!1)},xO=$e.each,W_=(e,t,o,s)=>{if(kd(e)&&cr(t)&&o.parentNode){const a=Cm(e.schema),c=ru(Z.fromDom(o),d=>bl(d.dom));return ge(a,s)&&zl(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!c}else return!1},Bk=(e,t,o,s)=>{const a=e.formatter.get(t),c=a[0],d=!s&&e.selection.isCollapsed(),g=e.dom,b=e.selection,_=(I,Y)=>{let G=!1;return xO(I,W=>jl(W)?g.getContentEditable(Y)==="false"&&!W.ceFalseOverride||Ee(W.collapsed)&&W.collapsed!==d?!0:g.is(Y,W.selector)&&!bl(Y)?(Dh(e,Y,W,o,Y),G=!0,!1):!0:!1),G},T=I=>{if(Je(I)){const Y=g.create(I);return Dh(e,Y,c,o,s),Y}else return null},N=(I,Y,G)=>{const W=[];let ce=!0;const le=c.inline||c.block,fe=T(le),ve=We=>gR(c)&&Yl(e,We,t,o),Pe=(We,De,Se)=>{const Ie=v4(c)&&g4(e.schema,We)&&x0(e,De,le);return Se&&Ie},tt=(We,De,Se,Ie)=>{const gt=We.nodeName.toLowerCase(),Mt=x0(e,le,gt)&&x0(e,De,le),oo=!G&&je(We)&&Xf(We.data),xo=bl(We),hn=!cr(c)||!I.isBlock(We);return(Se||Ie)&&Mt&&!oo&&!xo&&hn};lg(I,Y,We=>{let De;const Se=Ie=>{let gt=!1,Mt=ce,oo=!1;const xo=Ie.parentNode,hn=xo.nodeName.toLowerCase(),Mn=I.getContentEditable(Ie);Ee(Mn)&&(Mt=ce,ce=Mn==="true",gt=!0,oo=Su(e,Ie));const ur=ce&&!gt;if(Zn(Ie)&&!W_(e,c,Ie,hn)){De=null,Eu(c)&&I.remove(Ie);return}if(ve(Ie)){De=null;return}if(Pe(Ie,hn,ur)){const mr=I.rename(Ie,le);Dh(e,mr,c,o,Ie),W.push(mr),De=null;return}if(jl(c)){let mr=_(a,Ie);if(!mr&&Ee(xo)&&v0(c)&&(mr=_(a,xo)),!cr(c)||mr){De=null;return}}Ee(fe)&&tt(Ie,hn,ur,oo)?(De||(De=I.clone(fe,!1),xo.insertBefore(De,Ie),W.push(De)),oo&&gt&&(ce=Mt),De.appendChild(Ie)):(De=null,Te(mt(Ie.childNodes),Se),gt&&(ce=Mt),De=null)};Te(We,Se)}),c.links===!0&&Te(W,We=>{const De=Se=>{Se.nodeName==="A"&&Dh(e,Se,c,o,s),Te(mt(Se.childNodes),De)};De(We)}),OM(e,t,Un(W)),Te(W,We=>{const De=gt=>{let Mt=0;return Te(gt.childNodes,oo=>{!fR(oo)&&!Rr(oo)&&Mt++}),Mt},Se=gt=>Ko(gt.childNodes,m4).filter(oo=>I.getContentEditable(oo)!=="false"&&yg(I,oo,c)).map(oo=>{const xo=I.clone(oo,!1);return Dh(e,xo,c,o,gt),I.replace(xo,gt,!0),I.remove(oo,!0),xo}).getOr(gt),Ie=De(We);if((W.length>1||!I.isBlock(We))&&Ie===0){I.remove(We,!0);return}(cr(c)||Eu(c)&&c.wrapper)&&(!c.exact&&Ie===1&&(We=Se(We)),EB(e,a,o,We),zh(e,c,t,o,We),Mk(I,c,o,We),Bg(I,c,o,We),SB(I,c,o,We),J6(e,c,o,We))})},R=Px(s)?s:b.getNode();if(g.getContentEditable(R)==="false"&&!Su(e,R)){s=R,_(a,s),_s(e,t,s,o);return}if(c){if(s)if(Px(s)){if(!_(a,s)){const I=g.createRng();I.setStartBefore(s),I.setEndAfter(s),N(g,bh(g,I,a),!0)}}else N(g,s,!0);else!d||!cr(c)||Xs(e).length?(b.setRng(E_(b.getRng())),Q5(e,()=>{Ty(e,(I,Y)=>{const G=Y?I:bh(g,I,a);N(g,G,!1)})},qo),e.nodeChanged()):Nh(e,t,o),Sg(e.formatter,t).each(I=>{Te(uM(e.selection),Y=>A3(g,Y,I,o))});bO(t,e)}_s(e,t,s,o)},Pk=(e,t,o,s)=>{(s||e.selection.isEditable())&&Bk(e,t,o,s)},Lk=e=>Xt(e,"vars"),vO=(e,t)=>{e.set({}),t.on("NodeChange",o=>{yO(t,o.element,e.get())}),t.on("FormatApply FormatRemove",o=>{const s=P.from(o.node).map(a=>Px(a)?a:a.startContainer).bind(a=>ft(a)?P.some(a):P.from(a.parentElement)).getOrThunk(()=>Ik(t));yO(t,s,e.get())})},Ik=e=>e.selection.getStart(),Fk=(e,t,o,s,a)=>Zu(t,g=>{const b=e.formatter.matchNode(g,o,a??{},s);return!Cs(b)},g=>x_(e,g,o)?!0:s?!1:Ee(e.formatter.matchNode(g,o,a,!0))),j_=(e,t)=>{const o=t??Ik(e);return Pt(Lx(e.dom,o),s=>ft(s)&&!du(s))},yO=(e,t,o)=>{const s=j_(e,t);Mo(o,(a,c)=>{const d=g=>{const b=Fk(e,s,c,g.similar,Lk(g)?g.vars:void 0),_=b.isSome();if(g.state.get()!==_){g.state.set(_);const T=b.getOr(t);Lk(g)?g.callback(_,{node:T,format:c,parents:s}):Te(g.callbacks,N=>N(_,{node:T,format:c,parents:s}))}};Te([a.withSimilar,a.withoutSimilar],d),Te(a.withVars,d)})},TB=(e,t,o,s,a,c)=>{const d=t.get();Te(o.split(","),g=>{const b=Jo(d,g).getOrThunk(()=>{const T={withSimilar:{state:Bn(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Bn(!1),similar:!1,callbacks:[]},withVars:[]};return d[g]=T,T}),_=()=>{const T=j_(e);return Fk(e,T,g,a,c).isSome()};if(Cs(c)){const T=a?b.withSimilar:b.withoutSimilar;T.callbacks.push(s),T.callbacks.length===1&&T.state.set(_())}else b.withVars.push({state:Bn(_()),similar:a,vars:c,callback:s})}),t.set(d)},AB=(e,t,o)=>{const s=e.get();Te(t.split(","),a=>Jo(s,a).each(c=>{s[a]={withSimilar:{...c.withSimilar,callbacks:Pt(c.withSimilar.callbacks,d=>d!==o)},withoutSimilar:{...c.withoutSimilar,callbacks:Pt(c.withoutSimilar.callbacks,d=>d!==o)},withVars:Pt(c.withVars,d=>d.callback!==o)}})),e.set(s)},OB=(e,t,o,s,a,c)=>(TB(e,t,o,s,a,c),{unbind:()=>AB(t,o,s)}),DB=(e,t,o,s)=>{const a=e.formatter.get(t);a&&(nv(e,t,o,s)&&(!("toggle"in a[0])||a[0].toggle)?iA(e,t,o,s):Pk(e,t,o,s))},q_=(e,t,o)=>({element:e,width:t,rows:o}),Mu=(e,t)=>({element:e,cells:t}),zk=(e,t)=>({x:e,y:t}),_O=(e,t)=>or(e,t).bind(r1).getOr(1),Hk=(e,t,o,s,a)=>{const c=_O(a,"rowspan"),d=_O(a,"colspan"),g=e.rows;for(let b=o;b<o+c;b++){g[b]||(g[b]=Mu(yp(s),[]));for(let _=t;_<t+d;_++){const T=g[b].cells;T[_]=b===o&&_===t?a:qa(a)}}},$k=(e,t,o)=>{const s=e.rows;return!!(s[o]?s[o].cells:[])[t]},wO=(e,t,o)=>{for(;$k(e,t,o);)t++;return t},Vk=e=>Go(e,(t,o)=>o.cells.length>t?o.cells.length:t,0),Uk=(e,t)=>{const o=e.rows;for(let s=0;s<o.length;s++){const a=o[s].cells;for(let c=0;c<a.length;c++)if(Lt(a[c],t))return P.some(zk(c,s))}return P.none()},CO=(e,t,o,s,a)=>{const c=[],d=e.rows;for(let g=o;g<=a;g++){const b=d[g].cells,_=t<s?b.slice(t,s+1):b.slice(s,t+1);c.push(Mu(d[g].element,_))}return c},kv=(e,t,o)=>{const s=t.x,a=t.y,c=o.x,d=o.y,g=a<d?CO(e,s,a,c,d):CO(e,s,d,c,a);return q_(e.element,Vk(g),g)},G_=(e,t)=>{const o=qa(e.element),s=Z.fromTag("tbody");return ai(s,t),rn(o,s),o},kO=e=>go(e.rows,t=>{const o=go(t.cells,a=>{const c=yp(a);return ks(c,"colspan"),ks(c,"rowspan"),c}),s=qa(t.element);return ai(s,o),s}),SO=e=>{const t=q_(qa(e),0,[]);return Te(In(e,"tr"),(o,s)=>{Te(In(o,"td,th"),(a,c)=>{Hk(t,wO(t,c,s),s,o,a)})}),q_(t.element,Vk(t.rows),t.rows)},EO=e=>G_(e,kO(e)),TO=(e,t,o)=>Uk(e,t).bind(s=>Uk(e,o).map(a=>kv(e,s,a))),K_=e=>Ko(e,t=>Gt(t)==="ul"||Gt(t)==="ol"),Zk=(e,t)=>Ko(e,o=>Gt(o)==="li"&&Ey(o,t)).fold(Ge([]),o=>K_(e).map(s=>{const a=Z.fromTag(Gt(s)),c=Fr(kp(s),(d,g)=>lo(g,"list-style"));return dm(a,c),[Z.fromTag("li"),a]}).getOr([])),Sv=(e,t)=>{const o=Go(t,(s,a)=>(rn(a,s),a),e);return t.length>0?nd([o]):o},NB=e=>zi(e)?Vs(e).filter(Yf).fold(Ge([]),t=>[e,t]):Yf(e)?[e]:[],AO=(e,t,o)=>{const s=Z.fromDom(t.commonAncestorContainer),a=Ou(s,e),c=Pt(a,b=>o.isWrapper(Gt(b))),d=Zk(a,t),g=c.concat(d.length?d:NB(s));return go(g,qa)},OO=()=>nd([]),RB=(e,t,o)=>Sv(Z.fromDom(t.cloneContents()),AO(e,t,o)),DO=(e,t)=>na(t,"table",bt(Lt,e)),NO=(e,t)=>DO(e,t[0]).bind(o=>{const s=t[0],a=t[t.length-1],c=SO(o);return TO(c,s,a).map(d=>nd([EO(d)]))}).getOrThunk(OO),MB=(e,t,o)=>t.length>0&&t[0].collapsed?OO():RB(e,t[0],o),Wk=(e,t,o)=>{const s=Sy(t,e);return s.length>0?NO(e,s):MB(e,t,o)},Pd=(e,t)=>t>=0&&t<e.length&&Td(e.charAt(t)),jk=e=>jr(e.innerText),qk=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),RO=e=>P.from(e.selection.getRng()).map(t=>{var o;const s=P.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),a=e.getBody(),c=qk(s),d=Z.fromDom(t.cloneContents());qy(d),GT(d);const g=e.dom.add(a,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},d.dom),b=jk(g),_=jr((o=g.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(g),Pd(_,0)||Pd(_,_.length-1)){const T=s.getOr(a),N=jk(T),R=N.indexOf(b);if(R===-1)return b;{const I=Pd(N,R-1),Y=Pd(N,R+b.length);return(I?" ":"")+b+(Y?" ":"")}}else return b}).getOr(""),Gk=(e,t)=>{const o=e.selection.getRng(),s=e.dom.create("body"),a=e.selection.getSel(),c=Z4(e,ky(a)),d=t.contextual?Wk(Z.fromDom(e.getBody()),c,e.schema).dom:o.cloneContents();return d&&s.appendChild(d),e.selection.serializer.serialize(s,t)},Pg=(e,t)=>{if(t.format==="text")return RO(e);{const o=Gk(e,t);return t.format==="tree"?o:e.selection.isCollapsed()?"":o}},MO=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),Ql=(e,t,o={})=>{const s=MO(o,t);return bk(e,s).fold(dn,a=>{const c=Pg(e,a);return F_(e,c,a)})},Qm=0,Kk=1,Y_=2,BO=(e,t)=>{const o=e.length+t.length+2,s=new Array(o),a=new Array(o),c=(T,N,R)=>({start:T,end:N,diag:R}),d=(T,N,R,I,Y)=>{const G=b(T,N,R,I);if(G===null||G.start===N&&G.diag===N-I||G.end===T&&G.diag===T-R){let W=T,ce=R;for(;W<N||ce<I;)W<N&&ce<I&&e[W]===t[ce]?(Y.push([Qm,e[W]]),++W,++ce):N-T>I-R?(Y.push([Y_,e[W]]),++W):(Y.push([Kk,t[ce]]),++ce)}else{d(T,G.start,R,G.start-G.diag,Y);for(let W=G.start;W<G.end;++W)Y.push([Qm,e[W]]);d(G.end,N,G.end-G.diag,I,Y)}},g=(T,N,R,I)=>{let Y=T;for(;Y-N<I&&Y<R&&e[Y]===t[Y-N];)++Y;return c(T,Y,N)},b=(T,N,R,I)=>{const Y=N-T,G=I-R;if(Y===0||G===0)return null;const W=Y-G,ce=G+Y,le=(ce%2===0?ce:ce+1)/2;s[1+le]=T,a[1+le]=N+1;let fe,ve,Pe,tt,We;for(fe=0;fe<=le;++fe){for(ve=-fe;ve<=fe;ve+=2){for(Pe=ve+le,ve===-fe||ve!==fe&&s[Pe-1]<s[Pe+1]?s[Pe]=s[Pe+1]:s[Pe]=s[Pe-1]+1,tt=s[Pe],We=tt-T+R-ve;tt<N&&We<I&&e[tt]===t[We];)s[Pe]=++tt,++We;if(W%2!==0&&W-fe<=ve&&ve<=W+fe&&a[Pe-W]<=s[Pe])return g(a[Pe-W],ve+T-R,N,I)}for(ve=W-fe;ve<=W+fe;ve+=2){for(Pe=ve+le-W,ve===W-fe||ve!==W+fe&&a[Pe+1]<=a[Pe-1]?a[Pe]=a[Pe+1]-1:a[Pe]=a[Pe-1],tt=a[Pe]-1,We=tt-T+R-ve;tt>=T&&We>=R&&e[tt]===t[We];)a[Pe]=tt--,We--;if(W%2===0&&-fe<=ve&&ve<=fe&&a[Pe]<=s[Pe+W])return g(a[Pe],ve+T-R,N,I)}}return null},_=[];return d(0,e.length,0,t.length,_),_},PO=e=>ft(e)?e.outerHTML:je(e)?md.encodeRaw(e.data,!1):dl(e)?"<!--"+e.data+"-->":"",LO=e=>{let t;const o=document.createElement("div"),s=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)s.appendChild(t);return s},U0=(e,t,o)=>{const s=LO(t);if(e.hasChildNodes()&&o<e.childNodes.length){const a=e.childNodes[o];e.insertBefore(s,a)}else e.appendChild(s)},X_=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}},IO=(e,t)=>{let o=0;Te(e,s=>{s[0]===Qm?o++:s[0]===Kk?(U0(t,s[1],o),o++):s[0]===Y_&&X_(t,o)})},FO=(e,t)=>Pt(go(mt(e.childNodes),Yn(jr,PO)),o=>o.length>0),Yk=(e,t)=>{const o=go(mt(t.childNodes),PO);return IO(BO(o,e),t),t},zO=Al(()=>document.implementation.createHTMLDocument("undo")),J_=e=>e.querySelector("iframe")!==null,HO=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),Q_=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Ev=e=>{const t=e.serializer.getTempAttrs(),o=jy(e.getBody(),t);return J_(o)?HO(FO(o)):Q_(jr(o.innerHTML))},ew=(e,t,o)=>{const s=o?t.beforeBookmark:t.bookmark;t.type==="fragmented"?Yk(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Ee(s)&&bo(s)?!s.isFakeCaret:!0}),s&&(e.selection.moveToBookmark(s),e.selection.scrollIntoView())},tw=e=>e.type==="fragmented"?e.fragments.join(""):e.content,Z0=e=>{const t=Z.fromTag("body",zO());return tu(t,tw(e)),Te(In(t,"*[data-mce-bogus]"),ii),Jc(t)},BB=(e,t)=>tw(e)===tw(t),$O=(e,t)=>Z0(e)===Z0(t),ow=(e,t)=>!e||!t?!1:BB(e,t)?!0:$O(e,t),nw=e=>e.get()===0,W0=(e,t,o)=>{nw(o)&&(e.typing=t)},Xk=(e,t)=>{e.typing&&(W0(e,!1,t),e.add())},VO=e=>{e.typing&&(e.typing=!1,e.add())},PB=(e,t,o)=>{nw(t)&&o.set(Fm(e.selection))},LB=(e,t,o,s,a,c,d)=>{const g=Ev(e),b=$e.extend(c||{},g);if(!nw(s)||e.removed)return null;const _=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:b,lastLevel:_,originalEvent:d}).isDefaultPrevented()||_&&ow(_,b))return null;t.data[o.get()]&&a.get().each(R=>{t.data[o.get()].beforeBookmark=R});const T=l5(e);if(T&&t.data.length>T){for(let R=0;R<t.data.length-1;R++)t.data[R]=t.data[R+1];t.data.length--,o.set(t.data.length)}b.bookmark=Fm(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(b),o.set(t.data.length-1);const N={level:b,lastLevel:_,originalEvent:d};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",N),e.dispatch("change",N)):e.dispatch("AddUndo",N),b},IB=(e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")},Jk=(e,t,o,s,a)=>{if(t.transact(s)){const c=t.data[o.get()].bookmark,d=t.data[o.get()-1];ew(e,d,!0),t.transact(a)&&(t.data[o.get()-1].beforeBookmark=c)}},FB=(e,t,o)=>{let s;return t.get()<o.length-1&&(t.set(t.get()+1),s=o[t.get()],ew(e,s,!1),e.setDirty(!0),e.dispatch("Redo",{level:s})),s},sw=(e,t,o,s)=>{let a;return t.typing&&(t.add(),t.typing=!1,W0(t,!1,o)),s.get()>0&&(s.set(s.get()-1),a=t.data[s.get()],ew(e,a,!0),e.setDirty(!0),e.dispatch("Undo",{level:a})),a},zB=e=>{e.clear(),e.add()},Qk=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!ow(Ev(e),t.data[0]),UO=(e,t)=>t.get()<e.data.length-1&&!e.typing,ZO=(e,t,o)=>(Xk(e,t),e.beforeChange(),e.ignore(o),e.add()),WO=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},rw=(e,t)=>{const o=e.dom,s=Ee(t)?t:e.getBody();Te(o.select("table,a",s),a=>{switch(a.nodeName){case"TABLE":const c=DN(e),d=o.getAttrib(a,"border");(!d||d==="0")&&e.hasVisual?o.addClass(a,c):o.removeClass(a,c);break;case"A":if(!o.getAttrib(a,"href")){const g=o.getAttrib(a,"name")||a.id,b=m5(e);g&&e.hasVisual?o.addClass(a,b):o.removeClass(a,b)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},jO=e=>({init:{bindEvents:fo},undoManager:{beforeChange:(t,o)=>PB(e,t,o),add:(t,o,s,a,c,d)=>LB(e,t,o,s,a,c,d),undo:(t,o,s)=>sw(e,t,o,s),redo:(t,o)=>FB(e,t,o),clear:(t,o)=>IB(e,t,o),reset:t=>zB(t),hasUndo:(t,o)=>Qk(e,t,o),hasRedo:(t,o)=>UO(t,o),transact:(t,o,s)=>ZO(t,o,s),ignore:(t,o)=>WO(t,o),extra:(t,o,s,a)=>Jk(e,t,o,s,a)},formatter:{match:(t,o,s,a)=>nv(e,t,o,s,a),matchAll:(t,o)=>ds(e,t,o),matchNode:(t,o,s,a)=>Yl(e,t,o,s,a),canApply:t=>y_(e,t),closest:t=>O3(e,t),apply:(t,o,s)=>Pk(e,t,o,s),remove:(t,o,s,a)=>iA(e,t,o,s,a),toggle:(t,o,s)=>DB(e,t,o,s),formatChanged:(t,o,s,a,c)=>OB(e,t,o,s,a,c)},editor:{getContent:t=>KT(e,t),setContent:(t,o)=>gO(e,t,o),insertContent:(t,o)=>Mg(e,t,o),addVisual:t=>rw(e,t)},selection:{getContent:(t,o)=>Ql(e,t,o)},autocompleter:{addDecoration:fo,removeDecoration:fo},raw:{getModel:()=>P.none()}}),HB=e=>{const t=_=>ae(_)?_:{},{init:o,undoManager:s,formatter:a,editor:c,selection:d,autocompleter:g,raw:b}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:s.beforeChange,add:s.add,undo:s.undo,redo:s.redo,clear:s.clear,reset:s.reset,hasUndo:s.hasUndo,hasRedo:s.hasRedo,transact:(_,T,N)=>s.transact(N),ignore:(_,T)=>s.ignore(T),extra:(_,T,N,R)=>s.extra(N,R)},formatter:{match:(_,T,N,R)=>a.match(_,t(T),R),matchAll:a.matchAll,matchNode:a.matchNode,canApply:_=>a.canApply(_),closest:_=>a.closest(_),apply:(_,T,N)=>a.apply(_,t(T)),remove:(_,T,N,R)=>a.remove(_,t(T)),toggle:(_,T,N)=>a.toggle(_,t(T)),formatChanged:(_,T,N,R,I)=>a.formatChanged(T,N,R,I)},editor:{getContent:_=>c.getContent(_),setContent:(_,T)=>({content:c.setContent(_,T),html:""}),insertContent:(_,T)=>(c.insertContent(_),""),addVisual:c.addVisual},selection:{getContent:(_,T)=>d.getContent(T)},autocompleter:{addDecoration:g.addDecoration,removeDecoration:g.removeDecoration},raw:{getModel:()=>P.some(b.getRawModel())}}},eS=()=>{const e=Ge(null),t=Ge("");return{init:{bindEvents:fo},undoManager:{beforeChange:fo,add:e,undo:e,redo:e,clear:fo,reset:fo,hasUndo:un,hasRedo:un,transact:e,ignore:fo,extra:fo},formatter:{match:un,matchAll:Ge([]),matchNode:Ge(void 0),canApply:un,closest:t,apply:fo,remove:fo,toggle:fo,formatChanged:Ge({unbind:fo})},editor:{getContent:t,setContent:Ge({content:"",html:""}),insertContent:Ge(""),addVisual:fo},selection:{getContent:t},autocompleter:{addDecoration:fo,removeDecoration:fo},raw:{getModel:Ge(P.none())}}},Ld=e=>Xt(e.plugins,"rtc"),$B=e=>Jo(e.plugins,"rtc").bind(t=>P.from(t.setup)),VB=e=>{const t=e;return $B(e).fold(()=>(t.rtcInstance=jO(e),P.none()),o=>(t.rtcInstance=eS(),P.some(()=>o().then(s=>(t.rtcInstance=HB(s),s.rtc.isRemote)))))},tS=e=>e.rtcInstance?e.rtcInstance:jO(e),vr=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},oS=(e,t,o)=>{vr(e).undoManager.beforeChange(t,o)},qO=(e,t,o,s,a,c,d)=>vr(e).undoManager.add(t,o,s,a,c,d),dr=(e,t,o,s)=>vr(e).undoManager.undo(t,o,s),UB=(e,t,o)=>vr(e).undoManager.redo(t,o),ZB=(e,t,o)=>{vr(e).undoManager.clear(t,o)},GO=(e,t)=>{vr(e).undoManager.reset(t)},nS=(e,t,o)=>vr(e).undoManager.hasUndo(t,o),KO=(e,t,o)=>vr(e).undoManager.hasRedo(t,o),Tv=(e,t,o,s)=>vr(e).undoManager.transact(t,o,s),WB=(e,t,o)=>{vr(e).undoManager.ignore(t,o)},jB=(e,t,o,s,a)=>{vr(e).undoManager.extra(t,o,s,a)},qB=(e,t,o,s,a)=>vr(e).formatter.match(t,o,s,a),GB=(e,t,o)=>vr(e).formatter.matchAll(t,o),KB=(e,t,o,s,a)=>vr(e).formatter.matchNode(t,o,s,a),YB=(e,t)=>vr(e).formatter.canApply(t),XB=(e,t)=>vr(e).formatter.closest(t),JB=(e,t,o,s)=>{vr(e).formatter.apply(t,o,s)},QB=(e,t,o,s,a)=>{vr(e).formatter.remove(t,o,s,a)},eP=(e,t,o,s)=>{vr(e).formatter.toggle(t,o,s)},tP=(e,t,o,s,a,c)=>vr(e).formatter.formatChanged(t,o,s,a,c),YO=(e,t)=>tS(e).editor.getContent(t),XO=(e,t,o)=>tS(e).editor.setContent(t,o),JO=(e,t,o)=>tS(e).editor.insertContent(t,o),QO=(e,t,o)=>vr(e).selection.getContent(t,o),e7=(e,t)=>vr(e).editor.addVisual(t),sS=e=>vr(e).init.bindEvents(),t7=(e,t={})=>{const o=t.format?t.format:"html";return QO(e,o,t)},o7=(e,t,o)=>{if(Xt(e,t)){const s=Pt(e[t],a=>a!==o);s.length===0?delete e[t]:e[t]=s}};var oP=(e,t)=>{let o,s;const a=(g,b)=>Ko(b,_=>e.is(_,g)),c=g=>e.getParents(g,void 0,e.getRoot()),d=()=>{o={},s={},t.on("NodeChange",g=>{const b=g.element,_=c(b),T={};Mo(o,(N,R)=>{a(R,_).each(I=>{s[R]||(Te(N,Y=>{Y(!0,{node:I,selector:R,parents:_})}),s[R]=N),T[R]=N})}),Mo(s,(N,R)=>{T[R]||(delete s[R],Te(N,I=>{I(!1,{node:b,selector:R,parents:_})}))})})};return{selectorChangedWithUnbind:(g,b)=>(o||d(),o[g]||(o[g]=[]),o[g].push(b),a(g,c(t.selection.getStart())).each(()=>{s[g]=o[g]}),{unbind:()=>{o7(o,g,b),o7(s,g,b)}})}};const rS=e=>!!(e&&e.ownerDocument)&&Qr(Z.fromDom(e.ownerDocument),Z.fromDom(e)),nP=e=>e?rS(e.startContainer)&&rS(e.endContainer):!1,n7=(e,t,o,s)=>{let a,c;const{selectorChangedWithUnbind:d}=oP(e,s),g=(rt,Et)=>{const Wo=e.createRng();Ee(rt)&&Ee(Et)?(Wo.setStart(rt,Et),Wo.setEnd(rt,Et),ve(Wo),ce(!1)):(Vm(e,Wo,s.getBody(),!0),ve(Wo))},b=rt=>t7(s,rt),_=(rt,Et)=>Ck(s,rt,Et),T=rt=>IT(s.getBody(),fe(),rt),N=rt=>Gl(s.getBody(),fe(),rt),R=(rt,Et)=>mr.getBookmark(rt,Et),I=rt=>mr.moveToBookmark(rt),Y=(rt,Et)=>(PR(e,rt,Et).each(ve),rt),G=()=>{const rt=fe(),Et=le();return!rt||rt.item?!1:rt.compareEndPoints?rt.compareEndPoints("StartToEnd",rt)===0:!Et||rt.collapsed},W=()=>{if(s.mode.isReadOnly())return!1;const rt=fe(),Et=s.getBody().querySelectorAll('[data-mce-selected="1"]');return Et.length>0?Tl(Et,Wo=>e.isEditable(Wo.parentElement)):PT(e,rt)},ce=rt=>{const Et=fe();Et.collapse(!!rt),ve(Et)},le=()=>t.getSelection?t.getSelection():t.document.selection,fe=()=>{let rt;const Et=(Yo,xt,Ye)=>{try{return xt.compareBoundaryPoints(Yo,Ye)}catch{return-1}},Wo=t.document;if(Ee(s.bookmark)&&!wh(s)){const Yo=O4(s);if(Yo.isSome())return Yo.map(xt=>Z4(s,[xt])[0]).getOr(Wo.createRange())}try{const Yo=le();Yo&&!Lf(Yo.anchorNode)&&(Yo.rangeCount>0?rt=Yo.getRangeAt(0):rt=Wo.createRange(),rt=Z4(s,[rt])[0])}catch{}if(rt||(rt=Wo.createRange()),uu(rt.startContainer)&&rt.collapsed){const Yo=e.getRoot();rt.setStart(Yo,0),rt.setEnd(Yo,0)}return a&&c&&(Et(rt.START_TO_START,rt,a)===0&&Et(rt.END_TO_END,rt,a)===0?rt=c:(a=null,c=null)),rt},ve=(rt,Et)=>{if(!nP(rt))return;const Wo=le();if(rt=s.dispatch("SetSelectionRange",{range:rt,forward:Et}).range,Wo){c=rt;try{Wo.removeAllRanges(),Wo.addRange(rt)}catch{}Et===!1&&Wo.extend&&(Wo.collapse(rt.endContainer,rt.endOffset),Wo.extend(rt.startContainer,rt.startOffset)),a=Wo.rangeCount>0?Wo.getRangeAt(0):null}if(!rt.collapsed&&rt.startContainer===rt.endContainer&&Wo?.setBaseAndExtent&&rt.endOffset-rt.startOffset<2&&rt.startContainer.hasChildNodes()){const xt=rt.startContainer.childNodes[rt.startOffset];xt&&xt.nodeName==="IMG"&&(Wo.setBaseAndExtent(rt.startContainer,rt.startOffset,rt.endContainer,rt.endOffset),(Wo.anchorNode!==rt.startContainer||Wo.focusNode!==rt.endContainer)&&Wo.setBaseAndExtent(xt,0,xt,1))}s.dispatch("AfterSetSelectionRange",{range:rt,forward:Et})},Pe=rt=>(yv(s,e.getOuterHTML(rt)),rt),tt=()=>BR(s.getBody(),fe()),We=(rt,Et)=>FT(e,fe(),rt,Et),De=()=>{const rt=le(),Et=rt?.anchorNode,Wo=rt?.focusNode;if(!rt||!Et||!Wo||Lf(Et)||Lf(Wo))return!0;const Yo=e.createRng(),xt=e.createRng();try{Yo.setStart(Et,rt.anchorOffset),Yo.collapse(!0),xt.setStart(Wo,rt.focusOffset),xt.collapse(!0)}catch{return!0}return Yo.compareBoundaryPoints(Yo.START_TO_START,xt)<=0},ur={dom:e,win:t,serializer:o,editor:s,expand:(rt={type:"word"})=>ve(Mc(e).expand(fe(),rt)),collapse:ce,setCursorLocation:g,getContent:b,setContent:_,getBookmark:R,moveToBookmark:I,select:Y,isCollapsed:G,isEditable:W,isForward:De,setNode:Pe,getNode:tt,getSel:le,setRng:ve,getRng:fe,getStart:T,getEnd:N,getSelectedBlocks:We,normalize:()=>{const rt=fe(),Et=le();if(!lR(Et)&&Bx(s)){const Wo=Ch(e,rt);return Wo.each(Yo=>{ve(Yo,De())}),Wo.getOr(rt)}return rt},selectorChanged:(rt,Et)=>(d(rt,Et),ur),selectorChangedWithUnbind:d,getScrollContainer:()=>{let rt,Et=e.getRoot();for(;Et&&Et.nodeName!=="BODY";){if(Et.scrollHeight>Et.clientHeight){rt=Et;break}Et=Et.parentNode}return rt},scrollIntoView:(rt,Et)=>{Ee(rt)?MR(s,rt,Et):Hx(s,fe(),Et)},placeCaretAt:(rt,Et)=>ve(Od(rt,Et,s.getDoc())),getBoundingClientRect:()=>{const rt=fe();return rt.collapsed?Ae.fromRangeStart(rt).getClientRects()[0]:rt.getBoundingClientRect()},destroy:()=>{t=a=c=null,oc.destroy()}},mr=jn(ur),oc=Ly(ur,s);return ur.bookmarkManager=mr,ur.controlSelection=oc,ur},s7=(e,t,o)=>{t.addNodeFilter("br",(s,a,c)=>{const d=$e.extend({},o.getBlockElements()),g=o.getNonEmptyElements(),b=o.getWhitespaceElements();d.body=1;const _=T=>T.name in d||Fp(o,T);for(let T=0,N=s.length;T<N;T++){let R=s[T],I=R.parent;if(I&&_(I)&&R===I.lastChild){let Y=R.prev;for(;Y;){const G=Y.name;if(G!=="span"||Y.attr("data-mce-type")!=="bookmark"){G==="br"&&(R=null);break}Y=Y.prev}if(R&&(R.remove(),iv(o,g,b,I))){const G=o.getElementRule(I.name);G&&(G.removeEmpty?I.remove():G.paddEmpty&&V3(e,c,_,I))}}else{let Y=R;for(;I&&I.firstChild===Y&&I.lastChild===Y&&(Y=I,!d[I.name]);)I=I.parent;if(Y===I){const G=new ca("#text",3);G.value=Fs,R.replace(G)}}}})},r7=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(s,a)=>{let c=s.length;for(;c--;){const d=s[c];d.attr("tabindex",d.attr("data-mce-tabindex")),d.attr(a,null)}}),e.addAttributeFilter("src,href,style",(s,a)=>{const c="data-mce-"+a,d=t.url_converter,g=t.url_converter_scope;let b=s.length;for(;b--;){const _=s[b];let T=_.attr(c);T!==void 0?(_.attr(a,T.length>0?T:null),_.attr(c,null)):(T=_.attr(a),a==="style"?T=o.serializeStyle(o.parseStyle(T),_.name):d&&(T=d.call(g,T,a,_.name)),_.attr(a,T.length>0?T:null))}}),e.addAttributeFilter("class",s=>{let a=s.length;for(;a--;){const c=s[a];let d=c.attr("class");d&&(d=d.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",d.length>0?d:null))}}),e.addAttributeFilter("data-mce-type",(s,a,c)=>{let d=s.length;for(;d--;){const g=s[d];g.attr("data-mce-type")==="bookmark"&&!c.cleanup&&(P.from(g.firstChild).exists(_=>{var T;return!Xf((T=_.value)!==null&&T!==void 0?T:"")})?g.unwrap():g.remove())}}),e.addNodeFilter("script,style",(s,a)=>{var c;const d=b=>b.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let g=s.length;for(;g--;){const b=s[g],_=b.firstChild,T=(c=_?.value)!==null&&c!==void 0?c:"";if(a==="script"){const N=b.attr("type");N&&b.attr("type",N==="mce-no/type"?null:N.replace(/^mce\-/,"")),t.element_format==="xhtml"&&_&&T.length>0&&(_.value=`// <![CDATA[
`+d(T)+`
// ]]>`)}else t.element_format==="xhtml"&&_&&T.length>0&&(_.value=`<!--
`+d(T)+`
-->`)}}),e.addNodeFilter("#comment",s=>{let a=s.length;for(;a--;){const c=s[a],d=c.value;t.preserve_cdata&&d?.indexOf("[CDATA[")===0?(c.name="#cdata",c.type=4,c.value=o.decode(d.replace(/^\[CDATA\[|\]\]$/g,""))):d?.indexOf("mce:protected ")===0&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(d).substr(14))}}),e.addNodeFilter("xml:namespace,input",(s,a)=>{let c=s.length;for(;c--;){const d=s[c];d.type===7?d.remove():d.type===1&&a==="input"&&!d.attr("type")&&d.attr("type","text")}}),e.addAttributeFilter("data-mce-type",s=>{Te(s,a=>{a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(e.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(s,a)=>{let c=s.length;for(;c--;)s[c].attr(a,null)}),t.remove_trailing_brs&&s7(t,e,e.schema)},sP=e=>{const t=s=>s?.name==="br",o=e.lastChild;if(t(o)){const s=o.prev;t(s)&&(o.remove(),s.remove())}},a7=(e,t,o)=>{let s;const a=e.dom;let c=t.cloneNode(!0);const d=document.implementation;if(d.createHTMLDocument){const g=d.createHTMLDocument("");$e.each(c.nodeName==="BODY"?c.childNodes:[c],b=>{g.body.appendChild(g.importNode(b,!0))}),c.nodeName!=="BODY"?c=g.body.firstChild:c=g.body,s=a.doc,a.doc=g}return ba(e,{...o,node:c}),s&&(a.doc=s),c},i7=(e,t)=>Ee(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,rP=(e,t,o)=>i7(e,o)?a7(e,t,o):t,aP=(e,t,o)=>{$e.inArray(t,o)===-1&&(e.addAttributeFilter(o,(s,a)=>{let c=s.length;for(;c--;)s[c].attr(a,null)}),t.push(o))},iP=(e,t,o)=>!t.no_events&&e?pl(e,{...t,content:o}).content:o,lP=(e,t,o)=>{const s=jr(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||Mm(Z.fromDom(t))?s:$e.trim(s)},cP=(e,t,o)=>{const s=o.selection?{forced_root_block:!1,...o}:o,a=e.parse(t,s);return sP(a),a},aw=(e,t,o)=>fg(e,t).serialize(o),l7=(e,t,o,s,a)=>{const c=aw(t,o,s);return iP(e,a,c)},c7=(e,t)=>{const o=["data-mce-selected"],s={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},a=t&&t.dom?t.dom:ko.DOM,c=t&&t.schema?t.schema:no(s),d=Nu(s,c);r7(d,s,a);const g=(b,_={})=>{const T={format:"html",..._},N=rP(t,b,T),R=lP(a,N,T),I=cP(d,R,T);return T.format==="tree"?I:l7(t,s,c,I,T)};return{schema:c,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,serialize:g,addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:bt(aP,d,o),getTempAttrs:Ge(o),getNodeFilters:d.getNodeFilters,getAttributeFilters:d.getAttributeFilters,removeNodeFilter:d.removeNodeFilter,removeAttributeFilter:d.removeAttributeFilter}},aS=(e,t)=>{const o=c7(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},dP="html",uP=(e,t)=>({...e,format:t,get:!0,getInner:!0}),d7=(e,t={})=>{const o=t.format?t.format:dP,s=uP(t,o);return bk(e,s).fold(dn,a=>{const c=YO(e,a);return F_(e,c,a)})},mP="html",iS=(e,t)=>({format:mP,...e,set:!0,content:t}),iw=(e,t,o={})=>{const s=iS(o,t);z_(e,s).each(a=>{const c=XO(e,a.content,a);xk(e,c.html,a)})},lw=ko.DOM,fP=e=>{lw.setStyle(e.id,"display",e.orgDisplay)},cw=e=>P.from(e).each(t=>t.destroy()),gP=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const s=o.dom;t.selection=o.win=o.dom=s.doc=null}},u7=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),lw.unbind(t,"submit reset",e.formEventDelegate))},m7=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e,s=e.getBody(),a=e.getElement();s&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Ee(a?.nextSibling)&&lw.remove(a.nextSibling),HE(e),e.editorManager.remove(e),!e.inline&&s&&fP(e),aN(e),lw.remove(e.getContainer()),cw(t),cw(o),e.destroy()}},pP=(e,t)=>{const{selection:o,dom:s}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),cw(o),cw(s)),u7(e),gP(e),e.destroyed=!0}},ec=(()=>{const e={};return{add:(a,c)=>{e[a]=c},get:a=>e[a]?e[a]:{icons:{}},has:a=>Xt(e,a)}})(),Hh=Wr.ModelManager,lS=(e,t)=>t.dom[e],Av=(e,t)=>parseInt(Ri(t,e),10),cS=bt(lS,"clientWidth"),g7=bt(lS,"clientHeight"),p7=bt(Av,"margin-top"),h7=bt(Av,"margin-left"),hP=e=>e.dom.getBoundingClientRect(),dS=(e,t,o)=>{const s=cS(e),a=g7(e);return t>=0&&o>=0&&t<=s&&o<=a},bP=(e,t,o,s)=>{const a=hP(t),c=e?a.left+t.dom.clientLeft+h7(t):0,d=e?a.top+t.dom.clientTop+p7(t):0,g=o-c,b=s-d;return{x:g,y:b}},xP=(e,t,o)=>{const s=Z.fromDom(e.getBody()),a=e.inline?s:f1(s),c=bP(e.inline,a,t,o);return dS(a,c.x,c.y)},vP=e=>P.from(e).map(Z.fromDom),dw=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return vP(t).map(hc).getOr(!1)};var yP=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const uw=e=>{const t=[],o=()=>{const R=e.theme;return R&&R.getNotificationManagerImpl?R.getNotificationManagerImpl():yP()},s=()=>P.from(t[0]),a=(R,I)=>R.type===I.type&&R.text===I.text&&!R.progressBar&&!R.timeout&&!I.progressBar&&!I.timeout,c=()=>{s().each(R=>{R.reposition()})},d=R=>{t.push(R)},g=R=>{ss(t,I=>I===R).each(I=>{t.splice(I,1)})},b=(R,I=!0)=>e.removed||!dw(e)?{}:(I&&e.dispatch("BeforeOpenNotification",{notification:R}),Ko(t,Y=>a(o().getArgs(Y),R)).getOrThunk(()=>{e.editorManager.setActive(e);const Y=o().open(R,()=>{g(Y)},()=>Ad(e));return d(Y),c(),e.dispatch("OpenNotification",{notification:{...Y}}),Y})),_=()=>{s().each(R=>{o().close(R),g(R),c()})},T=Ge(t);return(R=>{R.on("SkinLoaded",()=>{const I=c0(R);I&&b({text:I,type:"warning",timeout:0},!1),c()}),R.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(c)}),R.on("remove",()=>{Te(t.slice(),I=>{o().close(I)})}),R.on("keydown",I=>{var Y;const G=((Y=I.key)===null||Y===void 0?void 0:Y.toLowerCase())==="f12"||I.keyCode===123;I.altKey&&G&&(I.preventDefault(),s().map(W=>Z.fromDom(W.getEl())).each(W=>Er(W)))})})(e),{open:b,close:_,getNotifications:T}},Lg=Wr.PluginManager,Ig=Wr.ThemeManager;var _P=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const uS=e=>{let t=[];const o=()=>{const W=e.theme;return W&&W.getWindowManagerImpl?W.getWindowManagerImpl():_P()},s=(W,ce)=>(...le)=>ce?ce.apply(W,le):void 0,a=W=>{e.dispatch("OpenWindow",{dialog:W})},c=W=>{e.dispatch("CloseWindow",{dialog:W})},d=(W,ce)=>{t.push({instanceApi:W,triggerElement:ce}),a(W)},g=W=>{c(W);const ce=Zc(t,({instanceApi:le,triggerElement:fe})=>le===W?fe:P.none());t=Pt(t,({instanceApi:le})=>le!==W),t.length===0?e.focus():ce.filter(hc).each(Er)},b=()=>P.from(t[t.length-1]),_=W=>{e.editorManager.setActive(e),Ss(e);const ce=Ea();e.ui.show();const le=W();return d(le,ce),le},T=(W,ce)=>_(()=>o().open(W,ce,g)),N=W=>_(()=>o().openUrl(W,g)),R=W=>{t.length!==0&&W.each(ce=>Er(ce))},I=(W,ce,le)=>{const fe=Ea(),ve=o();ve.alert(W,s(le||ve,()=>{R(fe),ce?.()}))},Y=(W,ce,le)=>{const fe=Ea(),ve=o();ve.confirm(W,s(le||ve,Pe=>{R(fe),ce?.(Pe)}))},G=()=>{b().each(({instanceApi:W})=>{o().close(W),g(W)})};return e.on("remove",()=>{Te(t,({instanceApi:W})=>{o().close(W)})}),{open:T,openUrl:N,alert:I,confirm:Y,close:G}},Ov=(e,t)=>{e.notificationManager.open({type:"error",text:t})},Dv=(e,t)=>{e._skinLoaded?Ov(e,t):e.on("SkinLoaded",()=>{Ov(e,t)})},b7=(e,t)=>{Dv(e,co.translate(["Failed to upload image: {0}",t]))},j0=(e,t,o)=>{$E(e,t,{message:o}),console.error(o)},q0=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,mS=(e,t,o)=>{j0(e,"PluginLoadError",q0("plugin",t,o))},x7=(e,t,o)=>{j0(e,"IconsLoadError",q0("icons",t,o))},v7=(e,t,o)=>{j0(e,"LanguageLoadError",q0("language",t,o))},wP=(e,t,o)=>{j0(e,"ThemeLoadError",q0("theme",t,o))},CP=(e,t,o)=>{j0(e,"ModelLoadError",q0("model",t,o))},G0=(e,t)=>{j0(e,"LicenseKeyManagerLoadError",q0("license key manager",t))},kP=(e,t,o)=>{const s=co.translate(["Failed to initialize plugin: {0}",t]);$E(e,"PluginLoadError",{message:s}),mw(s,o),Dv(e,s)},mw=(e,...t)=>{const o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},fS=new WeakMap,y7=e=>{if(fS.has(e))return;fS.set(e,!0);const t=()=>{e.on("SwitchMode",s=>{const{mode:a}=s;a!=="readonly"&&e.mode.set("readonly")})},o=()=>{e.on("DisabledStateChange",s=>{const{state:a}=s;a||s.preventDefault()},!0)};e.initialized?(e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)):e.on("init",()=>{e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)}),o(),t()},Nv=(e,t)=>{const{type:o,message:s}=t;e.notificationManager.open({type:o,text:s})},SP=e=>{switch(e){case"error":return console.error;case"info":return console.info;case"warn":return console.warn;case"log":default:return console.log}},EP=e=>{SP(e.type)(e.message)},gS=(e,t)=>{const{console:o,editor:s}=t;Ee(s)&&(e._skinLoaded?Nv(e,s):e.on("SkinLoaded",()=>{Nv(e,s)})),Ee(o)&&EP(o)},pS="Read more: https://www.tiny.cloud/docs/tinymce/latest/license-key/",TP="Make sure to provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms.",AP=e=>{const t="The editor is disabled because a TinyMCE license key has not been provided.";gS(e,{console:{type:"error",message:[`${t}`,TP,pS].join(" ")},editor:{type:"warning",message:`${t}`}})},OP=(e,t)=>{const o=`${t==="online"?"API":"license"} key`,s=`The editor is disabled because the TinyMCE ${o} could not be validated.`;gS(e,{console:{type:"error",message:[`${s}`,`The TinyMCE Commercial License Key Manager plugin is required for the provided ${o} to be validated but could not be loaded.`,pS].join(" ")},editor:{type:"warning",message:`${s}`}})},_7=(e,t)=>{const o=`The "${t}" plugin requires a valid TinyMCE license key.`;gS(e,{console:{type:"error",message:[`${o}`,pS].join(" ")}})},w7="licensekeymanager",ln=e=>Je(jN(e))?"online":"offline",C7=e=>{var t;const o=(t=uy(e))===null||t===void 0?void 0:t.toLowerCase();return o==="gpl"?"gpl":zo(o)?"no_key":"non_gpl"},fw=e=>{const t=ln(e),o=C7(e),s=new Set(d0(e)).has(w7);return o!=="gpl"||t==="online"||s?{type:"use_plugin",onlineStatus:t,licenseKeyType:o,forcePlugin:s}:{type:"use_gpl",onlineStatus:t,licenseKeyType:o,forcePlugin:s}},k7=e=>({validate:t=>{const{plugin:o}=t;return Je(o)&&_7(e,o),Promise.resolve(!1)}}),S7=e=>({validate:t=>{const{plugin:o}=t,s=Je(o);return s&&_7(e,o),Promise.resolve(!s)}}),$h="manager",DP=w7,hS=(()=>{const e=Wr();return{load:(a,c)=>{if(fw(a).type==="use_plugin"){const g=`plugins/${DP}/plugin${c}.js`;e.load($h,g).catch(()=>{G0(a,g)})}},add:a=>{e.add($h,a)},init:a=>{const c=b=>{Object.defineProperty(a,"licenseKeyManager",{value:b,writable:!1,configurable:!1,enumerable:!0})},d=fw(a),g=e.get($h);if(Ee(g)){const b=g(a,e.urls[$h]);c(b)}else switch(d.type){case"use_gpl":{c(S7(a));break}case"use_plugin":{y7(a),c(k7(a)),d.onlineStatus==="offline"&&d.licenseKeyType==="no_key"?AP(a):OP(a,d.onlineStatus);break}}a.licenseKeyManager.validate({})}}})(),NP=e=>{P.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},gw=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch{}},RP=(e,t)=>{gw(e,"StyleWithCSS",t),gw(e,"enableInlineTableEditing",t),gw(e,"enableObjectResizing",t)},MP=e=>{e.selection.setRng(e.selection.getRng())},bS=(e,t,o)=>{sr(e,t)&&!o?bn(e,t):o&&sa(e,t)},T7=e=>{const t=Z.fromDom(e.getBody());bS(t,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),NP(e)},A7=e=>{const t=Z.fromDom(e.getBody());bS(t,"mce-content-readonly",!1),e.hasEditableRoot()&&Ms(t,!0),RP(e,!1),Ad(e)&&e.focus(),MP(e),e.nodeChanged()},ef=e=>Cx(e),Bu="data-mce-contenteditable",O7=e=>{Te(In(e,'*[contenteditable="true"]'),t=>{Zs(t,Bu,"true"),Ms(t,!1)})},xS=e=>{Te(In(e,`*[${Bu}="true"]`),t=>{ks(t,Bu),Ms(t,!0)})},vS=(e,t)=>{const o=Z.fromDom(e.getBody());t?(T7(e),Ms(o,!1),O7(o)):(xS(o),A7(e))},BP=e=>{e.serializer?yS(e):e.on("PreInit",()=>{yS(e)})},yS=e=>{e.parser.addAttributeFilter("contenteditable",t=>{ef(e)&&Te(t,o=>{o.attr(Bu,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Bu,t=>{ef(e)&&Te(t,o=>{o.attr("contenteditable",o.attr(Bu))})}),e.serializer.addTempAttr(Bu)},D7=e=>e.type==="click",pw=["copy"],_S=e=>wo(pw,e.type),wS=(e,t)=>On(t,"a",s=>Lt(s,Z.fromDom(e.getBody()))).bind(s=>or(s,"href")),K0=(e,t)=>{if(D7(t)&&!it.metaKeyPressed(t)){const o=Z.fromDom(t.target);wS(e,o).each(s=>{if(t.preventDefault(),/^#/.test(s)){const a=e.dom.select(`${s},[name="${wb(s,"#")}"]`);a.length&&e.selection.scrollIntoView(a[0],!0)}else window.open(s,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else _S(t)&&e.dispatch(t.type,t)},PP=e=>{e.on("ShowCaret ObjectSelected",t=>{ef(e)&&t.preventDefault()}),e.on("DisabledStateChange",t=>{t.isDefaultPrevented()||vS(e,t.state)})},Y0=e=>{BP(e),PP(e)},Rv=e=>/^[a-z0-9\-]+$/i.test(e),Fg=e=>"content/"+e+"/content.css",CS=e=>tinymce.Resource.has(Fg(e)),N7=e=>hw(e,CN(e)),R7=e=>hw(e,r5(e)),hw=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content",a=`content${e.editorManager.suffix}.css`;return go(t,c=>CS(c)?c:Rv(c)&&!e.inline?`${o}/${c}/${a}`:e.documentBaseURI.toAbsolute(c))},M7=e=>{e.contentCSS=e.contentCSS.concat(N7(e),R7(e))},B7=e=>e?mt(e.getElementsByTagName("img")):[],P7=(e,t)=>{const o={};return{findAll:(a,c=qo)=>{const d=Pt(B7(a),b=>{const _=b.src;return b.hasAttribute("data-mce-bogus")||b.hasAttribute("data-mce-placeholder")||!_||_===Vo.transparentSrc?!1:lo(_,"blob:")?!e.isUploaded(_)&&c(b):lo(_,"data:")?c(b):!1}),g=go(d,b=>{const _=b.src;if(Xt(o,_))return o[_].then(T=>Je(T)?T:{image:b,blobInfo:T.blobInfo});{const T=SA(t,_).then(N=>(delete o[_],{image:b,blobInfo:N})).catch(N=>(delete o[_],N));return o[_]=T,T}});return Promise.all(g)}}},bw=()=>{let o={};const s=(R,I)=>({status:R,resultUri:I}),a=R=>R in o;return{hasBlobUri:a,getResultUri:R=>{const I=o[R];return I?I.resultUri:null},isPending:R=>a(R)?o[R].status===1:!1,isUploaded:R=>a(R)?o[R].status===2:!1,markPending:R=>{o[R]=s(1,null)},markUploaded:(R,I)=>{o[R]=s(2,I)},removeFailed:R=>{delete o[R]},destroy:()=>{o={}}}};let L7=0;const I7=()=>{const e=()=>Math.round(Jg()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},kS=e=>e+L7+++I7(),LP=()=>{let e=[];const t=N=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[N.toLowerCase()]||"dat",o=(N,R,I,Y,G)=>{if(Je(N))return s({id:N,name:Y,filename:G,blob:R,base64:I});if(ae(N))return s(N);throw new Error("Unknown input type")},s=N=>{if(!N.blob||!N.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const R=N.id||kS("blobid"),I=N.name||R,Y=N.blob;return{id:Ge(R),name:Ge(I),filename:Ge(N.filename||I+"."+t(Y.type)),blob:Ge(Y),base64:Ge(N.base64),blobUri:Ge(N.blobUri||URL.createObjectURL(Y)),uri:Ge(N.uri)}},a=N=>{d(N.id())||e.push(N)},c=N=>Ko(e,N).getOrUndefined(),d=N=>c(R=>R.id()===N);return{create:o,add:a,get:d,getByUri:N=>c(R=>R.blobUri()===N),getByData:(N,R)=>c(I=>I.base64()===N&&I.blob().type===R),findFirst:c,removeByUri:N=>{e=Pt(e,R=>R.blobUri()===N?(URL.revokeObjectURL(R.blobUri()),!1):!0)},destroy:()=>{Te(e,N=>{URL.revokeObjectURL(N.blobUri())}),e=[]}}},F7=(e,t)=>{const o={},s=(G,W)=>G?G.replace(/\/$/,"")+"/"+W.replace(/^\//,""):W,a=(G,W)=>new Promise((ce,le)=>{const fe=new XMLHttpRequest;fe.open("POST",t.url),fe.withCredentials=t.credentials,fe.upload.onprogress=Pe=>{W(Pe.loaded/Pe.total*100)},fe.onerror=()=>{le("Image upload failed due to a XHR Transport error. Code: "+fe.status)},fe.onload=()=>{if(fe.status<200||fe.status>=300){le("HTTP Error: "+fe.status);return}const Pe=JSON.parse(fe.responseText);if(!Pe||!Je(Pe.location)){le("Invalid JSON: "+fe.responseText);return}ce(s(t.basePath,Pe.location))};const ve=new FormData;ve.append("file",G.blob(),G.filename()),fe.send(ve)}),c=Ut(t.handler)?t.handler:a,d=()=>new Promise(G=>{G([])}),g=(G,W)=>({url:W,blobInfo:G,status:!0}),b=(G,W)=>({url:"",blobInfo:G,status:!1,error:W}),_=(G,W)=>{$e.each(o[G],ce=>{ce(W)}),delete o[G]},T=(G,W,ce)=>(e.markPending(G.blobUri()),new Promise(le=>{let fe,ve;try{const Pe=()=>{fe&&(fe.close(),ve=fo)},tt=De=>{Pe(),e.markUploaded(G.blobUri(),De),_(G.blobUri(),g(G,De)),le(g(G,De))},We=De=>{Pe(),e.removeFailed(G.blobUri()),_(G.blobUri(),b(G,De)),le(b(G,De))};ve=De=>{De<0||De>100||P.from(fe).orThunk(()=>P.from(ce).map(Vu)).each(Se=>{fe=Se,Se.progressBar.value(De)})},W(G,ve).then(tt,De=>{We(Je(De)?{message:De}:De)})}catch(Pe){le(b(G,Pe))}})),N=G=>G===a,R=G=>{const W=G.blobUri();return new Promise(ce=>{o[W]=o[W]||[],o[W].push(ce)})},I=(G,W)=>(G=$e.grep(G,ce=>!e.isUploaded(ce.blobUri())),Promise.all($e.map(G,ce=>e.isPending(ce.blobUri())?R(ce):T(ce,c,W))));return{upload:(G,W)=>!t.url&&N(c)?d():I(G,W)}},SS=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),ES=(e,t)=>F7(t,{url:iy(e),basePath:Hm(e),credentials:ly(e),handler:l0(e)}),xw=e=>{const t=bw(),o=ES(e,t);return{upload:(s,a=!0)=>o.upload(s,a?SS(e):void 0)}},z7=(e,t)=>e.dom.isEmpty(t.dom)&&Ee(e.schema.getTextBlockElements()[Gt(t)]),H7=e=>t=>{z7(e,t)&&rn(t,Z.fromHtml('<br data-mce-bogus="1" />'))},IP=e=>{const t=LP();let o,s;const a=bw(),c=[],d=fe=>ve=>e.selection?fe(ve):[],g=fe=>fe+(fe.indexOf("?")===-1?"?":"&")+new Date().getTime(),b=(fe,ve,Pe)=>{let tt=0;do tt=fe.indexOf(ve,tt),tt!==-1&&(fe=fe.substring(0,tt)+Pe+fe.substr(tt+ve.length),tt+=Pe.length-ve.length+1);while(tt!==-1);return fe},_=(fe,ve,Pe)=>{const tt=`src="${Pe}"${Pe===Vo.transparentSrc?' data-mce-placeholder="1"':""}`;return fe=b(fe,`src="${ve}"`,tt),fe=b(fe,'data-mce-src="'+ve+'"','data-mce-src="'+Pe+'"'),fe},T=(fe,ve)=>{Te(e.undoManager.data,Pe=>{Pe.type==="fragmented"?Pe.fragments=go(Pe.fragments,tt=>_(tt,fe,ve)):Pe.content=_(Pe.content,fe,ve)})},N=(fe,ve)=>{const Pe=e.convertURL(ve,"src");T(fe.src,ve),Ta(Z.fromDom(fe),{src:t5(e)?g(ve):ve,"data-mce-src":Pe})},R=()=>(o||(o=ES(e,a)),W().then(d(fe=>{const ve=go(fe,Pe=>Pe.blobInfo);return o.upload(ve,SS(e)).then(d(Pe=>{const tt=[];let We=!1;const De=go(Pe,(Se,Ie)=>{const{blobInfo:gt,image:Mt}=fe[Ie];let oo=!1;return Se.status&&Wn(e)?(Se.url&&!zr(Mt.src,Se.url)&&(We=!0),t.removeByUri(Mt.src),Ld(e)||N(Mt,Se.url)):Se.error&&(Se.error.remove&&(T(Mt.src,Vo.transparentSrc),tt.push(Mt),oo=!0),b7(e,Se.error.message)),{element:Mt,status:Se.status,uploadUri:Se.url,blobInfo:gt,removed:oo}});return tt.length>0&&!Ld(e)?e.undoManager.transact(()=>{Te(Un(tt),Se=>{const Ie=Vs(Se);Tn(Se),Ie.each(H7(e)),t.removeByUri(Se.dom.src)})}):We&&e.undoManager.dispatchChange(),De}))}))),I=()=>e5(e)?R():Promise.resolve([]),Y=fe=>Tl(c,ve=>ve(fe)),G=fe=>{c.push(fe)},W=()=>(s||(s=P7(a,t)),s.findAll(e.getBody(),Y).then(d(fe=>{const ve=Pt(fe,Pe=>Je(Pe)?(Dv(e,Pe),!1):Pe.uriType!=="blob");return Ld(e)||Te(ve,Pe=>{T(Pe.image.src,Pe.blobInfo.blobUri()),Pe.image.src=Pe.blobInfo.blobUri(),Pe.image.removeAttribute("data-mce-src")}),ve}))),ce=()=>{t.destroy(),a.destroy(),s=o=null},le=fe=>fe.replace(/src="(blob:[^"]+)"/g,(ve,Pe)=>{const tt=a.getResultUri(Pe);if(tt)return'src="'+tt+'"';let We=t.getByUri(Pe);return We||(We=Go(e.editorManager.get(),(De,Se)=>De||Se.editorUpload&&Se.editorUpload.blobCache.getByUri(Pe),void 0)),We?'src="data:'+We.blob().type+";base64,"+We.base64()+'"':ve});return e.on("SetContent",()=>{e5(e)?I():W()}),e.on("RawSaveContent",fe=>{fe.content=le(fe.content)}),e.on("GetContent",fe=>{fe.source_view||fe.format==="raw"||fe.format==="tree"||(fe.content=le(fe.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",fe=>{Te(fe,ve=>{const Pe=ve.attr("src");if(!Pe||t.getByUri(Pe))return;const tt=a.getResultUri(Pe);tt&&ve.attr("src",tt)})})}),{blobCache:t,addFilter:G,uploadImages:R,uploadImagesAuto:I,scanForImages:W,destroy:ce}},FP=e=>{const t=e.dom,o=e.schema.type,s={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const a={inline:"span",styles:{textDecoration:"line-through"},exact:!0},c={inline:"strike",remove:"all",preserve_attributes:["class","style"]},d={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[d,a,c]:[a,d,c]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(a,c,d)=>ft(a)&&a.hasAttribute("href"),onformat:(a,c,d)=>{$e.each(d,(g,b)=>{t.setAttrib(a,b,g)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":a=>{var c;return(c=a?.customValue)!==null&&c!==void 0?c:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return $e.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),a=>{s[a]={block:a,remove:"all"}}),s},$7={remove_similar:!0,inherit:!1},X0={selector:"td,th",...$7},V7={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...X0},tablecellverticalalign:{styles:{"vertical-align":"%value"},...X0},tablecellbordercolor:{styles:{borderColor:"%value"},...X0},tablecellclass:{classes:["%value"],...X0},tableclass:{selector:"table",classes:["%value"],...$7},tablecellborderstyle:{styles:{borderStyle:"%value"},...X0},tablecellborderwidth:{styles:{borderWidth:"%value"},...X0}},U7=Ge(V7),Z7=e=>{const t={},o=d=>Ee(d)?t[d]:t,s=d=>Xt(t,d),a=(d,g)=>{d&&(Je(d)?(ie(g)||(g=[g]),Te(g,b=>{Cs(b.deep)&&(b.deep=!jl(b)),Cs(b.split)&&(b.split=!jl(b)||cr(b)),Cs(b.remove)&&jl(b)&&!cr(b)&&(b.remove="none"),jl(b)&&cr(b)&&(b.mixed=!0,b.block_expand=!0),Je(b.classes)&&(b.classes=b.classes.split(/\s+/))}),t[d]=g):Mo(d,(b,_)=>{a(_,b)}))},c=d=>(d&&t[d]&&delete t[d],t);return a(FP(e)),a(U7()),a(hl(e)),{get:o,has:s,register:a,unregister:c}},vw=$e.each,Qa=ko.DOM,TS=e=>Ee(e)&&ae(e),AS=(e,t)=>{const o=t&&t.schema||no({}),s=(b,_)=>{_.classes.length>0&&Qa.addClass(b,_.classes.join(" ")),Qa.setAttribs(b,_.attrs)},a=b=>{const _=Je(b)?{name:b,classes:[],attrs:{}}:b,T=Qa.create(_.name);return s(T,_),T},c=(b,_)=>{const T=o.getElementRule(b.nodeName.toLowerCase()),N=T?.parentsRequired;return N&&N.length?_&&wo(N,_)?_:N[0]:!1},d=(b,_,T)=>{let N;const R=_[0],I=TS(R)?R.name:void 0,Y=c(b,I);if(Y)I===Y?(N=R,_=_.slice(1)):N=Y;else if(R)N=R,_=_.slice(1);else if(!T)return b;const G=N?a(N):Qa.create("div");G.appendChild(b),T&&$e.each(T,ce=>{const le=a(ce);G.insertBefore(le,b)});const W=TS(N)?N.siblings:void 0;return d(G,_,W)},g=Qa.create("div");if(e.length>0){const b=e[0],_=a(b),T=TS(b)?b.siblings:void 0;g.appendChild(d(_,e.slice(1),T))}return g},yw=e=>{e=$e.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(s,a,c,d,g)=>{switch(a){case"#":o.attrs.id=c;break;case".":o.classes.push(c);break;case":":$e.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(o.attrs[c]=c);break}if(d==="["){const b=g.match(/([\w\-]+)(?:\=\"([^\"]+))?/);b&&(o.attrs[b[1]]=b[2])}return""})),o.name=t||"div",o},W7=e=>Je(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),$e.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const o=$e.map(t.split(/(?:~\+|~|\+)/),yw),s=o.pop();return o.length&&(s.siblings=o),s}).reverse()):[],j7=(e,t)=>{let o="",s=Ja(e);if(s==="")return"";const a=R=>Je(R)?R.replace(/%(\w+)/g,""):"",c=(R,I)=>Qa.getStyle(I??e.getBody(),R,!0);if(Je(t)){const R=e.formatter.get(t);if(!R)return"";t=R[0]}if("preview"in t){const R=t.preview;if(R===!1)return"";s=R||s}let d=t.block||t.inline||"span",g;const b=W7(t.selector);b.length>0?(b[0].name||(b[0].name=d),d=t.selector,g=AS(b,e)):g=AS([d],e);const _=Qa.select(d,g)[0]||g.firstChild;vw(t.styles,(R,I)=>{const Y=a(R);Y&&Qa.setStyle(_,I,Y)}),vw(t.attributes,(R,I)=>{const Y=a(R);Y&&Qa.setAttrib(_,I,Y)}),vw(t.classes,R=>{const I=a(R);Qa.hasClass(_,I)||Qa.addClass(_,I)}),e.dispatch("PreviewFormats"),Qa.setStyles(g,{position:"absolute",left:-65535}),e.getBody().appendChild(g);const T=c("fontSize"),N=/px$/.test(T)?parseInt(T,10):0;return vw(s.split(" "),R=>{let I=c(R,_);if(!(R==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(I)&&(I=c(R),Cc(I).toLowerCase()==="#ffffff"))&&!(R==="color"&&Cc(I).toLowerCase()==="#000000")){if(R==="font-size"&&/em|%$/.test(I)){if(N===0)return;I=parseFloat(I)/(/%$/.test(I)?100:1)*N+"px"}R==="border"&&I&&(o+="padding:0 2px;"),o+=R+":"+I+";"}}),e.dispatch("AfterPreviewFormats"),Qa.remove(g),o},zP=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},q7=e=>{const t=Z7(e),o=Bn({});return zP(e),cM(e),Ld(e)||vO(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(s,a,c)=>{JB(e,s,a,c)},remove:(s,a,c,d)=>{QB(e,s,a,c,d)},toggle:(s,a,c)=>{eP(e,s,a,c)},match:(s,a,c,d)=>qB(e,s,a,c,d),closest:s=>XB(e,s),matchAll:(s,a)=>GB(e,s,a),matchNode:(s,a,c,d)=>KB(e,s,a,c,d),canApply:s=>YB(e,s),formatChanged:(s,a,c,d)=>tP(e,o,s,a,c,d),getCssText:bt(j7,e)}},_w=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},ww=(e,t,o)=>{const s=Bn(!1),a=b=>{W0(t,!1,o),t.add({},b)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",b=>{const _=b.command;_w(_)||(Xk(t,o),t.beforeChange())}),e.on("ExecCommand",b=>{const _=b.command;_w(_)||a(b)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",b=>{const _=b.keyCode;if(b.isDefaultPrevented())return;const T=Vo.os.isMacOS()&&b.key==="Meta";(_>=33&&_<=36||_>=37&&_<=40||_===45||b.ctrlKey||T)&&(a(),e.nodeChanged()),(_===46||_===8)&&e.nodeChanged(),s.get()&&t.typing&&!ow(Ev(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),s.set(!1),e.nodeChanged())}),e.on("keydown",b=>{const _=b.keyCode;if(b.isDefaultPrevented())return;if(_>=33&&_<=36||_>=37&&_<=40||_===45){t.typing&&a(b);return}const T=b.ctrlKey&&!b.altKey||b.metaKey;if((_<16||_>20)&&_!==224&&_!==91&&!t.typing&&!T){t.beforeChange(),W0(t,!0,o),t.add({},b),s.set(!0);return}(Vo.os.isMacOS()?b.metaKey:b.ctrlKey&&!b.altKey)&&t.beforeChange()}),e.on("mousedown",b=>{t.typing&&a(b)});const c=b=>b.inputType==="insertReplacementText",d=b=>b.inputType==="insertText"&&b.data===null,g=b=>b.inputType==="insertFromPaste"||b.inputType==="insertFromDrop";e.on("input",b=>{b.inputType&&(c(b)||d(b)||g(b))&&a(b)}),e.on("AddUndo Undo Redo ClearUndos",b=>{b.isDefaultPrevented()||e.nodeChanged()})},G7=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},Cw=e=>{const t=ac(),o=Bn(0),s=Bn(0),a={data:[],typing:!1,beforeChange:()=>{oS(e,o,t)},add:(c,d)=>qO(e,a,s,o,t,c,d),dispatchChange:()=>{e.setDirty(!0);const c=Ev(e);c.bookmark=Fm(e.selection),e.dispatch("change",{level:c,lastLevel:$o(a.data,s.get()).getOrUndefined()})},undo:()=>dr(e,a,o,s),redo:()=>UB(e,s,a.data),clear:()=>{ZB(e,a,s)},reset:()=>{GO(e,a)},hasUndo:()=>nS(e,a,s),hasRedo:()=>KO(e,a,s),transact:c=>Tv(e,a,o,c),ignore:c=>{WB(e,o,c)},extra:(c,d)=>{jB(e,a,s,c,d)}};return Ld(e)||ww(e,a,o),G7(e),a},K7=[9,27,it.HOME,it.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,it.DOWN,it.UP,it.LEFT,it.RIGHT].concat(Vo.browser.isFirefox()?[224]:[]),Y7="data-mce-placeholder",OS=e=>e.type==="keydown"||e.type==="keyup",X7=e=>{const t=e.keyCode;return t===it.BACKSPACE||t===it.DELETE},J7=e=>{if(OS(e)){const t=e.keyCode;return!X7(e)&&(it.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||wo(K7,t))}else return!1},DS=e=>OS(e)&&!(X7(e)||e.type==="keyup"&&e.keyCode===229),kw=(e,t,o)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const s=t.firstElementChild;return s?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:o===s.nodeName.toLowerCase():!0}else return!1},Q7=e=>{var t;const o=e.dom,s=qr(e),a=(t=la(e))!==null&&t!==void 0?t:"",c=(d,g)=>{if(J7(d))return;const b=e.getBody(),_=DS(d)?!1:kw(o,b,s);(o.getAttrib(b,Y7)!==""!==_||g)&&(o.setAttrib(b,Y7,_?a:null),uN(e,_),e.on(_?"keydown":"keyup",c),e.off(_?"keyup":"keydown",c))};tl(a)&&e.on("init",d=>{c(d,!0),e.on("change SetContent ExecCommand",c),e.on("paste",g=>ql.setEditorTimeout(e,()=>c(g)))})},e8=e=>t=>Ee(t)&&t.nodeName.toLowerCase()===e,Sw=e=>t=>Ee(t)&&e.test(t.nodeName),Id=e=>Ee(e)&&e.nodeType===3,Mv=e=>Ee(e)&&e.nodeType===1,tc=Sw(/^(OL|UL|DL)$/),NS=Sw(/^(OL|UL)$/),Ew=Sw(/^(LI|DT|DD)$/),t8=Sw(/^(DT|DD)$/),tf=e8("br"),o8=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},Tw=(e,t)=>Ee(t)&&t.nodeName in e.schema.getTextBlockElements(),Aw=(e,t)=>Ee(e)&&e.nodeName in t,n8=(e,t)=>Ee(t)&&t.nodeName in e.schema.getVoidElements(),HP=(e,t)=>tf(t)?e.isBlock(t.nextSibling)&&!tf(t.previousSibling):!1,Vh=(e,t,o)=>{const s=e.isEmpty(t);return o&&e.select("span[data-mce-type=bookmark]",t).length>0?!1:s},Ow=(e,t)=>e.isChildOf(t,e.getRoot()),s8=(e,t)=>{if(Id(e))return{container:e,offset:t};const o=Mc.getNode(e,t);return Id(o)?{container:o,offset:t>=e.childNodes.length?o.data.length:0}:o.previousSibling&&Id(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&Id(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:t}},J0=e=>{const t=e.cloneRange(),o=s8(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const s=s8(e.endContainer,e.endOffset);return t.setEnd(s.container,s.offset),t},Q0=ko.DOM,Uh=e=>{const t={},o=s=>{let a=e[s?"startContainer":"endContainer"],c=e[s?"startOffset":"endOffset"];if(Mv(a)){const d=Q0.create("span",{"data-mce-type":"bookmark"});a.hasChildNodes()?(c=Math.min(c,a.childNodes.length-1),s?a.insertBefore(d,a.childNodes[c]):Q0.insertAfter(d,a.childNodes[c])):a.appendChild(d),a=d,c=0}t[s?"startContainer":"endContainer"]=a,t[s?"startOffset":"endOffset"]=c};return o(!0),e.collapsed||o(),t},eb=e=>{const t=s=>{const a=g=>{var b;let _=(b=g.parentNode)===null||b===void 0?void 0:b.firstChild,T=0;for(;_;){if(_===g)return T;(!Mv(_)||_.getAttribute("data-mce-type")!=="bookmark")&&T++,_=_.nextSibling}return-1};let c=e[s?"startContainer":"endContainer"],d=e[s?"startOffset":"endOffset"];if(c){if(Mv(c)&&c.parentNode){const g=c;d=a(c),c=c.parentNode,Q0.remove(g),!c.hasChildNodes()&&Q0.isBlock(c)&&c.appendChild(Q0.create("br"))}e[s?"startContainer":"endContainer"]=c,e[s?"startOffset":"endOffset"]=d}};t(!0),t();const o=Q0.createRng();return o.setStart(e.startContainer,e.startOffset),e.endContainer&&o.setEnd(e.endContainer,e.endOffset),J0(o)},r8=ko.DOM,a8=(e,t)=>{const o=t.parentElement;if(o&&o.nodeName==="LI"&&o.firstChild===t){const s=o.previousSibling;s&&s.nodeName==="LI"?(s.appendChild(t),Vh(e,o)&&r8.remove(o)):r8.setStyle(o,"listStyleType","none")}if(tc(o)){const s=o.previousSibling;s&&s.nodeName==="LI"&&s.appendChild(t)}},Bv=(e,t)=>{const o=$e.grep(e.select("ol,ul",t));$e.each(o,s=>{a8(e,s)})},i8=["OL","UL","DL"],Pv=i8.join(","),Lv=(e,t)=>{const o=e.selection.getStart(!0);return e.dom.getParent(o,Pv,Iv(e,o))},$P=(e,t)=>Ee(e)&&t.length===1&&t[0]===e,VP=e=>Pt(e.querySelectorAll(Pv),tc),l8=e=>{const t=Lv(e),o=e.selection.getSelectedBlocks();return $P(t,o)?VP(t):Pt(o,s=>tc(s)&&t!==s)},c8=(e,t)=>{const o=$e.map(t,s=>{const a=e.dom.getParent(s,"li,dd,dt",Iv(e,s));return a||s});return uf(o)},RS=e=>{const t=e.selection.getSelectedBlocks();return Pt(c8(e,t),Ew)},d8=e=>Pt(RS(e),t8),Zh=(e,t)=>{const o=e.dom.getParents(t,"TD,TH");return o.length>0?o[0]:e.getBody()},u8=(e,t)=>!tc(t)&&!Ew(t)&&Sn(i8,o=>e.isValidChild(t.nodeName,o)),Iv=(e,t)=>{const o=e.dom.getParents(t,e.dom.isBlock),s=c=>c.nodeName.toLowerCase()!==qr(e);return Ko(o,c=>s(c)&&u8(e.schema,c)).getOr(e.getBody())},m8=e=>Vs(e).exists(t=>Ew(t.dom)&&xs(t).exists(o=>!tc(o.dom))&&Di(t).exists(o=>!tc(o.dom))),MS=(e,t)=>{const o=e.dom.getParents(t,"ol,ul",Iv(e,t));return Is(o)},UP=e=>{const t=MS(e,e.selection.getStart()),o=Pt(e.selection.getSelectedBlocks(),NS);return t.toArray().concat(o)},ZP=e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",Iv(e,t))},WP=e=>{const t=UP(e),o=ZP(e);return Ko(o,s=>m8(Z.fromDom(s))).fold(()=>jP(e,t),s=>[s])},jP=(e,t)=>{const o=go(t,s=>MS(e,s).getOr(s));return uf(o)},Fv=e=>/\btox\-/.test(e.className),Dw=(e,t)=>t!==null&&!e.dom.isEditable(t),f8=e=>{const t=Lv(e);return Dw(e,t)||!e.selection.isEditable()},Nw=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return Dw(e,o)||!e.selection.isEditable()},zg=(e,t,o)=>e.dispatch("ListMutation",{action:t,element:o}),BS=(e,t,o={})=>{const s=e.dom,a=e.schema.getBlockElements(),c=s.createFragment(),d=qr(e),g=zm(e);let b,_,T=!1;for(_=s.create(d,{...g,...o.style?{style:o.style}:{}}),Aw(t.firstChild,a)||c.appendChild(_);b=t.firstChild;){const N=b.nodeName;!T&&(N!=="SPAN"||b.getAttribute("data-mce-type")!=="bookmark")&&(T=!0),Aw(b,a)?(c.appendChild(b),_=null):(_||(_=s.create(d,g),c.appendChild(_)),_.appendChild(b))}return!T&&_&&_.appendChild(s.create("br",{"data-mce-bogus":"1"})),c},zv=e=>Va(e,"OL,UL"),g8=e=>Va(e,"LI"),PS=e=>xs(e).exists(zv),p8=e=>Di(e).exists(zv),qP=(e,t)=>kx(e).map(o=>o>=t).getOr(!0),Wh=e=>"listAttributes"in e,Fd=e=>"isComment"in e,h8=e=>"isFragment"in e,LS=e=>e.depth>0,IS=e=>e.isSelected,Rw=e=>{const t=bs(e),o=p8(e)?t.slice(0,-1):t;return go(o,yp)},GP=(e,t,o)=>Vs(e).filter(hs).map(s=>({depth:t,dirty:!1,isSelected:o,content:Rw(e),itemAttributes:rl(e),listAttributes:rl(s),listType:Gt(s),isInPreviousLi:!1})),FS=(e,t)=>{rn(e.item,t.list)},KP=e=>{for(let t=1;t<e.length;t++)FS(e[t-1],e[t])},b8=(e,t)=>{Qn(Is(e),$n(t),FS)},YP=(e,t)=>{const o={list:Z.fromTag(t,e),item:Z.fromTag("li",e)};return rn(o.list,o.item),o},x8=(e,t,o)=>{const s=[];for(let a=0;a<o;a++)s.push(YP(e,Wh(t)?t.listType:t.parentListType));return s},Mw=(e,t)=>{for(let o=0;o<e.length-1;o++)Tf(e[o].item,"list-style-type","none");Is(e).each(o=>{Wh(t)&&(Ta(o.list,t.listAttributes),Ta(o.item,t.itemAttributes)),ai(o.item,t.content)})},zS=(e,t)=>{Gt(e.list)!==t.listType&&(e.list=cm(e.list,t.listType)),Ta(e.list,t.listAttributes)},v8=(e,t,o)=>{const s=Z.fromTag("li",e);return Ta(s,t),ai(s,o),s},y8=(e,t)=>{rn(e.list,t),e.item=t},_8=(e,t,o)=>{const s=t.slice(0,o.depth);return Is(s).each(a=>{if(Wh(o)){const c=v8(e,o.itemAttributes,o.content);y8(a,c),zS(a,o)}else if(h8(o))ai(a.item,o.content);else{const c=Z.fromHtml(`<!--${o.content}-->`);rn(a.list,c)}}),s},w8=(e,t,o)=>{const s=x8(e,o,o.depth-t.length);return KP(s),Mw(s,o),b8(t,s),t.concat(s)},XP=(e,t)=>{let o=P.none();const s=Go(t,(a,c,d)=>Fd(c)?d===0?(o=P.some(c),a):_8(e,a,c):c.depth>a.length?w8(e,a,c):_8(e,a,c),[]);return o.each(a=>{const c=Z.fromHtml(`<!--${a.content}-->`);$n(s).each(d=>{Xc(d.list,c)})}),$n(s).map(a=>a.list)},C8=(e,t,o)=>{switch(t){case"Indent":if(qP(e,o.depth))o.depth++;else return;break;case"Outdent":o.depth--;break;case"Flatten":o.depth=0}o.dirty=!0},k8=(e,t)=>{Wh(e)&&Wh(t)&&(e.listType=t.listType,e.listAttributes={...t.listAttributes})},S8=e=>{e.listAttributes=Fr(e.listAttributes,(t,o)=>o!=="start")},E8=(e,t)=>{const o=e[t].depth,s=c=>c.depth===o&&!c.dirty,a=c=>c.depth<o;return Zu(Si(e.slice(0,t)),s,a).orThunk(()=>Zu(e.slice(t+1),s,a))},HS=e=>(Te(e,(t,o)=>{E8(e,o).fold(()=>{t.dirty&&Wh(t)&&S8(t)},s=>k8(t,s))}),e),$S=(e,t,o,s)=>{var a;if(kf(s))return[{depth:e+1,content:(a=s.dom.nodeValue)!==null&&a!==void 0?a:"",dirty:!1,isSelected:!1,isComment:!0}];t.each(g=>{Lt(g.start,s)&&o.set(!0)});const c=GP(s,e,o.get());t.each(g=>{Lt(g.end,s)&&o.set(!1)});const d=Di(s).filter(zv).map(g=>Hv(e,t,o,g)).getOr([]);return c.toArray().concat(d)},VS=(e,t,o,s)=>xs(s).filter(zv).fold(()=>$S(e,t,o,s),a=>{const c=Go(bs(s),(d,g,b)=>{if(b===0)return d;if(g8(g))return d.concat($S(e,t,o,g));{const _={isFragment:!0,depth:e,content:[g],isSelected:!1,dirty:!1,parentListType:Gt(a)};return d.concat(_)}},[]);return Hv(e,t,o,a).concat(c)}),Hv=(e,t,o,s)=>_r(bs(s),a=>{const c=zv(a)?Hv:VS,d=e+1;return c(d,t,o,a)}),T8=(e,t)=>{const o=Bn(!1),s=0;return go(e,a=>({sourceList:a,entries:Hv(s,t,o,a)}))},A8=(e,t)=>{const o=HS(t);return go(o,s=>{const a=Fd(s)?nd([Z.fromHtml(`<!--${s.content}-->`)]):nd(s.content),c=Wh(s)?s.itemAttributes:{};return Z.fromDom(BS(e,a.dom,c))})},O8=(e,t)=>{const o=HS(t);return XP(e.contentDocument,o).toArray()},D8=(e,t)=>_r(bb(t,LS),o=>$n(o).exists(LS)?O8(e,o):A8(e,o)),N8=(e,t,o)=>{Te(Pt(t,IS),s=>C8(e,o,s))},R8=e=>{const t=go(RS(e),Z.fromDom);return Qn(Ko(t,Ke(PS)),Ko(Si(t),Ke(PS)),(o,s)=>({start:o,end:s}))},US=(e,t,o)=>{const s=T8(t,R8(e));Te(s,a=>{N8(e,a.entries,o);const c=D8(e,a.entries);Te(c,d=>{zg(e,o==="Indent"?"IndentList":"OutdentList",d.dom)}),Us(a.sourceList,c),Tn(a.sourceList)})},ZS=e=>kx(e).forall(t=>{const o=e.selection.getSelectedBlocks();return Sn(o,s=>On(Z.fromDom(s),"li").forall(a=>il(a,"ol,ul").length<=t))}),zd=ko.DOM,M8=(e,t,o)=>{const s=_=>{const T=_.parentNode;T&&$e.each(a,N=>{T.insertBefore(N,o.parentNode)}),zd.remove(_)},a=zd.select('span[data-mce-type="bookmark"]',t),c=BS(e,o),d=zd.createRng();d.setStartAfter(o),d.setEndAfter(t);const g=d.extractContents();for(let _=g.firstChild;_;_=_.firstChild)if(_.nodeName==="LI"&&e.dom.isEmpty(_)){zd.remove(_);break}e.dom.isEmpty(g)||zd.insertAfter(g,t),zd.insertAfter(c,t);const b=o.parentElement;b&&Vh(e.dom,b)&&s(b),zd.remove(o),Vh(e.dom,t)&&zd.remove(t)},B8=mc("dd"),WS=mc("dt"),jS=(e,t)=>{B8(t)?cm(t,"dt"):WS(t)&&rm(t).each(o=>M8(e,o.dom,t.dom))},P8=e=>{WS(e)&&cm(e,"dd")},L8=(e,t,o)=>{t==="Indent"?Te(o,P8):Te(o,s=>jS(e,s))},I8=(e,t)=>{const o=Un(WP(e)),s=Un(d8(e));let a=!1;if(o.length||s.length){const c=e.selection.getBookmark();US(e,o,t),L8(e,t,s),e.selection.moveToBookmark(c),e.selection.setRng(J0(e.selection.getRng())),e.nodeChanged(),a=!0}return a},qS=(e,t)=>!f8(e)&&I8(e,t),GS=e=>qS(e,"Indent"),Bw=e=>qS(e,"Outdent"),jh=e=>qS(e,"Flatten"),qh=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},F8=(e,t,o)=>{const s=o["list-style-type"]?o["list-style-type"]:null;e.setStyle(t,"list-style-type",s)},Pw=(e,t)=>{$e.each(t,(o,s)=>{e.setAttribute(s,o)})},JP=(e,t,o)=>{Pw(t,o["list-attributes"]),$e.each(e.select("li",t),s=>{Pw(s,o["list-item-attributes"])})},Gh=(e,t,o)=>{F8(e,t,o),JP(e,t,o)},QP=(e,t,o)=>{$e.each(o,s=>e.setStyle(t,s,""))},$v=(e,t)=>Ee(t)&&!Aw(t,e.schema.getBlockElements()),Lw=(e,t,o,s)=>{let a=t[o?"startContainer":"endContainer"];const c=t[o?"startOffset":"endOffset"];Mv(a)&&(a=a.childNodes[Math.min(c,a.childNodes.length-1)]||a),!o&&tf(a.nextSibling)&&(a=a.nextSibling);const d=b=>{for(;!e.dom.isBlock(b)&&b.parentNode&&s!==b;)b=b.parentNode;return b},g=(b,_)=>{var T;const N=new zn(b,d(b)),R=_?"next":"prev";let I;for(;I=N[R]();)if(!(n8(e,I)||ka(I.textContent)||((T=I.textContent)===null||T===void 0?void 0:T.length)===0))return P.some(I);return P.none()};if(o&&Id(a))if(ka(a.textContent))a=g(a,!1).getOr(a);else for(a.parentNode!==null&&$v(e,a.parentNode)&&(a=a.parentNode);a.previousSibling!==null&&($v(e,a.previousSibling)||Id(a.previousSibling));)a=a.previousSibling;if(!o&&Id(a))if(ka(a.textContent))a=g(a,!0).getOr(a);else for(a.parentNode!==null&&$v(e,a.parentNode)&&(a=a.parentNode);a.nextSibling!==null&&($v(e,a.nextSibling)||Id(a.nextSibling));)a=a.nextSibling;for(;a.parentNode!==s;){const b=a.parentNode;if(Tw(e,a)||/^(TD|TH)$/.test(b.nodeName))return a;a=b}return a},eL=(e,t,o)=>{const s=[],a=e.dom,c=Lw(e,t,!0,o),d=Lw(e,t,!1,o);let g;const b=[];for(let _=c;_&&(b.push(_),_!==d);_=_.nextSibling);return $e.each(b,_=>{var T;if(Tw(e,_)){s.push(_),g=null;return}if(a.isBlock(_)||tf(_)){tf(_)&&a.remove(_),g=null;return}const N=_.nextSibling;if(jn.isBookmarkNode(_)&&(tc(N)||Tw(e,N)||!N&&_.parentNode===o)){g=null;return}g||(g=a.create("p"),(T=_.parentNode)===null||T===void 0||T.insertBefore(g,_),s.push(g)),g.appendChild(_)}),s},tL=(e,t,o)=>{const s=e.getStyle(t,"list-style-type");let a=o?o["list-style-type"]:"";return a=a===null?"":a,s===a},oL=(e,t)=>{const o=e.selection.getStart(!0),s=Lw(e,t,!0,e.getBody());return Da(Z.fromDom(s),Z.fromDom(t.commonAncestorContainer))?t.commonAncestorContainer:o},n=(e,t,o)=>{const s=e.selection.getRng();let a="LI";const c=Iv(e,oL(e,s)),d=e.dom;if(d.getContentEditable(e.selection.getNode())==="false")return;t=t.toUpperCase(),t==="DL"&&(a="DT");const g=Uh(s),b=Pt(eL(e,s,c),e.dom.isEditable);$e.each(b,_=>{let T;const N=_.previousSibling,R=_.parentNode;Ew(R)||(N&&tc(N)&&N.nodeName===t&&tL(d,N,o)?(T=N,_=d.rename(_,a),N.appendChild(_)):(T=d.create(t),R.insertBefore(T,_),T.appendChild(_),_=d.rename(_,a)),QP(d,_,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Gh(d,T,o),m(e.dom,T))}),e.selection.setRng(eb(g))},r=(e,t)=>tc(e)&&e.nodeName===t?.nodeName,i=(e,t,o)=>{const s=e.getStyle(t,"list-style-type",!0),a=e.getStyle(o,"list-style-type",!0);return s===a},l=(e,t)=>e.className===t.className,u=(e,t,o)=>r(t,o)&&i(e,t,o)&&l(t,o),m=(e,t)=>{let o,s=t.nextSibling;if(u(e,t,s)){const a=s;for(;o=a.firstChild;)t.appendChild(o);e.remove(a)}if(s=t.previousSibling,u(e,t,s)){const a=s;for(;o=a.lastChild;)t.insertBefore(o,t.firstChild);e.remove(a)}},p=(e,t,o,s)=>{if(t.nodeName!==o){const a=e.dom.rename(t,o);Gh(e.dom,a,s),zg(e,qh(o),a)}else Gh(e.dom,t,s),zg(e,qh(o),t)},x=(e,t,o,s)=>{if(t.classList.forEach((a,c,d)=>{a.startsWith("tox-")&&(d.remove(a),d.length===0&&t.removeAttribute("class"))}),t.nodeName!==o){const a=e.dom.rename(t,o);Gh(e.dom,a,s),zg(e,qh(o),a)}else Gh(e.dom,t,s),zg(e,qh(o),t)},v=(e,t,o,s,a)=>{const c=tc(t);if(c&&t.nodeName===s&&!w(a)&&!Fv(t))jh(e);else{n(e,s,a);const d=Uh(e.selection.getRng()),g=c?[t,...o]:o,b=c&&Fv(t)?x:p;$e.each(g,_=>{b(e,_,s,a)}),e.selection.setRng(eb(d))}},w=e=>"list-style-type"in e,S=(e,t,o,s)=>{if(t!==e.getBody())if(t)if(t.nodeName===o&&!w(s)&&!Fv(t))jh(e);else{const a=Uh(e.selection.getRng());Fv(t)&&t.classList.forEach((d,g,b)=>{d.startsWith("tox-")&&(b.remove(d),b.length===0&&t.removeAttribute("class"))}),Gh(e.dom,t,s);const c=e.dom.rename(t,o);m(e.dom,c),e.selection.setRng(eb(a)),n(e,o,s),zg(e,qh(o),c)}else n(e,o,s),zg(e,qh(o),t)},k=(e,t,o)=>{const s=Lv(e);if(Nw(e,s))return;const a=l8(e),c=ae(o)?o:{};a.length>0?v(e,s,a,t,c):S(e,s,t,c)},A=(e,t,o,s)=>{let a=t.startContainer;const c=t.startOffset;if(Id(a)&&(o?c<a.data.length:c>0))return a;const d=e.schema.getNonEmptyElements();Mv(a)&&(a=Mc.getNode(a,c));const g=new zn(a,s);o&&HP(e.dom,a)&&g.next();const b=o?g.next.bind(g):g.prev2.bind(g);for(;a=b();)if(a.nodeName==="LI"&&!a.hasChildNodes()||d[a.nodeName]||Id(a)&&a.data.length>0)return a;return null},M=(e,t)=>{const o=t.childNodes;return o.length===1&&!tc(o[0])&&e.isBlock(o[0])},B=e=>P.from(e).map(Z.fromDom).filter(sm).exists(t=>Ga(t)&&!wo(["details"],Gt(t))),U=(e,t)=>{M(e,t)&&B(t.firstChild)&&e.remove(t.firstChild,!0)},$=(e,t,o)=>{let s;const a=M(e,o)?o.firstChild:o;if(U(e,t),!Vh(e,t,!0))for(;s=t.firstChild;)a.appendChild(s)},V=(e,t,o)=>{let s;const a=t.parentNode;if(!Ow(e,t)||!Ow(e,o))return;tc(o.lastChild)&&(s=o.lastChild),a===o.lastChild&&tf(a.previousSibling)&&e.remove(a.previousSibling);const c=o.lastChild;c&&tf(c)&&t.hasChildNodes()&&e.remove(c),Vh(e,o,!0)&&ja(Z.fromDom(o)),$(e,t,o),s&&o.appendChild(s);const g=Qr(Z.fromDom(o),Z.fromDom(t))?e.getParents(t,tc,o):[];e.remove(t),Te(g,b=>{Vh(e,b)&&b!==e.getRoot()&&e.remove(b)})},z=(e,t,o)=>{ja(Z.fromDom(o)),V(e.dom,t,o),e.selection.setCursorLocation(o,0)},H=(e,t,o,s)=>{const a=e.dom;if(a.isEmpty(s))z(e,o,s);else{const c=Uh(t);V(a,o,s),e.selection.setRng(eb(c))}},j=(e,t,o,s)=>{const a=Uh(t);V(e.dom,o,s);const c=eb(a);e.selection.setRng(c)},K=(e,t)=>{const o=e.dom,s=e.selection,a=s.getStart(),c=Zh(e,a),d=o.getParent(s.getStart(),"LI",c);if(d){const g=d.parentElement;if(g===e.getBody()&&Vh(o,g))return!0;const b=J0(s.getRng()),_=o.getParent(A(e,b,t,c),"LI",c),T=_&&(t?o.isChildOf(d,_):o.isChildOf(_,d));if(_&&_!==d&&!T)return e.undoManager.transact(()=>{t?H(e,b,_,d):o8(d)?Bw(e):j(e,b,d,_)}),!0;if(T&&!t&&_!==d){const N=b.commonAncestorContainer.parentElement;return!N||o.isChildOf(_,N)?!1:(e.undoManager.transact(()=>{const R=Uh(b);$(o,N,_),N.remove();const I=eb(R);e.selection.setRng(I)}),!0)}else if(!_&&!t&&b.startOffset===0&&b.endOffset===0)return e.undoManager.transact(()=>{jh(e)}),!0}return!1},oe=(e,t,o)=>{const s=e.getParent(t.parentNode,e.isBlock,o);e.remove(t),s&&e.isEmpty(s)&&e.remove(s)},te=(e,t)=>{const o=e.dom,s=e.selection.getStart(),a=Zh(e,s),c=o.getParent(s,o.isBlock,a);if(c&&o.isEmpty(c,void 0,{checkRootAsContent:!0})){const d=J0(e.selection.getRng()),g=A(e,d,t,a),b=o.getParent(g,"LI",a);if(g&&b){const _=I=>wo(["td","th","caption"],Gt(I)),T=I=>I.dom===a,N=ta(Z.fromDom(b),_,T),R=ta(Z.fromDom(d.startContainer),_,T);return ff(N,R,Lt)?(e.undoManager.transact(()=>{const I=b.parentNode;oe(o,c,a),m(o,I),e.selection.select(g,!0),e.selection.collapse(t)}),!0):!1}}return!1},re=(e,t)=>K(e,t)||te(e,t),pe=e=>{const t=e.selection.getStart(),o=Zh(e,t),s=e.dom.getParent(t,"LI,DT,DD",o);return Ee(s)||RS(e).length>0},Ce=e=>pe(e)?(e.undoManager.transact(()=>{let t=!0;const o=()=>t=!1;e.on("input",o),e.execCommand("Delete"),e.off("input",o),t&&e.dispatch("input"),Bv(e.dom,e.getBody())}),!0):!1,we=(e,t)=>{const o=e.selection;return!Nw(e,o.getNode())&&(o.isCollapsed()?re(e,t):Ce(e))},Oe=(e,t)=>({block:e,position:t}),ze=(e,t)=>({from:e,to:t}),pt=(e,t)=>{const o=Z.fromDom(e),s=Z.fromDom(t.container());return Jx(o,s).map(a=>Oe(a,t))},St=e=>!(Qr(e.to.block,e.from.block)||Qr(e.from.block,e.to.block)),At=e=>!Lt(e.from.block,e.to.block),ro=(e,t)=>ta(t,a=>vs(a)||Ma(a.dom),a=>Lt(a,e)).filter(hs).getOr(e),Ho=(e,t)=>{const o=Z.fromDom(e);return Lt(ro(o,t.from.block),ro(o,t.to.block))},nn=e=>xn(e.from.block.dom)===!1&&xn(e.to.block.dom)===!1,Rt=e=>{const t=o=>Qp(o)||Hf(o.dom)||zi(o);return t(e.from.block)&&t(e.to.block)},Xo=(e,t,o,s)=>Zn(s.position.getNode())&&!ra(e,s.block)?h0(!1,s.block.dom).bind(a=>a.isEqual(s.position)?Wl(o,t,a).bind(c=>pt(t,c)):P.some(s)).getOr(s):s,Ft=(e,t,o,s)=>{const a=pt(t,Ae.fromRangeStart(s)),c=a.bind(d=>Wl(o,t,d.position).bind(g=>pt(t,g).map(b=>Xo(e,t,o,b))));return Qn(a,c,ze).filter(d=>At(d)&&Ho(t,d)&&nn(d)&&Rt(d)&&St(d))},Nn=(e,t,o,s)=>s.collapsed?Ft(e,t,o,s):P.none(),Io=(e,t)=>{const o=bs(e);return ss(o,s=>t.isBlock(Gt(s))).fold(Ge(o),s=>o.slice(0,s))},Js=(e,t)=>{const o=Io(e,t);return Te(o,Tn),o},cn=(e,t,o)=>{const s=Ou(o,t);return Ko(s.reverse(),a=>ra(e,a)).each(Tn)},yi=(e,t)=>Pt(Sf(t),o=>!ra(e,o)).length===0,_a=(e,t,o,s,a)=>{if(ra(s,o))return vd(o),Fa(o.dom);yi(s,a)&&ra(s,t)&&tr(a,Z.fromTag("br"));const c=$i(o.dom,Ae.before(a.dom));return Te(Js(t,s),d=>{tr(a,d)}),cn(s,e,t),c},ei=(e,t)=>e.isInline(Gt(t)),of=(e,t,o,s)=>{if(ra(s,o)){if(ra(s,t)){const d=wa((g=>{const b=(_,T)=>xs(_).fold(()=>T,N=>ei(s,N)?b(N,T.concat(qa(N))):T);return b(g,[])})(o),(g,b)=>(Ns(g,b),b),Bm());ja(t),rn(t,d)}return Tn(o),Fa(t.dom)}const a=Lo(o.dom);return Te(Js(t,s),c=>{rn(o,c)}),cn(s,e,t),a},tb=(e,t)=>{const o=Ou(t,e);return P.from(o[o.length-1])},Iw=(e,t)=>Qr(t,e)?tb(t,e):P.none(),zc=(e,t)=>{h0(e,t.dom).bind(o=>P.from(o.getNode())).map(Z.fromDom).filter(Oc).each(Tn)},Hg=(e,t,o,s)=>(zc(!0,t),zc(!1,o),Iw(t,o).fold(bt(of,e,t,o,s),bt(_a,e,t,o,s))),Hd=(e,t,o,s,a)=>t?Hg(e,s,o,a):Hg(e,o,s,a),$g=(e,t)=>{const o=Z.fromDom(e.getBody());return Nn(e.schema,o.dom,t,e.selection.getRng()).map(a=>()=>{Hd(o,t,a.from.block,a.to.block,e.schema).each(c=>{e.selection.setRng(c.toRange())})})},ob=(e,t,o)=>{const s=t.getRng();return Qn(Jx(e,Z.fromDom(s.startContainer)),Jx(e,Z.fromDom(s.endContainer)),(a,c)=>Lt(a,c)?P.none():P.some(()=>{s.deleteContents(),Hd(e,!0,a,c,o).each(d=>{t.setRng(d.toRange())})})).getOr(P.none())},nf=(e,t)=>{const o=Z.fromDom(t),s=bt(Lt,e);return nr(o,vs,s).isSome()},nb=(e,t)=>nf(e,t.startContainer)||nf(e,t.endContainer),Kh=(e,t)=>{const o=$i(e.dom,Ae.fromRangeStart(t)).isNone(),s=Ia(e.dom,Ae.fromRangeEnd(t)).isNone();return!nb(e,t)&&o&&s},Vv=e=>P.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),Uv=e=>{const t=Z.fromDom(e.getBody()),o=e.selection.getRng();return Kh(t,o)?Vv(e):ob(t,e.selection,e.schema)},Vg=(e,t)=>e.selection.isCollapsed()?P.none():Uv(e),_i=(e,t,o,s,a)=>P.from(t._selectionOverrides.showCaret(e,o,s,a)),Eo=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},wi=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?P.none():P.some(Eo(t)),$d=(e,t,o)=>{const s=by(1,e.getBody(),t),a=Ae.fromRangeStart(s),c=a.getNode();if(u0(c))return _i(1,e,c,!a.isAtEnd(),!1);const d=a.getNode(!0);if(u0(d))return _i(1,e,d,!1,!1);const g=Nd(e.dom.getRoot(),a.getNode());return u0(g)?_i(1,e,g,!1,o):P.none()},Fw=(e,t,o)=>t.collapsed?$d(e,t,o).getOr(t):t,z8=e=>Tu(e)||A0(e),KS=e=>Au(e)||pg(e),H8=(e,t)=>{je(t)&&t.data.length===0&&e.remove(t)},Zv=(e,t,o,s,a,c)=>{_i(s,e,c.getNode(!a),a,!0).each(d=>{if(t.collapsed){const g=t.cloneRange();a?g.setEnd(d.startContainer,d.startOffset):g.setStart(d.endContainer,d.endOffset),g.deleteContents()}else t.deleteContents();e.selection.setRng(d)}),H8(e.dom,o)},zw=(e,t)=>{const o=e.selection.getRng();if(!je(o.commonAncestorContainer))return P.none();const s=t?1:-1,a=Ed(e.getBody()),c=bt(xy,t?a.next:a.prev),d=t?z8:KS,g=p0(s,e.getBody(),o),b=c(g),_=b&&xr(t,b);if(!_||!vy(g,_))return P.none();if(d(_))return P.some(()=>Zv(e,o,g.getNode(),s,t,_));const T=c(_);return T&&d(T)&&vy(_,T)?P.some(()=>Zv(e,o,g.getNode(),s,t,T)):P.none()},Vd=(e,t)=>zw(e,t),Ug=(e,t)=>{const o=e.getBody();return t?Fa(o).filter(Tu):Lo(o).filter(Au)},Wv=e=>{const t=e.selection.getRng();return!t.collapsed&&(Ug(e,!0).exists(o=>o.isEqual(Ae.fromRangeStart(t)))||Ug(e,!1).exists(o=>o.isEqual(Ae.fromRangeEnd(t))))},YS=e=>Ee(e)&&(vs(Z.fromDom(e))||zi(Z.fromDom(e))),Cl=sc.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Hw=(e,t)=>{const o=t.getNode(!e),s=e?"after":"before";return ft(o)&&o.getAttribute("data-mce-caret")===s},$w=(e,t,o,s,a)=>{const c=d=>a.isInline(d.nodeName.toLowerCase())&&!yu(o,s,e);return n4(!t,o).fold(()=>n4(t,s).fold(un,c),c)},$8=(e,t,o,s,a)=>{const c=a.getNode(!o);return Jx(Z.fromDom(t),Z.fromDom(s.getNode())).map(d=>ra(e,d)?Cl.remove(d.dom):Cl.moveToElement(c)).orThunk(()=>P.some(Cl.moveToElement(c)))},sb=(e,t,o,s)=>Wl(t,e,o).bind(a=>YS(a.getNode())||$w(e,t,o,a,s)?P.none():t&&xn(a.getNode())||!t&&xn(a.getNode(!0))?$8(s,e,t,o,a):t&&Au(o)||!t&&Tu(o)?P.some(Cl.moveToPosition(a)):P.none()),nL=(e,t)=>zo(t)?P.none():e&&xn(t.nextSibling)?P.some(Cl.moveToElement(t.nextSibling)):!e&&xn(t.previousSibling)?P.some(Cl.moveToElement(t.previousSibling)):P.none(),Ha=(e,t,o)=>o.fold(s=>P.some(Cl.remove(s)),s=>P.some(Cl.moveToElement(s)),s=>yu(t,s,e)?P.none():P.some(Cl.moveToPosition(s))),rb=(e,t,o,s)=>Hw(t,o)?nL(t,o.getNode(!t)).orThunk(()=>sb(e,t,o,s)):sb(e,t,o,s).bind(a=>Ha(e,o,a)),sL=(e,t,o,s)=>{const a=by(t?1:-1,e,o),c=Ae.fromRangeStart(a),d=Z.fromDom(e);return!t&&Au(c)?P.some(Cl.remove(c.getNode(!0))):t&&Tu(c)?P.some(Cl.remove(c.getNode())):!t&&Tu(c)&&qx(d,c,s)?Q4(d,c,s).map(g=>Cl.remove(g.getNode())):t&&Au(c)&&O0(d,c,s)?i6(d,c,s).map(g=>Cl.remove(g.getNode())):rb(e,t,c,s)},V8=(e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),Gm(e,t,Z.fromDom(o)),!0),XS=(e,t)=>o=>{const s=t?Ae.before(o):Ae.after(o);return e.selection.setRng(s.toRange()),!0},U8=e=>t=>(e.selection.setRng(t.toRange()),!0),JS=(e,t)=>P.from(Nd(e.getBody(),t)),Pu=(e,t)=>{const o=e.selection.getNode();return JS(e,o).filter(xn).fold(()=>sL(e.getBody(),t,e.selection.getRng(),e.schema).map(s=>()=>s.fold(V8(e,t),XS(e,t),U8(e))),()=>P.some(fo))},ab=e=>{Te(In(e,".mce-offscreen-selection"),Tn)},Z8=(e,t)=>{const o=e.selection.getNode();return xn(o)&&!mu(o)?JS(e,o.parentNode).filter(xn).fold(()=>P.some(()=>{ab(Z.fromDom(e.getBody())),Gm(e,t,Z.fromDom(e.selection.getNode())),Qx(e)}),()=>P.some(fo)):Wv(e)?P.some(()=>{r_(e,e.selection.getRng(),Z.fromDom(e.getBody()))}):P.none()},QS=e=>{const t=e.dom,o=e.selection,s=Nd(e.getBody(),o.getNode());if(Ma(s)&&t.isBlock(s)&&t.isEmpty(s)){const a=t.create("br",{"data-mce-bogus":"1"});t.setHTML(s,""),s.appendChild(a),o.setRng(Ae.before(a).toRange())}return!0},jv=(e,t)=>e.selection.isCollapsed()?Pu(e,t):Z8(e,t),eE=e=>e.hasOwnProperty("text"),Lu=e=>e.hasOwnProperty("marker"),tE=(e,t)=>{const o=(c,d)=>{if(je(c))return{text:c,offset:d};{const g=t(),b=c.childNodes;return d<b.length?(c.insertBefore(g,b[d]),{marker:g,before:!0}):(c.appendChild(g),{marker:g,before:!1})}},s=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:s}},oE=e=>{var t,o;const{start:s,end:a}=e,c=new window.Range;return eE(s)?c.setStart(s.text,s.offset):Lu(s)&&(s.before?c.setStartBefore(s.marker):c.setStartAfter(s.marker),(t=s.marker.parentNode)===null||t===void 0||t.removeChild(s.marker)),eE(a)?c.setEnd(a.text,a.offset):Lu(a)&&(a.before?c.setEndBefore(a.marker):c.setEndAfter(a.marker),(o=a.marker.parentNode)===null||o===void 0||o.removeChild(a.marker)),c},Vw=(e,t)=>{var o;const s=e.dom,a=s.getParent(e.selection.getStart(),s.isBlock),c=s.getParent(e.selection.getEnd(),s.isBlock),d=e.getBody();if(((o=a?.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&a&&c&&a===d.firstChild&&c===d.lastChild&&!s.isEmpty(d)){const b=a.cloneNode(!1),_=()=>{if(t?w6(e):an(e),d.firstChild!==a){const T=tE(e.selection.getRng(),()=>document.createElement("span"));Array.from(d.childNodes).forEach(N=>b.appendChild(N)),d.appendChild(b),e.selection.setRng(oE(T))}};return P.some(_)}return P.none()},W8=(e,t)=>{const o=Ae.fromRangeStart(e.selection.getRng());return Wl(t,e.getBody(),o).filter(s=>t?Ux(s):o6(s)).bind(s=>o4(t?0:-1,s)).map(s=>()=>e.selection.select(s))},nE=(e,t)=>e.selection.isCollapsed()?W8(e,t):P.none(),he=je,so=e=>he(e)&&e.data[0]===Ks,Wt=e=>he(e)&&e.data[e.data.length-1]===Ks,Rn=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(Ks)},Jn=e=>{var t;if(he(e.previousSibling))return Wt(e.previousSibling)||e.previousSibling.appendData(Ks),e.previousSibling;if(he(e))return so(e)||e.insertData(0,Ks),e;{const o=Rn(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(o,e),o}},pn=e=>{var t,o;if(he(e.nextSibling))return so(e.nextSibling)||e.nextSibling.insertData(0,Ks),e.nextSibling;if(he(e))return Wt(e)||e.appendData(Ks),e;{const s=Rn(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(s,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(s),s}},Mr=(e,t)=>e?Jn(t):pn(t),Zg=bt(Mr,!0),Iu=bt(Mr,!1),Uw=(e,t)=>je(e.container())?Mr(t,e.container()):Mr(t,e.getNode()),ti=(e,t)=>{const o=t.get();return o&&e.container()===o&&yd(o)},Zw=(e,t)=>t.fold(o=>{ag(e.get());const s=Zg(o);return e.set(s),P.some(Ae(s,s.length-1))},o=>Fa(o).map(s=>{if(ti(s,e)){const a=e.get();return Ae(a,1)}else{ag(e.get());const a=Uw(s,!0);return e.set(a),Ae(a,1)}}),o=>Lo(o).map(s=>{if(ti(s,e)){const a=e.get();return Ae(a,a.length-1)}else{ag(e.get());const a=Uw(s,!1);return e.set(a),Ae(a,a.length-1)}}),o=>{ag(e.get());const s=Iu(o);return e.set(s),P.some(Ae(s,1))}),sE=(e,t)=>{for(let o=0;o<e.length;o++){const s=e[o].apply(null,t);if(s.isSome())return s}return P.none()},Ki=sc.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),$I=(e,t)=>{const o=Ls(t,e);return o||e},A$=(e,t,o)=>{const s=xi(o),a=$I(t,s.container());return Bc(e,a,s).fold(()=>Ia(a,s).bind(bt(Bc,e,a)).map(c=>Ki.before(c)),P.none)},O$=(e,t)=>ig(e,t)===null,VI=(e,t,o)=>Bc(e,t,o).filter(bt(O$,t)),D$=(e,t,o)=>{const s=N0(o);return VI(e,t,s).bind(a=>$i(a,s).isNone()?P.some(Ki.start(a)):P.none())},N$=(e,t,o)=>{const s=xi(o);return VI(e,t,s).bind(a=>Ia(a,s).isNone()?P.some(Ki.end(a)):P.none())},R$=(e,t,o)=>{const s=N0(o),a=$I(t,s.container());return Bc(e,a,s).fold(()=>$i(a,s).bind(bt(Bc,e,a)).map(c=>Ki.after(c)),P.none)},UI=e=>!n_(rL(e)),Wg=(e,t,o)=>sE([A$,D$,N$,R$],[e,t,o]).filter(UI),rL=e=>e.fold(dn,dn,dn,dn),ZI=e=>e.fold(Ge("before"),Ge("start"),Ge("end"),Ge("after")),j8=e=>e.fold(Ki.before,Ki.before,Ki.after,Ki.after),aL=e=>e.fold(Ki.start,Ki.start,Ki.end,Ki.end),M$=(e,t)=>ZI(e)===ZI(t)&&rL(e)===rL(t),B$=(e,t,o,s,a,c)=>Qn(Bc(t,o,s),Bc(t,o,a),(d,g)=>d!==g&&YR(o,d,g)?Ki.after(e?d:g):c).getOr(c),P$=(e,t)=>e.fold(qo,o=>!M$(o,t)),L$=(e,t,o,s,a)=>{const c=xr(e,a);return Wl(e,o,c).map(bt(xr,e)).fold(()=>s.map(j8),b=>Wg(t,o,b).map(bt(B$,e,t,o,c,b)).filter(bt(P$,s))).filter(UI)},I$=(e,t)=>e?t.fold(Yn(P.some,Ki.start),P.none,Yn(P.some,Ki.after),P.none):t.fold(P.none,Yn(P.some,Ki.before),P.none,Yn(P.some,Ki.end)),F$=(e,t,o,s)=>{const a=xr(e,s),c=Wg(t,o,a);return Wg(t,o,a).bind(bt(I$,e)).orThunk(()=>L$(e,t,o,c,s))},z$=e=>Ut(e.selection.getSel().modify),WI=(e,t,o)=>{const s=e?1:-1;return t.setRng(Ae(o.container(),o.offset()+s).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},H$=(e,t)=>{const o=t.selection.getRng(),s=e?Ae.fromRangeEnd(o):Ae.fromRangeStart(o);return z$(t)?e&&r0(s)?WI(!0,t.selection,s):!e&&Jf(s)?WI(!1,t.selection,s):!1:!1};var jg;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(jg||(jg={}));const q8=(e,t)=>e===-1?Si(t):t,$$=(e,t,o)=>e===1?t.next(o):t.prev(o),V$=(e,t,o,s)=>Zn(s.getNode(t===1))?jg.Br:yu(o,s)===!1?jg.Block:jg.Wrap,jI=(e,t,o,s)=>{const a=Ed(o);let c=s;const d=[];for(;c;){const g=$$(t,a,c);if(!g)break;if(Zn(g.getNode(!1)))return t===1?{positions:q8(t,d).concat([g]),breakType:jg.Br,breakAt:P.some(g)}:{positions:q8(t,d),breakType:jg.Br,breakAt:P.some(g)};if(!g.isVisible()){c=g;continue}if(e(c,g)){const b=V$(o,t,c,g);return{positions:q8(t,d),breakType:b,breakAt:P.some(g)}}d.push(g),c=g}return{positions:q8(t,d),breakType:jg.Eol,breakAt:P.none()}},qI=(e,t,o,s)=>t(o,s).breakAt.map(a=>{const c=t(o,a).positions;return e===-1?c.concat(a):[a].concat(c)}).getOr([]),iL=(e,t)=>Go(e,(o,s)=>o.fold(()=>P.some(s),a=>Qn($n(a.getClientRects()),$n(s.getClientRects()),(c,d)=>{const g=Math.abs(t-c.left);return Math.abs(t-d.left)<=g?s:a}).or(o)),P.none()),G8=(e,t)=>$n(t.getClientRects()).bind(o=>iL(e,o.left)),rE=bt(jI,Ae.isAbove,-1),aE=bt(jI,Ae.isBelow,1),GI=bt(qI,-1,rE),KI=bt(qI,1,aE),YI=(e,t)=>rE(e,t).breakAt.isNone(),XI=(e,t)=>aE(e,t).breakAt.isNone(),U$=e=>Fa(e).map(t=>[t].concat(aE(e,t).positions)).getOr([]),Z$=e=>Lo(e).map(t=>rE(e,t).positions.concat(t)).getOr([]),W$=(e,t)=>G8(GI(e,t),t),j$=(e,t)=>G8(KI(e,t),t),q$=xn,JI=(e,t)=>Math.abs(e.left-t),QI=(e,t)=>Math.abs(e.right-t),G$=e=>ge(e,"node"),eF=(e,t)=>xf(e,(o,s)=>{const a=Math.min(JI(o,t),QI(o,t)),c=Math.min(JI(s,t),QI(s,t));return c===a&&G$(s)&&q$(s.node)||c<a?s:o}),K$=e=>{const t=o=>go(o,s=>{const a=Im(s);return a.node=e,a});if(ft(e))return t(e.getClientRects());if(je(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}else return[]},tF=e=>_r(e,K$);var qv;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(qv||(qv={}));const Y$=(e,t,o,s)=>{let a=s;for(;a=g0(a,e,ys,t);)if(o(a))return},oF=(e,t,o,s,a,c)=>{let d=0;const g=[],b=N=>{let R=tF([N]);e===qv.Up&&(R=R.reverse());for(let I=0;I<R.length;I++){const Y=R[I];if(!o(Y,_)){if(g.length>0&&t(Y,Hr(g))&&d++,Y.line=d,a(Y))return!0;g.push(Y)}}return!1},_=Hr(c.getClientRects());if(!_)return g;const T=c.getNode();return T&&(b(T),Y$(e,s,b,T)),g},X$=(e,t)=>t.line>e,J$=(e,t)=>t.line===e,Q$=bt(oF,qv.Up,C,O),eV=bt(oF,qv.Down,O,C),nF=e=>Hr(e.getClientRects()),tV=(e,t,o,s)=>{const a=Ed(t);let c,d,g,b;const _=[];let T=0;e===qv.Down?(c=a.next,d=O,g=C,b=Ae.after(s)):(c=a.prev,d=C,g=O,b=Ae.before(s));const N=nF(b);do{if(!b.isVisible())continue;const R=nF(b);if(g(R,N))continue;_.length>0&&d(R,Hr(_))&&T++;const I=Im(R);if(I.position=b,I.line=T,o(I))return _;_.push(I)}while(b=c(b));return _},sF=e=>t=>X$(e,t),lL=e=>t=>J$(e,t),Yh=(e,t)=>{e.selection.setRng(t),Hx(e,e.selection.getRng())},cL=(e,t,o)=>P.some(Fw(e,t,o)),rF=(e,t,o,s,a,c)=>{const d=t===1,g=Ed(e.getBody()),b=bt(xy,d?g.next:g.prev),_=d?s:a;if(!o.collapsed){const Y=J(o);if(c(Y))return _i(t,e,Y,t===-1,!1);if(Wv(e)){const G=o.cloneRange();return G.collapse(t===-1),P.from(G)}}const T=p0(t,e.getBody(),o);if(_(T))return wi(e,T.getNode(!d));let N=b(T);const R=gx(o);if(N)N=xr(d,N);else return R?P.some(o):P.none();if(_(N))return _i(t,e,N.getNode(!d),d,!1);const I=b(N);return I&&_(I)&&vy(N,I)?_i(t,e,I.getNode(!d),d,!1):R?cL(e,N.toRange(),!1):P.none()},aF=(e,t,o,s,a,c)=>{const d=p0(t,e.getBody(),o),g=Hr(d.getClientRects()),b=t===qv.Down,_=e.getBody();if(!g)return P.none();if(Wv(e)){const W=b?Ae.fromRangeEnd(o):Ae.fromRangeStart(o);return(b?j$:W$)(_,W).orThunk(()=>P.from(W)).map(le=>le.toRange())}const N=(b?eV:Q$)(_,sF(1),d),R=Pt(N,lL(1)),I=g.left,Y=eF(R,I);if(Y&&c(Y.node)){const W=Math.abs(I-Y.left),ce=Math.abs(I-Y.right);return _i(t,e,Y.node,W<ce,!1)}let G;if(s(d)?G=d.getNode():a(d)?G=d.getNode(!0):G=J(o),G){const W=tV(t,_,sF(1),G);let ce=eF(Pt(W,lL(1)),I);if(ce||(ce=Hr(Pt(W,lL(0))),ce))return cL(e,ce.position.toRange(),!1)}return R.length===0?dL(e,b).filter(b?a:s).map(W=>Fw(e,W.toRange(),!1)):P.none()},dL=(e,t)=>{const o=e.selection.getRng(),s=t?Ae.fromRangeEnd(o):Ae.fromRangeStart(o),a=tR(s.container(),e.getBody());if(t){const c=aE(a,s);return Is(c.positions)}else{const c=rE(a,s);return $n(c.positions)}},iF=(e,t,o)=>dL(e,t).filter(o).exists(s=>(e.selection.setRng(s.toRange()),!0)),K8=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},lF=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},cF=(e,t,o)=>Zw(t,o).map(s=>(K8(e,s),o)),oV=(e,t,o)=>{const s=Ae.fromRangeStart(e);if(e.collapsed)return s;{const a=Ae.fromRangeEnd(e);return o?$i(t,a).getOr(a):Ia(t,s).getOr(s)}},nV=(e,t,o)=>{const s=e.getBody(),a=oV(e.selection.getRng(),s,o),c=bt(Du,e);return F$(o,c,s,a).bind(g=>cF(e,t,g))},sV=(e,t,o)=>{const s=go(In(Z.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),d=>d.dom),a=Pt(s,e),c=Pt(o,e);Te(Wu(a,c),bt(lF,!1)),Te(Wu(c,a),bt(lF,!0))},rV=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const s=Ae.fromRangeStart(e.selection.getRng());Ae.isTextPosition(s)&&!XR(s)&&(K8(e,KC(o,s)),t.set(null))}},aV=(e,t,o,s)=>{if(t.selection.isCollapsed()){const a=Pt(s,e);Te(a,c=>{const d=Ae.fromRangeStart(t.selection.getRng());Wg(e,t.getBody(),d).bind(g=>cF(t,o,g))})}},dF=(e,t,o)=>yx(e)?nV(e,t,o).isSome():!1,uF=(e,t,o)=>yx(t)?H$(e,t):!1,iV=e=>{const t=Bn(null),o=bt(Du,e);return e.on("NodeChange",s=>{yx(e)&&(sV(o,e.dom,s.parents),rV(e,t),aV(o,e,t,s.parents))}),t},lV=bt(uF,!0),cV=bt(uF,!1),Y8=(e,t,o)=>{if(yx(e)){const s=dL(e,t).getOrThunk(()=>{const a=e.selection.getRng();return t?Ae.fromRangeEnd(a):Ae.fromRangeStart(a)});return Wg(bt(Du,e),e.getBody(),s).exists(a=>{const c=j8(a);return Zw(o,c).exists(d=>(K8(e,d),!0))})}else return!1},dV=(e,t)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o},uV=e=>Qn(Fa(e),Lo(e),(t,o)=>{const s=xr(!0,t),a=xr(!1,o);return Ia(e,s).forall(c=>c.isEqual(a))}).getOr(!0),mF=(e,t)=>o=>Zw(t,o).map(s=>()=>K8(e,s)),fF=(e,t,o,s)=>{const a=e.getBody(),c=bt(Du,e);e.undoManager.ignore(()=>{e.selection.setRng(dV(o,s)),an(e),Wg(c,a,Ae.fromRangeStart(e.selection.getRng())).map(aL).bind(mF(e,t)).each(sn)}),e.nodeChanged()},mV=(e,t)=>{const o=Ls(t,e);return o||e},fV=(e,t,o,s)=>{const a=mV(e.getBody(),s.container()),c=bt(Du,e),d=Wg(c,a,s);return d.bind(b=>o?b.fold(Ge(P.some(aL(b))),P.none,Ge(P.some(j8(b))),P.none):b.fold(P.none,Ge(P.some(j8(b))),P.none,Ge(P.some(aL(b))))).map(mF(e,t)).getOrThunk(()=>{const b=dh(o,a,s),_=b.bind(T=>Wg(c,a,T));return Qn(d,_,()=>Bc(c,a,s).bind(T=>uV(T)?P.some(()=>{Gm(e,o,Z.fromDom(T))}):P.none())).getOrThunk(()=>_.bind(()=>b.map(T=>()=>{o?fF(e,t,s,T):fF(e,t,T,s)})))})},uL=(e,t,o)=>{if(e.selection.isCollapsed()&&yx(e)){const s=Ae.fromRangeStart(e.selection.getRng());return fV(e,t,o,s)}return P.none()},gV=e=>Zr(e)>1,gF=(e,t)=>{const o=Z.fromDom(e.getBody()),s=Z.fromDom(e.selection.getStart()),a=Ou(s,o);return ss(a,t).fold(Ge(a),c=>a.slice(0,c))},pV=e=>Zr(e)===1,hV=e=>gF(e,t=>e.schema.isBlock(Gt(t))||gV(t)),bV=e=>gF(e,t=>e.schema.isBlock(Gt(t))),pF=(e,t)=>{const o=bt(rv,e);return _r(t,s=>o(s)?[s.dom]:[])},hF=e=>{const t=bV(e);return pF(e,t)},xV=(e,t,o,s)=>{const a=pF(t,s);if(a.length===0)Gm(t,e,o);else{const c=q6(o.dom,a);t.selection.setRng(c.toRange())}},vV=(e,t)=>{const o=Pt(hV(e),pV);return Is(o).bind(s=>{const a=Ae.fromRangeStart(e.selection.getRng());return s_(t,a,s.dom)&&!Ry(s)?P.some(()=>xV(t,e,s,o)):P.none()})},yV=(e,t)=>{const o=t.parentElement;return Zn(t)&&!eo(o)&&e.dom.isEmpty(o)},_V=e=>Ry(Z.fromDom(e)),bF=(e,t)=>{const o=e.selection.getStart(),s=yV(e,o)||_V(o)?q6(o,t):Ic(e.selection.getRng(),t);e.selection.setRng(s.toRange())},wV=(e,t)=>{const o=Wu(t,hF(e));o.length>0&&bF(e,o)},xF=e=>je(e.startContainer),CV=e=>e.startOffset===0&&xF(e),kV=(e,t)=>{const o=t.startContainer.parentElement;return!eo(o)&&rv(e,Z.fromDom(o))},SV=e=>{const t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!eo(t)&&!eo(o)&&t.isEqualNode(o)},EV=e=>{const t=e.endContainer;return e.endOffset===(je(t)?t.length:t.childNodes.length)},TV=e=>SV(e)&&EV(e),AV=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),OV=e=>TV(e)||AV(e),DV=e=>{const t=e.selection.getRng();return CV(t)&&kV(e,t)&&OV(t)},NV=e=>{if(DV(e)){const t=hF(e);return P.some(()=>{an(e),wV(e,t)})}else return P.none()},mL=(e,t)=>e.selection.isCollapsed()?vV(e,t):NV(e),RV=(e,t)=>mm(e,o=>bl(o.dom),o=>t.isBlock(Gt(o))),MV=e=>RV(Z.fromDom(e.selection.getStart()),e.schema),BV=e=>{const t=e.selection.getRng();return t.collapsed&&(xF(t)||e.dom.isEmpty(t.startContainer))&&!MV(e)},iE=e=>(BV(e)&&bF(e,[]),!0),fL=(e,t,o)=>Ee(o)?P.some(()=>{e._selectionOverrides.hideFakeCaret(),Gm(e,t,Z.fromDom(o))}):P.none(),PV=(e,t)=>{const o=t?A0:pg,a=p0(t?1:-1,e.getBody(),e.selection.getRng());return o(a)?fL(e,t,a.getNode(!t)):P.from(xr(t,a)).filter(c=>o(c)&&vy(a,c)).bind(c=>fL(e,t,c.getNode(!t)))},LV=(e,t)=>{const o=e.selection.getNode();return Xn(o)?fL(e,t,o):P.none()},gL=(e,t)=>e.selection.isCollapsed()?PV(e,t):LV(e,t),IV=e=>ta(e,t=>Ma(t.dom)||xn(t.dom)).exists(t=>Ma(t.dom)),pL=e=>r1(e??"").getOr(0),vF=(e,t)=>{const o=e||Ul(t)?"margin":"padding",s=Ri(t,"direction")==="rtl"?"-right":"-left";return o+s},FV=(e,t,o,s,a,c)=>{const d=vF(o,Z.fromDom(c)),g=pL(e.getStyle(c,d));if(t==="outdent"){const b=Math.max(0,g-s);e.setStyle(c,d,b?b+a:"")}else{const b=g+s+a;e.setStyle(c,d,b)}},zV=(e,t)=>Tl(t,o=>{const s=vF(rg(e),o),a=Af(o,s).map(pL).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&a>0}),yF=e=>{const t=wF(e);return!e.mode.isReadOnly()&&(t.length>1||zV(e,t))},HV=e=>!e.mode.isReadOnly()&&ZS(e),_F=e=>Yf(e)||zi(e),$V=e=>Vs(e).exists(_F),wF=e=>Pt(Un(e.selection.getSelectedBlocks()),t=>!_F(t)&&!$V(t)&&IV(t)),CF=(e,t)=>{var o,s;if(e.mode.isReadOnly())return;const{dom:a}=e,c=n5(e),d=(s=(o=/[a-z%]+$/i.exec(c))===null||o===void 0?void 0:o[0])!==null&&s!==void 0?s:"px",g=pL(c),b=rg(e);Te(wF(e),_=>{FV(a,t,b,g,d,_.dom)}),t==="indent"?GS(e):Bw(e)},VV=e=>CF(e,"indent"),kF=e=>CF(e,"outdent"),SF=e=>{if(e.selection.isCollapsed()&&yF(e)){const t=e.dom,o=e.selection.getRng(),s=Ae.fromRangeStart(o),a=t.getParent(o.startContainer,t.isBlock);if(a!==null&&Wx(Z.fromDom(a),s,e.schema))return P.some(()=>kF(e))}return P.none()},UV=(e,t)=>{const o=E_(e.selection.getRng());return X5(o)?P.some(()=>Gm(e,t,Z.fromDom(e.selection.getNode()))):P.none()},hL=(e,t)=>e.selection.isCollapsed()?P.none():UV(e,t),EF=(e,t,o)=>Zc([SF,jv,Vd,(s,a)=>uL(s,t,a),$g,T3,nE,gL,Vg,mL,Vw,hL],s=>s(e,o)).filter(s=>e.selection.isEditable()),bL=(e,t)=>{EF(e,t,!1).fold(()=>{e.selection.isEditable()&&(an(e),Qx(e))},sn),pe(e)&&Bv(e.dom,e.getBody())},ZV=(e,t)=>{EF(e,t,!0).fold(()=>{e.selection.isEditable()&&w6(e)},sn),pe(e)&&Bv(e.dom,e.getBody())},WV=(e,t)=>{e.addCommand("delete",()=>{bL(e,t)}),e.addCommand("forwardDelete",()=>{ZV(e,t)})},TF=5,jV=400,AF=e=>e.touches===void 0||e.touches.length!==1?P.none():P.some(e.touches[0]),qV=(e,t)=>{const o=Math.abs(e.clientX-t.x),s=Math.abs(e.clientY-t.y);return o>TF||s>TF},GV=e=>{const t=ac(),o=Bn(!1),s=es(a=>{e.dispatch("longpress",{...a,type:"longpress"}),o.set(!0)},jV);e.on("touchstart",a=>{AF(a).each(c=>{s.cancel();const d={x:c.clientX,y:c.clientY,target:a.target};s.throttle(a),o.set(!1),t.set(d)})},!0),e.on("touchmove",a=>{s.cancel(),AF(a).each(c=>{t.on(d=>{qV(c,d)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",a=>{s.cancel(),a.type!=="touchcancel"&&t.get().filter(c=>c.target.isEqualNode(a.target)).each(()=>{o.get()?a.preventDefault():e.dispatch("tap",{...a,type:"tap"})})},!0)},xL=(e,t)=>Xt(e,t.nodeName),KV=(e,t)=>je(t)?!0:ft(t)?!xL(e.getBlockElements(),t)&&!Rr(t)&&!_c(e,t)&&!Lp(t)&&!Pp(t):!1,YV=(e,t,o)=>Sn(Y4(Z.fromDom(o),Z.fromDom(t)),s=>xL(e,s.dom)),XV=(e,t)=>{if(je(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||xL(e,t.nextSibling)||Lp(t.nextSibling)}return!1},vL=e=>e.dom.create(qr(e),zm(e)),JV=e=>{const t=e.dom,o=e.selection,s=e.schema,a=s.getBlockElements(),c=o.getStart(),d=e.getBody();let g,b,_=null;const T=qr(e);if(!c||!ft(c))return;const N=d.nodeName.toLowerCase();if(!s.isValidChild(N,T.toLowerCase())||YV(a,d,c))return;if(d.firstChild===d.lastChild&&Zn(d.firstChild)){g=vL(e),g.appendChild(Bm().dom),d.replaceChild(g,d.firstChild),e.selection.setCursorLocation(g,0),e.nodeChanged();return}let R=d.firstChild;for(;R;)if(ft(R)&&Zb(s,R),KV(s,R)){if(XV(a,R)){b=R,R=R.nextSibling,t.remove(b);continue}if(!g){if(!_&&e.hasFocus()&&(_=tE(e.selection.getRng(),()=>document.createElement("span"))),!R.parentNode){R=null;break}g=vL(e),d.insertBefore(g,R)}b=R,R=R.nextSibling,g.appendChild(b)}else g=null,R=R.nextSibling;_&&(e.selection.setRng(oE(_)),e.nodeChanged())},OF=(e,t,o)=>{const s=Z.fromDom(vL(e)),a=Bm();rn(s,a),o(t,s);const c=document.createRange();return c.setStartBefore(a.dom),c.setEndBefore(a.dom),c},QV=e=>{e.on("NodeChange",()=>JV(e))},DF=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,eU=(e,t,o)=>function(s){const a=arguments,c=a[a.length-2],d=c>0?t.charAt(c-1):"";if(d==='"')return s;if(d===">"){const g=t.lastIndexOf("<",c);if(g!==-1&&t.substring(g,c).indexOf('contenteditable="false"')!==-1)return s}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(a[0])+'">'+e.dom.encode(typeof a[1]=="string"?a[1]:a[0])+"</span>"},tU=(e,t,o)=>{let s=t.length,a=o.content;if(o.format!=="raw"){for(;s--;)a=a.replace(t[s],eU(e,a,_5(e)));o.content=a}},oU=(e,t)=>Tl(e,o=>{const s=t.match(o);return s!==null&&s[0].length===t.length}),nU=e=>{const t="contenteditable",o=" "+$e.trim(HN(e))+" ",s=" "+$e.trim(_5(e))+" ",a=DF(o),c=DF(s),d=$N(e);d.length>0&&e.on("BeforeSetContent",g=>{tU(e,d,g)}),e.parser.addAttributeFilter("class",g=>{let b=g.length;for(;b--;){const _=g[b];a(_)?_.attr(t,"true"):c(_)&&_.attr(t,"false")}}),e.serializer.addAttributeFilter(t,g=>{let b=g.length;for(;b--;){const _=g[b];if(!a(_)&&!c(_))continue;const T=_.attr("data-mce-content");d.length>0&&T?oU(d,T)?(_.name="#text",_.type=3,_.raw=!0,_.value=T):_.remove():_.attr(t,null)}})},sU=e=>is(Z.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),NF=(e,t)=>{t.hasAttribute("data-mce-caret")&&(tg(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},rU=(e,t)=>{const o=sU(e);if(o){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),NF(e,o);return}fx(o)&&(NF(e,o),e.undoManager.add())}},aU=e=>{e.on("keyup compositionstart",bt(rU,e))},RF=xn,iU=(e,t,o)=>rF(t,e,o,Tu,Au,RF),lU=(e,t,o)=>aF(t,e,o,c=>Tu(c)||Ky(c),c=>Au(c)||Zx(c),RF),cU=e=>{const t=e.dom.create(qr(e));return t.innerHTML='<br data-mce-bogus="1">',t},MF=(e,t,o)=>{const s=Ed(e.getBody()),a=bt(xy,t===1?s.next:s.prev);if(o.collapsed){const c=e.dom.getParent(o.startContainer,"PRE");if(!c)return;if(!a(Ae.fromRangeStart(o))){const g=Z.fromDom(cU(e));t===1?Ni(Z.fromDom(c),g):tr(Z.fromDom(c),g),e.selection.select(g.dom,!0),e.selection.collapse()}}},dU=(e,t)=>{const o=t?1:-1,s=e.selection.getRng();return iU(o,e,s).orThunk(()=>(MF(e,o,s),P.none()))},uU=(e,t)=>{const o=t?1:-1,s=e.selection.getRng();return lU(o,e,s).orThunk(()=>(MF(e,o,s),P.none()))},mU=(e,t)=>{const o=t?e.getEnd(!0):e.getStart(!0);return n_(o)?!t:t},BF=(e,t)=>dU(e,mU(e.selection,t)).exists(o=>(Yh(e,o),!0)),PF=(e,t)=>uU(e,t).exists(o=>(Yh(e,o),!0)),LF=(e,t)=>iF(e,t,t?Au:Tu),X8=(e,t)=>Ug(e,!t).map(o=>{const s=o.toRange(),a=e.selection.getRng();return t?s.setStart(a.startContainer,a.startOffset):s.setEnd(a.endContainer,a.endOffset),s}).exists(o=>(Yh(e,o),!0)),fU=e=>wo(["figcaption"],Gt(e)),gU=(e,t,o)=>{const s=bt(Lt,t);return ta(Z.fromDom(e.container()),a=>o.isBlock(Gt(a)),s).filter(fU)},pU=(e,t,o)=>t?XI(e.dom,o):YI(e.dom,o),hU=(e,t)=>{const o=Z.fromDom(e.getBody()),s=Ae.fromRangeStart(e.selection.getRng());return gU(s,o,e.schema).exists(()=>{if(pU(o,t,s)){const c=OF(e,o,t?rn:Xc);return e.selection.setRng(c),!0}else return!1})},IF=(e,t)=>e.selection.isCollapsed()?hU(e,t):!1,bU=(e,t,o)=>{const s=e.selection.getRng(),a=Ae.fromRangeStart(s);return e.getBody().firstChild===t&&YI(o,a)?(e.execCommand("InsertNewBlockBefore"),!0):!1},xU=(e,t)=>{const o=e.selection.getRng(),s=Ae.fromRangeStart(o);return e.getBody().lastChild===t&&XI(t,s)?(e.execCommand("InsertNewBlockAfter"),!0):!1},vU=(e,t)=>t?P.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>xU(e,o)).getOr(!1):P.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>P.from(e.dom.getParent(o,"details")).map(s=>bU(e,s,o))).getOr(!1),FF=(e,t)=>vU(e,t),zF={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},yU=e=>go(e,t=>({...zF,...t})),_U=e=>go(e,t=>({...zF,...t})),HF=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,wU=(e,t)=>_r(yU(e),o=>HF(o,t)?[o]:[]),CU=(e,t)=>_r(_U(e),o=>HF(o,t)?[o]:[]),Yt=(e,...t)=>()=>e.apply(null,t),lE=(e,t)=>Ko(wU(e,t),o=>o.action()),$F=(e,t)=>Zc(CU(e,t),o=>o.action()),VF=(e,t)=>{const o=t?1:-1,s=e.selection.getRng();return rF(e,o,s,A0,pg,Xn).exists(a=>(Yh(e,a),!0))},UF=(e,t)=>{const o=t?1:-1,s=e.selection.getRng();return aF(e,o,s,A0,pg,Xn).exists(a=>(Yh(e,a),!0))},ZF=(e,t)=>iF(e,t,t?pg:A0),kU=(e,t)=>WF(e,t,qo),WF=(e,t,o)=>_r(bs(e),s=>Jr(s,t)?o(s)?[s]:[]:WF(s,t,o)),SU=(e,t,o=un)=>{if(o(t))return P.none();if(wo(e,Gt(t)))return P.some(t);const s=a=>Jr(a,"table")||o(a);return na(t,e.join(","),s)},EU=(e,t)=>SU(["td","th"],e,t),TU=e=>kU(e,"th,td"),jF=(e,t)=>On(e,"table",t),qF=sc.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),cE={...qF,none:e=>qF.none(e)},yL=(e,t,o,s,a=qo)=>{const c=s===1;if(!c&&o<=0)return cE.first(e[0]);if(c&&o>=e.length-1)return cE.last(e[e.length-1]);{const d=o+s,g=e[d];return a(g)?cE.middle(t,g):yL(e,t,d,s,a)}},GF=(e,t)=>jF(e,t).bind(o=>{const s=TU(o);return ss(s,c=>Lt(e,c)).map(c=>({index:c,all:s}))}),AU=(e,t,o)=>GF(e,o).fold(()=>cE.none(e),a=>yL(a.all,e,a.index,1,t)),OU=(e,t,o)=>GF(e,o).fold(()=>cE.none(),a=>yL(a.all,e,a.index,-1,t));var DU=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],NU=()=>{const e=_=>Z.fromDom(_.dom.cloneNode(!1)),t=_=>fc(_).dom,o=_=>hs(_)?Gt(_)==="body"?!0:wo(DU,Gt(_)):!1,s=_=>hs(_)?wo(["br","img","hr","input"],Gt(_)):!1,a=_=>hs(_)&&fa(_,"contenteditable")==="false",c=(_,T)=>_.dom.compareDocumentPosition(T.dom),d=(_,T)=>{const N=rl(_);Ta(T,N)},g=_=>{const T=Gt(_);return wo(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],T)},b=_=>hs(_)?or(_,"lang"):P.none();return{up:Ge({selector:na,closest:On,predicate:nr,all:am}),down:Ge({selector:In,predicate:Il}),styles:Ge({get:Ri,getRaw:Af,set:Tf,remove:Qc}),attrs:Ge({get:fa,set:Zs,remove:ks,copyTo:d}),insert:Ge({before:tr,after:Ni,afterAll:pc,append:rn,appendAll:ai,prepend:Xc,wrap:Ns}),remove:Ge({unwrap:ii,remove:Tn}),create:Ge({nu:Z.fromTag,clone:e,text:Z.fromText}),query:Ge({comparePosition:c,prevSibling:ri,nextSibling:gc}),property:Ge({children:bs,name:Gt,parent:Vs,document:t,isText:Ur,isComment:kf,isElement:hs,isSpecial:g,getLanguage:b,getText:js,setText:Fe,isBoundary:o,isEmptyTag:s,isNonEditable:a}),eq:Lt,is:Va}};const _L=(e,t)=>({element:e,offset:t}),KF=(e,t)=>{if(e.property().isText(t))return _L(t,e.property().getText(t).length);{const o=e.property().children(t);return o.length>0?KF(e,o[o.length-1]):_L(t,o.length)}},YF=(e,t,o)=>{const s=e.property().children(t);return s.length>0&&o<s.length?YF(e,s[o],0):s.length>0&&e.property().isElement(t)&&s.length===o?KF(e,s[s.length-1]):_L(t,o)},RU=YF,MU=NU(),BU=(e,t)=>RU(MU,e,t),XF=Qs("image"),PU=e=>{const t=e;return P.from(t[XF])},LU=(e,t)=>{const o=e;o[XF]=t},wL=Qs("event"),IU=e=>{const t=e;return P.from(t[wL])},J8=e=>t=>{const o=t;o[wL]=e},FU=(e,t)=>J8(t)(e),JF=J8(0),zU=J8(2),HU=J8(1),$U=(e=>t=>{const o=t;return P.from(o[wL]).exists(s=>s===e)})(0),VU=()=>Object.freeze({length:0,item:e=>null}),CL=Qs("mode"),UU=e=>{const t=e;return P.from(t[CL])},Q8=e=>t=>{const o=t;o[CL]=e},QF=(e,t)=>Q8(t)(e),ez=Q8(0),kL=Q8(2),ZU=Q8(1),tz=e=>t=>{const o=t;return P.from(o[CL]).exists(s=>s===e)},Ww=tz(0),oz=tz(1),WU=(e,t)=>({...t,get length(){return t.length},add:(o,s)=>{if(Ww(e))if(Je(o)){if(!Cs(s))return t.add(o,s)}else return t.add(o);return null},remove:o=>{Ww(e)&&t.remove(o)},clear:()=>{Ww(e)&&t.clear()}}),jU=["none","copy","link","move"],qU=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],SL=()=>{const e=new window.DataTransfer;let t="move",o="all";const s={get dropEffect(){return t},set dropEffect(a){wo(jU,a)&&(t=a)},get effectAllowed(){return o},set effectAllowed(a){$U(s)&&wo(qU,a)&&(o=a)},get items(){return WU(s,e.items)},get files(){return oz(s)?VU():e.files},get types(){return e.types},setDragImage:(a,c,d)=>{Ww(s)&&(LU(s,{image:a,x:c,y:d}),e.setDragImage(a,c,d))},getData:a=>oz(s)?"":e.getData(a),setData:(a,c)=>{Ww(s)&&e.setData(a,c)},clearData:a=>{Ww(s)&&e.clearData(a)}};return ez(s),s},GU=e=>{const t=SL(),o=UU(e);return kL(e),JF(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,PU(e).each(s=>t.setDragImage(s.image,s.x,s.y)),Te(e.types,s=>{s!=="Files"&&t.setData(s,e.getData(s))}),Te(e.files,s=>t.items.add(s)),IU(e).each(s=>{FU(t,s)}),o.each(s=>{QF(e,s),QF(t,s)}),t},KU=e=>{const t=e.getData("text/html");return t===""?P.none():P.some(t)},nz=(e,t)=>e.setData("text/html",t),YU=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),XU=(e,t)=>_r(t,o=>{const s=YU(Im(o.getBoundingClientRect()),-1);return[{x:s.left,y:e(s),cell:o},{x:s.right,y:e(s),cell:o}]}),JU=(e,t,o)=>Go(e,(s,a)=>s.fold(()=>P.some(a),c=>{const d=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-o)),g=Math.sqrt(Math.abs(a.x-t)+Math.abs(a.y-o));return P.some(g<d?a:c)}),P.none()),sz=(e,t,o,s,a)=>{const c=In(Z.fromDom(o),"td,th,caption").map(g=>g.dom),d=Pt(XU(e,c),g=>t(g,a));return JU(d,s,a).map(g=>g.cell)},QU=e=>e.bottom,eZ=e=>e.top,tZ=(e,t)=>e.y<t,oZ=(e,t)=>e.y>t,nZ=bt(sz,QU,tZ),sZ=bt(sz,eZ,oZ),rZ=(e,t)=>$n(t.getClientRects()).bind(o=>nZ(e,o.left,o.top)).bind(o=>G8(Z$(o),t)),aZ=(e,t)=>Is(t.getClientRects()).bind(o=>sZ(e,o.left,o.top)).bind(o=>G8(U$(o),t)),iZ=(e,t,o)=>o.breakAt.exists(s=>e(t,s).breakAt.isSome()),lZ=e=>e.breakType===jg.Wrap&&e.positions.length===0,cZ=e=>e.breakType===jg.Br&&e.positions.length===1,rz=(e,t,o)=>{const s=e(t,o);return lZ(s)||!Zn(o.getNode())&&cZ(s)?!iZ(e,t,s):s.breakAt.isNone()},dZ=bt(rz,rE),uZ=bt(rz,aE),mZ=(e,t,o)=>{const s=Ae.fromRangeStart(t);return h0(!e,o).exists(a=>a.isEqual(s))},fZ=(e,t,o,s)=>{const a=e.selection.getRng(),c=t?1:-1;return JC()&&mZ(t,a,o)?(_i(c,e,o,!t,!1).each(d=>{Yh(e,d)}),!0):!1},gZ=(e,t,o)=>rZ(t,o).orThunk(()=>$n(o.getClientRects()).bind(s=>iL(GI(e,Ae.before(t)),s.left))).getOr(Ae.before(t)),pZ=(e,t,o)=>aZ(t,o).orThunk(()=>$n(o.getClientRects()).bind(s=>iL(KI(e,Ae.after(t)),s.left))).getOr(Ae.after(t)),az=(e,t)=>{const o=t.getNode(e);return Ra(o)?P.some(o):P.none()},hZ=(e,t,o)=>{t.undoManager.transact(()=>{const s=e?Ni:tr,a=OF(t,Z.fromDom(o),s);Yh(t,a)})},iz=(e,t,o)=>{const s=az(!!t,o),a=t===!1;s.fold(()=>Yh(e,o.toRange()),c=>h0(a,e.getBody()).filter(d=>d.isEqual(o)).fold(()=>Yh(e,o.toRange()),d=>hZ(t,e,c)))},bZ=(e,t,o,s)=>{const a=e.selection.getRng(),c=Ae.fromRangeStart(a),d=e.getBody();if(!t&&dZ(s,c)){const g=gZ(d,o,c);return iz(e,t,g),!0}else if(t&&uZ(s,c)){const g=pZ(d,o,c);return iz(e,t,g),!0}else return!1},lz=(e,t,o)=>P.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(s=>P.from(e.dom.getParent(s,"table")).map(a=>o(e,t,a,s))).getOr(!1),cz=(e,t)=>lz(e,t,fZ),EL=(e,t)=>lz(e,t,bZ),xZ=e=>{const t=ld.exact(e,0,e,0);return D1(t)},vZ=e=>eD(e)||Za(e).some(t=>sm(t)&&eD(t)),dz=(e,t,o)=>o.fold(P.none,P.none,(s,a)=>Bf(a).map(c=>xZ(c)),s=>e.mode.isReadOnly()||!yZ(s)||!vZ(s)?P.none():(e.execCommand("mceTableInsertRowAfter"),uz(e,t,s))),yZ=e=>ta(e,mc("table")).exists(Ga),uz=(e,t,o)=>dz(e,t,AU(o,eD)),_Z=(e,t,o)=>dz(e,t,OU(o,eD)),eD=e=>Ga(e)||Mf(e,wZ),wZ=e=>sm(e)&&Ga(e),mz=(e,t)=>{const o=["table","li","dl"],s=Z.fromDom(e.getBody()),a=g=>{const b=Gt(g);return Lt(g,s)||wo(o,b)},c=e.selection.getRng(),d=Z.fromDom(t?c.endContainer:c.startContainer);return EU(d,a).map(g=>(jF(g,a).each(T=>{e.model.table.clearSelectedCells(T.dom)}),e.selection.collapse(!t),(t?uz:_Z)(e,a,g).each(T=>{e.selection.setRng(T)}),!0)).getOr(!1)},CZ=(e,t,o)=>{const s=Vo.os.isMacOS()||Vo.os.isiOS();lE([{keyCode:it.RIGHT,action:Yt(BF,e,!0)},{keyCode:it.LEFT,action:Yt(BF,e,!1)},{keyCode:it.UP,action:Yt(PF,e,!1)},{keyCode:it.DOWN,action:Yt(PF,e,!0)},...s?[{keyCode:it.UP,action:Yt(X8,e,!1),metaKey:!0,shiftKey:!0},{keyCode:it.DOWN,action:Yt(X8,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:it.RIGHT,action:Yt(cz,e,!0)},{keyCode:it.LEFT,action:Yt(cz,e,!1)},{keyCode:it.UP,action:Yt(EL,e,!1)},{keyCode:it.DOWN,action:Yt(EL,e,!0)},{keyCode:it.UP,action:Yt(EL,e,!1)},{keyCode:it.UP,action:Yt(FF,e,!1)},{keyCode:it.DOWN,action:Yt(FF,e,!0)},{keyCode:it.RIGHT,action:Yt(VF,e,!0)},{keyCode:it.LEFT,action:Yt(VF,e,!1)},{keyCode:it.UP,action:Yt(UF,e,!1)},{keyCode:it.DOWN,action:Yt(UF,e,!0)},{keyCode:it.RIGHT,action:Yt(dF,e,t,!0)},{keyCode:it.LEFT,action:Yt(dF,e,t,!1)},{keyCode:it.RIGHT,ctrlKey:!s,altKey:s,action:Yt(lV,e,t)},{keyCode:it.LEFT,ctrlKey:!s,altKey:s,action:Yt(cV,e,t)},{keyCode:it.UP,action:Yt(IF,e,!1)},{keyCode:it.DOWN,action:Yt(IF,e,!0)}],o).each(a=>{o.preventDefault()})},kZ=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||CZ(e,t,o)})},sf=(e,t)=>({container:e,offset:t}),tD=ko.DOM,oD=e=>t=>e===t?-1:0,SZ=e=>t=>e.isBlock(t)||wo(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",TL=(e,t,o)=>{if(je(e)&&t>=0)return P.some(sf(e,t));{const s=fi(tD);return P.from(s.backwards(e,t,oD(e),o)).map(a=>sf(a.container,a.container.data.length))}},EZ=(e,t,o)=>{if(je(e)&&t>=e.length)return P.some(sf(e,t));{const s=fi(tD);return P.from(s.forwards(e,t,oD(e),o)).map(a=>sf(a.container,0))}},AL=(e,t,o)=>{if(!je(e))return P.none();const s=e.data;if(t>=0&&t<=s.length)return P.some(sf(e,t));{const a=fi(tD);return P.from(a.backwards(e,t,oD(e),o)).bind(c=>{const d=c.container.data;return AL(c.container,t+d.length,o)})}},fz=(e,t,o)=>{if(!je(e))return P.none();const s=e.data;if(t<=s.length)return P.some(sf(e,t));{const a=fi(tD);return P.from(a.forwards(e,t,oD(e),o)).bind(c=>fz(c.container,t-s.length,o))}},OL=(e,t,o,s,a)=>{const c=fi(e,SZ(e));return P.from(c.backwards(t,o,s,a))},TZ=e=>e.collapsed&&je(e.startContainer),AZ=e=>jr(e.toString().replace(/\u00A0/g," ")),gz=e=>e!==""&&`  \uFEFF\f
\r	\v`.indexOf(e)!==-1,OZ=(e,t)=>e.substring(t.length),DZ=(e,t,o,s=!1)=>{let a;const c=o.charAt(0);for(a=t-1;a>=0;a--){const d=e.charAt(a);if(!s&&gz(d))return P.none();if(c===d&&zr(e,o,a,t))break}return P.some(a)},DL=(e,t,o,s=!1)=>{if(!TZ(t))return P.none();const a={text:"",offset:0},c=(g,b,_)=>(a.text=_+a.text,a.offset+=b,DZ(a.text,a.offset,o,s).getOr(b)),d=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return OL(e,t.startContainer,t.startOffset,c,d).bind(g=>{const b=t.cloneRange();if(b.setStart(g.container,g.offset),b.setEnd(t.endContainer,t.endOffset),b.collapsed)return P.none();const _=AZ(b);return _.lastIndexOf(o)!==0?P.none():P.some({text:OZ(_,o),range:b,trigger:o})})},NZ=e=>e.nodeType===tm,RZ=e=>e.nodeType===sl,pz=e=>{if(NZ(e))return sf(e,e.data.length);{const t=e.childNodes;return t.length>0?pz(t[t.length-1]):sf(e,t.length)}},hz=(e,t)=>{const o=e.childNodes;return o.length>0&&t<o.length?hz(o[t],0):o.length>0&&RZ(e)&&o.length===t?pz(o[o.length-1]):sf(e,t)},MZ=(e,t)=>{var o;const s=(o=e.getParent(t.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return OL(e,t.container,t.offset,(a,c)=>c===0?-1:c,s).filter(a=>{const c=a.container.data.charAt(a.offset-1);return!gz(c)}).isSome()},BZ=e=>t=>{const o=hz(t.startContainer,t.startOffset);return!MZ(e,o)},PZ=(e,t,o)=>Zc(o.triggers,s=>DL(e,t,s)),LZ=(e,t)=>{const o=t(),s=e.selection.getRng();return PZ(e.dom,s,o).bind(a=>bz(e,t,a))},bz=(e,t,o,s={})=>{var a;const c=t(),g=(a=e.selection.getRng().startContainer.nodeValue)!==null&&a!==void 0?a:"",b=Pt(c.lookupByTrigger(o.trigger),T=>o.text.length>=T.minChars&&T.matches.getOrThunk(()=>BZ(e.dom))(o.range,g,o.text));if(b.length===0)return P.none();const _=Promise.all(go(b,T=>T.fetch(o.text,T.maxResults,s).then(R=>({matchText:o.text,items:R,columns:T.columns,onAction:T.onAction,highlightOn:T.highlightOn}))));return P.some({lookupData:_,context:o})};var rf;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(rf||(rf={}));const NL=(e,t,o)=>e.stype===rf.Error?t(e.serror):o(e.svalue),IZ=e=>{const t=[],o=[];return Te(e,s=>{NL(s,a=>o.push(a),a=>t.push(a))}),{values:t,errors:o}},FZ=(e,t)=>e.stype===rf.Error?{stype:rf.Error,serror:t(e.serror)}:e,zZ=(e,t)=>e.stype===rf.Value?{stype:rf.Value,svalue:t(e.svalue)}:e,HZ=(e,t)=>e.stype===rf.Value?t(e.svalue):e,$Z=(e,t)=>e.stype===rf.Error?t(e.serror):e,xz=e=>({stype:rf.Value,svalue:e}),vz=e=>({stype:rf.Error,serror:e}),Yi={fromResult:e=>e.fold(vz,xz),toResult:e=>NL(e,gs.error,gs.value),svalue:xz,partition:IZ,serror:vz,bind:HZ,bindError:$Z,map:zZ,mapError:FZ,fold:NL},yz=e=>ae(e)&&Ca(e).length>100?" removed due to size":JSON.stringify(e,null,2),VZ=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:Ge("... (only showing first ten failures)")}]):e;return go(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},_z=(e,t)=>Yi.serror([{path:e,getErrorInfo:t}]),UZ=(e,t,o)=>_z(e,()=>'Could not find valid *required* value for "'+t+'" in '+yz(o)),ZZ=(e,t)=>_z(e,Ge(t)),wz=e=>{const t=(s,a)=>Yi.bindError(e(a),c=>ZZ(s,c)),o=Ge("val");return{extract:t,toString:o}},WZ=wz(Yi.svalue),RL=Ge(WZ),ML=(e,t)=>wz(o=>{const s=typeof o;return e(o)?Yi.svalue(o):Yi.serror(`Expected type: ${t} but got: ${s}`)}),jZ=ML(E,"number"),BL=ML(Je,"string"),Cz=ML(Ut,"function"),kz=()=>({tag:"required",process:{}}),qZ=e=>({tag:"defaultedThunk",process:e}),Sz=e=>qZ(Ge(e)),Ez=()=>({tag:"option",process:{}}),GZ=(e,t,o,s)=>({tag:"field",key:e,newKey:t,presence:o,prop:s}),Tz=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},KZ=(e,t)=>Yi.svalue(Gd(t,mf.apply(void 0,e))),Az=e=>Yn(Yi.serror,Kg)(e),YZ={consolidateObj:(e,t)=>{const o=Yi.partition(e);return o.errors.length>0?Az(o.errors):KZ(o.values,t)},consolidateArr:e=>{const t=Yi.partition(e);return t.errors.length>0?Az(t.errors):Yi.svalue(t.values)}},XZ=(e,t,o,s)=>Jo(t,o).fold(()=>UZ(e,o,t),s),Oz=(e,t,o,s)=>{const a=Jo(e,t).getOrThunk(()=>o(e));return s(a)},JZ=(e,t,o)=>o(Jo(e,t)),QZ=(e,t,o,s)=>{const a=Jo(e,t).map(c=>c===!0?o(e):c);return s(a)},eW=(e,t,o,s,a)=>{const c=g=>a.extract(t.concat([s]),g),d=g=>g.fold(()=>Yi.svalue(P.none()),b=>{const _=a.extract(t.concat([s]),b);return Yi.map(_,P.some)});switch(e.tag){case"required":return XZ(t,o,s,c);case"defaultedThunk":return Oz(o,s,e.process,c);case"option":return JZ(o,s,d);case"defaultedOptionThunk":return QZ(o,s,e.process,d);case"mergeWithThunk":return Oz(o,s,Ge({}),g=>{const b=Gd(e.process(o),g);return c(b)})}},tW=(e,t,o)=>{const s={},a=[];for(const c of o)Tz(c,(d,g,b,_)=>{const T=eW(b,e,t,d,_);Yi.fold(T,N=>{a.push(...N)},N=>{s[g]=N})},(d,g)=>{s[d]=g(t)});return a.length>0?Yi.serror(a):Yi.svalue(s)},Dz=e=>({extract:(s,a)=>tW(s,a,e),toString:()=>`obj{
`+go(e,a=>Tz(a,(c,d,g,b)=>c+" -> "+b.toString(),(c,d)=>"state("+c+")")).join(`
`)+"}"}),oW=e=>({extract:(s,a)=>{const c=go(a,(d,g)=>e.extract(s.concat(["["+g+"]"]),d));return YZ.consolidateArr(c)},toString:()=>"array("+e.toString()+")"}),nW=(e,t,o)=>{const s=t.extract([e],o);return Yi.mapError(s,a=>({input:o,errors:a}))},Nz=(e,t,o)=>Yi.toResult(nW(e,t,o)),Rz=e=>`Errors: 
`+VZ(e.errors).join(`
`)+`

Input object: `+yz(e.input),jw=GZ,sW=e=>jw(e,e,kz(),RL()),Mz=(e,t)=>jw(e,e,kz(),t),Bz=e=>Mz(e,BL),Pz=e=>Mz(e,Cz),rW=e=>jw(e,e,Ez(),RL()),Lz=(e,t)=>jw(e,e,Ez(),t),Iz=e=>Lz(e,BL),aW=e=>Lz(e,Cz),iW=(e,t)=>jw(e,e,Sz(t),RL()),Fz=(e,t,o)=>jw(e,e,Sz(t),o),zz=(e,t)=>Fz(e,t,jZ),lW=(e,t,o)=>Fz(e,t,oW(o)),cW=Bz("type"),dW=Pz("fetch"),uW=Pz("onAction"),mW=e=>iW("columns",e),fW=Dz([cW,Bz("trigger"),zz("minChars",1),mW(1),zz("maxResults",10),aW("matches"),dW,uW,lW("highlightOn",[],BL)]),gW=e=>Nz("Autocompleter",fW,e),pW=()=>{const e={},t={},o={},s={},a={},c={},d={},g={},b={},_=(I,Y)=>(G,W)=>{I[G.toLowerCase()]={...W,type:Y}},T=(I,Y)=>(G,W)=>{I[G.toLowerCase()]={type:Y,...W}},N=(I,Y)=>s[I.toLowerCase()]=Y,R=(I,Y)=>d[I.toLowerCase()]=Y;return{addButton:_(e,"button"),addGroupToolbarButton:_(e,"grouptoolbarbutton"),addToggleButton:_(e,"togglebutton"),addMenuButton:_(e,"menubutton"),addSplitButton:_(e,"splitbutton"),addMenuItem:_(t,"menuitem"),addNestedMenuItem:_(t,"nestedmenuitem"),addToggleMenuItem:_(t,"togglemenuitem"),addAutocompleter:_(o,"autocompleter"),addContextMenu:_(a,"contextmenu"),addContextToolbar:_(c,"contexttoolbar"),addContextForm:T(c,"contextform"),addSidebar:_(g,"sidebar"),addView:_(b,"views"),addIcon:N,addContext:R,getAll:()=>({buttons:e,menuItems:t,icons:s,popups:o,contextMenus:a,contextToolbars:c,sidebars:g,views:b,contexts:d})}},hW=e=>{const t=e.ui.registry.getAll().popups,o=si(t,d=>gW(d).fold(g=>{throw new Error(Rz(g))},dn)),s=m2($a(o,d=>d.trigger)),a=rs(o);return{dataset:o,triggers:s,lookupByTrigger:d=>Pt(a,g=>g.trigger===d)}},bW=(e,t)=>{const o=es(t.load,50);e.on("input",s=>{s.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",s=>{const a=s.which;a===8?o.throttle():a===27?(o.cancel(),t.cancelIfNecessary()):(a===38||a===40)&&o.cancel()},!0),e.on("remove",o.cancel)},xW=e=>{const t=ac(),o=Bn(!1),s=t.isSet,a=()=>{s()&&(NC(e),o.set(!1),t.clear())},c=N=>{s()||t.set({trigger:N.trigger,matchLength:N.text.length})},d=Al(()=>hW(e)),g=N=>t.get().map(R=>DL(e.dom,e.selection.getRng(),R.trigger,!0).bind(I=>bz(e,d,I,N))).getOrThunk(()=>LZ(e,d)),b=N=>{g(N).fold(a,R=>{c(R.context),R.lookupData.then(I=>{t.get().map(Y=>{const G=R.context;Y.trigger===G.trigger&&(t.set({...Y,matchLength:G.text.length}),o.get()?(bx(e,{range:G.range}),gN(e,{lookupData:I})):(o.set(!0),bx(e,{range:G.range}),fN(e,{lookupData:I})))})})})},_=(N,R)=>{const I=N.compareBoundaryPoints(window.Range.START_TO_START,R),Y=N.compareBoundaryPoints(window.Range.END_TO_END,R);return I>=0&&Y<=0},T=()=>t.get().bind(({trigger:N})=>{const R=e.selection.getRng();return DL(e.dom,R,N,o.get()).filter(({range:I})=>_(R,I)).map(({range:I})=>I)});e.addCommand("mceAutocompleterReload",(N,R)=>{const I=ae(R)?R.fetchOptions:{};b(I)}),e.addCommand("mceAutocompleterClose",a),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{T().each(N=>{bx(e,{range:N})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>T().isSome()),bW(e,{cancelIfNecessary:a,load:b})},vW=_n().browser.isSafari(),Hz=e=>vd(Z.fromDom(e)),$z=(e,t)=>{var o;return e.startOffset===0&&e.endOffset===((o=t.textContent)===null||o===void 0?void 0:o.length)},nD=(e,t)=>P.from(e.getParent(t.container(),"details")),Vz=(e,t)=>nD(e,t).isSome(),yW=(e,t)=>{const o=P.from(e.getParent(t.startContainer,"details")),s=P.from(e.getParent(t.endContainer,"details"));if(o.isSome()||s.isSome()){const a=o.bind(c=>P.from(e.select("summary",c)[0]));return P.some({startSummary:a,startDetails:o,endDetails:s})}else return P.none()},_W=(e,t)=>Fa(t).exists(o=>o.isEqual(e)),wW=(e,t)=>Lo(t).exists(o=>Zn(o.getNode())&&$i(t,o).exists(s=>s.isEqual(e))||o.isEqual(e)),CW=(e,t)=>t.startSummary.exists(o=>_W(e,o)),kW=(e,t)=>t.startSummary.exists(o=>wW(e,o)),SW=(e,t)=>t.startDetails.exists(o=>$i(o,e).forall(s=>t.startSummary.exists(a=>!a.contains(e.container())&&a.contains(s.container())))),EW=(e,t,o)=>o.startDetails.exists(s=>Ia(e,t).forall(a=>!s.contains(a.container()))),Uz=(e,t)=>{const o=t.getNode();Cs(o)||e.selection.setCursorLocation(o,t.offset())},Zz=(e,t,o)=>{const s=e.dom.getParent(t.container(),"details");if(s&&!s.open){const a=e.dom.select("summary",s)[0];a&&(o?Fa(a):Lo(a)).each(d=>Uz(e,d))}else Uz(e,t)},TW=(e,t)=>{const o=b=>b.contains(e.startContainer),s=b=>b.contains(e.endContainer),a=t.startSummary.exists(o),c=t.startSummary.exists(s),d=t.startDetails.forall(b=>t.endDetails.forall(_=>b!==_));return(a||c)&&!(a&&c)||d},Wz=(e,t,o)=>{const{dom:s,selection:a}=e,c=e.getBody();if(o==="character"){const d=Ae.fromRangeStart(a.getRng()),g=s.getParent(d.container(),s.isBlock),b=nD(s,d),_=g&&s.isEmpty(g),T=eo(g?.previousSibling),N=eo(g?.nextSibling);return _&&(t?N:T)&&dh(!t,c,d).exists(Y=>Vz(s,Y)&&!ff(b,nD(s,Y)))?!0:dh(t,c,d).fold(un,R=>{const I=nD(s,R);if(Vz(s,R)&&!ff(b,I)){if(t||Zz(e,R,!1),g&&_){if(t&&T)return!0;if(!t&&N)return!0;Zz(e,R,t),e.dom.remove(g)}return!0}else return!1})}else return!1},AW=(e,t,o,s)=>{const c=e.selection.getRng(),d=Ae.fromRangeStart(c),g=e.getBody();return s==="selection"?TW(c,t):o?kW(d,t)||EW(g,d,t):CW(d,t)||SW(d,t)},OW=(e,t,o)=>yW(e.dom,e.selection.getRng()).fold(()=>Wz(e,t,o),s=>AW(e,s,t,o)||Wz(e,t,o)),DW=(e,t,o)=>{const s=e.selection,a=s.getNode(),c=s.getRng(),d=Ae.fromRangeStart(c);return fC(a)?(o==="selection"&&$z(c,a)||s_(t,d,a)?Hz(a):e.undoManager.transact(()=>{const g=s.getSel();let{anchorNode:b,anchorOffset:_,focusNode:T,focusOffset:N}=g??{};const R=()=>{Ee(b)&&Ee(_)&&Ee(T)&&Ee(N)&&g?.setBaseAndExtent(b,_,T,N)},I=()=>{b=g?.anchorNode,_=g?.anchorOffset,T=g?.focusNode,N=g?.focusOffset},Y=(W,ce)=>{Te(W.childNodes,le=>{Px(le)&&ce.appendChild(le)})},G=e.dom.create("span",{"data-mce-bogus":"1"});Y(a,G),a.appendChild(G),R(),(o==="word"||o==="line")&&g?.modify("extend",t?"right":"left",o),!s.isCollapsed()&&$z(s.getRng(),G)?Hz(a):(e.execCommand(t?"ForwardDelete":"Delete"),I(),Y(G,a),R()),e.dom.remove(G)}),!0):!1},Gv=(e,t,o)=>OW(e,t,o)||vW&&DW(e,t,o)?P.some(fo):P.none(),jz=e=>(t,o,s={})=>{const a=t.getBody(),c={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:a,currentTarget:a,eventPhase:Event.AT_TARGET,originalTarget:a,explicitOriginalTarget:a,isTrusted:!1,srcElement:a,cancelable:!1,preventDefault:fo,inputType:o},d=Fi(new InputEvent(e));return t.dispatch(e,{...d,...c,...s})},dE=jz("input"),sD=jz("beforeinput"),qz=_n(),Gz=qz.os,Kz=Gz.isMacOS()||Gz.isiOS(),NW=qz.browser.isFirefox(),RW=(e,t,o)=>{const s=o.keyCode===it.BACKSPACE?"deleteContentBackward":"deleteContentForward",a=e.selection.isCollapsed(),c=a?"character":"selection",d=g=>a?g?"word":"line":"selection";$F([{keyCode:it.BACKSPACE,action:Yt(SF,e)},{keyCode:it.BACKSPACE,action:Yt(jv,e,!1)},{keyCode:it.DELETE,action:Yt(jv,e,!0)},{keyCode:it.BACKSPACE,action:Yt(Vd,e,!1)},{keyCode:it.DELETE,action:Yt(Vd,e,!0)},{keyCode:it.BACKSPACE,action:Yt(uL,e,t,!1)},{keyCode:it.DELETE,action:Yt(uL,e,t,!0)},{keyCode:it.BACKSPACE,action:Yt(T3,e,!1)},{keyCode:it.DELETE,action:Yt(T3,e,!0)},{keyCode:it.BACKSPACE,action:Yt(Gv,e,!1,c)},{keyCode:it.DELETE,action:Yt(Gv,e,!0,c)},...Kz?[{keyCode:it.BACKSPACE,altKey:!0,action:Yt(Gv,e,!1,d(!0))},{keyCode:it.DELETE,altKey:!0,action:Yt(Gv,e,!0,d(!0))},{keyCode:it.BACKSPACE,metaKey:!0,action:Yt(Gv,e,!1,d(!1))}]:[{keyCode:it.BACKSPACE,ctrlKey:!0,action:Yt(Gv,e,!1,d(!0))},{keyCode:it.DELETE,ctrlKey:!0,action:Yt(Gv,e,!0,d(!0))}],{keyCode:it.BACKSPACE,action:Yt(nE,e,!1)},{keyCode:it.DELETE,action:Yt(nE,e,!0)},{keyCode:it.BACKSPACE,action:Yt(gL,e,!1)},{keyCode:it.DELETE,action:Yt(gL,e,!0)},{keyCode:it.BACKSPACE,action:Yt(Vg,e,!1)},{keyCode:it.DELETE,action:Yt(Vg,e,!0)},{keyCode:it.BACKSPACE,action:Yt($g,e,!1)},{keyCode:it.DELETE,action:Yt($g,e,!0)},{keyCode:it.BACKSPACE,action:Yt(mL,e,!1)},{keyCode:it.DELETE,action:Yt(mL,e,!0)},{keyCode:it.BACKSPACE,action:Yt(Vw,e,!1)},{keyCode:it.DELETE,action:Yt(Vw,e,!0)},{keyCode:it.BACKSPACE,action:Yt(hL,e,!1)},{keyCode:it.DELETE,action:Yt(hL,e,!0)}],o).filter(g=>e.selection.isEditable()).each(g=>{o.preventDefault(),sD(e,s).isDefaultPrevented()||(g(),dE(e,s))})},MW=(e,t,o)=>lE([{keyCode:it.BACKSPACE,action:Yt(QS,e)},{keyCode:it.DELETE,action:Yt(QS,e)},...Kz?[{keyCode:it.BACKSPACE,altKey:!0,action:Yt(iE,e)},{keyCode:it.DELETE,altKey:!0,action:Yt(iE,e)},...o?[{keyCode:NW?224:91,action:Yt(iE,e)}]:[]]:[{keyCode:it.BACKSPACE,ctrlKey:!0,action:Yt(iE,e)},{keyCode:it.DELETE,ctrlKey:!0,action:Yt(iE,e)}]],t),BW=(e,t)=>{let o=!1;e.on("keydown",s=>{o=s.keyCode===it.BACKSPACE,s.isDefaultPrevented()||RW(e,t,s)}),e.on("keyup",s=>{s.isDefaultPrevented()||MW(e,s,o),o=!1})},PW=(e,t)=>{const o=Z.fromDom(e),s=Z.fromDom(t),a=mc("span"),c=bt(Lt,o),d=b=>hs(b)&&Af(b,"font-size").isSome(),g=[...d(s)?[s]:[],...Ll(s,d,c)];Te(g.slice(1),b=>{Qc(b,"font-size"),ks(b,"data-mce-style"),a(b)&&C1(b)&&ii(b)})},LW=e=>{for(;e;){if(ft(e)||je(e)&&e.data&&/[\r\n\s]/.test(e.data))return P.from(Z.fromDom(e));e=e.nextSibling}return P.none()},qw=(e,t)=>{const o=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const c=b=>/^(ul|ol|dl)$/.test(Gt(b)),d=b=>c(b)?P.from(b):Po(b,c),g=b=>o.isEmpty(b.dom);LW(t.firstChild).each(b=>{d(b).fold(()=>{if(g(b)){const _=BU(b,0).element;Oc(_)||rn(_,Z.fromText(Fs))}},_=>{tr(_,Z.fromText(Fs))})})}const a=o.createRng();if(t.normalize(),t.hasChildNodes()){const c=new zn(t,t);let d=t,g;for(;g=c.current();){if(je(g)){a.setStart(g,0),a.setEnd(g,0);break}if(s[g.nodeName.toLowerCase()]){a.setStartBefore(g),a.setEndBefore(g);break}d=g,g=c.next()}g||(a.setStart(d,0),a.setEnd(d,0))}else Zn(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));e.selection.setRng(a),Hx(e,a)},uE=(e,t)=>{const o=e.getRoot();let s,a=t;for(;a!==o&&a&&e.getContentEditable(a)!=="false";){if(e.getContentEditable(a)==="true"){s=a;break}a=a.parentNode}return a!==o?s:o},PL=e=>P.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),IW=e=>PL(e).fold(Ge(""),t=>t.nodeName.toUpperCase()),FW=e=>PL(e).filter(t=>zi(Z.fromDom(t))).isSome(),LL=e=>{e.innerHTML='<br data-mce-bogus="1">'},zW=(e,t,o)=>{const s=e.dom;P.from(o.style).map(s.parseStyle).each(b=>{const T={...kp(Z.fromDom(t)),...b};s.setStyles(t,T)});const a=P.from(o.class).map(b=>b.split(/\s+/)),c=P.from(t.className).map(b=>Pt(b.split(/\s+/),_=>_!==""));Qn(a,c,(b,_)=>{const T=Pt(_,R=>!wo(b,R)),N=[...b,...T];s.setAttrib(t,"class",N.join(" "))});const d=["style","class"],g=Fr(o,(b,_)=>!wo(d,_));s.setAttribs(t,g)},mE=(e,t)=>{if(qr(e).toLowerCase()===t.tagName.toLowerCase()){const s=zm(e);zW(e,t,s)}},Yz=(e,t,o,s,a=!0,c,d)=>{const g=e.dom,b=e.schema,_=qr(e),T=o?o.nodeName.toUpperCase():"";let N=t;const R=b.getTextInlineElements();let I;c||T==="TABLE"||T==="HR"?I=g.create(c||_,d||{}):I=o.cloneNode(!1);let Y=I;if(!a)g.setAttrib(I,"style",null),g.setAttrib(I,"class",null);else{do if(R[N.nodeName]){if(bl(N)||Rr(N))continue;const G=N.cloneNode(!1);g.setAttrib(G,"id",""),I.hasChildNodes()?(G.appendChild(I.firstChild),I.appendChild(G)):(Y=G,I.appendChild(G))}while((N=N.parentNode)&&N!==s);PW(I,Y)}return mE(e,I),LL(Y),I},HW=(e,t)=>e.dom.getParent(t,Hb),$W=(e,t,o)=>{let s=t;for(;s&&s!==e&&eo(s.nextSibling);){const a=s.parentElement;if(!a||!o(a))return Hb(a);s=a}return!1},VW=(e,t,o)=>!t&&o.nodeName.toLowerCase()===qr(e)&&e.dom.isEmpty(o)&&$W(e.getBody(),o,s=>Xt(e.schema.getTextBlockElements(),s.nodeName.toLowerCase())),UW=(e,t,o)=>{var s,a,c;const d=t(qr(e)),g=HW(e,o);g&&(e.dom.insertAfter(d,g),qw(e,d),((c=(a=(s=o.parentElement)===null||s===void 0?void 0:s.childNodes)===null||a===void 0?void 0:a.length)!==null&&c!==void 0?c:0)>1&&e.dom.remove(o))},ZW=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,WW=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},Xz=(e,t)=>{const o=e?.parentNode;return Ee(o)&&o.nodeName===t},Jz=e=>Ee(e)&&/^(OL|UL|LI)$/.test(e.nodeName),IL=e=>Ee(e)&&/^(LI|DT|DD)$/.test(e.nodeName),jW=e=>Jz(e)&&Jz(e.parentNode),rD=e=>{const t=e.parentNode;return IL(t)?t:e},aD=(e,t,o)=>{let s=e[o?"firstChild":"lastChild"];for(;s&&!ft(s);)s=s[o?"nextSibling":"previousSibling"];return s===t},Qz=e=>Go($a(kp(Z.fromDom(e)),(t,o)=>`${o}: ${t};`),(t,o)=>t+o,""),qW=(e,t,o,s,a)=>{const c=e.dom,d=e.selection.getRng(),g=o.parentNode;if(o===e.getBody()||!g)return;jW(o)&&(a="LI");const b=IL(s)?Qz(s):void 0;let _=IL(s)&&b?t(a,{style:Qz(s)}):t(a);if(aD(o,s,!0)&&aD(o,s,!1))if(Xz(o,"LI")){const T=rD(o);c.insertAfter(_,T),WW(o)?c.remove(T):c.remove(o)}else c.replace(_,o);else if(aD(o,s,!0))Xz(o,"LI")?(c.insertAfter(_,rD(o)),_.appendChild(c.doc.createTextNode(" ")),_.appendChild(o)):g.insertBefore(_,o),c.remove(s);else if(aD(o,s,!1))c.insertAfter(_,rD(o)),c.remove(s);else{o=rD(o);const T=d.cloneRange();T.setStartAfter(s),T.setEndAfter(o);const N=T.extractContents();if(a==="LI"&&ZW(N,"LI")){const R=Pt(go(_.children,Z.fromDom),Ke(mc("br")));_=N.firstChild,c.insertAfter(N,o),Te(R,I=>Xc(Z.fromDom(_),I)),b&&_.setAttribute("style",b)}else c.insertAfter(N,o),c.insertAfter(_,o);c.remove(s)}qw(e,_)},GW=e=>{Te(Il(Z.fromDom(e),Ur),t=>{const o=t.dom;o.nodeValue=jr(o.data)})},KW=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},YW=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),FL=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,XW=(e,t)=>e.nodeName===t||e.nextSibling&&e.nextSibling.nodeName===t,zL=(e,t)=>Ee(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",JW=(e,t,o)=>{var s;const a=[];if(!o)return;let c=o;for(;c=c.firstChild;){if(e.isBlock(c))return;ft(c)&&!t[c.nodeName.toLowerCase()]&&a.push(c)}let d=a.length;for(;d--;)c=a[d],(!c.hasChildNodes()||c.firstChild===c.lastChild&&((s=c.firstChild)===null||s===void 0?void 0:s.nodeValue)===""||YW(e,c))&&e.remove(c)},HL=(e,t,o)=>je(t)?e?o===1&&t.data.charAt(o-1)===Ks?0:o:o===t.data.length-1&&t.data.charAt(o)===Ks?t.data.length:o:o,QW=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,HL(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,HL(!1,e.endContainer,e.endOffset)),t},ej=e=>{let t=e;do je(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},tj=(e,t,o,s,a)=>{var c,d;const g=e.dom,b=(c=uE(g,s))!==null&&c!==void 0?c:g.getRoot();let _=g.getParent(s,g.isBlock);if(!_||!zL(g,_)){if(_=_||b,!_.hasChildNodes()){const I=g.create(t);return mE(e,I),_.appendChild(I),o.setStart(I,0),o.setEnd(I,0),I}let T=s;for(;T&&T.parentNode!==_;)T=T.parentNode;let N;for(;T&&!g.isBlock(T);)N=T,T=T.previousSibling;const R=(d=N?.parentElement)===null||d===void 0?void 0:d.nodeName;if(N&&R&&e.schema.isValidChild(R,t.toLowerCase())){const I=N.parentNode,Y=g.create(t);for(mE(e,Y),I.insertBefore(Y,N),T=N;T&&!g.isBlock(T);){const G=T.nextSibling;Y.appendChild(T),T=G}o.setStart(s,a),o.setEnd(s,a)}}return s},oj=(e,t)=>{t.normalize();const o=t.lastChild;(!o||ft(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")},nj=(e,t)=>{const o=wN(e);return zo(t)?!1:Je(o)?wo($e.explode(o),t.nodeName.toLowerCase()):o},e9={insert:(e,t)=>{let o,s,a,c,d=!1;const g=e.dom,b=e.schema,_=b.getNonEmptyElements(),T=e.selection.getRng(),N=qr(e),R=Z.fromDom(T.startContainer),I=fn(R,T.startOffset),Y=I.exists(Ie=>sm(Ie)&&!Ga(Ie)),G=T.collapsed&&Y,W=(Ie,gt)=>Yz(e,o,tt,Pe,_N(e),Ie,gt),ce=Ie=>{const gt=HL(Ie,o,s);if(je(o)&&(Ie?gt>0:gt<o.data.length))return!1;if((o.parentNode===tt||o===tt)&&d&&!Ie||Ie&&ft(o)&&o===tt.firstChild)return!0;if(FL(o,"TABLE")||FL(o,"HR"))return XW(o,"BR")?!Ie:d&&!Ie||!d&&Ie;const Mt=new zn(o,tt);je(o)&&(Ie&&gt===0?Mt.prev():!Ie&&gt===o.data.length&&Mt.next());let oo;for(;oo=Mt.current();){if(ft(oo)){if(!oo.getAttribute("data-mce-bogus")){const xo=oo.nodeName.toLowerCase();if(_[xo]&&xo!=="br")return!1}}else if(je(oo)&&!gm(oo.data))return!1;Ie?Mt.prev():Mt.next()}return!0},le=()=>{let Ie;return/^(H[1-6]|PRE|FIGURE)$/.test(a)&&We!=="HGROUP"?Ie=W(N):Ie=W(),nj(e,c)&&zL(g,c)&&g.isEmpty(tt,void 0,{includeZwsp:!0})?Ie=g.split(c,tt):g.insertAfter(Ie,tt),qw(e,Ie),Ie};Ch(g,T).each(Ie=>{T.setStart(Ie.startContainer,Ie.startOffset),T.setEnd(Ie.endContainer,Ie.endOffset)}),o=T.startContainer,s=T.startOffset;const fe=!!(t&&t.shiftKey),ve=!!(t&&t.ctrlKey);ft(o)&&o.hasChildNodes()&&!G&&(d=s>o.childNodes.length-1,o=o.childNodes[Math.min(s,o.childNodes.length-1)]||o,d&&je(o)?s=o.data.length:s=0);const Pe=uE(g,o);if(!Pe||KW(e,o))return;fe||(o=tj(e,N,T,o,s));let tt=g.getParent(o,g.isBlock)||g.getRoot();c=Ee(tt?.parentNode)?g.getParent(tt.parentNode,g.isBlock):null,a=tt?tt.nodeName.toUpperCase():"";const We=c?c.nodeName.toUpperCase():"";if(We==="LI"&&!ve){const Ie=c;tt=Ie,c=Ie.parentNode,a=We}if(ft(c)&&VW(e,fe,tt))return UW(e,W,tt);if(/^(LI|DT|DD)$/.test(a)&&ft(c)&&g.isEmpty(tt)){qW(e,W,c,tt,N);return}if(!G&&(tt===e.getBody()||!zL(g,tt)))return;const De=tt.parentNode;let Se;if(G)Se=W(N),I.fold(()=>{rn(R,Z.fromDom(Se))},Ie=>{tr(Ie,Z.fromDom(Se))}),e.selection.setCursorLocation(Se,0);else if(Pm(tt))Se=tg(tt),g.isEmpty(tt)&&LL(tt),mE(e,Se),qw(e,Se);else if(ce(!1))Se=le();else if(ce(!0)&&De){const Ie=Ae.fromRangeStart(T),gt=Zx(Ie),Mt=Z.fromDom(tt),xo=qx(Mt,Ie,e.schema)?Q4(Mt,Ie,e.schema).bind(Mn=>P.from(Mn.getNode())):P.none();Se=De.insertBefore(W(),tt);const hn=FL(tt,"HR")||gt?Se:xo.getOr(tt);qw(e,hn)}else{const Ie=QW(T).cloneRange();Ie.setEndAfter(tt);const gt=Ie.extractContents();GW(gt),ej(gt),Se=gt.firstChild,tt===Se?Ee(De)&&g.insertAfter(gt,De):g.insertAfter(gt,tt),JW(g,_,Se),oj(g,tt),g.isEmpty(tt)&&LL(tt),Se.normalize(),g.isEmpty(Se)?(g.remove(Se),le()):(mE(e,Se),qw(e,Se))}g.setAttrib(Se,"id",""),e.dispatch("NewBlock",{newBlock:Se})},fakeEventName:"insertParagraph"},sj=(e,t,o)=>{const s=new zn(t,o);let a;const c=e.getNonEmptyElements();for(;a=s.next();)if(c[a.nodeName.toLowerCase()]||je(a)&&a.length>0)return!0;return!1},t9=(e,t,o)=>{const s=e.dom.createRng();o?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),e.selection.setRng(s),Hx(e,s)},rj=(e,t)=>{const o=e.selection,s=e.dom,a=o.getRng();let c,d=!1;Ch(s,a).each(I=>{a.setStart(I.startContainer,I.startOffset),a.setEnd(I.endContainer,I.endOffset)});let g=a.startOffset,b=a.startContainer;if(ft(b)&&b.hasChildNodes()){const I=g>b.childNodes.length-1;b=b.childNodes[Math.min(g,b.childNodes.length-1)]||b,I&&je(b)?g=b.data.length:g=0}let _=s.getParent(b,s.isBlock);const T=_&&_.parentNode?s.getParent(_.parentNode,s.isBlock):null,N=T?T.nodeName.toUpperCase():"",R=!!(t&&t.ctrlKey);N==="LI"&&!R&&(_=T),je(b)&&g>=b.data.length&&(sj(e.schema,b,_||s.getRoot())||(c=s.create("br"),a.insertNode(c),a.setStartAfter(c),a.setEndAfter(c),d=!0)),c=s.create("br"),K2(s,a,c),t9(e,c,d),e.undoManager.add()},aj=(e,t)=>{const o=Z.fromTag("br");tr(Z.fromDom(t),o),e.undoManager.add()},ij=(e,t)=>{cj(e.getBody(),t)||Ni(Z.fromDom(t),Z.fromTag("br"));const o=Z.fromTag("br");Ni(Z.fromDom(t),o),t9(e,o.dom,!1),e.undoManager.add()},lj=e=>Zn(e.getNode()),cj=(e,t)=>lj(Ae.after(t))?!0:Ia(e,Ae.after(t)).map(o=>Zn(o.getNode())).getOr(!1),o9=e=>e&&e.nodeName==="A"&&"href"in e,dj=e=>e.fold(un,o9,o9,un),uj=e=>{const t=bt(Du,e),o=Ae.fromRangeStart(e.selection.getRng());return Wg(t,e.getBody(),o).filter(dj)},mj=(e,t)=>{t.fold(fo,bt(aj,e),bt(ij,e),fo)},n9={insert:(e,t)=>{const o=uj(e);o.isSome()?o.each(bt(mj,e)):rj(e,t)},fakeEventName:"insertLineBreak"},s9=(e,t)=>PL(e).filter(o=>t.length>0&&Jr(Z.fromDom(o),t)).isSome(),fj=e=>s9(e,QE(e)),gj=e=>s9(e,yN(e)),Hc=sc.generate([{br:[]},{block:[]},{none:[]}]),pj=(e,t)=>gj(e),r9=e=>(t,o)=>FW(t)===e,a9=(e,t)=>(o,s)=>IW(o)===e.toUpperCase()===t,hj=e=>{const t=uE(e.dom,e.selection.getStart());return zo(t)},fE=e=>a9("pre",e),bj=()=>a9("summary",!0),iD=e=>(t,o)=>XE(t)===e,xj=(e,t)=>fj(e),lD=(e,t)=>t,vj=e=>{const t=qr(e),o=uE(e.dom,e.selection.getStart());return Ee(o)&&e.schema.isValidChild(o.nodeName,t)},yj=e=>{const t=e.selection.getRng(),o=Z.fromDom(t.startContainer),a=fn(o,t.startOffset).map(c=>sm(c)&&!Ga(c));return t.collapsed&&a.getOr(!0)},Ud=(e,t)=>(o,s)=>Go(e,(c,d)=>c&&d(o,s),!0)?P.some(t):P.none(),_j=(e,t)=>sE([Ud([pj],Hc.none()),Ud([fE(!0),hj],Hc.none()),Ud([bj()],Hc.br()),Ud([fE(!0),iD(!1),lD],Hc.br()),Ud([fE(!0),iD(!1)],Hc.block()),Ud([fE(!0),iD(!0),lD],Hc.block()),Ud([fE(!0),iD(!0)],Hc.br()),Ud([r9(!0),lD],Hc.br()),Ud([r9(!0)],Hc.block()),Ud([xj],Hc.br()),Ud([lD],Hc.br()),Ud([vj],Hc.block()),Ud([yj],Hc.block())],[e,!!(t&&t.shiftKey)]).getOr(Hc.none()),cD=(e,t,o)=>{t.mode.isReadOnly()||(t.selection.isCollapsed()||Ui(t),!(Ee(o)&&sD(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,o),Ee(o)&&dE(t,e.fakeEventName)))},i9=(e,t)=>{if(e.mode.isReadOnly())return;const o=()=>cD(n9,e,t),s=()=>cD(e9,e,t),a=_j(e,t);switch(JE(e)){case"linebreak":a.fold(o,o,fo);break;case"block":a.fold(s,s,fo);break;case"invert":a.fold(s,o,fo);break;default:a.fold(o,s,fo);break}},l9=_n(),wj=l9.os.isiOS()&&l9.browser.isSafari(),c9=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),VO(e.undoManager),e.undoManager.transact(()=>{i9(e,t)}))},Cj=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(je(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,s=t.data.charAt(e.startOffset-1);return o.test(s)}else return!1},kj=e=>{let t=P.none();const o=a=>{t=P.some(a.selection.getBookmark()),a.undoManager.add()},s=(a,c)=>{a.undoManager.undo(),t.fold(fo,d=>a.selection.moveToBookmark(d)),c9(a,c),t=P.none()};e.on("keydown",a=>{a.keyCode===it.ENTER&&(wj&&Cj(e.selection.getRng())?o(e):c9(e,a))}),e.on("keyup",a=>{a.keyCode===it.ENTER&&t.each(()=>s(e,a))})},Sj=(e,t,o)=>{const s=Vo.os.isMacOS()||Vo.os.isiOS();lE([{keyCode:it.END,action:Yt(LF,e,!0)},{keyCode:it.HOME,action:Yt(LF,e,!1)},...s?[]:[{keyCode:it.HOME,action:Yt(X8,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:it.END,action:Yt(X8,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:it.END,action:Yt(ZF,e,!0)},{keyCode:it.HOME,action:Yt(ZF,e,!1)},{keyCode:it.END,action:Yt(Y8,e,!0,t)},{keyCode:it.HOME,action:Yt(Y8,e,!1,t)}],o).each(a=>{o.preventDefault()})},Ej=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||Sj(e,t,o)})},Tj=e=>{e.on("input",t=>{t.isComposing||u3(e)})},Aj=_n(),Oj=(e,t,o)=>{lE([{keyCode:it.PAGE_UP,action:Yt(Y8,e,!1,t)},{keyCode:it.PAGE_DOWN,action:Yt(Y8,e,!0,t)}],o)},d9=e=>e.stopImmediatePropagation(),u9=e=>e.keyCode===it.PAGE_UP||e.keyCode===it.PAGE_DOWN,m9=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",d9,!0):!o&&e.get()&&t.off("NodeChange",d9),e.set(o)},Dj=(e,t)=>{if(Aj.os.isMacOS())return;const o=Bn(!1);e.on("keydown",s=>{u9(s)&&m9(o,e,!0)}),e.on("keyup",s=>{s.isDefaultPrevented()||Oj(e,t,s),u9(s)&&o.get()&&(m9(o,e,!1),e.nodeChanged())})},f9=(e,t)=>e===t||e.contains(t),Nj=(e,t)=>!f9(e.getBody(),t.startContainer)||!f9(e.getBody(),t.endContainer)?!0:PT(e.dom,t),Rj=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||Sn(t.getTargetRanges(),o=>!Nj(e,o)))&&t.preventDefault()})},g9=(e,t)=>{const o=t.container(),s=t.offset();return je(o)?(o.insertData(s,e),P.some(Ae(o,s+e.length))):Ex(t).map(a=>{const c=Z.fromText(e);return t.isAtEnd()?Ni(a,c):tr(a,c),Ae(c.dom,e.length)})},p9=bt(g9,Fs),h9=bt(g9," "),Mj=(e,t,o)=>a3(e,t,o)?p9(t):h9(t),Bj=e=>t=>t.fold(o=>$i(e.dom,Ae.before(o)),o=>Fa(o),o=>Lo(o),o=>Ia(e.dom,Ae.after(o))),Pj=(e,t,o)=>s=>a3(e,s,o)?p9(t):h9(t),b9=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},Lj=(e,t)=>e.isEditable(e.getParent(t,"summary")),Ij=e=>{const t=Ae.fromRangeStart(e.selection.getRng()),o=Z.fromDom(e.getBody());if(e.selection.isCollapsed()){const s=bt(Du,e),a=Ae.fromRangeStart(e.selection.getRng());return Wg(s,e.getBody(),a).bind(Bj(o)).map(c=>()=>Pj(o,t,e.schema)(c).each(b9(e)))}else return P.none()},Fj=e=>{const t=()=>{const o=Z.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const s=Ae.fromRangeStart(e.selection.getRng());Mj(o,s,e.schema).each(b9(e))};return at(Vo.browser.isFirefox()&&e.selection.isEditable()&&Lj(e.dom,e.selection.getRng().startContainer),t)},zj=(e,t)=>{$F([{keyCode:it.SPACEBAR,action:Yt(Ij,e)},{keyCode:it.SPACEBAR,action:Yt(Fj,e)}],t).each(o=>{t.preventDefault(),sD(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),dE(e,"insertText",{data:" "}))})},Hj=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||zj(e,t)})},$j=e=>S5(e)?[{keyCode:it.TAB,action:Yt(mz,e,!0)},{keyCode:it.TAB,shiftKey:!0,action:Yt(mz,e,!1)}]:[],Vj=(e,t)=>{lE([...$j(e)],t).each(o=>{t.preventDefault()})},Uj=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||Vj(e,t)})},Zj=e=>{if(e.addShortcut("Meta+P","","mcePrint"),xW(e),Ld(e))return Bn(null);{const t=iV(e);return Rj(e),aU(e),kZ(e,t),BW(e,t),kj(e),Hj(e),Tj(e),Uj(e),Ej(e,t),Dj(e,t),t}},Wj=(e,t)=>{const o=Lv(e);o===null||Nw(e,o)||e.undoManager.transact(()=>{ae(t.styles)&&e.dom.setStyles(o,t.styles),ae(t.attrs)&&Mo(t.attrs,(s,a)=>e.dom.setAttrib(o,a,s))})},$L=(e,t)=>()=>{const o=Lv(e);return Ee(o)&&o.nodeName===t},jj=e=>{e.addCommand("InsertUnorderedList",(t,o)=>{k(e,"UL",o)}),e.addCommand("InsertOrderedList",(t,o)=>{k(e,"OL",o)}),e.addCommand("InsertDefinitionList",(t,o)=>{k(e,"DL",o)}),e.addCommand("RemoveList",()=>{jh(e)}),e.addCommand("mceListUpdate",(t,o)=>{ae(o)&&Wj(e,o)}),e.addCommand("mceListBackspaceDelete",(t,o)=>{we(e,o)}),e.addQueryStateHandler("InsertUnorderedList",$L(e,"UL")),e.addQueryStateHandler("InsertOrderedList",$L(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",$L(e,"DL"))},qj=e=>{e.on("keydown",t=>{t.keyCode===it.BACKSPACE?we(e,!1)&&t.preventDefault():t.keyCode===it.DELETE&&we(e,!0)&&t.preventDefault()})},x9=e=>e.type===3,v9=e=>e.length===0,Gj=e=>{const t=(a,c)=>{const d=ca.create("li");Te(a,g=>d.append(g)),c?e.insert(d,c,!0):e.append(d)},o=(a,c)=>x9(c)?[...a,c]:!v9(a)&&!x9(c)?(t(a,c),[]):a,s=Go(e.children(),o,[]);v9(s)||t(s)},Kj=e=>{e.on("PreInit",()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",o=>Te(o,Gj))})},Yj=e=>{e.on("keydown",t=>{t.keyCode!==it.TAB||it.metaKeyPressed(t)||e.undoManager.transact(()=>{(t.shiftKey?Bw(e):GS(e))&&t.preventDefault()})})},Xj=e=>{lh(e)&&Yj(e)},Jj=e=>{qj(e),jj(e),Kj(e),Xj(e)};class Qj{constructor(t){this.lastPath=[],this.editor=t;let o;const s=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",a=>{const c=t.selection.getRng(),d={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};(a.type==="nodechange"||!yl(d,o))&&t.dispatch("SelectionChange"),o=d}),t.on("contextmenu",()=>{Ss(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const a=t.selection.getStart(!0);a&&Bx(t)&&!s.isSameElementPath(a)&&t.dom.isChildOf(a,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",a=>{!a.isDefaultPrevented()&&Bx(t)&&(t.selection.getNode().nodeName==="IMG"?ql.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const o=this.editor,s=o.selection;let a;if(o.initialized&&s&&!zC(o)&&!Cx(o)){const c=o.getBody();a=s.getStart(!0)||c,(a.ownerDocument!==o.getDoc()||!o.dom.isChildOf(a,c))&&(a=c);const d=[];o.dom.getParent(a,g=>g===c?!0:(d.push(g),!1)),o.dispatch("NodeChange",{...t,element:a,parents:d})}}isSameElementPath(t){let o;const s=this.editor,a=Si(s.dom.getParents(t,qo,s.getBody()));if(a.length===this.lastPath.length){for(o=a.length;o>=0&&a[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=a,!0}return this.lastPath=a,!1}}const y9="x-tinymce/html",dD=Ge(y9),VL="<!-- "+y9+" -->",eq=e=>VL+e,tq=e=>e.replace(VL,""),_9=e=>e.indexOf(VL)!==-1,oq=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),nq=(e,t)=>{let o="<"+e;const s=$a(t,(a,c)=>c+'="'+md.encodeAllRaw(a)+'"');return s.length&&(o+=" "+s.join(" ")),o+">"},sq=(e,t,o)=>{const s=e.split(/\n\n/),a=nq(t,o),c="</"+t+">",d=go(s,b=>b.split(/\n/).join("<br />")),g=b=>a+b+c;return d.length===1?d[0]:go(d,g).join("")},w9="%MCEPASTEBIN%",rq=(e,t)=>{const{dom:o,selection:s}=e,a=e.getBody();t.set(s.getRng());const c=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},w9);Vo.browser.isFirefox()&&o.setStyle(c,"left",o.getStyle(a,"direction",!0)==="rtl"?65535:-65535),o.bind(c,"beforedeactivate focusin focusout",d=>{d.stopPropagation()}),c.focus(),s.select(c,!0)},aq=(e,t)=>{const o=e.dom;if(UL(e)){let s;const a=t.get();for(;s=UL(e);)o.remove(s),o.unbind(s);a&&e.selection.setRng(a)}t.set(null)},UL=e=>e.dom.get("mcepastebin"),iq=e=>Ee(e)&&e.id==="mcepastebin",lq=e=>{const t=e.dom,o=(d,g)=>{d.appendChild(g),t.remove(g,!0)},[s,...a]=Pt(e.getBody().childNodes,iq);Te(a,d=>{o(s,d)});const c=t.select("div[id=mcepastebin]",s);for(let d=c.length-1;d>=0;d--){const g=t.create("div");s.insertBefore(g,c[d]),o(g,c[d])}return s?s.innerHTML:""},C9=e=>e===w9,cq=e=>{const t=Bn(null);return{create:()=>rq(e,t),remove:()=>aq(e,t),getEl:()=>UL(e),getHtml:()=>lq(e),getLastRng:t.get}},k9=(e,t)=>($e.each(t,o=>{No(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),dq=e=>{const t=no(),o=Nu({},t);let s="";const a=t.getVoidElements(),c=$e.makeMap("script noscript style textarea video audio iframe object"," "),d=t.getBlockElements(),g=b=>{const _=b.name,T=b;if(_==="br"){s+=`
`;return}if(_!=="wbr"){if(a[_]&&(s+=" "),c[_]){s+=" ";return}if(b.type===3&&(s+=b.value),!(b.name in t.getVoidElements())){let N=b.firstChild;if(N)do g(N);while(N=N.next)}d[_]&&T.next&&(s+=`
`,_==="p"&&(s+=`
`))}};return e=k9(e,[/<!\[[^\]]+\]>/g]),g(o.parse(e)),s},S9=e=>(e=k9(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,s,a)=>!s&&!a?" ":Fs],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),uq=e=>{let t=0;return()=>e+t++},mq=e=>{const t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return $e.hasOwn(o,t)?"image/"+o[t]:"image/"+t},fq=(e,t)=>{const o=Nu({sanitize:Sd(e),sandbox_iframes:wx(e),sandbox_iframes_exclusions:jC(e),convert_unsafe_embeds:E5(e)},e.schema);o.addNodeFilter("meta",a=>{$e.each(a,c=>{c.remove()})});const s=o.parse(t,{forced_root_block:!1,isRootContent:!0});return fg({validate:!0},e.schema).serialize(s)},E9=(e,t)=>({content:e,cancelled:t}),gq=(e,t,o)=>{const s=e.dom.create("div",{style:"display:none"},t),a=pN(e,s,o);return E9(a.node.innerHTML,a.isDefaultPrevented())},pq=(e,t,o)=>{const s=WE(e,t,o),a=fq(e,s.content);return e.hasEventListeners("PastePostProcess")&&!s.isDefaultPrevented()?gq(e,a,o):E9(a,s.isDefaultPrevented())},hq=(e,t,o)=>pq(e,t,o),ZL=(e,t)=>(e.insertContent(t,{merge:b5(e),paste:!0}),!0),WL=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),bq=(e,t)=>WL(t)&&Sn(k5(e),o=>pf(t.toLowerCase(),`.${o.toLowerCase()}`)),xq=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),vq=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),yq=(e,t,o)=>!e.selection.isCollapsed()&&WL(t)?vq(e,t,o):!1,_q=(e,t,o)=>bq(e,t)?xq(e,t,o):!1,wq=(e,t)=>{$e.each([yq,_q,ZL],o=>!o(e,t,ZL))},Cq=(e,t,o)=>{o||!IN(e)?ZL(e,t):wq(e,t)},kq=uq("mceclip"),Sq=e=>{const t=SL();return nz(t,e),kL(t),t},T9=(e,t,o,s,a)=>{const c=hq(e,t,o);if(!c.cancelled){const d=c.content,g=()=>Cq(e,d,s);a?sD(e,"insertFromPaste",{dataTransfer:Sq(d)}).isDefaultPrevented()||(g(),dE(e,"insertFromPaste")):g()}},uD=(e,t,o,s)=>{const a=o||_9(t);T9(e,tq(t),a,!1,s)},jL=(e,t,o)=>{const s=e.dom.encode(t).replace(/\r\n/g,`
`),a=Ib(s,x5(e)),c=sq(a,qr(e),zm(e));T9(e,c,!1,!0,o)},A9=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const s=e.types[o];try{t[s]=e.getData(s)}catch{t[s]=""}}return t},ib=(e,t)=>t in e&&e[t].length>0,O9=e=>ib(e,"text/html")||ib(e,"text/plain"),Eq=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ee(o)?e.dom.encode(o[1]):void 0},Tq=(e,t,o,s)=>{const a=kq(),c=t5(e)&&Ee(o.name),d=c?Eq(e,o.name):a,g=c?o.name:void 0,b=t.create(a,o,s,d,g);return t.add(b),b},Aq=(e,t)=>{q3(t.uri).each(({data:o,type:s,base64Encoded:a})=>{const c=a?o:btoa(o),d=t.file,g=e.editorUpload.blobCache,b=g.getByData(c,s),_=b??Tq(e,g,d,c);uD(e,`<img src="${_.blobUri()}">`,!1,!0)})},Oq=e=>e.type==="paste",Dq=e=>Promise.all(go(e,t=>T_(t).then(o=>({file:t,uri:o})))),Nq=e=>{const t=k5(e);return o=>lo(o.type,"image/")&&Sn(t,s=>mq(s)===o.type)},Rq=(e,t)=>{const o=t.items?_r(mt(t.items),a=>a.kind==="file"?[a.getAsFile()]:[]):[],s=t.files?mt(t.files):[];return Pt(o.length>0?o:s,Nq(e))},D9=(e,t,o)=>{const s=Oq(t)?t.clipboardData:t.dataTransfer;if(_x(e)&&s){const a=Rq(e,s);if(a.length>0)return t.preventDefault(),Dq(a).then(c=>{o&&e.selection.setRng(o),Te(c,d=>{Aq(e,d)})}),!0}return!1},Mq=e=>{var t,o;return Vo.os.isAndroid()&&((o=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||o===void 0?void 0:o.length)===0},Bq=e=>it.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,qL=(e,t,o,s,a)=>{let c=S9(o);const d=ib(t,dD())||_9(o),g=!d&&oq(c),b=WL(c);(C9(c)||!c.length||g&&!b)&&(s=!0),(s||b)&&(ib(t,"text/plain")&&g?c=t["text/plain"]:c=dq(c)),!C9(c)&&(s?jL(e,c,a):uD(e,c,d,a))},Pq=(e,t,o)=>{let s;const a=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",c=>{Bq(c)&&!c.isDefaultPrevented()&&(s=c.shiftKey&&c.keyCode===86)}),e.on("paste",c=>{if(c.isDefaultPrevented()||Mq(c))return;const d=o.get()==="text"||s;s=!1;const g=A9(c.clipboardData);!O9(g)&&D9(e,c,a())||(ib(g,"text/html")?(c.preventDefault(),qL(e,g,g["text/html"],d,!0)):ib(g,"text/plain")&&ib(g,"text/uri-list")?(c.preventDefault(),qL(e,g,g["text/plain"],d,!0)):(t.create(),ql.setEditorTimeout(e,()=>{const b=t.getHtml();t.remove(),qL(e,g,b,d,!1)},0)))})},Lq=e=>{const t=a=>lo(a,"webkit-fake-url"),o=a=>lo(a,"data:"),s=a=>{var c;return((c=a.data)===null||c===void 0?void 0:c.paste)===!0};e.parser.addNodeFilter("img",(a,c,d)=>{if(!_x(e)&&s(d))for(const g of a){const b=g.attr("src");Je(b)&&!g.attr("data-mce-object")&&b!==Vo.transparentSrc&&(t(b)||!v5(e)&&o(b))&&g.remove()}})},Iq=(e,t,o)=>{Pq(e,t,o),Lq(e)},Fq=(e,t)=>{t.get()==="text"?(t.set("html"),jE(e,!1)):(t.set("text"),jE(e,!0)),e.focus()},zq=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Fq(e,t)}),e.addCommand("mceInsertClipboardContent",(o,s)=>{s.html&&uD(e,s.html,s.internal,!1),s.text&&jL(e,s.text,!1)})},Hq=(e,t,o)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(dD(),t),!0}catch{return!1}else return!1},N9=(e,t,o,s)=>{Hq(e.clipboardData,t.html,t.text)?(e.preventDefault(),s()):o(t.html,s)},R9=e=>(t,o)=>{const{dom:s,selection:a}=e,c=s.create("div",{contenteditable:"false","data-mce-bogus":"all"}),d=s.create("div",{contenteditable:"true"},t);s.setStyles(c,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),c.appendChild(d),s.add(e.getBody(),c);const g=a.getRng();d.focus();const b=s.createRng();b.selectNodeContents(d),a.setRng(b),ql.setEditorTimeout(e,()=>{a.setRng(g),s.remove(c),o()},0)},M9=e=>({html:eq(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),$q=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),B9=e=>!e.selection.isCollapsed()||$q(e),Vq=(e,t)=>o=>{!o.isDefaultPrevented()&&B9(e)&&e.selection.isEditable()&&N9(o,M9(e),R9(e),()=>{if(Vo.browser.isChromium()||Vo.browser.isFirefox()){const s=e.selection.getRng();ql.setEditorTimeout(e,()=>{e.selection.setRng(s),bL(e,t)},0)}else bL(e,t)})},Uq=e=>t=>{!t.isDefaultPrevented()&&B9(e)&&N9(t,M9(e),R9(e),fo)},Zq=(e,t)=>{e.on("cut",Vq(e,t)),e.on("copy",Uq(e))},P9=(e,t)=>{var o,s;return Mc.getCaretRangeFromPoint((o=t.clientX)!==null&&o!==void 0?o:0,(s=t.clientY)!==null&&s!==void 0?s:0,e.getDoc())},Wq=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},L9=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},jq=e=>Sn(e.files,t=>/^image\//.test(t.type)),qq=(e,t,o,s)=>{const a=e.getParent(o,d=>_c(t,d));if(!eo(e.getParent(o,"summary")))return!0;if(a&&Xt(s,"text/html")){const d=new DOMParser().parseFromString(s["text/html"],"text/html").body;return!eo(d.querySelector(a.nodeName.toLowerCase()))}else return!1},Gq=e=>{e.on("input",t=>{const o=s=>eo(s.querySelector("summary"));if(t.inputType==="deleteByDrag"){const s=Pt(e.dom.select("details"),o);Te(s,a=>{Zn(a.firstChild)&&a.firstChild.remove();const c=e.dom.create("summary");c.appendChild(Bm().dom),a.prepend(c)})}})},Kq=(e,t)=>{h5(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),_x(e)||e.on("drop",o=>{const s=o.dataTransfer;s&&jq(s)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const s=P9(e,o);if(zo(s))return;const a=A9(o.dataTransfer),c=ib(a,dD());if((!O9(a)||Wq(a))&&D9(e,o,s))return;const d=a[dD()],g=d||a["text/html"]||a["text/plain"],b=qq(e.dom,e.schema,s.startContainer,a),_=t.get();_&&!b||g&&(o.preventDefault(),ql.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(d||_&&b)&&e.execCommand("Delete"),L9(e,s);const T=S9(g);a["text/html"]?uD(e,T,c,!0):jL(e,T,!0)})}))}),e.on("dragstart",o=>{t.set(!0)}),e.on("dragover dragend",o=>{_x(e)&&!t.get()&&(o.preventDefault(),L9(e,P9(e,o))),o.type==="dragend"&&t.set(!1)}),Gq(e)},Yq=e=>{const t=a=>c=>{a(e,c)},o=VC(e);Ut(o)&&e.on("PastePreProcess",t(o));const s=BN(e);Ut(s)&&e.on("PastePostProcess",t(s))},Xq=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})},Jq=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,I9=e=>$e.trim(e).replace(Jq,Cc).toLowerCase(),Qq=(e,t,o)=>{const s=LN(e);if(o||s==="all"||!UC(e))return t;const a=s?s.split(/[, ]/):[];if(a&&s!=="none"){const c=e.dom,d=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(g,b,_,T)=>{const N=c.parseStyle(c.decode(_)),R={};for(let Y=0;Y<a.length;Y++){const G=N[a[Y]];let W=G,ce=c.getStyle(d,a[Y],!0);/color/.test(a[Y])&&(W=I9(W),ce=I9(ce)),ce!==W&&(R[a[Y]]=G)}const I=c.serializeStyle(R,"span");return I?b+' style="'+I+'"'+T:b+T})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(c,d,g,b)=>d+' style="'+g+'"'+b),t},eG=e=>{(Vo.browser.isChromium()||Vo.browser.isSafari())&&Xq(e,Qq)},tG=(e,t)=>{const o=Bn(!1),s=Bn(FN(e)?"text":"html"),a=cq(e);eG(e),zq(e,s),Yq(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>s.get()==="text"),e.on("PreInit",()=>{Zq(e,t),Kq(e,o),Iq(e,a,s)})},oG=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},nG=e=>{e.parser.addNodeFilter("details",t=>{const o=ZN(e);Te(t,s=>{o==="expanded"?s.attr("open","open"):o==="collapsed"&&s.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const o=WN(e);Te(t,s=>{o==="expanded"?s.attr("open","open"):o==="collapsed"&&s.attr("open",null)})})},sG=e=>{oG(e),nG(e)},rG=Zn,F9=je,aG=e=>xn(e.dom),iG=e=>Ma(e.dom),z9=e=>t=>Lt(Z.fromDom(e),t),lG=(e,t,o)=>ta(Z.fromDom(e),s=>iG(s)||o.isBlock(Gt(s)),z9(t)).getOr(Z.fromDom(t)).dom,H9=(e,t)=>ta(Z.fromDom(e),aG,z9(t)),$9=(e,t,o)=>{const s=new zn(e,t),a=o?s.next.bind(s):s.prev.bind(s);let c=e;for(let d=o?e:a();d&&!rG(d);d=a())kt(d)&&(c=d);return c},cG=(e,t,o)=>{const a=Ae.fromRangeStart(e).getNode(),c=lG(a,t,o),d=$9(a,c,!1),g=$9(a,c,!0),b=document.createRange();return H9(d,c).fold(()=>{F9(d)?b.setStart(d,0):b.setStartBefore(d)},_=>b.setStartBefore(_.dom)),H9(g,c).fold(()=>{F9(g)?b.setEnd(g,g.data.length):b.setEndAfter(g)},_=>b.setEndAfter(_.dom)),b},dG=e=>{const t=cG(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(E_(t))},uG=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),dG(e))})};var Gw;(function(e){e.Before="before",e.After="after"})(Gw||(Gw={}));const mG=(e,t)=>Math.abs(e.left-t),fG=(e,t)=>Math.abs(e.right-t),gG=(e,t)=>e>=t.top&&e<=t.bottom,pG=(e,t)=>e.top<t.bottom&&e.bottom>t.top,hG=(e,t)=>{const o=q(e,t)/Math.min(e.height,t.height);return pG(e,t)&&o>.5},bG=(e,t)=>{const o=Pt(e,s=>gG(t,s));return L(o).fold(()=>[[],e],s=>{const{pass:a,fail:c}=Lr(e,d=>hG(d,s));return[a,c]})},xG=(e,t)=>({node:e.node,position:mG(e,t)<fG(e,t)?Gw.Before:Gw.After}),vG=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),GL=(e,t,o,s)=>{const a=N=>kt(N.node)?P.some(N):ft(N.node)?GL(mt(N.node.childNodes),t,o,!1):P.none(),c=(N,R,I)=>a(R).filter(Y=>Math.abs(I(N,t,o)-I(Y,t,o))<2&&je(Y.node)),d=(N,R)=>{const I=Dt(N,(Y,G)=>R(Y,t,o)-R(G,t,o));return Zc(I,a).map(Y=>s&&!je(Y.node)&&I.length>1?c(Y,I[1],R).getOr(Y):Y)},[g,b]=bG(tF(e),o),{pass:_,fail:T}=Lr(b,N=>N.top<o);return d(g,vG).orThunk(()=>d(T,F)).orThunk(()=>d(_,F))},yG=(e,t,o,s)=>{const a=(c,d)=>{const g=_=>ft(_)&&_.classList.contains("mce-drag-container"),b=Pt(c.dom.childNodes,Ke(g));return d.fold(()=>GL(b,o,s,!0),_=>{const T=Pt(b,N=>N!==_.dom);return GL(T,o,s,!0)}).orThunk(()=>(Lt(c,e)?P.none():rm(c)).bind(T=>a(T,P.some(c))))};return a(t,P.none())},_G=(e,t,o)=>{const s=Z.fromDom(e),a=fc(s),d=Z.fromPoint(a,t,o).filter(g=>Qr(s,g)).getOr(s);return yG(s,d,t,o)},V9=(e,t,o)=>_G(e,t,o).filter(s=>m0(s.node)).map(s=>xG(s,t)),U9=e=>{var t,o;const s=e.getBoundingClientRect(),a=e.ownerDocument,c=a.documentElement,d=a.defaultView;return{top:s.top+((t=d?.scrollY)!==null&&t!==void 0?t:0)-c.clientTop,left:s.left+((o=d?.scrollX)!==null&&o!==void 0?o:0)-c.clientLeft}},wG=e=>e.inline?U9(e.getBody()):{left:0,top:0},CG=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},kG=e=>{const t=e.getBody(),o=e.getDoc().documentElement,s={left:t.scrollLeft,top:t.scrollTop},a={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?s:a},SG=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=U9(e.getContentAreaContainer()),s=kG(e);return{left:t.pageX-o.left+s.left,top:t.pageY-o.top+s.top}}return{left:t.pageX,top:t.pageY}},EG=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top}),TG=(e,t)=>EG(wG(e),CG(e),SG(e,t)),Z9=e=>({target:e,srcElement:e}),AG=(e,t,o,s)=>({...t,dataTransfer:s,type:e,...Z9(o)}),OG=(e,t,o)=>{const s=vt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:s,initEvent:s,preventDefault:fo,stopImmediatePropagation:fo,stopPropagation:fo,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:s,initMouseEvent:s,getModifierState:s,dataTransfer:o,...Z9(t)}},DG=(e,t)=>{const o=GU(e);return t==="dragstart"?(JF(o),ez(o)):t==="drop"?(zU(o),kL(o)):(HU(o),ZU(o)),o},NG=(e,t,o,s)=>{const a=DG(o,e);return Cs(s)?OG(e,t,a):AG(e,s,t,a)},mD=32,RG=100,fD=8,gD=16,W9=xn,MG=me(W9,Ma),BG=(e,t,o)=>W9(o)&&o!==t&&e.isEditable(o.parentElement),PG=(e,t,o)=>zo(t)||t===o||e.dom.isChildOf(t,o)?!1:e.dom.isEditable(t),LG=(e,t,o,s)=>{const a=e.dom,c=t.cloneNode(!0);a.setStyles(c,{width:o,height:s}),a.setAttrib(c,"data-mce-selected",null);const d=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(d,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:s}),a.setStyles(c,{margin:0,boxSizing:"border-box"}),d.appendChild(c),d},IG=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},pD=(e,t)=>o=>()=>{const s=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:s+t,behavior:"smooth"})},j9=pD("left",-mD),q9=pD("left",mD),G9=pD("top",-mD),K9=pD("top",mD),FG=(e,t,o,s,a,c,d,g,b,_,T,N)=>{let R=0,I=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>a&&(R=t.pageX+o-a),t.pageY+s>c&&(I=t.pageY+s-c),e.style.width=o-R+"px",e.style.height=s-I+"px";const Y=b.clientHeight,G=b.clientWidth,W=d+b.getBoundingClientRect().top,ce=g+b.getBoundingClientRect().left;T.on(le=>{le.intervalId.clear(),le.dragging&&N&&(d+fD>=Y?le.intervalId.set(K9(_)):d-fD<=0?le.intervalId.set(G9(_)):g+fD>=G?le.intervalId.set(q9(_)):g-fD<=0?le.intervalId.set(j9(_)):W+gD>=window.innerHeight?le.intervalId.set(K9(window)):W-gD<=0?le.intervalId.set(G9(window)):ce+gD>=window.innerWidth?le.intervalId.set(q9(window)):ce-gD<=0&&le.intervalId.set(j9(window)))})},Y9=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},zG=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);Y9(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&vd(Z.fromDom(o))},HG=e=>e.button===0,$G=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),VG=(e,t)=>o=>{if(HG(o)){const s=Ko(t.dom.getParents(o.target),MG).getOr(null);if(Ee(s)&&BG(t.dom,t.getBody(),s)){const a=t.dom.getPos(s),c=t.getBody(),d=t.getDoc().documentElement;e.set({element:s,dataTransfer:SL(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?c.scrollWidth:d.offsetWidth)-2,maxY:(t.inline?c.scrollHeight:d.offsetHeight)-2,relX:o.pageX-a.x,relY:o.pageY-a.y,width:s.offsetWidth,height:s.offsetHeight,ghost:LG(t,s,s.offsetWidth,s.offsetHeight),intervalId:l2(RG)})}}},UG=(e,t,o)=>{e._selectionOverrides.hideFakeCaret(),V9(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),s=>{const a=e._selectionOverrides.showCaret(1,s.node,s.position===Gw.Before,!1);a?e.selection.setRng(a):e.selection.placeCaretAt(t,o)})},gE=(e,t,o,s,a)=>{t==="dragstart"&&nz(s,e.dom.getOuterHTML(o));const c=NG(t,o,s,a);return e.dispatch(t,c)},ZG=(e,t)=>{const o=op((a,c)=>UG(t,a,c),0);t.on("remove",o.cancel);const s=e;return a=>e.on(c=>{const d=Math.max(Math.abs(a.screenX-c.screenX),Math.abs(a.screenY-c.screenY));if(!c.dragging&&d>10){const g=gE(t,"dragstart",c.element,c.dataTransfer,a);if(Ee(g.dataTransfer)&&(c.dataTransfer=g.dataTransfer),g.isDefaultPrevented())return;c.dragging=!0,t.focus()}if(c.dragging){const g=a.currentTarget===t.getDoc().documentElement,b=$G(c,TG(t,a));IG(c.ghost,t.getBody()),FG(c.ghost,b,c.width,c.height,c.maxX,c.maxY,a.clientY,a.clientX,t.getContentAreaContainer(),t.getWin(),s,g),o.throttle(a.clientX,a.clientY)}})},WG=e=>{const t=e.getSel();if(Ee(t)){const s=t.getRangeAt(0).startContainer;return je(s)?s.parentNode:s}else return null},jG=(e,t)=>o=>{e.on(s=>{var a;if(s.intervalId.clear(),s.dragging){if(PG(t,WG(t.selection),s.element)){const c=(a=t.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&a!==void 0?a:t.getBody();gE(t,"drop",c,s.dataTransfer,o).isDefaultPrevented()||t.undoManager.transact(()=>{zG(t.dom,s.element),KU(s.dataTransfer).each(g=>t.insertContent(g)),t._selectionOverrides.hideFakeCaret()})}gE(t,"dragend",t.getBody(),s.dataTransfer,o)}}),J9(e)},X9=(e,t,o)=>{e.on(s=>{s.intervalId.clear(),s.dragging&&o.fold(()=>gE(t,"dragend",s.element,s.dataTransfer),a=>gE(t,"dragend",s.element,s.dataTransfer,a))}),J9(e)},qG=(e,t)=>o=>X9(e,t,P.some(o)),J9=e=>{e.on(t=>{t.intervalId.clear(),Y9(t.ghost)}),e.clear()},GG=e=>{const t=ac(),o=ko.DOM,s=document,a=VG(t,e),c=ZG(t,e),d=jG(t,e),g=qG(t,e);e.on("mousedown",a),e.on("mousemove",c),e.on("mouseup",d),o.bind(s,"mousemove",c),o.bind(s,"mouseup",g),e.on("remove",()=>{o.unbind(s,"mousemove",c),o.unbind(s,"mouseup",g)}),e.on("keydown",b=>{b.keyCode===it.ESC&&X9(t,e,P.none())})},KG=e=>{const t=a=>{if(!a.isDefaultPrevented()){const c=a.dataTransfer;c&&(wo(c.types,"Files")||c.files.length>0)&&(a.preventDefault(),a.type==="drop"&&Dv(e,"Dropped file type is not supported"))}},o=a=>{_h(e,a.target)&&t(a)},s=()=>{const a=ko.DOM,c=e.dom,d=document,g=e.inline?e.getBody():e.getDoc(),b=["drop","dragover"];Te(b,_=>{a.bind(d,_,o),c.bind(g,_,t)}),e.on("remove",()=>{Te(b,_=>{a.unbind(d,_,o),c.unbind(g,_,t)})})};e.on("init",()=>{ql.setEditorTimeout(e,s,0)})},YG=e=>{GG(e),d5(e)&&KG(e)},XG=e=>{const t=op(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const s=Fw(e,o,!1);e.selection.setRng(s)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},JG=e=>{e.on("init",()=>{e.on("focusin",t=>{const o=t.target;if(Xn(o)){const s=Nd(e.getBody(),o),a=xn(s)?s:o;e.selection.getNode()!==a&&wi(e,a).each(c=>e.selection.setRng(c))}})})},pE=xn,Q9=(e,t)=>Nd(e.getBody(),t),QG=e=>{const t=e.selection,o=e.dom,s=e.getBody(),a=gy(e,s,o.isBlock,()=>wh(e)),c="sel-"+o.uniqueId(),d="data-mce-selected";let g;const b=We=>Ee(We)&&o.hasClass(We,"mce-offscreen-selection"),_=We=>We!==s&&(pE(We)||Xn(We))&&o.isChildOf(We,s)&&o.isEditable(We.parentNode),T=We=>{We&&t.setRng(We)},N=(We,De,Se,Ie=!0)=>e.dispatch("ShowCaret",{target:De,direction:We,before:Se}).isDefaultPrevented()?null:(Ie&&t.scrollIntoView(De,We===-1),a.show(Se,De)),R=We=>{We.hasAttribute("data-mce-caret")&&(tg(We),t.scrollIntoView(We))},I=()=>{e.on("click",De=>{o.isEditable(De.target)||(De.preventDefault(),e.focus())}),e.on("blur NewBlock",ve),e.on("ResizeWindow FullscreenStateChanged",a.reposition),e.on("tap",De=>{const Se=De.target,Ie=Q9(e,Se);pE(Ie)?(De.preventDefault(),wi(e,Ie).each(fe)):_(Se)&&wi(e,Se).each(fe)},!0),e.on("mousedown",De=>{const Se=De.target;if(Se!==s&&Se.nodeName!=="HTML"&&!o.isChildOf(Se,s)||!xP(e,De.clientX,De.clientY))return;ve(),tt();const Ie=Q9(e,Se);pE(Ie)?(De.preventDefault(),wi(e,Ie).each(fe)):V9(s,De.clientX,De.clientY).each(gt=>{De.preventDefault();const Mt=N(1,gt.node,gt.position===Gw.Before,!1);T(Mt),Ka(Ie)?Ie.focus():e.getBody().focus()})}),e.on("keypress",De=>{it.modifierPressed(De)||pE(t.getNode())&&De.preventDefault()}),e.on("GetSelectionRange",De=>{let Se=De.range;if(g){if(!g.parentNode){g=null;return}Se=Se.cloneRange(),Se.selectNode(g),De.range=Se}}),e.on("focusin",De=>{if(e.selection.isCollapsed()&&!Xn(De.target)&&e.getBody().contains(De.target)&&De.target!==e.getBody()&&!e.dom.isEditable(De.target.parentNode)){a.isShowing()&&a.hide(),De.target.contains(e.selection.getNode())||(e.selection.select(De.target,!0),e.selection.collapse(!0));const Se=fe(e.selection.getRng(),!0);Se&&e.selection.setRng(Se)}}),e.on("SetSelectionRange",De=>{De.range=W(De.range);const Se=fe(De.range,De.forward);Se&&(De.range=Se)});const We=De=>ft(De)&&De.id==="mcepastebin";e.on("AfterSetSelectionRange",De=>{const Se=De.range,Ie=Se.startContainer.parentElement;!G(Se)&&!We(Ie)&&tt(),b(Ie)||ve()}),YG(e),XG(e),JG(e)},Y=We=>Hi(We)||Qf(We)||eg(We),G=We=>Y(We.startContainer)||Y(We.endContainer),W=We=>{const De=e.schema.getVoidElements(),Se=o.createRng(),Ie=We.startContainer,gt=We.startOffset,Mt=We.endContainer,oo=We.endOffset;return Xt(De,Ie.nodeName.toLowerCase())?gt===0?Se.setStartBefore(Ie):Se.setStartAfter(Ie):Se.setStart(Ie,gt),Xt(De,Mt.nodeName.toLowerCase())?oo===0?Se.setEndBefore(Mt):Se.setEndAfter(Mt):Se.setEnd(Mt,oo),Se},ce=(We,De)=>{const Se=Z.fromDom(e.getBody()),Ie=e.getDoc(),gt=is(Se,"#"+c).getOrThunk(()=>{const xo=Z.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Ie);return Zs(xo,"id",c),rn(Se,xo),xo}),Mt=o.createRng();ja(gt),ai(gt,[Z.fromText(Fs,Ie),Z.fromDom(De),Z.fromText(Fs,Ie)]),Mt.setStart(gt.dom.firstChild,1),Mt.setEnd(gt.dom.lastChild,0),dm(gt,{top:o.getPos(We,e.getBody()).y+"px"}),Er(gt);const oo=t.getSel();return oo&&(oo.removeAllRanges(),oo.addRange(Mt)),Mt},le=We=>{const De=We.cloneNode(!0),Se=e.dispatch("ObjectSelected",{target:We,targetClone:De});if(Se.isDefaultPrevented())return null;const Ie=ce(We,Se.targetClone),gt=Z.fromDom(We);return Te(In(Z.fromDom(e.getBody()),`*[${d}]`),Mt=>{Lt(gt,Mt)||ks(Mt,d)}),o.getAttrib(We,d)||We.setAttribute(d,"1"),g=We,tt(),Ie},fe=(We,De)=>{if(!We)return null;if(We.collapsed){if(!G(We)){const Mt=De?1:-1,oo=p0(Mt,s,We),xo=oo.getNode(!De);if(Ee(xo)){if(m0(xo))return N(Mt,xo,De?!oo.isAtEnd():!1,!1);if(yd(xo)&&xn(xo.nextSibling)){const Mn=o.createRng();return Mn.setStart(xo,0),Mn.setEnd(xo,0),Mn}}const hn=oo.getNode(De);if(Ee(hn)){if(m0(hn))return N(Mt,hn,De?!1:!oo.isAtEnd(),!1);if(yd(hn)&&xn(hn.previousSibling)){const Mn=o.createRng();return Mn.setStart(hn,1),Mn.setEnd(hn,1),Mn}}}return null}let Se=We.startContainer,Ie=We.startOffset;const gt=We.endOffset;if(je(Se)&&Ie===0&&pE(Se.parentNode)&&(Se=Se.parentNode,Ie=o.nodeIndex(Se),Se=Se.parentNode),!ft(Se))return null;if(gt===Ie+1&&Se===We.endContainer){const Mt=Se.childNodes[Ie];if(_(Mt))return le(Mt)}return null},ve=()=>{g&&g.removeAttribute(d),is(Z.fromDom(e.getBody()),"#"+c).each(Tn),g=null},Pe=()=>{a.destroy(),g=null},tt=()=>{a.hide()};return Ld(e)||I(),{showCaret:N,showBlockCaretContainer:R,hideFakeCaret:tt,destroy:Pe}},eK=(e,t)=>{let o=t;for(let s=e.previousSibling;je(s);s=s.previousSibling)o+=s.data.length;return o},eH=(e,t,o,s,a)=>{if(je(o)&&(s<0||s>o.data.length))return[];const c=a&&je(o)?[eK(o,s)]:[s];let d=o;for(;d!==t&&d.parentNode;)c.push(e.nodeIndex(d,a)),d=d.parentNode;return d===t?c.reverse():[]},KL=(e,t,o,s,a,c,d=!1)=>{const g=eH(e,t,o,s,d),b=eH(e,t,a,c,d);return{start:g,end:b}},tH=(e,t)=>{const o=t.slice(),s=o.pop();return E(s)?Go(o,(c,d)=>c.bind(g=>P.from(g.childNodes[d])),P.some(e)).bind(c=>je(c)&&(s<0||s>c.data.length)?P.none():P.some({node:c,offset:s})):P.none()},oH=(e,t)=>tH(e,t.start).bind(({node:o,offset:s})=>tH(e,t.end).map(({node:a,offset:c})=>{const d=document.createRange();return d.setStart(o,s),d.setEnd(a,c),d})),tK=(e,t,o,s=!1)=>KL(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,s),Kw=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const s=t.parentNode;e.remove(t,je(t.firstChild)&&gm(t.firstChild.data)),Kw(e,s,o)}},hD=(e,t,o,s=!0)=>{const a=t.startContainer.parentNode,c=t.endContainer.parentNode;t.deleteContents(),s&&!o(t.startContainer)&&(je(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),je(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),Kw(e,a,o),a!==c&&Kw(e,c,o))},bD=(e,t)=>P.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),YL=(e,t,o)=>{const s=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:IE(s).concat(e.blockPatterns),inlinePatterns:FE(s).concat(e.inlinePatterns)}},XL=(e,t,o,s)=>{const a=e.createRng();return a.setStart(t,0),a.setEnd(o,s),a.toString()},nH=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),xD=(e,t)=>{const o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},sH=(e,t,o)=>{const s=oH(e.getRoot(),o).getOrDie("Unable to resolve path range"),a=s.startContainer,c=s.endContainer,d=s.endOffset===0?c:c.splitText(s.endOffset),g=s.startOffset===0?a:a.splitText(s.startOffset),b=g.parentNode,_=d.parentNode;return{prefix:t,end:_.insertBefore(nH(e,t+"-end"),d),start:b.insertBefore(nH(e,t+"-start"),g)}},rH=(e,t,o)=>{Kw(e,e.get(t.prefix+"-end"),o),Kw(e,e.get(t.prefix+"-start"),o)},JL=e=>e.start.length===0,oK=e=>(t,o)=>{const a=t.data.substring(0,o),c=a.lastIndexOf(e.charAt(e.length-1)),d=a.lastIndexOf(e);return d!==-1?d+e.length:c!==-1?c+1:-1},aH=(e,t,o,s)=>{const a=t.start;return OL(e,s.container,s.offset,oK(a),o).bind(d=>{var g,b;const _=(b=(g=o.textContent)===null||g===void 0?void 0:g.indexOf(a))!==null&&b!==void 0?b:-1;if(_!==-1&&d.offset>=_+a.length){const N=e.createRng();return N.setStart(d.container,d.offset-a.length),N.setEnd(d.container,d.offset),P.some(N)}else{const N=d.offset-a.length;return AL(d.container,N,o).map(R=>{const I=e.createRng();return I.setStart(R.container,R.offset),I.setEnd(d.container,d.offset),I}).filter(R=>R.toString()===a).orThunk(()=>aH(e,t,o,sf(d.container,0)))}})},nK=(e,t,o,s,a,c=!1)=>{if(t.start.length===0&&!c){const d=e.createRng();return d.setStart(o,s),d.setEnd(o,s),P.some(d)}return TL(o,s,a).bind(d=>aH(e,t,a,d).bind(b=>{var _;if(c){if(b.endContainer===d.container&&b.endOffset===d.offset)return P.none();if(d.offset===0&&((_=b.endContainer.textContent)===null||_===void 0?void 0:_.length)===b.endOffset)return P.none()}return P.some(b)}))},sK=(e,t,o,s)=>{const a=e.dom,c=a.getRoot(),d=o.pattern,g=o.position.container,b=o.position.offset;return AL(g,b-o.pattern.end.length,t).bind(_=>{const T=KL(a,c,_.container,_.offset,g,b,s);if(JL(d))return P.some({matches:[{pattern:d,startRng:T,endRng:T}],position:_});{const N=vD(e,o.remainingPatterns,_.container,_.offset,t,s),R=N.getOr({matches:[],position:_}),I=R.position;return nK(a,d,I.container,I.offset,t,N.isNone()).map(G=>{const W=tK(a,c,G,s);return{matches:R.matches.concat([{pattern:d,startRng:W,endRng:T}]),position:sf(G.startContainer,G.startOffset)}})}})},vD=(e,t,o,s,a,c)=>{const d=e.dom;return TL(o,s,d.getRoot()).bind(g=>{const b=XL(d,a,o,s);for(let _=0;_<t.length;_++){const T=t[_];if(!pf(b,T.end))continue;const N=t.slice();N.splice(_,1);const R=sK(e,a,{pattern:T,remainingPatterns:N,position:g},c);if(R.isNone()&&s>0)return vD(e,t,o,s-1,a,c);if(R.isSome())return R}return P.none()})},iH=(e,t,o)=>{e.selection.setRng(o),t.type==="inline-format"?Te(t.format,s=>{e.formatter.apply(s)}):e.execCommand(t.cmd,!1,t.value)},rK=(e,t,o,s)=>{const a=xD(e.dom,o);hD(e.dom,a,s),iH(e,t,a)},aK=(e,t,o,s,a)=>{const c=e.dom,d=xD(c,s),g=xD(c,o);hD(c,g,a),hD(c,d,a);const b={prefix:o.prefix,start:o.end,end:s.start},_=xD(c,b);iH(e,t,_)},iK=(e,t)=>{const o=Qs("mce_textpattern"),s=wa(t,(a,c)=>{const d=sH(e,o+`_end${a.length}`,c.endRng);return a.concat([{...c,endMarker:d}])},[]);return wa(s,(a,c)=>{const d=s.length-a.length-1,g=JL(c.pattern)?c.endMarker:sH(e,o+`_start${d}`,c.startRng);return a.concat([{...c,startMarker:g}])},[])},lK=e=>Dt(e,(t,o)=>o.end.length-t.end.length),cK=(e,t)=>{const o=Tl(e,s=>Sn(t,a=>s.pattern.start===a.pattern.start&&s.pattern.end===a.pattern.end));return e.length===t.length?o?e:t:e.length>t.length?e:t},lH=(e,t,o,s,a,c)=>{const d=vD(e,a.inlinePatterns,o,s,t,c).fold(()=>[],b=>b.matches),g=vD(e,lK(a.inlinePatterns),o,s,t,c).fold(()=>[],b=>b.matches);return cK(d,g)},cH=(e,t)=>{if(t.length===0)return;const o=e.dom,s=e.selection.getBookmark(),a=iK(o,t);Te(a,c=>{const d=o.getParent(c.startMarker.start,o.isBlock),g=b=>b===d;JL(c.pattern)?rK(e,c.pattern,c.endMarker,g):aK(e,c.pattern,c.startMarker,c.endMarker,g),rH(o,c.endMarker,g),rH(o,c.startMarker,g)}),e.selection.moveToBookmark(s)},dH=(e,t,o)=>EZ(t,0,t).map(s=>{const a=s.container;return fz(a,o.start.length,t).each(c=>{const d=e.createRng();d.setStart(a,0),d.setEnd(c.container,c.offset),hD(e,d,g=>g===t)}),a}),uH=e=>(t,o)=>{const s=t.dom,a=o.pattern,c=oH(s.getRoot(),o.range).getOrDie("Unable to resolve path range"),d=(g,b)=>{const _=b.get(g);return ie(_)&&$n(_).exists(T=>Xt(T,"block"))};return bD(t,c).each(g=>{a.type==="block-format"?d(a.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,g,a),t.formatter.apply(a.format)}):a.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,g,a),t.execCommand(a.cmd,!1,a.value)})}),!0},dK=e=>Dt(e,(t,o)=>o.start.length-t.start.length),mH=e=>(t,o)=>{const s=dK(t),a=o.replace(Fs," ");return Ko(s,c=>e(c,o,a))},fH=(e,t)=>(o,s,a,c,d)=>{var g;d===void 0&&(d=(g=s.textContent)!==null&&g!==void 0?g:"");const b=o.dom,_=qr(o);return b.is(s,_)?e(a.blockPatterns,d).map(T=>t&&$e.trim(d).length===T.start.length?[]:[{pattern:T,range:KL(b,b.getRoot(),s,0,s,0,c)}]).getOr([]):[]},uK=e=>/^\s[^\s]/.test(e),mK=uH((e,t,o)=>{dH(e,t,o).each(s=>{const a=Z.fromDom(s),c=js(a);uK(c)&&Fe(a,c.slice(1))})}),fK=mH((e,t,o)=>t.indexOf(e.start)===0||o.indexOf(e.start)===0),gK=fH(fK,!0),pK=(e,t)=>{const o=e.selection.getRng();return bD(e,o).map(s=>{var a;const c=Math.max(0,o.startOffset),d=YL(t,s,(a=s.textContent)!==null&&a!==void 0?a:""),g=lH(e,s,o.startContainer,c,d,!0),b=gK(e,s,d,!0);return{inlineMatches:g,blockMatches:b}}).filter(({inlineMatches:s,blockMatches:a})=>a.length>0||s.length>0)},hK=(e,t)=>{if(t.length===0)return;const o=e.selection.getBookmark();Te(t,s=>mK(e,s)),e.selection.moveToBookmark(o)},bK=uH(dH),xK=mH((e,t,o)=>t===e.start||o===e.start),vK=fH(xK,!1),yK=(e,t)=>{const o=e.selection.getRng();return bD(e,o).map(s=>{const a=Math.max(0,o.startOffset),c=XL(e.dom,s,o.startContainer,a),d=YL(t,s,c);return vK(e,s,d,!1,c)}).filter(s=>s.length>0)},_K=(e,t)=>{Te(t,o=>bK(e,o))},wK=(e,t)=>pK(e,t).fold(un,({inlineMatches:o,blockMatches:s})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{mx(e),cH(e,o),hK(e,s);const a=e.selection.getRng(),c=TL(a.startContainer,a.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),c.each(d=>{const g=d.container;g.data.charAt(d.offset-1)===Kd&&(g.deleteData(d.offset-1,1),Kw(e.dom,g.parentNode,b=>b===e.dom.getRoot()))})}),!0)),CK=(e,t)=>{const o=e.selection.getRng();bD(e,o).map(s=>{const a=Math.max(0,o.startOffset-1),c=XL(e.dom,s,o.startContainer,a),d=YL(t,s,c),g=lH(e,s,o.startContainer,a,d,!1);g.length>0&&e.undoManager.transact(()=>{cH(e,g)})})},kK=(e,t)=>yK(e,t).fold(un,o=>(e.undoManager.transact(()=>{_K(e,o)}),!0)),gH=(e,t,o)=>{for(let s=0;s<e.length;s++)if(o(e[s],t))return!0;return!1},SK=(e,t)=>gH(e,t,(o,s)=>o===s.keyCode&&!it.modifierPressed(s)),EK=(e,t)=>gH(e,t,(o,s)=>o.charCodeAt(0)===s.charCode),TK=e=>{const t=[",",".",";",":","!","?"],o=[32],s=()=>Hn(zN(e).filter(d=>d.type==="inline-command"||d.type==="block-command"?e.queryCommandSupported(d.cmd):!0),y5(e)),a=()=>ZC(e);e.on("keydown",d=>{if(d.keyCode===13&&!it.modifierPressed(d)&&e.selection.isCollapsed()&&e.selection.isEditable()){const g=Q2(s(),"enter");(g.inlinePatterns.length>0||g.blockPatterns.length>0||a())&&wK(e,g)&&d.preventDefault()}},!0),e.on("keydown",d=>{if(d.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const g=Q2(s(),"space");(g.blockPatterns.length>0||a())&&kK(e,g)&&d.preventDefault()}},!0);const c=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const d=Q2(s(),"space");(d.inlinePatterns.length>0||a())&&CK(e,d)}};e.on("keyup",d=>{SK(o,d)&&c()}),e.on("keypress",d=>{EK(t,d)&&ql.setEditorTimeout(e,c)})},AK=e=>{TK(e)},OK=e=>{const t=$e.each,o=it.BACKSPACE,s=it.DELETE,a=e.dom,c=e.selection,d=e.parser,g=Vo.browser,b=g.isFirefox(),_=g.isChromium()||g.isSafari(),T=Vo.deviceType.isiPhone()||Vo.deviceType.isiPad(),N=Vo.os.isMacOS()||Vo.os.isiOS(),R=(Ye,ct)=>{try{e.getDoc().execCommand(Ye,!1,String(ct))}catch{}},I=Ye=>Ye.isDefaultPrevented(),Y=()=>{const Ye=jt=>{const qt=a.create("body"),jo=jt.cloneContents();return qt.appendChild(jo),c.serializer.serialize(qt,{format:"html"})},ct=jt=>{const qt=Ye(jt),jo=a.createRng();jo.selectNode(e.getBody());const Gn=Ye(jo);return qt===Gn};e.on("keydown",jt=>{const qt=jt.keyCode;if(!I(jt)&&(qt===s||qt===o)&&e.selection.isEditable()){const jo=e.selection.isCollapsed(),Gn=e.getBody();if(jo&&!zl(e.schema,Gn)||!jo&&!ct(e.selection.getRng()))return;jt.preventDefault(),e.setContent(""),Gn.firstChild&&a.isBlock(Gn.firstChild)?e.selection.setCursorLocation(Gn.firstChild,0):e.selection.setCursorLocation(Gn,0),e.nodeChanged()}})},G=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},W=()=>{e.inline||a.bind(e.getDoc(),"mousedown mouseup",Ye=>{let ct;if(Ye.target===e.getDoc().documentElement)if(ct=c.getRng(),e.getBody().focus(),Ye.type==="mousedown"){if(Hi(ct.startContainer))return;c.placeCaretAt(Ye.clientX,Ye.clientY)}else c.setRng(ct)})},ce=()=>{e.on("keydown",Ye=>{if(!I(Ye)&&Ye.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){const ct=c.getNode(),jt=ct.previousSibling;if(ct.nodeName==="HR"){a.remove(ct),Ye.preventDefault();return}jt&&jt.nodeName&&jt.nodeName.toLowerCase()==="hr"&&(a.remove(jt),Ye.preventDefault())}}})},le=()=>{Range.prototype.getClientRects||e.on("mousedown",Ye=>{if(!I(Ye)&&Ye.target.nodeName==="HTML"){const ct=e.getBody();ct.blur(),ql.setEditorTimeout(e,()=>{ct.focus()})}})},fe=()=>{const Ye=m5(e);e.on("click",ct=>{const jt=ct.target;/^(IMG|HR)$/.test(jt.nodeName)&&a.isEditable(jt)&&(ct.preventDefault(),e.selection.select(jt),e.nodeChanged()),jt.nodeName==="A"&&a.hasClass(jt,Ye)&&jt.childNodes.length===0&&a.isEditable(jt.parentNode)&&(ct.preventDefault(),c.select(jt))})},ve=()=>{const Ye=ct=>ct.nodeName==="IMG"&&e.dom.isEditable(ct);e.on("mousedown",ct=>{Qn(P.from(ct.clientX),P.from(ct.clientY),(jt,qt)=>{const jo=e.getDoc().caretPositionFromPoint(jt,qt),Gn=jo?.offsetNode.childNodes[jo.offset-(jo.offset>0?1:0)]||jo?.offsetNode;if(Gn&&Ye(Gn)){const nc=Gn.getBoundingClientRect();ct.preventDefault(),e.hasFocus()||e.focus(),e.selection.select(Gn),ct.clientX<nc.left||ct.clientY<nc.top?e.selection.collapse(!0):(ct.clientX>nc.right||ct.clientY>nc.bottom)&&e.selection.collapse(!1)}})})},Pe=()=>{const Ye=()=>{const jt=a.getAttribs(c.getStart().cloneNode(!1));return()=>{const qt=c.getStart();qt!==e.getBody()&&(a.setAttrib(qt,"style",null),t(jt,jo=>{qt.setAttributeNode(jo.cloneNode(!0))}))}},ct=()=>!c.isCollapsed()&&a.getParent(c.getStart(),a.isBlock)!==a.getParent(c.getEnd(),a.isBlock);e.on("keypress",jt=>{let qt;return!I(jt)&&(jt.keyCode===8||jt.keyCode===46)&&ct()?(qt=Ye(),e.getDoc().execCommand("delete",!1),qt(),jt.preventDefault(),!1):!0}),a.bind(e.getDoc(),"cut",jt=>{if(!I(jt)&&ct()){const qt=Ye();ql.setEditorTimeout(e,()=>{qt()})}})},tt=()=>{e.on("keydown",Ye=>{if(!I(Ye)&&Ye.keyCode===o&&c.isCollapsed()&&c.getRng().startOffset===0){const ct=c.getNode().previousSibling;if(ct&&ct.nodeName&&ct.nodeName.toLowerCase()==="table")return Ye.preventDefault(),!1}return!0})},We=()=>{e.on("keydown",Ye=>{if(I(Ye)||Ye.keyCode!==it.BACKSPACE)return;let ct=c.getRng();const jt=ct.startContainer,qt=ct.startOffset,jo=a.getRoot();let Gn=jt;if(!(!ct.collapsed||qt!==0)){for(;Gn.parentNode&&Gn.parentNode.firstChild===Gn&&Gn.parentNode!==jo;)Gn=Gn.parentNode;Gn.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Gn),ct=a.createRng(),ct.setStart(jt,0),ct.setEnd(jt,0),c.setRng(ct))}})},De=()=>{const Ye=mc("figcaption");e.on("keydown",ct=>{if(ct.keyCode===it.LEFT||ct.keyCode===it.RIGHT){const jt=Z.fromDom(e.selection.getNode());Ye(jt)&&e.selection.isCollapsed()&&Vs(jt).bind(qt=>{var jo;return e.selection.getRng().startOffset===0&&ct.keyCode===it.LEFT?ri(qt):e.selection.getRng().endOffset===((jo=jt.dom.textContent)===null||jo===void 0?void 0:jo.length)&&ct.keyCode===it.RIGHT?gc(qt):P.none()}).each(qt=>{e.selection.setCursorLocation(qt.dom,0)})}})},Se=()=>{const Ye=()=>{R("StyleWithCSS",!1),R("enableInlineTableEditing",!1),Nr(e)||R("enableObjectResizing",!1)};HC(e)||e.on("BeforeExecCommand mousedown",Ye)},Ie=()=>{const Ye=()=>{t(a.select("a:not([data-mce-block])"),ct=>{var jt;let qt=ct.parentNode;const jo=a.getRoot();if(qt?.lastChild===ct){for(;qt&&!a.isBlock(qt);){if(((jt=qt.parentNode)===null||jt===void 0?void 0:jt.lastChild)!==qt||qt===jo)return;qt=qt.parentNode}a.add(qt,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",ct=>{(ct.type==="setcontent"||ct.command==="mceInsertLink")&&Ye()})},gt=()=>{e.on("init",()=>{R("DefaultParagraphSeparator",qr(e))})},Mt=Ye=>{const ct=Ye.getBody(),jt=Ye.selection.getRng();return jt.startContainer===jt.endContainer&&jt.startContainer===ct&&jt.startOffset===0&&jt.endOffset===ct.childNodes.length},oo=()=>{e.on("keyup focusin mouseup",Ye=>{!it.modifierPressed(Ye)&&!Mt(e)&&c.normalize()},!0)},xo=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},hn=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Mn=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Ye=>{let ct;Ye.target.nodeName==="HTML"&&(ct=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(ct),e.selection.normalize(),e.nodeChanged())}))},ur=()=>{N&&e.on("keydown",Ye=>{it.metaKeyPressed(Ye)&&!Ye.shiftKey&&(Ye.keyCode===37||Ye.keyCode===39)&&(Ye.preventDefault(),e.selection.getSel().modify("move",Ye.keyCode===37?"backward":"forward","lineboundary"))})},mr=()=>{e.on("click",Ye=>{let ct=Ye.target;do if(ct.tagName==="A"){Ye.preventDefault();return}while(ct=ct.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},oc=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Ye=>{Ye.preventDefault()})})},rt=()=>{d.addNodeFilter("br",Ye=>{let ct=Ye.length;for(;ct--;)Ye[ct].attr("class")==="Apple-interchange-newline"&&Ye[ct].remove()})},Et=fo,Wo=()=>{if(!b||e.removed)return!1;const Ye=e.selection.getSel();return!Ye||!Ye.rangeCount||Ye.rangeCount===0},Yo=()=>{_&&(W(),fe(),oc(),G(),T&&(hn(),Mn(),mr())),b&&(le(),Se(),xo(),ur())},xt=()=>{We(),Y(),Vo.windowsPhone||oo(),_&&(W(),fe(),gt(),oc(),tt(),rt(),T?(hn(),Mn(),mr()):G()),b&&(De(),ve(),ce(),le(),Pe(),Se(),Ie(),xo(),ur(),tt())};return Ld(e)?Yo():xt(),{refreshContentEditable:Et,isHidden:Wo}},QL=ko.DOM,DK=(e,t)=>{const o=Z.fromDom(e.getBody()),s=gp(Wa(o)),a=Z.fromTag("style");Zs(a,"type","text/css"),rn(a,Z.fromText(t)),rn(s,a),e.on("remove",()=>{Tn(a)})},NK=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,eI=e=>Fr(e,t=>Cs(t)===!1),pH=e=>{const t=e.options.get,o=e.editorUpload.blobCache;return eI({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_html_in_comments:t("allow_html_in_comments"),allow_mathml_annotation_encodings:t("allow_mathml_annotation_encodings"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),extended_mathml_attributes:t("extended_mathml_attributes"),extended_mathml_elements:t("extended_mathml_elements"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:NK(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:jC(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},hH=e=>{const t=e.options.get;return eI({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},RK=e=>{const t=e.options.get;return{...pH(e),...hH(e),...eI({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},MK=e=>{const t=Nu(pH(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(o,s)=>{const a=e.dom,c="data-mce-"+s;let d=o.length;for(;d--;){const g=o[d];let b=g.attr(s);if(b&&!g.attr(c)){if(b.indexOf("data:")===0||b.indexOf("blob:")===0)continue;s==="style"?(b=a.serializeStyle(a.parseStyle(b),g.name),b.length||(b=null),g.attr(c,b),g.attr(s,b)):s==="tabindex"?(g.attr(c,b),g.attr(s,null)):g.attr(c,e.convertURL(b,s,g.name))}}}),t.addNodeFilter("script",o=>{let s=o.length;for(;s--;){const a=o[s],c=a.attr("type")||"no/type";c.indexOf("mce-")!==0&&a.attr("type","mce-"+c)}}),VN(e)&&t.addNodeFilter("#cdata",o=>{var s;let a=o.length;for(;a--;){const c=o[a];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode((s=c.value)!==null&&s!==void 0?s:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let s=o.length;const a=e.schema.getNonEmptyElements();for(;s--;){const c=o[s];c.isEmpty(a)&&c.getAll("br").length===0&&c.append(new ca("br",1))}}),t},BK=e=>{const t=MN(e);t&&ql.setEditorTimeout(e,()=>{let o;t===!0?o=e:o=e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},PK=e=>{const t=e.dom.getRoot();!e.inline&&(!Bx(e)||e.selection.getStart(!0)===t)&&Fa(t).each(o=>{const s=o.getNode(),a=Ra(s)?Fa(s).getOr(o):o;e.selection.setRng(a.toRange())})},LK=e=>{e.bindPendingEventDelegates(),e.initialized=!0,dN(e),e.focus(!0),PK(e),e.nodeChanged({initial:!0});const t=RN(e);Ut(t)&&t.call(e,e),BK(e),ef(e)&&vS(e,!0)},tI=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,IK=(e,t,o)=>{const{pass:s,fail:a}=Lr(t,g=>tinymce.Resource.has(Fg(g))),d=[...s.map(g=>{const b=tinymce.Resource.get(Fg(g));return Je(b)?Promise.resolve(tI(e).loadRawCss(g,b)):Promise.resolve()}),tI(e).loadAll(a)];return e.inline?d:d.concat([e.ui.styleSheetLoader.loadAll(o)])},bH=e=>{const t=tI(e),o=r5(e),s=e.contentCSS,a=()=>{t.unloadAll(s),e.inline||e.ui.styleSheetLoader.unloadAll(o)},c=()=>{e.removed?a():e.on("remove",a)};if(e.contentStyles.length>0){let b="";$e.each(e.contentStyles,_=>{b+=_+`\r
`}),e.dom.addStyle(b)}const d=Promise.all(IK(e,s,o)).then(c).catch(c),g=s5(e);return g&&DK(e,g),d},FK=e=>{const t=e.getDoc(),o=e.getBody();cN(e),g5(e)||(t.body.spellcheck=!1,QL.setAttrib(o,"spellcheck","false")),e.quirks=OK(e),Bo(e);const s=kN(e);s!==void 0&&(o.dir=s);const a=p5(e);a&&e.on("BeforeSetContent",c=>{$e.each(a,d=>{c.content=c.content.replace(d,g=>"<!--mce:protected "+escape(g)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",c=>{e.composing=c.type==="compositionstart"})},zK=e=>{Ld(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},oI=e=>{e.removed!==!0&&(zK(e),LK(e))},HK=e=>{let t=!1;const o=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(o),t=!0,e.setProgressState(!1)}},xH=e=>{const t=e.getElement();let o=e.getDoc();e.inline&&(QL.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const s=e.getBody();s.disabled=!0,e.readonly=HC(e),e._editableRoot=$C(e),!Cx(e)&&e.hasEditableRoot()&&(e.inline&&QL.getStyle(s,"position",!0)==="static"&&(s.style.position="relative"),s.contentEditable="true"),s.disabled=!1,e.editorUpload=IP(e),e.schema=no(hH(e)),e.dom=ko(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:o5(e),referrerPolicy:cy(e),crossOrigin:xx(e),onSetAttrib:d=>{e.dispatch("SetAttrib",d)}}),e.parser=MK(e),e.serializer=aS(RK(e),e),e.selection=n7(e.dom,e.getWin(),e.serializer,e),e.annotator=dT(e),e.formatter=q7(e),e.undoManager=Cw(e),e._nodeChangeDispatcher=new Qj(e),e._selectionOverrides=QG(e),Jj(e),GV(e),sG(e),nU(e),Ld(e)||(uG(e),AK(e));const a=Zj(e);WV(e,a),QV(e),Q7(e),tG(e,a);const c=VB(e);FK(e),c.fold(()=>{const d=HK(e);bH(e).then(()=>{oI(e),d()})},d=>{e.setProgressState(!0),bH(e).then(()=>{d().then(g=>{e.setProgressState(!1),oI(e),sS(e)},g=>{e.notificationManager.open({type:"error",text:String(g)}),oI(e),sS(e)})})})},nI=ko.DOM,$K=(e,t,o,s)=>{const a=Z.fromTag("iframe");return s.each(c=>Zs(a,"tabindex",c)),Ta(a,o),Ta(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),sa(a,"tox-edit-area__iframe"),a},VK=e=>{let t=KE(e)+"<html><head>";ny(e)!==e.editorManager.documentBaseURL&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=vN(e),s=YE(e),a=e.translate(f5(e));return sy(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+sy(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${s}" data-id="${e.id}" aria-label="${a}"><br></body></html>`,t},UK=(e,t)=>{const o=Vo.browser.isFirefox()?f5(e):"Rich Text Area",s=e.translate(o),a=or(Z.fromDom(e.getElement()),"tabindex").bind(r1),c=$K(e.id,s,GE(e),a).dom;c.onload=()=>{c.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=c,e.iframeHTML=VK(e),nI.add(t.iframeContainer,c)},ZK=e=>{const t=e.iframeElement,o=()=>{e.contentDocument=t.contentDocument,xH(e)};if(UN(e)||Vo.browser.isFirefox()){const s=e.getDoc();s.open(),s.write(e.iframeHTML),s.close(),o()}else{const s=y2(Z.fromDom(t),"load",()=>{s.unbind(),o()});t.srcdoc=e.iframeHTML}},WK=(e,t)=>{UK(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=nI.isHidden(t.editorContainer)),e.getElement().style.display="none",nI.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,ZK(e)},vH=ko.DOM,jK=(e,t,o)=>{const s=Lg.get(o),a=Lg.urls[o]||e.editorManager.documentBaseURL.replace(/\/$/,"");if(o=$e.trim(o),s&&$e.inArray(t,o)===-1){if(e.plugins[o])return;try{const c=s(e,a)||{};e.plugins[o]=c,Ut(c.init)&&(c.init(e,a),t.push(o))}catch(c){kP(e,o,c)}}},qK=e=>{const t=o=>{o.keyCode===it.ESC&&!o.defaultPrevented&&Rc(e).isDefaultPrevented()&&o.preventDefault()};document.addEventListener("keyup",t),e.inline||e.on("keyup",t),e.on("remove",()=>{document.removeEventListener("keyup",t),e.inline||e.off("keyup",t)})},GK=e=>e.replace(/^\-/,""),KK=e=>{const t=[];Te(d0(e),o=>{jK(e,t,GK(o))})},YK=e=>{const t=$e.trim(ry(e)),o=e.ui.registry.getAll().icons,s={...ec.get("default").icons,...ec.get(t).icons};Mo(s,(a,c)=>{Xt(o,c)||e.ui.registry.addIcon(c,a)})},XK=e=>{const t=ah(e);if(Je(t)){const o=Ig.get(t);e.theme=o(e,Ig.urls[t])||{},Ut(e.theme.init)&&e.theme.init(e,Ig.urls[t]||e.editorManager.documentBaseURL.replace(/\/$/,""))}else e.theme={}},JK=e=>{const t=dy(e),o=Hh.get(t);e.model=o(e,Hh.urls[t])},QK=e=>{hS.init(e)},eY=e=>{const t=e.theme.renderUI;return t?t():_H(e)},tY=e=>{const t=e.getElement(),s=ah(e)(e,t);return s.editorContainer.nodeType&&(s.editorContainer.id=s.editorContainer.id||e.id+"_parent"),s.iframeContainer&&s.iframeContainer.nodeType&&(s.iframeContainer.id=s.iframeContainer.id||e.id+"_iframecontainer"),s.height=s.iframeHeight?s.iframeHeight:t.offsetHeight,s},yH=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),oY=e=>{const t=vH.create("div");return vH.insertAfter(t,e),yH(t,t)},_H=e=>{const t=e.getElement();return e.inline?yH(null):oY(t)},nY=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,Je(ah(e))?eY(e):Ut(ah(e))?tY(e):_H(e)},sY=(e,t)=>{const o={show:P.from(t.show).getOr(fo),hide:P.from(t.hide).getOr(fo),isEnabled:P.from(t.isEnabled).getOr(qo),setEnabled:s=>{s&&(e.mode.get()==="readonly"||ef(e))||P.from(t.setEnabled).each(c=>c(s))}};e.ui={...e.ui,...o}},rY=async e=>{e.dispatch("ScriptsLoaded"),YK(e),qK(e),XK(e),JK(e),QK(e),KK(e);const t=await nY(e);sY(e,P.from(t.api).getOr({})),e.editorContainer=t.editorContainer,M7(e),e.inline?xH(e):WK(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},Kv=ko.DOM,wH=e=>e.charAt(0)==="-",aY=(e,t)=>{const o=vx(t),s=sg(t);if(!co.hasCode(o)&&o!=="en"){const a=tl(s)?s:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(a).catch(()=>{v7(t,a,o)})}},iY=(e,t)=>{const o=ah(e);if(Je(o)&&!wH(o)&&!Xt(Ig.urls,o)){const s=PC(e),a=s?e.documentBaseURI.toAbsolute(s):`themes/${o}/theme${t}.js`;Ig.load(o,a).catch(()=>{wP(e,a,o)})}},lY=(e,t)=>{const o=dy(e);if(o!=="plugin"&&!Xt(Hh.urls,o)){const s=EN(e),a=Je(s)?e.documentBaseURI.toAbsolute(s):`models/${o}/model${t}.js`;Hh.load(o,a).catch(()=>{CP(e,a,o)})}},cY=(e,t)=>{hS.load(e,t)},dY=e=>P.from(ay(e)).filter(tl).map(t=>({url:t,name:P.none()})),CH=(e,t,o)=>P.from(t).filter(s=>tl(s)&&!ec.has(s)).map(s=>({url:`${e.editorManager.baseURL}/icons/${s}/icons${o}.js`,name:P.some(s)})),uY=(e,t,o)=>{const s=CH(t,"default",o),a=dY(t).orThunk(()=>CH(t,ry(t),""));Te(uC([s,a]),c=>{e.add(c.url).catch(()=>{x7(t,c.url,c.name.getOrUndefined())})})},mY=(e,t)=>{const o=(s,a)=>{s!=="licensekeymanager"&&Lg.load(s,a).catch(()=>{mS(e,a,s)})};Mo(ON(e),(s,a)=>{o(a,s),e.options.set("plugins",d0(e).concat(a))}),Te(d0(e),s=>{s=$e.trim(s),s&&!Lg.urls[s]&&!wH(s)&&o(s,`plugins/${s}/plugin${t}.js`)})},fY=e=>{const t=ah(e);return!Je(t)||Ee(Ig.get(t))},gY=e=>{const t=dy(e);return Ee(Hh.get(t))},pY=(e,t)=>{const o=La.ScriptLoader,s=()=>{!e.removed&&fY(e)&&gY(e)&&rY(e)};iY(e,t),lY(e,t),cY(e,t),aY(o,e),uY(o,e,t),mY(e,t),o.loadQueue().then(s,s)},hY=(e,t)=>Kb.forElement(e,{contentCssCors:c5(t),referrerPolicy:cy(t)}),bY=e=>{const t=e.id;co.setCode(vx(e));const o=()=>{Kv.unbind(window,"ready",o),e.render()};if(!cs.Event.domLoaded){Kv.bind(window,"ready",o);return}if(!e.getElement())return;const s=Z.fromDom(e.getElement()),a=rl(s);e.on("remove",()=>{Uu(s.dom.attributes,d=>ks(s,d.name)),Ta(s,a)}),e.ui.styleSheetLoader=hY(s,e),IC(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const c=e.getElement().form||Kv.getParent(t,"form");c&&(e.formElement=c,i5(e)&&!Mp(e.getElement())&&(Kv.insertAfter(Kv.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=d=>{e.dispatch(d.type,d)},Kv.bind(c,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),TN(e)&&!c.submit.nodeType&&!c.submit.length&&!c._mceOldSubmit&&(c._mceOldSubmit=c.submit,c.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),c._mceOldSubmit(c)))),e.windowManager=uS(e),e.notificationManager=uw(e),WC(e)&&e.on("GetContent",d=>{d.save&&(d.content=Kv.encode(d.content))}),FC(e)&&e.on("submit",()=>{e.initialized&&e.save()}),AN(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),pY(e,e.suffix)},kH=["#E41B60","#AD1457","#1939EC","#001CB5","#648000","#465B00","#006CE7","#0054B4","#00838F","#006064","#00866F","#004D40","#51742F","#385021","#CF4900","#A84600","#CC0000","#6A1B9A","#9C27B0","#6A00AB","#3041BA","#0A1877","#774433","#452B24","#607D8B","#455A64"],xY=e=>{var t;return Intl.Segmenter?`${(t=new Intl.Segmenter().segment(e)[Symbol.iterator]().next().value)===null||t===void 0?void 0:t.segment}`:e.trim()[0]},vY=()=>{const e=Math.floor(Jg()*kH.length);return kH[e]},yY=(e,t,o=36)=>{const s=o/2;return`<svg height="${o}" width="${o}" xmlns="http://www.w3.org/2000/svg"><circle cx="${s}" cy="${s}" r="${s}" fill="${t}"/><text x="50%" y="50%" text-anchor="middle" dominant-baseline="central" fill="#FFF" font-family="sans-serif" font-size="${s}">`+xY(e)+"</text></svg>"},sI=e=>{const t=yY(e,vY());return"data:image/svg+xml,"+encodeURIComponent(t)},_Y=Dz([sW("id"),Iz("name"),Iz("avatar"),rW("custom")]),wY=e=>{const t={};return Mo(e,(o,s)=>{o.each(a=>{t[s]=a})}),t},CY=e=>{if(!Array.isArray(e))throw new Error("fetch_users must return an array");const t=go(e,a=>Nz("Invalid user object",_Y,a)),{errors:o,values:s}=_b(t);if(o.length>0){const a=go(o,(c,d)=>`User at index ${d}: ${Rz(c)}`);console.warn(`User validation errors:
`+a.join(`
`))}return go(s,a=>{const{id:c,name:d,avatar:g,...b}=a;return{id:c,name:d.getOr(c),avatar:g.getOr(sI(d.getOr(c))),...wY(b)}})},kY=e=>{const t=new Map,o=new Map,s=_=>P.from(t.get(_)),a=(_,T)=>{t.set(T,_)},c=(_,T)=>P.from(o.get(_)).each(({reject:N})=>{N(T),o.delete(_)}),d=(_,T)=>P.from(o.get(_)).each(({resolve:N})=>{N(T),o.delete(_)}),g=_=>{const T=my(e);if(Array.isArray(_)){if(!T)return Ir(_,R=>Promise.resolve({id:R,name:R,avatar:sI(R)}))}else return{};const N=uf(Pt(_,R=>!s(R).isSome()));return Te(N,R=>{const I=new Promise((Y,G)=>{o.set(R,{resolve:Y,reject:G})});a(I,R)}),N.length>0&&T(N).then(CY).then(R=>{const I=new Set(go(R,Y=>Y.id));Te(R,Y=>d(Y.id,Y)),Te(N,Y=>{I.has(Y)||c(Y,new Error(`User ${Y} not found`))})}).catch(R=>{Te(N,I=>c(I,R instanceof Error?R:new Error("Network error")))}),Go(_,(R,I)=>(R[I]=s(I).getOr(Promise.resolve({id:I,name:I,avatar:sI(I)})),R),{})},b=qN(e);return Object.freeze({userId:b,fetchUsers:g})},SY=e=>kY(e),EY=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,ef(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),hN(e,t))},TY=e=>e._editableRoot,AY=(e,t)=>({sections:Ge(e),options:Ge(t)}),SH=_n().deviceType,EH=SH.isPhone(),OY=SH.isTablet(),hE=e=>{if(zo(e))return[];{const t=ie(e)?e:e.split(/[ ,]/),o=go(t,jc);return Pt(o,tl)}},DY=(e,t)=>{const o=Kr(t,(s,a)=>wo(e,a));return AY(o.t,o.f)},NY=(e,t,o={})=>{const s=e.sections(),a=Jo(s,t).getOr({});return $e.extend({},o,a)},rI=(e,t)=>Xt(e.sections(),t),RY=(e,t)=>rI(e,t)?e.sections()[t]:{},MY=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Jo(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),BY=(e,t)=>{var o;const s=(o=t.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?$e.extend({},e.external_plugins,s):s},PY=(e,t)=>[...hE(e),...hE(t)],LY=(e,t,o,s)=>e&&rI(t,"mobile")?s:o,IY=(e,t,o,s)=>{const a=hE(o.forced_plugins),c=hE(s.plugins),d=RY(t,"mobile"),g=d.plugins?hE(d.plugins):c,b=LY(e,t,c,g),_=PY(a,b);return $e.extend(s,{forced_plugins:a,plugins:_})},FY=(e,t)=>e&&rI(t,"mobile"),zY=(e,t,o,s,a)=>{var c;const d=e?{mobile:MY((c=a.mobile)!==null&&c!==void 0?c:{},t)}:{},g=DY(["mobile"],Gd(d,a)),b=$e.extend(o,s,g.options(),FY(e,g)?NY(g,"mobile"):{},{external_plugins:BY(s,g.options())});return IY(e,g,s,b)},HY=(e,t)=>{const o=mf(t);return zY(EH||OY,EH,o,e,o)},$Y=(e,t)=>e7(e,t),VY=e=>{const t=(s,a)=>{e.formatter.toggle(s,a),e.nodeChanged()},o=s=>()=>{Te("left,center,right,justify".split(","),a=>{s!==a&&e.formatter.remove("align"+a)}),s!=="none"&&t("align"+s)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},UY=e=>{const t=o=>()=>{const s=e.selection,a=s.isCollapsed()?[e.dom.getParent(s.getNode(),e.dom.isBlock)]:s.getSelectedBlocks();return Sn(a,c=>Ee(e.formatter.matchNode(c,o)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},ZY=e=>{VY(e),UY(e)},WY=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let s;try{o.execCommand(t)}catch{s=!0}if(t==="paste"&&!o.queryCommandEnabled(t)&&(s=!0),s||!o.queryCommandSupported(t)){let a=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Vo.os.isMacOS()||Vo.os.isiOS())&&(a=a.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:a,type:"error"})}}})},jY=(e,t,o,s)=>{const a=Z.fromDom(e.getRoot());return D0(a,Ae.fromRangeStart(t),s)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),bg(a,Ae.fromRangeEnd(t),s)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},qY=e=>{if(typeof e!="string"){const t=$e.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},GY=(e,t)=>{const o=e.selection,s=e.dom;return/^ | $/.test(t)?jY(s,o.getRng(),t,e.schema):t},yD=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:s}=qY(t);z_(e,{...s,content:GY(e,o),format:"html",set:!1,selection:!0}).each(a=>{const c=JO(e,a.content,s);xk(e,c,a),e.addVisual()})}},KY=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,s)=>{yD(e,e.dom.createHTML("img",{src:s}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,s)=>{yD(e,e.dom.encode(s))},insertHTML:(t,o,s)=>{yD(e,s)},mceInsertContent:(t,o,s)=>{yD(e,s)},mceSetContent:(t,o,s)=>{e.setContent(s)},mceReplaceContent:(t,o,s)=>{e.execCommand("mceInsertContent",!1,s.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(PN(e))}})},YY={"font-size":"size","font-family":"face"},XY=mc("font"),JY=(e,t,o)=>{const s=c=>Af(c,e).orThunk(()=>XY(c)?Jo(YY,e).bind(d=>or(c,d)):P.none()),a=c=>Lt(Z.fromDom(t),c);return Nb(Z.fromDom(o),c=>s(c),a)},QY=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),eX=(e,t)=>P.from(ko.DOM.getStyle(t,e,!0)),TH=e=>(t,o)=>P.from(o).map(Z.fromDom).filter(hs).bind(s=>JY(e,t,s.dom).or(eX(e,s.dom))).getOr(""),tX=TH("font-size"),oX=Yn(QY,TH("font-family")),nX=e=>Fa(e.getBody()).bind(t=>{const o=t.container();return P.from(je(o)?o.parentNode:o)}),sX=e=>P.from(e.selection.getRng()).bind(t=>{const o=e.getBody();return t.startContainer===o&&t.startOffset===0?P.none():P.from(e.selection.getStart(!0))}),rX=(e,t)=>sX(e).orThunk(bt(nX,e)).map(Z.fromDom).filter(hs).bind(t),aI=(e,t)=>rX(e,ki(P.some,t)),AH=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const s=w5(e),a=C5(e);return a.length>0?a[o-1]||t:s[o-1]||t}else return t}else return t},aX=e=>{const t=e.split(/\s*,\s*/);return go(t,o=>o.indexOf(" ")!==-1&&!(lo(o,'"')||lo(o,"'"))?`'${o}'`:o).join(",")},iX=(e,t)=>{const o=AH(e,t);e.formatter.toggle("fontname",{value:aX(o)}),e.nodeChanged()},lX=e=>aI(e,t=>oX(e.getBody(),t.dom)).getOr(""),cX=(e,t)=>{e.formatter.toggle("fontsize",{value:AH(e,t)}),e.nodeChanged()},dX=e=>aI(e,t=>tX(e.getBody(),t.dom)).getOr(""),uX=e=>aI(e,t=>{const o=Z.fromDom(e.getBody()),s=Nb(t,c=>Af(c,"line-height"),bt(Lt,o)),a=()=>{const c=parseFloat(Ri(t,"line-height")),d=parseFloat(Ri(t,"font-size"));return String(c/d)};return s.getOrThunk(a)}).getOr(""),mX=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},fX=e=>{const t=(o,s)=>{e.formatter.toggle(o,s),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{t(o)},"ForeColor,HiliteColor":(o,s,a)=>{t(o,{value:a})},BackColor:(o,s,a)=>{t("hilitecolor",{value:a})},FontName:(o,s,a)=>{iX(e,a)},FontSize:(o,s,a)=>{cX(e,a)},LineHeight:(o,s,a)=>{mX(e,a)},Lang:(o,s,a)=>{var c;t(o,{value:a.code,customValue:(c=a.customCode)!==null&&c!==void 0?c:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(o,s,a)=>{t(Je(a)?a:"p")},mceToggleFormat:(o,s,a)=>{t(a)}})},gX=e=>{const t=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>t(o),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>lX(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>dX(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>uX(e))},pX=e=>{fX(e),gX(e)},hX=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},bX=e=>{e.editorCommands.addCommands({Indent:()=>{VV(e)},Outdent:()=>{kF(e)}}),e.editorCommands.addCommands({Outdent:()=>yF(e),Indent:()=>HV(e)},"state")},xX=e=>{const t=(o,s,a)=>{if(e.mode.isReadOnly())return;const c=Je(a)?{href:a}:a,d=e.dom.getParent(e.selection.getNode(),"a");ae(c)&&Je(c.href)&&(c.href=c.href.replace(/ /g,"%20"),(!d||!c.href)&&e.formatter.remove("link"),c.href&&e.formatter.apply("link",c,d))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},vX=(e,t,o,s)=>{const a=e.dom,c=g=>a.isBlock(g)&&g.parentElement===o,d=c(t)?t:a.getParent(s,c,o);return P.from(d).map(Z.fromDom)},OH=(e,t)=>{if(e.mode.isReadOnly())return;const o=e.dom,s=e.selection.getRng(),a=t?e.selection.getStart():e.selection.getEnd(),c=t?s.startContainer:s.endContainer,d=uE(o,c);if(!d||!d.isContentEditable)return;const g=t?tr:Ni,b=qr(e);vX(e,a,d,c).each(_=>{const T=Yz(e,c,_.dom,d,!1,b);g(_,Z.fromDom(T)),e.selection.setCursorLocation(T,0),e.dispatch("NewBlock",{newBlock:T}),dE(e,"insertParagraph")})},yX=e=>OH(e,!0),_X=e=>OH(e,!1),wX=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{yX(e)},InsertNewBlockAfter:()=>{_X(e)}})},CX=e=>{e.editorCommands.addCommands({insertParagraph:()=>{cD(e9,e)},mceInsertNewLine:(t,o,s)=>{i9(e,s)},InsertLineBreak:(t,o,s)=>{cD(n9,e)}})},kX=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,s)=>{let a=0;e.dom.getParent(e.selection.getNode(),c=>ft(c)&&a++===s?(e.selection.select(c),!1):!0,e.getBody())},mceSelectNode:(t,o,s)=>{e.selection.select(s)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Ma);if(t){const o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})},SX=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,s)=>{const a=s??e.selection.getNode();if(a!==e.getBody()){const c=e.selection.getBookmark();e.dom.remove(a,!0),e.selection.moveToBookmark(c)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,s)=>{B4(e,s===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},EX=e=>{ZY(e),WY(e),hX(e),kX(e),KY(e),xX(e),bX(e),wX(e),CX(e),pX(e),SX(e)},TX=["toggleview"],DH=e=>wo(TX,e.toLowerCase());class NH{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,o=!1,s,a){const c=this.editor,d=t.toLowerCase(),g=a?.skip_focus;if(c.removed||(d!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(d)&&!g?c.focus():dg(c)),c.dispatch("BeforeExecCommand",{command:t,ui:o,value:s}).isDefaultPrevented()))return!1;const _=this.commands.exec[d];return Ut(_)?(_(d,o,s,a),c.dispatch("ExecCommand",{command:t,ui:o,value:s,args:a}),!0):!1}queryCommandState(t){if(!DH(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=t.toLowerCase(),s=this.commands.state[o];return Ut(s)?s(o):!1}queryCommandValue(t){if(!DH(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=t.toLowerCase(),s=this.commands.value[o];return Ut(s)?s(o):""}addCommands(t,o="exec"){const s=this.commands;Mo(t,(a,c)=>{Te(c.toLowerCase().split(","),d=>{s[o][d]=a})})}addCommand(t,o,s){const a=t.toLowerCase();this.commands.exec[a]=(c,d,g,b)=>o.call(s??this.editor,d,g,b)}queryCommandSupported(t){const o=t.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(t,o,s){this.commands.state[t.toLowerCase()]=()=>o.call(s??this.editor)}addQueryValueHandler(t,o,s){this.commands.value[t.toLowerCase()]=()=>o.call(s??this.editor)}}const AX=$e.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class iI{static isNative(t){return!!AX[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||un}fire(t,o){return this.dispatch(t,o)}dispatch(t,o){const s=t.toLowerCase(),a=K1(s,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(a);const c=this.bindings[s];if(c)for(let d=0,g=c.length;d<g;d++){const b=c[d];if(!b.removed){if(b.once&&this.off(s,b.func),a.isImmediatePropagationStopped())return a;if(b.func.call(this.scope,a)===!1)return a.preventDefault(),a}}return a}on(t,o,s,a){if(o===!1&&(o=un),o){const c={func:o,removed:!1};a&&$e.extend(c,a);const d=t.toLowerCase().split(" ");let g=d.length;for(;g--;){const b=d[g];let _=this.bindings[b];_||(_=[],this.toggleEvent(b,!0)),s?_=[c,..._]:_=[..._,c],this.bindings[b]=_}}return this}off(t,o){if(t){const s=t.toLowerCase().split(" ");let a=s.length;for(;a--;){const c=s[a];let d=this.bindings[c];if(!c)return Mo(this.bindings,(g,b)=>{this.toggleEvent(b,!1),delete this.bindings[b]}),this;if(d){if(!o)d.length=0;else{const g=Lr(d,b=>b.func===o);d=g.fail,this.bindings[c]=d,Te(g.pass,b=>{b.removed=!0})}d.length||(this.toggleEvent(t,!1),delete this.bindings[c])}}}else Mo(this.bindings,(s,a)=>{this.toggleEvent(a,!1)}),this.bindings={};return this}once(t,o,s){return this.on(t,o,s,{once:!0})}has(t){t=t.toLowerCase();const o=this.bindings[t];return!(!o||o.length===0)}}const bE=e=>(e._eventDispatcher||(e._eventDispatcher=new iI({scope:e,toggleEvent:(t,o)=>{iI.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),lI={fire(e,t,o){return $_("fire"),this.dispatch(e,t,o)},dispatch(e,t,o){const s=this;if(s.removed&&e!=="remove"&&e!=="detach")return K1(e.toLowerCase(),t??{},s);const a=bE(s).dispatch(e,t);if(o!==!1&&s.parent){let c=s.parent();for(;c&&!a.isPropagationStopped();)c.dispatch(e,a,!1),c=c.parent?c.parent():void 0}return a},on(e,t,o){return bE(this).on(e,t,o)},off(e,t){return bE(this).off(e,t)},once(e,t){return bE(this).once(e,t)},hasEventListeners(e){return bE(this).has(e)}},_D=ko.DOM;let Yv;const wD=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const o=rh(e);return o?(e.eventRoot||(e.eventRoot=_D.select(o)[0]),e.eventRoot):e.getBody()},OX=e=>!e.hidden&&!ef(e),RH=(e,t,o)=>{OX(e)?e.dispatch(t,o):ef(e)&&K0(e,o)},MH=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=wD(e,t);if(rh(e)){if(Yv||(Yv={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Yv&&(Mo(Yv,(a,c)=>{e.dom.unbind(wD(e,c))}),Yv=null)})),Yv[t])return;const s=a=>{const c=a.target,d=e.editorManager.get();let g=d.length;for(;g--;){const b=d[g].getBody();(b===c||_D.isChildOf(c,b))&&RH(d[g],t,a)}};Yv[t]=s,_D.bind(o,t,s)}else{const s=a=>{RH(e,t,a)};_D.bind(o,t,s),e.delegates[t]=s}},BH={...lI,bindPendingEventDelegates(){const e=this;$e.each(e._pendingNativeEvents,t=>{MH(e,t)})},toggleNativeEvent(e,t){const o=this;e==="focus"||e==="blur"||o.removed||(t?o.initialized?MH(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(wD(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),o=e.dom;e.delegates&&(Mo(e.delegates,(s,a)=>{e.dom.unbind(wD(e,a),a,s)}),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}},DX=e=>Je(e)?{value:e.split(/[ ,]/),valid:!0}:mo(e,Je)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},NX=e=>{const t=(()=>{switch(e){case"array":return ie;case"boolean":return ns;case"function":return Ut;case"number":return E;case"object":return ae;case"string":return Je;case"string[]":return DX;case"object[]":return o=>mo(o,ae);case"regexp":return o=>No(o,RegExp);default:return qo}})();return o=>cI(o,t,`The value must be a ${e}.`)},RX=e=>Je(e.processor),PH=(e,t)=>{const o=Ei(t.message)?"":`. ${t.message}`;return e+o},LH=e=>e.valid,cI=(e,t,o="")=>{const s=t(e);return ns(s)?s?{value:e,valid:!0}:{valid:!1,message:o}:s},MX=(e,t,o)=>{if(!Cs(t)){const s=cI(t,o);if(LH(s))return s.value;console.error(PH(`Invalid default value passed for the "${e}" option`,s))}},BX=(e,t,o=t)=>{const s={},a={},c=(I,Y,G)=>{const W=cI(Y,G);return LH(W)?(a[I]=W.value,!0):(console.warn(PH(`Invalid value passed for the ${I} option`,W)),!1)},d=(I,Y)=>{const G=RX(Y)?NX(Y.processor):Y.processor,W=MX(I,Y.default,G);s[I]={...Y,default:W,processor:G},Jo(a,I).orThunk(()=>Jo(t,I)).each(le=>c(I,le,G))},g=I=>Xt(s,I);return{register:d,isRegistered:g,get:I=>Jo(a,I).orThunk(()=>Jo(s,I).map(Y=>Y.default)).getOrUndefined(),set:(I,Y)=>{if(g(I)){const G=s[I];return G.immutable?(console.error(`"${I}" is an immutable option and cannot be updated`),!1):c(I,Y,G.processor)}else return console.warn(`"${I}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:I=>{const Y=g(I);return Y&&delete a[I],Y},isSet:I=>Xt(a,I),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(I,Y)=>ns(Y)||E(Y)||Je(Y)||eo(Y)||ie(Y)||dt(Y)?Y:Object.prototype.toString.call(Y))))}catch(I){console.error(I)}}}},PX=(e,t)=>{e.dom.contentEditable="true"},LX=(e,t)=>{const o=Z.fromDom(e.getBody());t?(e.readonly=!0,e.hasEditableRoot()&&PX(o),T7(e)):(e.readonly=!1,A7(e))},Yw=e=>e.readonly,IX=e=>{const t=e.undoManager.add();Ee(t)&&(e.undoManager.undo(),e.undoManager.reset())},FX=e=>Sn(e,t=>t.type==="characterData"||t.type==="childList"),zX=e=>{const t=s=>{Yw(e)&&FX(s)&&IX(e)},o=new MutationObserver(t);e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",s=>{Yw(e)&&s.preventDefault()}),e.on("BeforeExecCommand",s=>{(s.command==="Undo"||s.command==="Redo")&&Yw(e)&&s.preventDefault()}),e.on("compositionstart",()=>{Yw(e)&&o.observe(e.getBody(),{characterData:!0,childList:!0,subtree:!0})}),e.on("compositionend",()=>{if(Yw(e)){const s=o.takeRecords();t(s)}o.disconnect()})},HX=["design","readonly"],IH=(e,t,o,s)=>{const a=o[t.get()],c=o[s];try{c.activate()}catch(d){console.error(`problem while activating editor mode ${s}:`,d);return}a.deactivate(),a.editorReadOnly!==c.editorReadOnly&&LX(e,c.editorReadOnly),t.set(s),iN(e,s)},$X=(e,t,o,s)=>{if(!(s===o.get()||e.initialized&&ef(e))){if(!Xt(t,s))throw new Error(`Editor mode '${s}' is invalid`);e.initialized?IH(e,o,t,s):e.on("init",()=>IH(e,o,t,s))}},VX=(e,t,o)=>{if(wo(HX,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(s){console.error(`problem while deactivating editor mode ${t}:`,s)}}}}},UX=e=>{const t=Bn("design"),o=Bn({design:{activate:fo,deactivate:fo,editorReadOnly:!1},readonly:{activate:fo,deactivate:fo,editorReadOnly:!0}});return zX(e),Y0(e),{isReadOnly:()=>Yw(e),set:s=>$X(e,o.get(),t,s),get:()=>t.get(),register:(s,a)=>{o.set(VX(o.get(),s,a))}}},dI=$e.each,uI=$e.explode,ZX={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},FH=$e.makeMap("alt,ctrl,shift,meta,access"),WX=e=>e in FH,jX=e=>{const t={},o=Vo.os.isMacOS()||Vo.os.isiOS();dI(uI(e.toLowerCase(),"+"),c=>{WX(c)?t[c]=!0:/^[0-9]{2,}$/.test(c)?t.keyCode=parseInt(c,10):(t.charCode=c.charCodeAt(0),t.keyCode=ZX[c]||c.toUpperCase().charCodeAt(0))});const s=[t.keyCode];let a;for(a in FH)t[a]?s.push(a):t[a]=!1;return t.id=s.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class zH{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const o=this;t.on("keyup keypress keydown",s=>{(o.hasModifier(s)||o.isFunctionKey(s))&&!s.isDefaultPrevented()&&(dI(o.shortcuts,a=>{o.matchShortcut(s,a)&&(o.pendingPatterns=a.subpatterns.slice(0),s.type==="keydown"&&o.executeShortcutAction(a))}),o.matchShortcut(s,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&s.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(t,o,s,a){const c=this,d=c.normalizeCommandFunc(s);return dI(uI($e.trim(t)),g=>{const b=c.createShortcut(g,o,d,a);c.shortcuts[b.id]=b}),!0}remove(t){const o=this.createShortcut(t);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(t){const o=this,s=t;return typeof s=="string"?()=>{o.editor.execCommand(s,!1,null)}:$e.isArray(s)?()=>{o.editor.execCommand(s[0],s[1],s[2])}:s}createShortcut(t,o,s,a){const c=$e.map(uI(t,">"),jX);return c[c.length-1]=$e.extend(c[c.length-1],{func:s,scope:a||this.editor}),$e.extend(c[0],{desc:this.editor.translate(o),subpatterns:c.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,o){return!o||o.ctrl!==t.ctrlKey||o.meta!==t.metaKey||o.alt!==t.altKey||o.shift!==t.shiftKey?!1:t.keyCode===o.keyCode||t.charCode&&t.charCode===o.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const qX=()=>{const e=pW();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},Xv=ko.DOM,HH=$e.extend,GX=$e.each;class CD{constructor(t,o,s){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=s,HH(this,BH);const a=this;this.id=t,this.editorUid=r2(),this.hidden=!1;const c=HY(s.defaultOptions,o);this.options=BX(a,c,o),MC(a),this.userLookup=SY(this);const d=this.options.get;d("deprecation_warnings")&&JA(o,c);const g=d("suffix");g&&(s.suffix=g),this.suffix=s.suffix;const b=d("base_url");b&&s._setBaseUrl(b),this.baseUri=s.baseURI;const _=cy(a);_&&(La.ScriptLoader._setReferrerPolicy(_),ko.DOM.styleSheetLoader._setReferrerPolicy(_)),La.ScriptLoader._setCrossOrigin(I=>xx(a)(I,"script")),ko.DOM.styleSheetLoader._setCrossOrigin(I=>xx(a)(I,"stylesheet"));const T=c5(a);Ee(T)&&ko.DOM.styleSheetLoader._setContentCssCors(T),Wr.languageLoad=d("language_load"),Wr.baseURL=s.baseURL,this.setDirty(!1),this.documentBaseURI=new Jl(ny(a),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=IC(a),this.hasVisual=u5(a),this.shortcuts=new zH(this),this.editorCommands=new NH(this),EX(this);const N=d("cache_suffix");N&&(Vo.cacheSuffix=N.replace(/^[\?\&]+/,"")),this.ui={registry:qX(),styleSheetLoader:void 0,show:fo,hide:fo,setEnabled:fo,isEnabled:qo},this.mode=UX(a),Object.defineProperty(this,"editorUid",{writable:!1,configurable:!1,enumerable:!0}),s.dispatch("SetupEditor",{editor:this});const R=NN(a);Ut(R)&&R.call(a,a)}render(){bY(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return wh(this)}translate(t){return co.translate(t)}getParam(t,o,s){const a=this.options;return a.isRegistered(t)||(Ee(s)?a.register(t,{processor:s,default:o}):a.register(t,{processor:qo,default:o})),!a.isSet(t)&&!Cs(o)?o:a.get(t)}hasPlugin(t,o){return wo(d0(this),t)?o?Lg.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,o,s){this.editorCommands.addCommand(t,o,s)}addQueryStateHandler(t,o,s){this.editorCommands.addQueryStateHandler(t,o,s)}addQueryValueHandler(t,o,s){this.editorCommands.addQueryValueHandler(t,o,s)}addShortcut(t,o,s,a){this.shortcuts.add(t,o,s,a)}execCommand(t,o,s,a){return this.editorCommands.execCommand(t,o,s,a)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(Xv.show(t.getContainer()),Xv.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Xv.hide(t.getContainer()),Xv.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,o){this.dispatch("ProgressState",{state:t,time:o})}load(t={}){const o=this,s=o.getElement();if(!o.removed&&s){const a={...t,load:!0},c=Mp(s)?s.value:s.innerHTML;o.setContent(c,a),a.no_events||o.dispatch("LoadContent",{...a,element:s})}}save(t={}){const o=this;let s=o.getElement();if(!s||!o.initialized||o.removed)return"";const a={...t,save:!0,element:s};let c=o.getContent(a);const d={...a,content:c};if(d.no_events||o.dispatch("SaveContent",d),d.format==="raw"&&o.dispatch("RawSaveContent",d),c=d.content,Mp(s))s.value=c;else{(t.is_removing||!o.inline)&&(s.innerHTML=c);const g=Xv.getParent(o.id,"form");g&&GX(g.elements,b=>b.name===o.id?(b.value=c,!1):!0)}return d.element=a.element=s=null,d.set_dirty!==!1&&o.setDirty(!1),c}setContent(t,o){iw(this,t,o)}getContent(t){return d7(this,t)}insertContent(t,o){o&&(t=HH({content:t},o)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?iw(this,this.startContent,{initial:!0,format:"raw"}):iw(this,t,{initial:!0}),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const o=!this.isNotDirty;this.isNotDirty=!t,t&&t!==o&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||Xv.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Xv.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const o=t.iframeElement;o&&(t.contentWindow=o.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const o=t.getWin();o&&(t.contentDocument=o.document)}return t.contentDocument}getBody(){var t,o;const s=this.getDoc();return(o=(t=this.bodyElement)!==null&&t!==void 0?t:s?.body)!==null&&o!==void 0?o:null}convertURL(t,o,s){const a=this,c=a.options.get,d=ih(a);if(Ut(d))return d.call(a,t,s,!0,o);if(!c("convert_urls")||s==="link"||ae(s)&&s.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const g=new Jl(t);return g.protocol!=="http"&&g.protocol!=="https"&&g.protocol!==""?t:c("relative_urls")?a.documentBaseURI.toRelative(t):(t=a.documentBaseURI.toAbsolute(t,c("remove_script_host")),t)}addVisual(t){$Y(this,t)}setEditableRoot(t){EY(this,t)}hasEditableRoot(){return TY(this)}remove(){m7(this)}destroy(t){pP(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Xw=ko.DOM,kD=$e.each;let $H=!1,SD,kl=[];const ED=e=>{const t=e.type;kD(lb.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},VH=e=>{if(e!==$H){const t=ko.DOM;e?(t.bind(window,"resize",ED),t.bind(window,"scroll",ED)):(t.unbind(window,"resize",ED),t.unbind(window,"scroll",ED)),$H=e}},UH=e=>{const t=kl;return kl=Pt(kl,o=>e!==o),lb.activeEditor===e&&(lb.activeEditor=kl.length>0?kl[0]:null),lb.focusedEditor===e&&(lb.focusedEditor=null),t.length!==kl.length},KX=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(UH(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},YX=document.compatMode!=="CSS1Compat",lb={...lI,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,pageUid:r2(),majorVersion:"8",minorVersion:"0.2",releaseDate:"2025-08-14",i18n:co,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",o="",s=Jl.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));const a=window.tinymce||window.tinyMCEPreInit;if(a)t=a.base||a.baseURL,o=a.suffix;else{const c=document.getElementsByTagName("script");for(let d=0;d<c.length;d++){const g=c[d].src||"";if(g==="")continue;const b=g.substring(g.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(g)){b.indexOf(".min")!==-1&&(o=".min"),t=g.substring(0,g.lastIndexOf("/"));break}}if(!t&&document.currentScript){const d=document.currentScript.src;d.indexOf(".min")!==-1&&(o=".min"),t=d.substring(0,d.lastIndexOf("/"))}}e.baseURL=new Jl(s).toAbsolute(t),e.documentBaseURL=s,e.baseURI=new Jl(e.baseURL),e.suffix=o,R4(e),Te(["majorVersion","minorVersion","releaseDate","pageUid","_addLicenseKeyManager"],c=>Object.defineProperty(e,c,{writable:!1,configurable:!1,enumerable:!0}))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const s=e.plugin_base_urls;s!==void 0&&Mo(s,(a,c)=>{Wr.PluginManager.urls[c]=a})},init(e){const t=this;let o;const s=$e.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=(T,N)=>T.inline&&N.tagName.toLowerCase()in s,c=T=>{let N=T.id;return N||(N=Jo(T,"name").filter(R=>!Xw.get(R)).getOrThunk(Xw.uniqueId),T.setAttribute("id",N)),N},d=T=>{const N=e[T];if(N)return N.apply(t,[])},g=T=>Vo.browser.isIE()||Vo.browser.isEdge()?(mw("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/8/support/#supportedwebbrowsers"),[]):YX?(mw("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Je(T.selector)?Xw.select(T.selector):Ee(T.target)?[T.target]:[];let b=T=>{o=T};const _=()=>{let T=0;const N=[];let R;const I=(Y,G,W)=>{const ce=new CD(Y,G,t);N.push(ce),ce.on("init",()=>{++T===R.length&&b(N)}),ce.targetElm=ce.targetElm||W,ce.render()};Xw.unbind(window,"ready",_),d("onpageload"),R=uf(g(e)),$e.each(R,Y=>{KX(t.get(Y.id))}),R=$e.grep(R,Y=>!t.get(Y.id)),R.length===0?b([]):kD(R,Y=>{a(e,Y)?mw("Could not initialize inline editor on invalid inline target element",Y):I(c(Y),e,Y)})};return Xw.bind(window,"ready",_),new Promise(T=>{o?T(o):b=N=>{T(N)}})},get(e){return arguments.length===0?kl.slice(0):Je(e)?Ko(kl,t=>t.id===e).getOr(null):E(e)&&kl[e]?kl[e]:null},add(e){const t=this,o=t.get(e.id);return o===e||(o===null&&kl.push(e),VH(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),SD||(SD=s=>{const a=t.dispatch("BeforeUnload");if(a.returnValue)return s.preventDefault(),s.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",SD))),e},createEditor(e,t){return this.add(new CD(e,t,this))},remove(e){const t=this;let o;if(!e){for(let s=kl.length-1;s>=0;s--)t.remove(kl[s]);return}if(Je(e)){kD(Xw.select(e),s=>{o=t.get(s.id),o&&t.remove(o)});return}return o=e,eo(t.get(o.id))?null:(UH(o)&&t.dispatch("RemoveEditor",{editor:o}),kl.length===0&&window.removeEventListener("beforeunload",SD),o.remove(),VH(kl.length>0),o)},execCommand(e,t,o){var s;const a=this,c=ae(o)?(s=o.id)!==null&&s!==void 0?s:o.index:o;switch(e){case"mceAddEditor":{if(!a.get(c)){const d=o.options;new CD(c,d,a).render()}return!0}case"mceRemoveEditor":{const d=a.get(c);return d&&d.remove(),!0}case"mceToggleEditor":{const d=a.get(c);return d?(d.isHidden()?d.show():d.hide(),!0):(a.execCommand("mceAddEditor",!1,o),!0)}}return a.activeEditor?a.activeEditor.execCommand(e,t,o):!1},triggerSave:()=>{kD(kl,e=>{e.save()})},addI18n:(e,t)=>{co.add(e,t)},translate:e=>co.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Jl(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Jl(this.baseURL)},_addLicenseKeyManager:e=>hS.add(e)};lb.setup();const XX=(()=>{const e=ac(),t=c=>({items:c,types:Ca(c),getType:d=>Jo(c,d).getOrUndefined()}),o=c=>{e.set(c)},s=()=>e.get().getOrUndefined(),a=e.clear;return{FakeClipboardItem:t,write:o,read:s,clear:a}})(),ZH=Math.min,Jw=Math.max,TD=Math.round,WH=(e,t,o)=>{let s=t.x,a=t.y;const c=e.w,d=e.h,g=t.w,b=t.h,_=(o||"").split("");return _[0]==="b"&&(a+=b),_[1]==="r"&&(s+=g),_[0]==="c"&&(a+=TD(b/2)),_[1]==="c"&&(s+=TD(g/2)),_[3]==="b"&&(a-=d),_[4]==="r"&&(s-=c),_[3]==="c"&&(a-=TD(d/2)),_[4]==="c"&&(s-=TD(c/2)),Qw(s,a,c,d)},JX=(e,t,o,s)=>{for(let a=0;a<s.length;a++){const c=WH(e,t,s[a]);if(c.x>=o.x&&c.x+c.w<=o.w+o.x&&c.y>=o.y&&c.y+c.h<=o.h+o.y)return s[a]}return null},QX=(e,t,o)=>Qw(e.x-t,e.y-o,e.w+t*2,e.h+o*2),eJ=(e,t)=>{const o=Jw(e.x,t.x),s=Jw(e.y,t.y),a=ZH(e.x+e.w,t.x+t.w),c=ZH(e.y+e.h,t.y+t.h);return a-o<0||c-s<0?null:Qw(o,s,a-o,c-s)},tJ=(e,t,o)=>{let s=e.x,a=e.y,c=e.x+e.w,d=e.y+e.h;const g=t.x+t.w,b=t.y+t.h,_=Jw(0,t.x-s),T=Jw(0,t.y-a),N=Jw(0,c-g),R=Jw(0,d-b);return s+=_,a+=T,o&&(c+=_,d+=T,s-=N,a-=R),c-=N,d-=R,Qw(s,a,c-s,d-a)},Qw=(e,t,o,s)=>({x:e,y:t,w:o,h:s}),oJ={inflate:QX,relativePosition:WH,findBestRelativePosition:JX,intersect:eJ,clamp:tJ,create:Qw,fromClientRect:e=>Qw(e.left,e.top,e.width,e.height)},nJ=(e,t,o=1e3)=>{let s=!1,a=null;const c=_=>(...T)=>{s||(s=!0,a!==null&&(window.clearTimeout(a),a=null),_.apply(null,T))},d=c(e),g=c(t);return{start:(..._)=>{!s&&a===null&&(a=window.setTimeout(()=>g.apply(null,_),o))},resolve:d,reject:g}},sJ=(()=>{const e={},t={},o={};return{load:(b,_)=>{const T=`Script at URL "${_}" failed to load`,N=`Script at URL "${_}" did not call \`tinymce.Resource.add('${b}', data)\` within 1 second`;if(e[b]!==void 0)return e[b];{const R=new Promise((I,Y)=>{const G=nJ(I,Y);t[b]=G.resolve,La.ScriptLoader.loadScript(_).then(()=>G.start(N),()=>G.reject(T))});return e[b]=R,R}},add:(b,_)=>{t[b]!==void 0&&(t[b](_),delete t[b]),e[b]=Promise.resolve(_),o[b]=_},has:b=>b in o,get:b=>o[b],unload:b=>{delete e[b],delete o[b]}}})(),rJ=()=>(()=>{let e={},t=[];const o={getItem:s=>{const a=e[s];return a||null},setItem:(s,a)=>{t.push(s),e[s]=String(a)},key:s=>t[s],removeItem:s=>{t=t.filter(a=>a===s),delete e[s]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})();let xE;try{const e="__storage_test__";xE=window.localStorage,xE.setItem(e,e),xE.removeItem(e)}catch{xE=rJ()}var aJ=xE;const iJ={geom:{Rect:oJ},util:{Delay:ql,Tools:$e,VK:it,URI:Jl,EventDispatcher:iI,Observable:lI,I18n:co,LocalStorage:aJ,ImageUploader:xw},dom:{EventUtils:cs,TreeWalker:zn,TextSeeker:fi,DOMUtils:ko,ScriptLoader:La,RangeUtils:Mc,Serializer:aS,StyleSheetLoader:dd,ControlSelection:Ly,BookmarkManager:jn,Selection:n7,Event:cs.Event},html:{Styles:qp,Entities:md,Node:ca,Schema:no,DomParser:Nu,Writer:XT,Serializer:fg},Env:Vo,AddOnManager:Wr,Annotator:dT,Formatter:q7,UndoManager:Cw,EditorCommands:NH,WindowManager:uS,NotificationManager:uw,EditorObservable:BH,Shortcuts:zH,Editor:CD,FocusManager:pT,EditorManager:lb,DOM:ko.DOM,ScriptLoader:La.ScriptLoader,PluginManager:Lg,ThemeManager:Ig,ModelManager:Hh,IconManager:ec,Resource:sJ,FakeClipboard:XX,trim:$e.trim,isArray:$e.isArray,is:$e.is,toArray:$e.toArray,makeMap:$e.makeMap,each:$e.each,map:$e.map,grep:$e.grep,inArray:$e.inArray,extend:$e.extend,walk:$e.walk,resolve:$e.resolve,explode:$e.explode,_addCacheSuffix:$e._addCacheSuffix},jH=$e.extend(lb,iJ),lJ=e=>{try{X.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(jH),lJ(jH)})()})(vI)),vI.exports}var $J=HJ();const PI=zJ($J);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',"checkmark-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.8 5a1 1 0 0 0-1.4.3l-5.4 8-2-2.1a1 1 0 1 0-1.5 1.4l3 3a1 1 0 0 0 1.5-.2l6-9a1 1 0 0 0-.2-1.4Z"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',"close-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.7 5.3a1 1 0 0 0-1.3 0L12 10.6 8.6 7.3a1 1 0 0 0-1.3 1.3l3.3 3.4-3.3 3.4a1 1 0 0 0 1.3 1.3l3.4-3.3 3.4 3.3a1 1 0 0 0 1.3-1.3L13.4 12l3.3-3.4a1 1 0 0 0 0-1.3Z"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',feedback:'<svg width="24" height="24"><path fill-rule="evenodd" d="M16 6c1 0 2 1 2 2v5c0 1-1 2-2 2h-3l-4 3v-3H8c-1 0-2-1-2-2V8c0-1 1-2 2-2h8Zm-7 5v1h4v-1H9Zm0-2v1h6V9H9Z"/></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',"suggestededits-badge":'<svg height="24" width="24"><path d="M11 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9.7a6 6 0 0 1-2 .3v9H7V5h4a6 6 0 0 1 0-2z"/><path d="M15 13v-2h-4v2zm-3 2H9v2h3zm-1-8H9v2h2zm4 10v-2h-2v2z"/><path d="M21 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" class="tox-icon--badge"/></svg>',suggestededits:'<svg width="24" height="24"><path d="M7 3h7.4L19 7.6V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2Zm0 16h10V9h-3V5H7v14Z" clip-rule="evenodd"/><path d="M9 7h2v2H9V7Zm2 4h4v2h-4v-2Zm-2 4h3v2H9v-2Z"/><path d="M9 7h2v2H9V7Zm4 8h2v2h-2v-2Z"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const X=Object.getPrototypeOf,de=(n,r,i)=>{var l;return!!i(n,r.prototype)||((l=n.constructor)===null||l===void 0?void 0:l.name)===r.name},ye=n=>r=>(i=>{const l=typeof i;return i===null?"null":l==="object"&&Array.isArray(i)?"array":l==="object"&&de(i,String,((u,m)=>m.isPrototypeOf(u)))?"string":l})(r)===n,Xe=n=>r=>typeof r===n,Ue=n=>r=>n===r,Le=ye("string"),Ot=ye("object"),Qt=n=>((r,i)=>Ot(r)&&de(r,i,((l,u)=>X(l)===u)))(n,Object),io=ye("array"),Bt=Ue(null),Ao=Xe("boolean"),ao=Ue(void 0),vo=n=>n==null,ot=n=>!vo(n),yt=Xe("function"),zt=Xe("number"),fs=(n,r)=>{if(io(n)){for(let i=0,l=n.length;i<l;++i)if(!r(n[i]))return!1;return!0}return!1},Me=()=>{},No=n=>()=>n(),Je=(n,r)=>(...i)=>n(r.apply(null,i)),ae=n=>()=>n,dt=n=>n,ie=(n,r)=>n===r;function eo(n,...r){return(...i)=>{const l=r.concat(i);return n.apply(null,l)}}const ns=n=>r=>!n(r),Cs=n=>()=>{throw new Error(n)},zo=n=>n(),Ee=ae(!1),Ut=ae(!0);class E{constructor(r,i){this.tag=r,this.value=i}static some(r){return new E(!0,r)}static none(){return E.singletonNone}fold(r,i){return this.tag?i(this.value):r()}isSome(){return this.tag}isNone(){return!this.tag}map(r){return this.tag?E.some(r(this.value)):E.none()}bind(r){return this.tag?r(this.value):E.none()}exists(r){return this.tag&&r(this.value)}forall(r){return!this.tag||r(this.value)}filter(r){return!this.tag||r(this.value)?this:E.none()}getOr(r){return this.tag?this.value:r}or(r){return this.tag?this:r}getOrThunk(r){return this.tag?this.value:r()}orThunk(r){return this.tag?this:r()}getOrDie(r){if(this.tag)return this.value;throw new Error(r??"Called getOrDie on None")}static from(r){return ot(r)?E.some(r):E.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(r){this.tag&&r(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}E.singletonNone=new E(!1);const mo=Array.prototype.slice,fo=Array.prototype.indexOf,Yn=Array.prototype.push,ki=(n,r)=>fo.call(n,r),Ge=(n,r)=>ki(n,r)>-1,dn=(n,r)=>{for(let i=0,l=n.length;i<l;i++)if(r(n[i],i))return!0;return!1},df=(n,r)=>{const i=[];for(let l=0;l<n;l++)i.push(r(l));return i},bt=(n,r)=>{const i=[];for(let l=0;l<n.length;l+=r){const u=mo.call(n,l,l+r);i.push(u)}return i},Ke=(n,r)=>{const i=n.length,l=new Array(i);for(let u=0;u<i;u++){const m=n[u];l[u]=r(m,u)}return l},vt=(n,r)=>{for(let i=0,l=n.length;i<l;i++)r(n[i],i)},Vu=(n,r)=>{const i=[],l=[];for(let u=0,m=n.length;u<m;u++){const p=n[u];(r(p,u)?i:l).push(p)}return{pass:i,fail:l}},sn=(n,r)=>{const i=[];for(let l=0,u=n.length;l<u;l++){const m=n[l];r(m,l)&&i.push(m)}return i},un=(n,r,i)=>(((l,u)=>{for(let m=l.length-1;m>=0;m--)u(l[m],m)})(n,((l,u)=>{i=r(i,l,u)})),i),qo=(n,r,i)=>(vt(n,((l,u)=>{i=r(i,l,u)})),i),P=(n,r)=>((i,l,u)=>{for(let m=0,p=i.length;m<p;m++){const x=i[m];if(l(x,m))return E.some(x);if(u(x,m))break}return E.none()})(n,r,Ee),el=(n,r)=>{for(let i=0,l=n.length;i<l;i++)if(r(n[i],i))return E.some(i);return E.none()},fr=n=>{const r=[];for(let i=0,l=n.length;i<l;++i){if(!io(n[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+n);Yn.apply(r,n[i])}return r},yn=(n,r)=>fr(Ke(n,r)),Uc=(n,r)=>{for(let i=0,l=n.length;i<l;++i)if(r(n[i],i)!==!0)return!1;return!0},Gg=n=>{const r=mo.call(n,0);return r.reverse(),r},wo=(n,r)=>sn(n,(i=>!Ge(r,i))),Sn=(n,r)=>{const i={};for(let l=0,u=n.length;l<u;l++){const m=n[l];i[String(m)]=r(m,l)}return i},go=n=>[n],Te=(n,r)=>{const i=mo.call(n,0);return i.sort(r),i},Uu=(n,r)=>r>=0&&r<n.length?E.some(n[r]):E.none(),Lr=n=>Uu(n,0),Pt=n=>Uu(n,n.length-1),bb=yt(Array.from)?Array.from:n=>mo.call(n),wa=(n,r)=>{for(let i=0;i<n.length;i++){const l=r(n[i],i);if(l.isSome())return l}return E.none()},Go=Object.keys,Zu=Object.hasOwnProperty,Ko=(n,r)=>{const i=Go(n);for(let l=0,u=i.length;l<u;l++){const m=i[l];r(n[m],m)}},ss=(n,r)=>n1(n,((i,l)=>({k:l,v:r(i,l)}))),n1=(n,r)=>{const i={};return Ko(n,((l,u)=>{const m=r(l,u);i[m.k]=m.v})),i},Kg=n=>(r,i)=>{n[i]=r},_r=(n,r,i,l)=>{Ko(n,((u,m)=>{(r(u,m)?i:l)(u,m)}))},Tl=(n,r)=>{const i={};return _r(n,r,Kg(i),Me),i},Si=(n,r)=>{const i=[];return Ko(n,((l,u)=>{i.push(r(l,u))})),i},Wu=(n,r)=>{const i=Go(n);for(let l=0,u=i.length;l<u;l++){const m=i[l],p=n[m];if(r(p,m,n))return E.some(p)}return E.none()},Ir=n=>Si(n,dt),Dt=(n,r)=>$o(n,r)?E.from(n[r]):E.none(),$o=(n,r)=>Zu.call(n,r),$n=(n,r)=>$o(n,r)&&n[r]!==void 0&&n[r]!==null,Is=n=>{if(!io(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");const r=[],i={};return vt(n,((l,u)=>{const m=Go(l);if(m.length!==1)throw new Error("one and only one name per case");const p=m[0],x=l[p];if(i[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!io(x))throw new Error("case arguments must be an array");r.push(p),i[p]=(...v)=>{const w=v.length;if(w!==x.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+x.length+" ("+x+"), got "+w);return{fold:(...S)=>{if(S.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+S.length);return S[u].apply(null,v)},match:S=>{const k=Go(S);if(r.length!==k.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+k.join(","));if(!Uc(r,(A=>Ge(k,A))))throw new Error("Not all branches were specified when using match. Specified: "+k.join(", ")+`
Required: `+r.join(", "));return S[p].apply(null,v)},log:S=>{console.log(S,{constructors:r,constructor:p,params:v})}}}})),i},mt=n=>{let r=n;return{get:()=>r,set:i=>{r=i}}},Zc=n=>{let r=E.none(),i=[];const l=p=>{u()?m(p):i.push(p)},u=()=>r.isSome(),m=p=>{r.each((x=>{setTimeout((()=>{p(x)}),0)}))};return n((p=>{u()||(r=E.some(p),vt(i,m),i=[])})),{get:l,map:p=>Zc((x=>{l((v=>{x(p(v))}))})),isReady:u}},uf={nu:Zc,pure:n=>Zc((r=>{r(n)}))},Ca=n=>{setTimeout((()=>{throw n}),0)},wr=n=>{const r=i=>{n().then(i,Ca)};return{map:i=>wr((()=>n().then(i))),bind:i=>wr((()=>n().then((l=>i(l).toPromise())))),anonBind:i=>wr((()=>n().then((()=>i.toPromise())))),toLazy:()=>uf.nu(r),toCached:()=>{let i=null;return wr((()=>(i===null&&(i=n()),i)))},toPromise:n,get:r}},Mo=n=>wr((()=>new Promise(n))),si=n=>wr((()=>Promise.resolve(n))),xb=n=>{const r=m=>m(n),i=ae(n),l=()=>u,u={tag:!0,inner:n,fold:(m,p)=>p(n),isValue:Ut,isError:Ee,map:m=>yo.value(m(n)),mapError:l,bind:r,exists:r,forall:r,getOr:i,or:l,getOrThunk:i,orThunk:l,getOrDie:i,each:m=>{m(n)},toOptional:()=>E.some(n)};return u},qd=n=>{const r=()=>i,i={tag:!1,inner:n,fold:(l,u)=>l(n),isValue:Ee,isError:Ut,map:r,mapError:l=>yo.error(l(n)),bind:r,exists:Ee,forall:Ut,getOr:dt,or:dt,getOrThunk:zo,orThunk:zo,getOrDie:Cs(String(n)),each:Me,toOptional:E.none};return i},yo={value:xb,error:qd,fromOption:(n,r)=>n.fold((()=>qd(r)),xb)},Kr=n=>({...n,toCached:()=>Kr(n.toCached()),bindFuture:r=>Kr(n.bind((i=>i.fold((l=>si(yo.error(l))),(l=>r(l)))))),bindResult:r=>Kr(n.map((i=>i.bind(r)))),mapResult:r=>Kr(n.map((i=>i.map(r)))),mapError:r=>Kr(n.map((i=>i.mapError(r)))),foldResult:(r,i)=>n.map((l=>l.fold(r,i))),withTimeout:(r,i)=>Kr(Mo((l=>{let u=!1;const m=setTimeout((()=>{u=!0,l(yo.error(i()))}),r);n.get((p=>{u||(clearTimeout(m),l(p))}))})))}),Fr=n=>Kr(Mo(n)),$a=typeof window<"u"?window:Function("return this;")(),rs=(n,r,i,l)=>{const u=n+r;return u>l?i:u<i?l:u},Jo=(n,r,i)=>Math.min(Math.max(n,r),i);let Xt=0;const ge=n=>{const r=new Date().getTime(),i=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return Xt++,n+"_"+i+Xt+String(r)},s2=n=>(...r)=>{if(r.length===0)throw new Error("Can't merge zero objects");const i={};for(let l=0;l<r.length;l++){const u=r[l];for(const m in u)$o(u,m)&&(i[m]=n(i[m],u[m]))}return i},as=s2(((n,r)=>Qt(n)&&Qt(r)?as(n,r):r)),sc=s2(((n,r)=>r)),Bn=(n,r,i=ie)=>n.exists((l=>i(l,r))),rc=n=>{const r=[],i=l=>{r.push(l)};for(let l=0;l<n.length;l++)n[l].each(i);return r},ju=(n,r,i)=>n.isSome()&&r.isSome()?E.some(i(n.getOrDie(),r.getOrDie())):E.none(),Yg=(n,r)=>n!=null?E.some(r(n)):E.none(),gs=(n,r)=>n?E.some(r):E.none(),vb=(n,r)=>((i,l)=>{let u=l??$a;for(let m=0;m<i.length&&u!=null;++m)u=u[i[m]];return u})(n.split("."),r);Is([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Xg=n=>{const r=mt(E.none()),i=()=>r.get().each(n);return{clear:()=>{i(),r.set(E.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:l=>{i(),r.set(E.some(l))}}},Yr=()=>Xg((n=>n.unbind())),mn=()=>{const n=Xg(Me);return{...n,on:r=>n.get().each(r)}},Jg=(n,r,i)=>r===""||n.length>=r.length&&n.substr(i,i+r.length)===r,Pn=(n,r)=>r2(n,r)?((i,l)=>i.substring(l))(n,r.length):n,Qs=(n,r,i=0,l)=>{const u=n.indexOf(r,i);return u!==-1&&(!!ao(l)||u+r.length<=l)},r2=(n,r)=>Jg(n,r,0),Qg=(n,r)=>Jg(n,r,n.length-r.length),ep=(c2=/^\s+|\s+$/g,n=>n.replace(c2,"")),Wc=n=>n.length>0,Gd=n=>!Wc(n),mf=(n,r)=>{let i=null;const l=()=>{Bt(i)||(clearTimeout(i),i=null)};return{cancel:l,throttle:(...u)=>{l(),i=setTimeout((()=>{i=null,n.apply(null,u)}),r)}}},gr=n=>{let r,i=!1;return(...l)=>(i||(i=!0,r=n.apply(null,l)),r)},ff=n=>{if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},uC=(n,r)=>{const i=document.createElement("div");if(i.innerHTML=n,!i.hasChildNodes()||i.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,n),new Error(l)}return ff(i.childNodes[0])},Qn=(n,r)=>{const i=document.createElement(n);return ff(i)},a2=(n,r)=>{const i=document.createTextNode(n);return ff(i)},at=ff,i2=(n,r,i)=>{const l=n.document.createRange();var u;return u=l,r.fold((m=>{u.setStartBefore(m.dom)}),((m,p)=>{u.setStart(m.dom,p)}),(m=>{u.setStartAfter(m.dom)})),((m,p)=>{p.fold((x=>{m.setEndBefore(x.dom)}),((x,v)=>{m.setEnd(x.dom,v)}),(x=>{m.setEndAfter(x.dom)}))})(l,i),l},yb=(n,r,i,l,u)=>{const m=n.document.createRange();return m.setStart(r.dom,i),m.setEnd(l.dom,u),m},_b=n=>({left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}),gf=Is([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),l2=(n,r,i)=>r(at(i.startContainer),i.startOffset,at(i.endContainer),i.endOffset),ac=(n,r)=>((i,l)=>{const u=((m,p)=>p.match({domRange:x=>({ltr:ae(x),rtl:E.none}),relative:(x,v)=>({ltr:gr((()=>i2(m,x,v))),rtl:gr((()=>E.some(i2(m,v,x))))}),exact:(x,v,w,S)=>({ltr:gr((()=>yb(m,x,v,w,S))),rtl:gr((()=>E.some(yb(m,w,S,x,v))))})}))(i,l);return((m,p)=>{const x=p.ltr();return x.collapsed?p.rtl().filter((v=>v.collapsed===!1)).map((v=>gf.rtl(at(v.endContainer),v.endOffset,at(v.startContainer),v.startOffset))).getOrThunk((()=>l2(0,gf.ltr,x))):l2(0,gf.ltr,x)})(0,u)})(n,r).match({ltr:(i,l,u,m)=>{const p=n.document.createRange();return p.setStart(i.dom,l),p.setEnd(u.dom,m),p},rtl:(i,l,u,m)=>{const p=n.document.createRange();return p.setStart(u.dom,m),p.setEnd(i.dom,l),p}});var c2;gf.ltr,gf.rtl;const qu=(n,r)=>{const i=n.dom;if(i.nodeType!==1)return!1;{const l=i;if(l.matches!==void 0)return l.matches(r);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(r);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(r);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")}},wb=n=>n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11||n.childElementCount===0,zr=(n,r)=>{const i=r===void 0?document:r.dom;return wb(i)?E.none():E.from(i.querySelector(n)).map(at)},lo=(n,r)=>n.dom===r.dom,pf=(n,r)=>{const i=n.dom,l=r.dom;return i!==l&&i.contains(l)},s1=()=>jc(0,0),jc=(n,r)=>({major:n,minor:r}),tp={nu:jc,detect:(n,r)=>{const i=String(r).toLowerCase();return n.length===0?s1():((l,u)=>{const m=((x,v)=>{for(let w=0;w<x.length;w++){const S=x[w];if(S.test(v))return S}})(l,u);if(!m)return{major:0,minor:0};const p=x=>Number(u.replace(m,"$"+x));return jc(p(1),p(2))})(n,i)},unknown:s1},Cb=(n,r)=>{const i=String(r).toLowerCase();return P(n,(l=>l.search(i)))},tl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ei=n=>r=>Qs(r,n),d2=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:n=>Qs(n,"edge/")&&Qs(n,"chrome")&&Qs(n,"safari")&&Qs(n,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,tl],search:n=>Qs(n,"chrome")&&!Qs(n,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:n=>Qs(n,"msie")||Qs(n,"trident")},{name:"Opera",versionRegexes:[tl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ei("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ei("firefox")},{name:"Safari",versionRegexes:[tl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:n=>(Qs(n,"safari")||Qs(n,"mobile/"))&&Qs(n,"applewebkit")}],r1=[{name:"Windows",search:Ei("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:n=>Qs(n,"iphone")||Qs(n,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ei("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ei("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ei("linux"),versionRegexes:[]},{name:"Solaris",search:Ei("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ei("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ei("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],op={browsers:ae(d2),oses:ae(r1)},es="Edge",Al="Chromium",Kd="Opera",Fs="Firefox",u2="Safari",ka=n=>{const r=n.current,i=n.version,l=u=>()=>r===u;return{current:r,version:i,isEdge:l(es),isChromium:l(Al),isIE:l("IE"),isOpera:l(Kd),isFirefox:l(Fs),isSafari:l(u2)}},Gu=()=>ka({current:void 0,version:tp.unknown()}),m2=ka,f2="Windows",Sa="Android",a1="Linux",hf="macOS",qc="Solaris",bf="FreeBSD",g2="ChromeOS",xf=n=>{const r=n.current,i=n.version,l=u=>()=>r===u;return{current:r,version:i,isWindows:l(f2),isiOS:l("iOS"),isAndroid:l(Sa),isMacOS:l(hf),isLinux:l(a1),isSolaris:l(qc),isFreeBSD:l(bf),isChromeOS:l(g2)}},np=()=>xf({current:void 0,version:tp.unknown()}),Hr=xf,i1=(n=>window.matchMedia(n).matches);let p2=gr((()=>((n,r,i)=>{const l=op.browsers(),u=op.oses(),m=r.bind((v=>((w,S)=>wa(S.brands,(k=>{const A=k.brand.toLowerCase();return P(w,(M=>{var B;return A===((B=M.brand)===null||B===void 0?void 0:B.toLowerCase())})).map((M=>({current:M.name,version:tp.nu(parseInt(k.version,10),0)})))})))(l,v))).orThunk((()=>((v,w)=>Cb(v,w).map((S=>{const k=tp.detect(S.versionRegexes,w);return{current:S.name,version:k}})))(l,n))).fold(Gu,m2),p=((v,w)=>Cb(v,w).map((S=>{const k=tp.detect(S.versionRegexes,w);return{current:S.name,version:k}})))(u,n).fold(np,Hr),x=((v,w,S,k)=>{const A=v.isiOS()&&/ipad/i.test(S)===!0,M=v.isiOS()&&!A,B=v.isiOS()||v.isAndroid(),U=B||k("(pointer:coarse)"),$=A||!M&&B&&k("(min-device-width:768px)"),V=M||B&&!$,z=w.isSafari()&&v.isiOS()&&/safari/i.test(S)===!1,H=!V&&!$&&!z;return{isiPad:ae(A),isiPhone:ae(M),isTablet:ae($),isPhone:ae(V),isTouch:ae(U),isAndroid:v.isAndroid,isiOS:v.isiOS,isWebView:ae(z),isDesktop:ae(H)}})(p,m,n,i);return{browser:m,os:p,deviceType:x}})(window.navigator.userAgent,E.from(window.navigator.userAgentData),i1)));const ol=()=>p2(),mC=Object.getPrototypeOf,kb=n=>{const r=vb("ownerDocument.defaultView",n);return Ot(n)&&((i=>((l,u)=>{const m=((p,x)=>vb(p,x))(l,u);if(m==null)throw new Error(l+" not available on this browser");return m})("HTMLElement",i))(r).prototype.isPrototypeOf(n)||/^HTML\w*Element$/.test(mC(n).constructor.name))},Ol=n=>n.dom.nodeName.toLowerCase(),Yd=n=>r=>(i=>i.dom.nodeType)(r)===n,Ku=n=>$r(n)&&kb(n.dom),$r=Yd(1),ic=Yd(3),sp=Yd(9),rp=Yd(11),En=n=>r=>$r(r)&&Ol(r)===n,Dl=n=>at(n.dom.ownerDocument),l1=n=>sp(n)?n:Dl(n),Ti=n=>at(l1(n).dom.documentElement),Yu=n=>at(l1(n).dom.defaultView),Vn=n=>E.from(n.dom.parentNode).map(at),Ai=n=>E.from(n.dom.parentElement).map(at),Xd=n=>E.from(n.dom.offsetParent).map(at),Gc=n=>E.from(n.dom.previousSibling).map(at),As=n=>E.from(n.dom.nextSibling).map(at),nl=n=>Ke(n.dom.childNodes,at),lc=(n,r)=>{const i=n.dom.childNodes;return E.from(i[r]).map(at)},Xr=n=>lc(n,0),h2=(n,r)=>({element:n,offset:r}),Sb=(n,r)=>{const i=nl(n);return i.length>0&&r<i.length?h2(i[r],0):h2(n,r)},c1=n=>rp(n)&&ot(n.dom.host),er=n=>at(n.dom.getRootNode()),Xu=n=>c1(n)?n:at(l1(n).dom.body),Jd=n=>{const r=er(n);return c1(r)?E.some(r):E.none()},Nl=n=>at(n.dom.host),Eb=n=>{const r=at((m=>{if(ot(m.target)){const p=at(m.target);if($r(p)&&(x=>ot(x.dom.shadowRoot))(p)&&m.composed&&m.composedPath){const x=m.composedPath();if(x)return Lr(x)}}return E.from(m.target)})(n).getOr(n.target)),i=()=>n.stopPropagation(),l=()=>n.preventDefault(),u=Je(l,i);return((m,p,x,v,w,S,k)=>({target:m,x:p,y:x,stop:v,prevent:w,kill:S,raw:k}))(r,n.clientX,n.clientY,i,l,u,n)},Cr=(n,r,i,l,u)=>{const m=((p,x)=>v=>{p(v)&&x(Eb(v))})(i,l);return n.dom.addEventListener(r,m,u),{unbind:eo(vf,n,r,m,u)}},vf=(n,r,i,l)=>{n.dom.removeEventListener(r,i,l)},Kc=Ut,da=(n,r,i)=>((l,u,m,p)=>Cr(l,u,m,p,!1))(n,r,Kc,i),ap=(n,r,i)=>((l,u,m,p)=>Cr(l,u,m,p,!0))(n,r,Kc,i),Rl=Eb,d1=()=>at(document),_n=(n,r=!1)=>n.dom.focus({preventScroll:r}),ip=n=>n.dom.blur(),cc=n=>{const r=er(n).dom;return n.dom===r.activeElement},Ml=(n=d1())=>E.from(n.dom.activeElement).map(at),Vr=n=>Ml(er(n)).filter((r=>n.dom.contains(r.dom))),Oi=(n,r)=>{Vn(n).each((i=>{i.dom.insertBefore(r.dom,n.dom)}))},Tb=(n,r)=>{As(n).fold((()=>{Vn(n).each((i=>{zs(i,r)}))}),(i=>{Oi(i,r)}))},lp=(n,r)=>{Xr(n).fold((()=>{zs(n,r)}),(i=>{n.dom.insertBefore(r.dom,i.dom)}))},zs=(n,r)=>{n.dom.appendChild(r.dom)},ua=(n,r)=>{vt(r,(i=>{zs(n,i)}))},Bl=(n,r,i)=>{if(!(Le(i)||Ao(i)||zt(i)))throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",i,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(r,i+"")},Vt=(n,r,i)=>{Bl(n.dom,r,i)},Vo=(n,r)=>{const i=n.dom;Ko(r,((l,u)=>{Bl(i,u,l)}))},Hs=(n,r)=>{const i=n.dom.getAttribute(r);return i===null?void 0:i},$s=(n,r)=>E.from(Hs(n,r)),Ab=(n,r)=>{const i=n.dom;return!(!i||!i.hasAttribute)&&i.hasAttribute(r)},ts=(n,r)=>{n.dom.removeAttribute(r)},u1=n=>{n.dom.textContent="",vt(nl(n),(r=>{dc(r)}))},dc=n=>{const r=n.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},m1=(n,r)=>at(n.dom.cloneNode(r)),yf=n=>n.dom.innerHTML,Ju=(n,r)=>{const i=Dl(n).dom,l=at(i.createDocumentFragment()),u=((m,p)=>{const x=(p||document).createElement("div");return x.innerHTML=m,nl(at(x))})(r,i);ua(l,u),u1(n),zs(n,l)},Qu=n=>new Promise(((r,i)=>{const l=()=>{m(),r(n)},u=[da(n,"load",l),da(n,"error",(()=>{m(),i("Unable to load data from image: "+n.dom.src)}))],m=()=>vt(u,(p=>p.unbind()));n.dom.complete&&l()})),$e=n=>n.style!==void 0&&yt(n.style.getPropertyValue),ma=n=>{const r=ic(n)?n.dom.parentNode:n.dom;if(r==null||r.ownerDocument===null)return!1;const i=r.ownerDocument;return Jd(at(r)).fold((()=>i.body.contains(r)),(l=ma,u=Nl,m=>l(u(m))));var l,u},ps=()=>b2(at(document)),b2=n=>{const r=n.dom.body;if(r==null)throw new Error("Body is not available yet");return at(r)},em=(n,r,i)=>{if(!Le(i))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",i,":: Element ",n),new Error("CSS value must be a string: "+i);$e(n)&&n.style.setProperty(r,i)},_f=(n,r)=>{$e(n)&&n.style.removeProperty(r)},Z=(n,r,i)=>{const l=n.dom;em(l,r,i)},Qd=(n,r)=>{const i=n.dom;Ko(r,((l,u)=>{em(i,u,l)}))},eu=(n,r)=>{const i=n.dom;Ko(r,((l,u)=>{l.fold((()=>{_f(i,u)}),(m=>{em(i,u,m)}))}))},kr=(n,r)=>{const i=n.dom,l=window.getComputedStyle(i).getPropertyValue(r);return l!==""||ma(n)?l:cp(i,r)},cp=(n,r)=>$e(n)?n.style.getPropertyValue(r):"",os=(n,r)=>{const i=n.dom,l=cp(i,r);return E.from(l).filter((u=>u.length>0))},wf=n=>{const r={},i=n.dom;if($e(i))for(let l=0;l<i.style.length;l++){const u=i.style.item(l);r[u]=i.style[u]}return r},uc=(n,r,i)=>{const l=Qn(n);return Z(l,r,i),os(l,r).isSome()},_o=(n,r)=>{const i=n.dom;_f(i,r),Bn($s(n,"style").map(ep),"")&&ts(n,"style")},dp=n=>n.dom.offsetWidth,Cf=(n,r)=>{const i=u=>{const m=r(u);if(m<=0||m===null){const p=kr(u,n);return parseFloat(p)||0}return m},l=(u,m)=>qo(m,((p,x)=>{const v=kr(u,x),w=v===void 0?0:parseInt(v,10);return isNaN(w)?p:p+w}),0);return{set:(u,m)=>{if(!zt(m)&&!m.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+m);const p=u.dom;$e(p)&&(p.style[n]=m+"px")},get:i,getOuter:i,aggregate:l,max:(u,m,p)=>{const x=l(u,p);return m>x?m-x:0}}},up=Cf("height",(n=>{const r=n.dom;return ma(n)?r.getBoundingClientRect().height:r.offsetHeight})),Os=n=>up.get(n),sl=n=>up.getOuter(n),tm=n=>!(r=>r.offsetWidth<=0&&r.offsetHeight<=0)(n.dom),Jr=Cf("width",(n=>{const r=n.dom;return ma(n)?r.getBoundingClientRect().width:r.offsetWidth})),Fn=n=>Jr.get(n),Yc=n=>Jr.getOuter(n),om=(n,r)=>({left:n,top:r,translate:(i,l)=>om(n+i,r+l)}),Lt=om,Qr=(n,r)=>n!==void 0?n:r!==void 0?r:0,Va=n=>{const r=n.dom.ownerDocument,i=r.body,l=r.defaultView,u=r.documentElement;if(i===n.dom)return Lt(i.offsetLeft,i.offsetTop);const m=Qr(l?.pageYOffset,u.scrollTop),p=Qr(l?.pageXOffset,u.scrollLeft),x=Qr(u.clientTop,i.clientTop),v=Qr(u.clientLeft,i.clientLeft);return nm(n).translate(p-v,m-x)},nm=n=>{const r=n.dom,i=r.ownerDocument.body;return i===r?Lt(i.offsetLeft,i.offsetTop):ma(n)?(l=>{const u=l.getBoundingClientRect();return Lt(u.left,u.top)})(r):Lt(0,0)},Gt=n=>{const r=n!==void 0?n.dom:document,i=r.body.scrollLeft||r.documentElement.scrollLeft,l=r.body.scrollTop||r.documentElement.scrollTop;return Lt(i,l)},mp=(n,r,i)=>{const l=(i!==void 0?i.dom:document).defaultView;l&&l.scrollTo(n,r)},fp=(n=>{const r=i=>n(i)?E.from(i.dom.nodeValue):E.none();return{get:i=>{if(!n(i))throw new Error("Can only get text value of a text node");return r(i).getOr("")},getOption:r,set:(i,l)=>{if(!n(i))throw new Error("Can only set raw text value of a text node");i.dom.nodeValue=l}}})(ic),kf=(n,r)=>i=>sm(i)==="rtl"?r:n,sm=n=>kr(n,"direction")==="rtl"?"rtl":"ltr",hs=(n,r)=>{const i=Hs(n,r);return i===void 0||i===""?[]:i.split(" ")};var Ur=(n,r,i,l,u)=>n(i,l)?E.some(i):yt(u)&&u(i)?E.none():r(i,l,u);const x2=(n,r,i)=>{let l=n.dom;const u=yt(i)?i:Ee;for(;l.parentNode;){l=l.parentNode;const m=at(l);if(r(m))return E.some(m);if(u(m))break}return E.none()},v2=(n,r,i)=>Ur(((l,u)=>u(l)),x2,n,r,i),mc=(n,r)=>P(n.dom.childNodes,(i=>r(at(i)))).map(at),Ua=(n,r,i)=>x2(n,(l=>qu(l,r)),i),fc=(n,r)=>(i=>{const l=i.dom;return l.parentNode?mc(at(l.parentNode),(u=>!lo(i,u)&&qu(u,r))):E.none()})(n),f1=(n,r)=>mc(n,(i=>qu(i,r))),Qo=(n,r)=>zr(r,n),Vs=(n,r,i)=>Ur(((l,u)=>qu(l,u)),Ua,n,r,i),rm=(n,r)=>{n.dom.checked=r},am=n=>n.dom.checked,Za=n=>n.dom.classList!==void 0,ri=n=>hs(n,"class"),gc=(n,r)=>((i,l,u)=>{const m=hs(i,l).concat([u]);return Vt(i,l,m.join(" ")),!0})(n,"class",r),Sf=(n,r)=>((i,l,u)=>{const m=sn(hs(i,l),(p=>p!==u));return m.length>0?Vt(i,l,m.join(" ")):ts(i,l),!1})(n,"class",r),Ln=(n,r)=>{Za(n)?n.dom.classList.add(r):gc(n,r)},bs=n=>{(Za(n)?n.dom.classList:ri(n)).length===0&&ts(n,"class")},fn=(n,r)=>{Za(n)?n.dom.classList.remove(r):Sf(n,r),bs(n)},xs=(n,r)=>Za(n)&&n.dom.classList.contains(r),Di=(n,r)=>{vt(r,(i=>{Ln(n,i)}))},Zr=(n,r)=>{vt(r,(i=>{fn(n,i)}))},g1=n=>Za(n)?(r=>{const i=r.dom.classList,l=new Array(i.length);for(let u=0;u<i.length;u++){const m=i.item(u);m!==null&&(l[u]=m)}return l})(n):ri(n),Ds=n=>n.dom.value,Wa=(n,r)=>{if(r===void 0)throw new Error("Value.set was undefined");n.dom.value=r},gp=(n,r,i)=>sn(((l,u)=>{const m=yt(u)?u:Ee;let p=l.dom;const x=[];for(;p.parentNode!==null&&p.parentNode!==void 0;){const v=p.parentNode,w=at(v);if(x.push(w),m(w)===!0)break;p=v}return x})(n,i),r),Sr=(n,r)=>((i,l)=>{const u=l===void 0?document:l.dom;return wb(u)?[]:Ke(u.querySelectorAll(i),at)})(r,n),pp=(n,r,i)=>v2(n,r,i).isSome(),hp=(n,r,i)=>Vs(n,r,i).isSome(),p1=n=>yt(n)?n:Ee,h1=(n,r,i)=>{let l=n.dom;const u=p1(i);for(;l.parentNode;){l=l.parentNode;const m=at(l),p=r(m);if(p.isSome())return p;if(u(m))break}return E.none()},bp=(n,r,i)=>{const l=r(n),u=p1(i);return l.orThunk((()=>u(n)?E.none():h1(n,r,u)))},b1=(n,r,i,l)=>({start:n,soffset:r,finish:i,foffset:l}),x1=Is([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),v1=(x1.before,x1.on,x1.after,n=>n.fold(dt,dt,dt)),y1=Is([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Pl={domRange:y1.domRange,relative:y1.relative,exact:y1.exact,exactFromRange:n=>y1.exact(n.start,n.soffset,n.finish,n.foffset),getWin:n=>{const r=(i=>i.match({domRange:l=>at(l.startContainer),relative:(l,u)=>v1(l),exact:(l,u,m,p)=>l}))(n);return Yu(r)},range:b1},_1=n=>{if(n.rangeCount>0){const r=n.getRangeAt(0),i=n.getRangeAt(n.rangeCount-1);return E.some(b1(at(r.startContainer),r.startOffset,at(i.endContainer),i.endOffset))}return E.none()},y2=n=>{if(n.anchorNode===null||n.focusNode===null)return _1(n);{const r=at(n.anchorNode),i=at(n.focusNode);return((l,u,m,p)=>{const x=((w,S,k,A)=>{const M=Dl(w).dom.createRange();return M.setStart(w.dom,S),M.setEnd(k.dom,A),M})(l,u,m,p),v=lo(l,m)&&u===p;return x.collapsed&&!v})(r,n.anchorOffset,i,n.focusOffset)?E.some(b1(r,n.anchorOffset,i,n.focusOffset)):_1(n)}},w1=(n,r)=>(i=>{const l=i.getClientRects(),u=l.length>0?l[0]:i.getBoundingClientRect();return u.width>0||u.height>0?E.some(u).map(_b):E.none()})(ac(n,r)),Er={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},xp=(()=>{const n="[0-9]+",r="[eE][+-]?"+n,i=u=>`(?:${u})?`,l=["Infinity",n+"\\."+i(n)+i(r),"\\."+n+i(r),n+i(r)].join("|");return new RegExp(`^([+-]?(?:${l}))(.*)$`)})(),Ea=(n,r)=>E.from(xp.exec(n)).bind((i=>{const l=Number(i[1]),u=i[2];return((m,p)=>dn(p,(x=>dn(Er[x],(v=>m===v)))))(u,r)?E.some({value:l,unit:u}):E.none()})),vp=(n,r,i,l)=>({x:n,y:r,width:i,height:l,right:n+i,bottom:r+l}),tr=n=>{const r=n===void 0?window:n,i=r.document,l=Gt(at(i));return(u=>{const m=u===void 0?window:u;return ol().browser.isFirefox()?E.none():E.from(m.visualViewport)})(r).fold((()=>{const u=r.document.documentElement,m=u.clientWidth,p=u.clientHeight;return vp(l.left,l.top,m,p)}),(u=>vp(Math.max(u.pageLeft,l.left),Math.max(u.pageTop,l.top),u.width,u.height)))},Ni=(n,r)=>n.view(r).fold(ae([]),(i=>{const l=n.owner(i),u=Ni(n,l);return[i].concat(u)}));var Xc=Object.freeze({__proto__:null,view:n=>{var r;return(n.dom===document?E.none():E.from((r=n.dom.defaultView)===null||r===void 0?void 0:r.frameElement)).map(at)},owner:n=>Dl(n)});const rn=n=>{const r=d1(),i=Gt(r);return((u,m)=>{const p=m.owner(u),x=Ni(m,p);return E.some(x)})(n,Xc).fold(eo(Va,n),(u=>{const m=nm(n),p=un(u,((x,v)=>{const w=nm(v);return{left:x.left+w.left,top:x.top+w.top}}),{left:0,top:0});return Lt(p.left+m.left+i.left,p.top+m.top+i.top)}))},Ns=(n,r,i,l)=>({x:n,y:r,width:i,height:l,right:n+i,bottom:r+l}),Us=n=>{const r=Va(n),i=Yc(n),l=sl(n);return Ns(r.left,r.top,i,l)},pc=n=>{const r=rn(n),i=Yc(n),l=sl(n);return Ns(r.left,r.top,i,l)},ai=(n,r)=>{const i=Math.max(n.x,r.x),l=Math.max(n.y,r.y),u=Math.min(n.right,r.right),m=Math.min(n.bottom,r.bottom);return Ns(i,l,u-i,m-l)},Tr=()=>tr(window),Zs=(n,r)=>lo(n.element,r.event.target),Ta=n=>(Bn(os(n,"position"),"fixed")?E.none():Xd(n)).orThunk((()=>{const r=Qn("span");return Vn(n).bind((i=>{zs(i,r);const l=Xd(r);return dc(r),l}))})),fa=n=>Ta(n).map(Va).getOrThunk((()=>Lt(0,0)));var or;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(or||(or={}));const im=(n,r,i)=>n.stype===or.Error?r(n.serror):i(n.svalue),ks=n=>({stype:or.Value,svalue:n}),C1=n=>({stype:or.Error,serror:n}),rl=ks,ja=C1,Tn=im,ii=n=>Ot(n)&&Go(n).length>100?" removed due to size":JSON.stringify(n,null,2),lm=(n,r)=>ja([{path:n,getErrorInfo:r}]),qa=n=>({extract:(r,i)=>((l,u)=>l.stype===or.Error?u(l.serror):l)(n(i),(l=>((u,m)=>lm(u,ae(m)))(r,l))),toString:ae("val")}),yp=qa(rl),li=ae(yp),cm=(n,r)=>qa((i=>{const l=typeof i;return n(i)?rl(i):ja(`Expected type: ${r} but got: ${l}`)})),k1=cm(zt,"number"),Un=cm(Le,"string"),Jc=cm(Ao,"boolean"),tu=cm(yt,"function"),_p=n=>{if(Object(n)!==n)return!0;switch({}.toString.call(n).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(n).every((r=>_p(n[r])));default:return!1}},Ef=qa((n=>_p(n)?rl(n):ja("Expected value to be acceptable for sending via postMessage"))),hc=n=>({tag:"defaultedThunk",process:n}),wp=n=>hc(ae(n)),Ob=n=>({tag:"mergeWithThunk",process:n}),Tf=(n,r,i,l)=>({tag:"field",key:n,newKey:r,presence:i,prop:l}),dm=(n,r,i)=>{switch(n.tag){case"field":return r(n.key,n.newKey,n.presence,n.prop);case"custom":return i(n.newKey,n.instantiator)}},Ri=n=>{const r=(l=>{const u=[],m=[];return vt(l,(p=>{im(p,(x=>m.push(x)),(x=>u.push(x)))})),{values:u,errors:m}})(n);return r.errors.length>0?(i=r.errors,Je(ja,fr)(i)):rl(r.values);var i},Cp=(n,r,i,l)=>l(Dt(n,r).getOrThunk((()=>i(n)))),Af=(n,r,i,l,u)=>{const m=x=>u.extract(r.concat([l]),x),p=x=>x.fold((()=>rl(E.none())),(v=>((w,S)=>w.stype===or.Value?{stype:or.Value,svalue:S(w.svalue)}:w)(u.extract(r.concat([l]),v),E.some)));switch(n.tag){case"required":return((x,v,w,S)=>Dt(v,w).fold((()=>((k,A,M)=>lm(k,(()=>'Could not find valid *required* value for "'+A+'" in '+ii(M))))(x,w,v)),S))(r,i,l,m);case"defaultedThunk":return Cp(i,l,n.process,m);case"option":return((x,v,w)=>w(Dt(x,v)))(i,l,p);case"defaultedOptionThunk":return((x,v,w,S)=>S(Dt(x,v).map((k=>k===!0?w(x):k))))(i,l,n.process,p);case"mergeWithThunk":return Cp(i,l,ae({}),(x=>{const v=as(n.process(i),x);return m(v)}))}},kp=n=>({extract:(r,i)=>n().extract(r,i),toString:()=>n().toString()}),Qc=n=>Go(Tl(n,ot)),ci=n=>{const r=Ht(n),i=un(n,((l,u)=>dm(u,(m=>as(l,{[m]:!0})),ae(l))),{});return{extract:(l,u)=>{const m=Ao(u)?[]:Qc(u),p=sn(m,(x=>!$n(i,x)));return p.length===0?r.extract(l,u):((x,v)=>lm(x,(()=>"There are unsupported fields: ["+v.join(", ")+"] specified")))(l,p)},toString:r.toString}},Ht=n=>({extract:(r,i)=>((l,u,m)=>{const p={},x=[];for(const v of m)dm(v,((w,S,k,A)=>{const M=Af(k,l,u,w,A);Tn(M,(B=>{x.push(...B)}),(B=>{p[S]=B}))}),((w,S)=>{p[w]=S(u)}));return x.length>0?ja(x):rl(p)})(r,i,n),toString:()=>`obj{
`+Ke(n,(i=>dm(i,((l,u,m,p)=>l+" -> "+p.toString()),((l,u)=>"state("+l+")")))).join(`
`)+"}"}),ed=n=>({extract:(r,i)=>{const l=Ke(i,((u,m)=>n.extract(r.concat(["["+m+"]"]),u)));return Ri(l)},toString:()=>"array("+n.toString()+")"}),Sp=(n,r)=>{const i=r!==void 0?r:dt;return{extract:(l,u)=>{const m=[];for(const p of n){const x=p.extract(l,u);if(x.stype===or.Value)return{stype:or.Value,svalue:i(x.svalue)};m.push(x)}return Ri(m)},toString:()=>"oneOf("+Ke(n,(l=>l.toString())).join(", ")+")"}},Db=(n,r)=>({extract:(i,l)=>{const u=Go(l),m=((p,x)=>ed(qa(n)).extract(p,x))(i,u);return((p,x)=>p.stype===or.Value?x(p.svalue):p)(m,(p=>{const x=Ke(p,(v=>Tf(v,v,{tag:"required",process:{}},r)));return Ht(x).extract(i,l)}))},toString:()=>"setOf("+r.toString()+")"}),td=Je(ed,Ht),Of=(n,r)=>({extract:(i,l)=>Dt(l,n).fold((()=>((u,m)=>lm(u,(()=>'Choice schema did not contain choice key: "'+m+'"')))(i,n)),(u=>((m,p,x,v)=>Dt(x,v).fold((()=>((w,S,k)=>lm(w,(()=>'The chosen schema: "'+k+'" did not exist in branches: '+ii(S))))(m,x,v)),(w=>w.extract(m.concat(["branch: "+v]),p))))(i,l,r,u))),toString:()=>"chooseOn("+n+"). Possible values: "+Go(r)}),ou=n=>qa((r=>n(r).fold(ja,rl))),_2=(n,r)=>Db((i=>n(i).fold(C1,ks)),r),An=(n,r,i)=>{return l=((u,m,p)=>((x,v)=>x.stype===or.Error?{stype:or.Error,serror:v(x.serror)}:x)(m.extract([u],p),(x=>({input:p,errors:x}))))(n,r,i),im(l,yo.error,yo.value);var l},Aa=n=>n.fold((r=>{throw new Error(od(r))}),dt),ea=(n,r,i)=>Aa(An(n,r,i)),od=n=>`Errors: 
`+(r=>{const i=r.length>10?r.slice(0,10).concat([{path:[],getErrorInfo:ae("... (only showing first ten failures)")}]):r;return Ke(i,(l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo()))})(n.errors).join(`
`)+`

Input object: `+ii(n.input),ga=(n,r)=>Of(n,ss(r,Ht)),nd=(n,r)=>((i,l)=>{const u=gr(l);return{extract:(m,p)=>u().extract(m,p),toString:()=>u().toString()}})(0,r),Ws=Tf,js=(n,r)=>({tag:"custom",newKey:n,instantiator:r}),Df=n=>ou((r=>Ge(n,r)?yo.value(r):yo.error(`Unsupported value: "${r}", choose one of "${n.join(", ")}".`))),Fe=n=>Ws(n,n,{tag:"required",process:{}},li()),Oa=(n,r)=>Ws(n,n,{tag:"required",process:{}},r),Nf=n=>Oa(n,k1),Rs=n=>Oa(n,Un),Mi=(n,r)=>Ws(n,n,{tag:"required",process:{}},Df(r)),nr=n=>Oa(n,tu),ta=(n,r)=>Ws(n,n,{tag:"required",process:{}},Ht(r)),Rf=(n,r)=>Ws(n,n,{tag:"required",process:{}},td(r)),oa=(n,r)=>Ws(n,n,{tag:"required",process:{}},ed(r)),Po=n=>Ws(n,n,{tag:"option",process:{}},li()),na=(n,r)=>Ws(n,n,{tag:"option",process:{}},r),is=n=>na(n,k1),On=n=>na(n,Un),nu=(n,r)=>na(n,Df(r)),pr=n=>na(n,tu),su=(n,r)=>na(n,ed(r)),pa=(n,r)=>na(n,Ht(r)),xe=(n,r)=>Ws(n,n,wp(r),li()),sa=(n,r,i)=>Ws(n,n,wp(r),i),sd=(n,r)=>sa(n,r,k1),bn=(n,r)=>sa(n,r,Un),al=(n,r,i)=>sa(n,r,Df(i)),sr=(n,r)=>sa(n,r,Jc),wn=(n,r)=>sa(n,r,tu),rd=(n,r,i)=>sa(n,r,ed(i)),S1=(n,r,i)=>sa(n,r,Ht(i)),Ga=(n,r)=>((i,l)=>({[i]:l}))(n,r),um=n=>(r=>{const i={};return vt(r,(l=>{i[l.key]=l.value})),i})(n),Ms=ae,Ll=Ms("touchstart"),Ep=Ms("touchmove"),Il=Ms("touchend"),il=Ms("touchcancel"),In=Ms("mousedown"),mm=Ms("mousemove"),ru=Ms("mouseout"),Mf=Ms("mouseup"),Da=Ms("mouseover"),Bi=Ms("focusin"),E1=Ms("focusout"),Fl=Ms("keydown"),Nb=Ms("keyup"),ad=Ms("input"),au=Ms("change"),iu=Ms("click"),w2=Ms("transitioncancel"),Bf=Ms("transitionend"),TE=Ms("transitionstart"),Tp=Ms("selectstart"),Kn=n=>ae("alloy."+n),C2={tap:Kn("tap")},Pi=Kn("focus"),id=Kn("blur.post"),Rb=Kn("paste.post"),lu=Kn("receive"),qs=Kn("execute"),ll=Kn("focus.item"),Pf=C2.tap,k2=Kn("longpress"),Ap=Kn("sandbox.close"),Mb=Kn("typeahead.cancel"),T1=Kn("system.init"),S2=Kn("system.touchmove"),E2=Kn("system.touchend"),ld=Kn("system.scroll"),cu=Kn("system.resize"),cl=Kn("system.attached"),bc=Kn("system.detached"),fm=Kn("system.dismissRequested"),Op=Kn("system.repositionRequested"),A1=Kn("focusmanager.shifted"),Dp=Kn("slotcontainer.visibility"),O1=Kn("system.external.element.scroll"),D1=Kn("change.tab"),N1=Kn("dismiss.tab"),Bb=Kn("highlight"),R1=Kn("dehighlight"),di=n=>(r=>{if(c1(r))return"#shadow-root";{const i=(l=>m1(l,!1))(r);return(l=>{const u=Qn("div"),m=at(l.dom.cloneNode(!0));return zs(u,m),yf(u)})(i)}})(n);var zn;(function(n){n[n.STOP=0]="STOP",n[n.NORMAL=1]="NORMAL",n[n.LOGGING=2]="LOGGING"})(zn||(zn={}));const Np=mt({}),gm=["alloy/data/Fields","alloy/debugging/Debugging"],Pb=(n,r,i)=>((l,u,m)=>{switch(Dt(Np.get(),l).orThunk((()=>{const p=Go(Np.get());return wa(p,(x=>l.indexOf(x)>-1?E.some(Np.get()[x]):E.none()))})).getOr(zn.NORMAL)){case zn.NORMAL:return m(Lb());case zn.LOGGING:{const p=((v,w)=>{const S=[],k=new Date().getTime();return{logEventCut:(A,M,B)=>{S.push({outcome:"cut",target:M,purpose:B})},logEventStopped:(A,M,B)=>{S.push({outcome:"stopped",target:M,purpose:B})},logNoParent:(A,M,B)=>{S.push({outcome:"no-parent",target:M,purpose:B})},logEventNoHandlers:(A,M)=>{S.push({outcome:"no-handlers-left",target:M})},logEventResponse:(A,M,B)=>{S.push({outcome:"response",purpose:B,target:M})},write:()=>{const A=new Date().getTime();Ge(["mousemove","mouseover","mouseout",T1()],v)||console.log(v,{event:v,time:A-k,target:w.dom,sequence:Ke(S,(M=>Ge(["cut","stopped","response"],M.outcome)?"{"+M.purpose+"} "+M.outcome+" at ("+di(M.target)+")":M.outcome))})}}})(l,u),x=m(p);return p.write(),x}case zn.STOP:return!0}})(n,r,i),Lb=ae({logEventCut:Me,logEventStopped:Me,logNoParent:Me,logEventNoHandlers:Me,logEventResponse:Me,write:Me}),Rp=ae([Fe("menu"),Fe("selectedMenu")]),M1=ae([Fe("item"),Fe("selectedItem")]);ae(Ht(M1().concat(Rp())));const Ib=ae(Ht(M1())),pm=ta("initSize",[Fe("numColumns"),Fe("numRows")]),Lf=()=>ta("markers",[Fe("backgroundMenu")].concat(Rp()).concat(M1())),ft=n=>ta("markers",Ke(n,Fe)),Ka=(n,r,i)=>((()=>{const l=new Error;if(l.stack!==void 0){const u=l.stack.split(`
`);P(u,(m=>m.indexOf("alloy")>0&&!dn(gm,(p=>m.indexOf(p)>-1)))).getOr("unknown")}})(),Ws(r,r,i,ou((l=>yo.value(((...u)=>l.apply(void 0,u))))))),Co=n=>Ka(0,n,wp(Me)),rr=n=>Ka(0,n,wp(E.none)),Na=n=>Ka(0,n,{tag:"required",process:{}}),hm=n=>Ka(0,n,{tag:"required",process:{}}),Cn=(n,r)=>js(n,ae(r)),du=n=>js(n,dt),T2=ae(pm),Ra=n=>Ke(n,(r=>Qg(r,"/*")?r.substring(0,r.length-2):r)),B1=(n,r)=>{const i=n.toString(),l=i.indexOf(")")+1,u=i.indexOf("("),m=i.substring(u+1,l-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:r,parameters:Ra(m)}),n},Mp=(n,r)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...l)=>{i=setTimeout((()=>{n.apply(null,l),i=null}),r)}}},je=n=>{const r=n.raw;return r.touches===void 0||r.touches.length!==1?E.none():E.some(r.touches[0])};var cd;(function(n){n.OnFocusMode="onFocus",n.OnEnterOrSpaceMode="onEnterOrSpace",n.OnApiMode="onApi"})(cd||(cd={}));const Fb="placeholder",dl=Is([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),uu=n=>$o(n,"uiType"),Bp=(n,r,i,l)=>((u,m,p,x)=>uu(p)&&p.uiType===Fb?((v,w,S,k)=>v.exists((A=>A!==S.owner))?dl.single(!0,ae(S)):Dt(k,S.name).fold((()=>{throw new Error("Unknown placeholder component: "+S.name+`
Known: [`+Go(k)+`]
Namespace: `+v.getOr("none")+`
Spec: `+JSON.stringify(S,null,2))}),(A=>A.replace())))(u,0,p,x):dl.single(!1,ae(p)))(n,0,i,l).fold(((u,m)=>{const p=uu(i)?m(r,i.config,i.validated):m(r),x=Dt(p,"components").getOr([]),v=yn(x,(w=>Bp(n,r,w,l)));return[{...p,components:v}]}),((u,m)=>{if(uu(i)){const p=m(r,i.config,i.validated);return i.validated.preprocess.getOr(dt)(p)}return m(r)})),Zn=dl.single,P1=dl.multiple,zb=ae(Fb),Ma=Is([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),xn=xe("factory",{sketch:dt}),xc=xe("schema",[]),mu=Fe("name"),L1=Ws("pname","pname",hc((n=>"<alloy."+ge(n.name)+">")),li()),Pp=js("schema",(()=>[Po("preprocess")])),Xn=xe("defaults",ae({})),bm=xe("overrides",ae({})),Hb=Ht([xn,xc,mu,L1,Xn,bm]),fC=Ht([xn,xc,mu,Xn,bm]),A2=Ht([xn,xc,mu,L1,Xn,bm]),gC=Ht([xn,Pp,mu,Fe("unit"),L1,Xn,bm]),O2=n=>n.fold(E.some,E.none,E.some,E.some),D2=n=>{const r=i=>i.name;return n.fold(r,r,r,r)},I1=(n,r)=>i=>{const l=ea("Converting part type",r,i);return n(l)},ha=I1(Ma.required,Hb),Li=I1(Ma.external,fC),ul=I1(Ma.optional,A2),If=I1(Ma.group,gC),zl=ae("entirety");var ra=Object.freeze({__proto__:null,required:ha,external:Li,optional:ul,group:If,asNamedPart:O2,name:D2,asCommon:n=>n.fold(dt,dt,dt,dt),original:zl});const F1=(n,r,i,l)=>as(r.defaults(n,i,l),i,{uid:n.partUids[r.name]},r.overrides(n,i,l)),z1=(n,r)=>{const i={};return vt(r,(l=>{O2(l).each((u=>{const m=xm(n,u.pname);i[u.name]=p=>{const x=ea("Part: "+u.name+" in "+n,Ht(u.schema),p);return{...m,config:p,validated:x}}}))})),i},xm=(n,r)=>({uiType:zb(),owner:n,name:r}),Lp=(n,r,i)=>({uiType:zb(),owner:n,name:r,config:i,validated:{}}),Ff=n=>yn(n,(r=>r.fold(E.none,E.some,E.none,E.none).map((i=>ta(i.name,i.schema.concat([du(zl())])))).toArray())),N2=n=>Ke(n,D2),$b=(n,r,i)=>((l,u,m)=>{const p={},x={};return vt(m,(v=>{v.fold((w=>{p[w.pname]=Zn(!0,((S,k,A)=>w.factory.sketch(F1(S,w,k,A))))}),(w=>{const S=u.parts[w.name];x[w.name]=ae(w.factory.sketch(F1(u,w,S[zl()]),S))}),(w=>{p[w.pname]=Zn(!1,((S,k,A)=>w.factory.sketch(F1(S,w,k,A))))}),(w=>{p[w.pname]=P1(!0,((S,k,A)=>{const M=S[w.name];return Ke(M,(B=>w.factory.sketch(as(w.defaults(S,B,A),B,w.overrides(S,B)))))}))}))})),{internals:ae(p),externals:ae(x)}})(0,r,i),zf=(n,r,i)=>((l,u,m,p)=>{const x=ss(p,((w,S)=>((k,A)=>{let M=!1;return{name:ae(k),required:()=>A.fold(((B,U)=>B),((B,U)=>B)),used:()=>M,replace:()=>{if(M)throw new Error("Trying to use the same placeholder more than once: "+k);return M=!0,A}}})(S,w))),v=((w,S,k,A)=>yn(k,(M=>Bp(w,S,M,A))))(l,u,m,x);return Ko(x,(w=>{if(w.used()===!1&&w.required())throw new Error("Placeholder: "+w.name()+` was not found in components list
Namespace: `+l.getOr("none")+`
Components: `+JSON.stringify(u.components,null,2))})),v})(E.some(n),r,r.components,i),vn=(n,r,i)=>{const l=r.partUids[i];return n.getSystem().getByUid(l).toOptional()},vc=(n,r,i)=>vn(n,r,i).getOrDie("Could not find part: "+i),Ip=(n,r,i)=>{const l={},u=r.partUids,m=n.getSystem();return vt(i,(p=>{l[p]=ae(m.getByUid(u[p]))})),l},H1=(n,r)=>{const i=n.getSystem();return ss(r.partUids,((l,u)=>ae(i.getByUid(l))))},$1=n=>Go(n.partUids),V1=(n,r,i)=>{const l={},u=r.partUids,m=n.getSystem();return vt(i,(p=>{l[p]=ae(m.getByUid(u[p]).getOrDie())})),l},Vb=(n,r)=>{const i=N2(r);return um(Ke(i,(l=>({key:l,value:n+"-"+l}))))},Ub=n=>Ws("partUids","partUids",Ob((r=>Vb(r.uid,n))),li());var U1=Object.freeze({__proto__:null,generate:z1,generateOne:Lp,schemas:Ff,names:N2,substitutes:$b,components:zf,defaultUids:Vb,defaultUidsSchema:Ub,getAllParts:H1,getAllPartNames:$1,getPart:vn,getPartOrDie:vc,getParts:Ip,getPartsOrDie:V1});const Zb=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Ya=(n,r,i,l=1)=>{const u=n*l,m=r*l,p=v=>Dt(i,v).getOr([]),x=(v,w,S)=>{const k=wo(Zb,S);return{offset:Lt(v,w),classesOn:yn(S,p),classesOff:yn(k,p)}};return{southeast:()=>x(-n,r,["top","alignLeft"]),southwest:()=>x(n,r,["top","alignRight"]),south:()=>x(-n/2,r,["top","alignCentre"]),northeast:()=>x(-n,-r,["bottom","alignLeft"]),northwest:()=>x(n,-r,["bottom","alignRight"]),north:()=>x(-n/2,-r,["bottom","alignCentre"]),east:()=>x(n,-r/2,["valignCentre","left"]),west:()=>x(-n,-r/2,["valignCentre","right"]),insetNortheast:()=>x(u,m,["top","alignLeft","inset"]),insetNorthwest:()=>x(-u,m,["top","alignRight","inset"]),insetNorth:()=>x(-u/2,m,["top","alignCentre","inset"]),insetSoutheast:()=>x(u,-m,["bottom","alignLeft","inset"]),insetSouthwest:()=>x(-u,-m,["bottom","alignRight","inset"]),insetSouth:()=>x(-u/2,-m,["bottom","alignCentre","inset"]),insetEast:()=>x(-u,-m/2,["valignCentre","right","inset"]),insetWest:()=>x(u,-m/2,["valignCentre","left","inset"])}},Hf=()=>Ya(0,0,{}),ar=(n,r,i,l,u,m,p,x=!1)=>({x:n,y:r,bubble:i,direction:l,placement:u,restriction:m,label:`${p}-${u}`,alwaysFit:x}),yc=Is([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),_c=yc.southeast,Wb=yc.southwest,Fp=yc.northeast,jb=yc.northwest,qb=yc.south,R2=yc.north,Gb=yc.east,M2=yc.west,Ar=(n,r)=>Sn(["left","right","top","bottom"],(i=>Dt(r,i).map((l=>((u,m)=>{switch(m){case 1:return u.x;case 0:return u.x+u.width;case 2:return u.y;case 3:return u.y+u.height}})(n,l))))),dd="layout",pC=n=>n.x,Kb=(n,r)=>n.x+n.width/2-r.width/2,B2=(n,r)=>n.x+n.width-r.width,Z1=(n,r)=>n.y-r.height,Yb=n=>n.y+n.height,Xb=(n,r)=>n.y+n.height/2-r.height/2,Bs=(n,r,i)=>ar(pC(n),Yb(n),i.southeast(),_c(),"southeast",Ar(n,{left:1,top:3}),dd),Ps=(n,r,i)=>ar(B2(n,r),Yb(n),i.southwest(),Wb(),"southwest",Ar(n,{right:0,top:3}),dd),Or=(n,r,i)=>ar(pC(n),Z1(n,r),i.northeast(),Fp(),"northeast",Ar(n,{left:1,bottom:2}),dd),ir=(n,r,i)=>ar(B2(n,r),Z1(n,r),i.northwest(),jb(),"northwest",Ar(n,{right:0,bottom:2}),dd),lr=(n,r,i)=>ar(Kb(n,r),Z1(n,r),i.north(),R2(),"north",Ar(n,{bottom:2}),dd),ls=(n,r,i)=>ar(Kb(n,r),Yb(n),i.south(),qb(),"south",Ar(n,{top:3}),dd),vm=(n,r,i)=>ar((l=>l.x+l.width)(n),Xb(n,r),i.east(),Gb(),"east",Ar(n,{left:0}),dd),W1=(n,r,i)=>ar(((l,u)=>l.x-u.width)(n,r),Xb(n,r),i.west(),M2(),"west",Ar(n,{right:1}),dd),Jb=()=>[Bs,Ps,Or,ir,ls,lr,vm,W1],P2=()=>[Ps,Bs,ir,Or,ls,lr,vm,W1],wc=()=>[Or,ir,Bs,Ps,lr,ls],zp=()=>[ir,Or,Ps,Bs,lr,ls],Qb=()=>[Bs,Ps,Or,ir,ls,lr],Hp=()=>[Ps,Bs,ir,Or,ls,lr],Ba="data-alloy-placement",ud=n=>$s(n,Ba),fu="layout-inset",j1=n=>n.x,q1=(n,r)=>n.x+n.width/2-r.width/2,L2=(n,r)=>n.x+n.width-r.width,ex=n=>n.y,md=(n,r)=>n.y+n.height-r.height,Gs=(n,r)=>n.y+n.height/2-r.height/2,ym=(n,r,i)=>ar(L2(n,r),md(n,r),i.insetSouthwest(),jb(),"southwest",Ar(n,{right:0,bottom:3}),fu),$p=(n,r,i)=>ar(j1(n),md(n,r),i.insetSoutheast(),Fp(),"southeast",Ar(n,{left:1,bottom:3}),fu),$f=(n,r,i)=>ar(L2(n,r),ex(n),i.insetNorthwest(),Wb(),"northwest",Ar(n,{right:0,top:2}),fu),_m=(n,r,i)=>ar(j1(n),ex(n),i.insetNortheast(),_c(),"northeast",Ar(n,{left:1,top:2}),fu),ui=(n,r,i)=>ar(q1(n,r),ex(n),i.insetNorth(),qb(),"north",Ar(n,{top:2}),fu),Vf=(n,r,i)=>ar(q1(n,r),md(n,r),i.insetSouth(),R2(),"south",Ar(n,{bottom:3}),fu),Uf=(n,r,i)=>ar(L2(n,r),Gs(n,r),i.insetEast(),M2(),"east",Ar(n,{right:0}),fu),tx=(n,r,i)=>ar(j1(n),Gs(n,r),i.insetWest(),Gb(),"west",Ar(n,{left:1}),fu),I2=n=>{switch(n){case"north":return ui;case"northeast":return _m;case"northwest":return $f;case"south":return Vf;case"southeast":return $p;case"southwest":return ym;case"east":return Uf;case"west":return tx}},F2=(n,r,i,l,u)=>ud(l).map(I2).getOr(ui)(n,r,i,l,u),hC=n=>{switch(n){case"north":return Vf;case"northeast":return $p;case"northwest":return ym;case"south":return ui;case"southeast":return _m;case"southwest":return $f;case"east":return tx;case"west":return Uf}},ox=(n,r,i,l,u)=>ud(l).map(hC).getOr(ui)(n,r,i,l,u),gu=(n,r)=>{((i,l)=>{const u=up.max(i,l,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Z(i,"max-height",u+"px")})(n,Math.floor(r))},nx=ae(((n,r)=>{gu(n,r),Qd(n,{"overflow-x":"hidden","overflow-y":"auto"})})),wm=ae(((n,r)=>{gu(n,r)})),G1=ae(((n,r)=>{((i,l)=>{const u=Jr.max(i,l,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Z(i,"max-width",u+"px")})(n,Math.floor(r))}));var Ii;(function(n){n.TopToBottom="toptobottom",n.BottomToTop="bottomtotop"})(Ii||(Ii={}));const fd="data-alloy-vertical-dir",ml=n=>pp(n,(r=>$r(r)&&Hs(r,"data-alloy-vertical-dir")===Ii.BottomToTop));var aa;(function(n){n[n.HighlightMenuAndItem=0]="HighlightMenuAndItem",n[n.HighlightJustMenu=1]="HighlightJustMenu",n[n.HighlightNone=2]="HighlightNone"})(aa||(aa={}));const mi={init:()=>ia({readState:ae("No State required")})},ia=n=>n,Cm={can:Ut,abort:Ee,run:Me},fl=n=>{if(!$n(n,"can")&&!$n(n,"abort")&&!$n(n,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(n,null,2)+" does not have can, abort, or run!");return{...Cm,...n}},no=(n,r)=>{sx(n,n.element,r,{})},Ct=(n,r,i)=>{sx(n,n.element,r,i)},Vp=n=>{no(n,qs())},Up=(n,r,i)=>{sx(n,r,i,{})},sx=(n,r,i,l)=>{const u={target:r,...l};n.getSystem().triggerEvent(i,r,u)},Zf=(n,r,i,l)=>{n.getSystem().triggerEvent(i,r,l.event)},en=n=>um(n),pu=(n,r)=>({key:n,value:fl({abort:r})}),Zp=n=>({key:n,value:fl({run:(r,i)=>{i.event.prevent()}})}),Ne=(n,r)=>({key:n,value:fl({run:r})}),Wp=(n,r,i)=>({key:n,value:fl({run:(l,u)=>{r.apply(void 0,[l,u].concat(i))}})}),jp=n=>r=>({key:n,value:fl({run:(i,l)=>{Zs(i,l)&&r(i,l)}})}),Cc=(n,r,i)=>((l,u)=>Ne(l,((m,p)=>{m.getSystem().getByUid(u).each((x=>{Zf(x,x.element,l,p)}))})))(n,r.partUids[i]),qp=(n,r)=>Ne(n,((i,l)=>{const u=l.event,m=i.getSystem().getByDom(u.target).getOrThunk((()=>bp(u.target,(p=>i.getSystem().getByDom(p).toOptional()),Ee).getOr(i)));r(i,m,l)})),gd=n=>Ne(n,((r,i)=>{i.cut()})),rx=n=>Ne(n,((r,i)=>{i.stop()})),pd=(n,r)=>jp(n)(r),gn=jp(cl()),Fi=jp(bc()),K1=jp(T1()),kc=(n=>r=>Ne(n,r))(qs()),Hl=n=>({classes:ao(n.classes)?[]:n.classes,attributes:ao(n.attributes)?{}:n.attributes,styles:ao(n.styles)?{}:n.styles}),Wf=(n,r,i)=>K1(((l,u)=>{i(l,n,r)})),Y1=n=>({key:n,value:void 0}),z2=(n,r,i,l,u,m,p)=>{const x=S=>$n(S,i)?S[i]():E.none(),v=ss(u,((S,k)=>((A,M,B)=>((U,$,V)=>{const z=V.toString(),H=z.indexOf(")")+1,j=z.indexOf("("),K=z.substring(j+1,H-1).split(/,\s*/);return U.toFunctionAnnotation=()=>({name:$,parameters:Ra(K.slice(0,1).concat(K.slice(3)))}),U})(((U,...$)=>{const V=[U].concat($);return U.config({name:ae(A)}).fold((()=>{throw new Error("We could not find any behaviour configuration for: "+A+". Using API: "+B)}),(z=>{const H=Array.prototype.slice.call(V,1);return M.apply(void 0,[U,z.config,z.state].concat(H))}))}),B,M))(i,S,k))),w={...ss(m,((S,k)=>B1(S,k))),...v,revoke:eo(Y1,i),config:S=>{const k=ea(i+"-config",n,S);return{key:i,value:{config:k,me:w,configAsRaw:gr((()=>ea(i+"-config",n,S))),initialConfig:S,state:p}}},schema:ae(r),exhibit:(S,k)=>ju(x(S),Dt(l,"exhibit"),((A,M)=>M(k,A.config,A.state))).getOrThunk((()=>Hl({}))),name:ae(i),handlers:S=>x(S).map((k=>Dt(l,"events").getOr((()=>({})))(k.config,k.state))).getOr({})};return w},He=n=>um(n),bC=ci([Fe("fields"),Fe("name"),xe("active",{}),xe("apis",{}),xe("state",mi),xe("extra",{})]),cs=n=>{const r=ea("Creating behaviour: "+n.name,bC,n);return((i,l,u,m,p,x)=>{const v=ci(i),w=pa(l,[(S=i,na("config",ci(S)))]);var S;return z2(v,w,l,u,m,p,x)})(r.fields,r.name,r.active,r.apis,r.extra,r.state)},ax=ci([Fe("branchKey"),Fe("branches"),Fe("name"),xe("active",{}),xe("apis",{}),xe("state",mi),xe("extra",{})]),ix=n=>{const r=ea("Creating behaviour: "+n.name,ax,n);return((i,l,u,m,p,x)=>{const v=i,w=pa(l,[na("config",i)]);return z2(v,w,l,u,m,p,x)})(ga(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},X1=ae(void 0),It=(n,r)=>{const i=((l,u)=>{const m=en(u);return cs({fields:[Fe("enabled")],name:l,active:{events:ae(m)}})})(n,r);return{key:n,value:{config:{},me:i,configAsRaw:ae({}),initialConfig:{},state:mi}}},km=(n,r)=>{r.ignore||(_n(n.element),r.onFocus(n))};var Gp=Object.freeze({__proto__:null,focus:km,blur:(n,r)=>{r.ignore||ip(n.element)},isFocused:n=>cc(n.element)}),jf=Object.freeze({__proto__:null,exhibit:(n,r)=>{const i=r.ignore?{}:{attributes:{tabindex:"-1"}};return Hl(i)},events:n=>en([Ne(Pi(),((r,i)=>{km(r,n),i.stop()}))].concat(n.stopMousedown?[Ne(In(),((r,i)=>{i.event.prevent()}))]:[]))}),Sm=[Co("onFocus"),xe("stopMousedown",!1),xe("ignore",!1)];const Zt=cs({fields:Sm,name:"focusing",active:jf,apis:Gp}),J1=[8],hd=[9],ko=[13],Em=[27],Pa=[32],Tm=[37],bd=[38],qf=[39],La=[40],Sc=ae("tooltipping.close.all"),Ec=ae("dismiss.popups"),hu=ae("reposition.popups"),xd=ae("mouse.released"),Q1=(n,r,i)=>{const l=Gg(n.slice(0,r)),u=Gg(n.slice(r+1));return P(l.concat(u),i)},e0=(n,r,i)=>{const l=Gg(n.slice(0,r));return P(l,i)},AE=(n,r,i)=>{const l=n.slice(0,r),u=n.slice(r+1);return P(u.concat(l),i)},H2=(n,r,i)=>{const l=n.slice(r+1);return P(l,i)},Oo=n=>r=>{const i=r.raw;return Ge(n,i.which)},$l=n=>r=>Uc(n,(i=>i(r))),Gf=n=>n.raw.shiftKey===!0,xC=n=>n.raw.ctrlKey===!0,Kp=ns(Gf),co=(n,r)=>({matches:n,classification:r}),Wr=(n,r,i,l)=>{const u=Sr(n.element,"."+r.highlightClass);vt(u,(m=>{dn(l,(p=>lo(p.element,m)))||(fn(m,r.highlightClass),n.getSystem().getByDom(m).each((p=>{r.onDehighlight(n,p),no(p,R1())})))}))},Tc=(n,r,i,l)=>{Wr(n,r,0,[l]),Ac(n,r,i,l)||(Ln(l.element,r.highlightClass),r.onHighlight(n,l),no(l,Bb()))},Ac=(n,r,i,l)=>xs(l.element,r.highlightClass),Am=(n,r,i)=>Qo(n.element,"."+r.itemClass).bind((l=>n.getSystem().getByDom(l).toOptional())),Om=(n,r,i)=>{const l=Sr(n.element,"."+r.itemClass);return(l.length>0?E.some(l[l.length-1]):E.none()).bind((u=>n.getSystem().getByDom(u).toOptional()))},Dm=(n,r,i,l)=>{const u=Sr(n.element,"."+r.itemClass);return el(u,(m=>xs(m,r.highlightClass))).bind((m=>{const p=rs(m,l,0,u.length-1);return n.getSystem().getByDom(u[p]).toOptional()}))},Vl=(n,r,i)=>{const l=Sr(n.element,"."+r.itemClass);return rc(Ke(l,(u=>n.getSystem().getByDom(u).toOptional())))};var t0=Object.freeze({__proto__:null,dehighlightAll:(n,r,i)=>Wr(n,r,0,[]),dehighlight:(n,r,i,l)=>{Ac(n,r,i,l)&&(fn(l.element,r.highlightClass),r.onDehighlight(n,l),no(l,R1()))},highlight:Tc,highlightFirst:(n,r,i)=>{Am(n,r).each((l=>{Tc(n,r,i,l)}))},highlightLast:(n,r,i)=>{Om(n,r).each((l=>{Tc(n,r,i,l)}))},highlightAt:(n,r,i,l)=>{((u,m,p,x)=>{const v=Sr(u.element,"."+m.itemClass);return E.from(v[x]).fold((()=>yo.error(new Error("No element found with index "+x))),u.getSystem().getByDom)})(n,r,0,l).fold((u=>{throw u}),(u=>{Tc(n,r,i,u)}))},highlightBy:(n,r,i,l)=>{const u=Vl(n,r);P(u,l).each((m=>{Tc(n,r,i,m)}))},isHighlighted:Ac,getHighlighted:(n,r,i)=>Qo(n.element,"."+r.highlightClass).bind((l=>n.getSystem().getByDom(l).toOptional())),getFirst:Am,getLast:Om,getPrevious:(n,r,i)=>Dm(n,r,0,-1),getNext:(n,r,i)=>Dm(n,r,0,1),getCandidates:Vl}),Yp=[Fe("highlightClass"),Fe("itemClass"),Co("onHighlight"),Co("onDehighlight")];const So=cs({fields:Yp,name:"highlighting",apis:t0}),lx=(n,r,i)=>{r.exists((l=>i.exists((u=>lo(u,l)))))||Ct(n,A1(),{prevFocus:r,newFocus:i})},o0=()=>{const n=r=>Vr(r.element);return{get:n,set:(r,i)=>{const l=n(r);r.getSystem().triggerFocus(i,r.element);const u=n(r);lx(r,l,u)}}},n0=()=>{const n=r=>So.getHighlighted(r).map((i=>i.element));return{get:n,set:(r,i)=>{const l=n(r);r.getSystem().getByDom(i).fold(Me,(m=>{So.highlight(r,m)}));const u=n(r);lx(r,l,u)}}},gl=(n,r,i,l,u)=>{const m=(x,v,w,S,k)=>{return(A=w(x,v,S,k),M=v.event,P(A,(B=>B.matches(M))).map((B=>B.classification))).bind((B=>B(x,v,S,k)));var A,M},p={schema:()=>n.concat([xe("focusManager",o0()),sa("focusInside","onFocus",ou((x=>Ge(["onFocus","onEnterOrSpace","onApi"],x)?yo.value(x):yo.error("Invalid value for focusInside")))),Cn("handler",p),Cn("state",r),Cn("sendFocusIn",u)]),processKey:m,toEvents:(x,v)=>{const w=x.focusInside!==cd.OnFocusMode?E.none():u(x).map((k=>Ne(Pi(),((A,M)=>{k(A,x,v),M.stop()})))),S=[Ne(Fl(),((k,A)=>{m(k,A,i,x,v).fold((()=>{((M,B)=>{const U=Oo(Pa.concat(ko))(B.event);x.focusInside===cd.OnEnterOrSpaceMode&&U&&Zs(M,B)&&u(x).each(($=>{$(M,x,v),B.stop()}))})(k,A)}),(M=>{A.stop()}))})),Ne(Nb(),((k,A)=>{m(k,A,l,x,v).each((M=>{A.stop()}))}))];return en(w.toArray().concat(S))}};return p},cx=n=>{const r=[Po("onEscape"),Po("onEnter"),xe("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),xe("firstTabstop",0),xe("useTabstopAt",Ut),Po("visibilitySelector")].concat([n]),i=(S,k)=>{const A=S.visibilitySelector.bind((M=>Vs(k,M))).getOr(k);return Os(A)>0},l=(S,k)=>k.focusManager.get(S).bind((A=>Vs(A,k.selector))),u=(S,k,A)=>{((M,B)=>{const U=Sr(M.element,B.selector),$=sn(U,(V=>i(B,V)));return E.from($[B.firstTabstop])})(S,k).each((M=>{k.focusManager.set(S,M)}))},m=(S,k,A,M)=>{const B=sn(Sr(S.element,A.selector),(U=>i(A,U)));return l(S,A).bind((U=>el(B,eo(lo,U)).bind(($=>((V,z,H,j,K)=>K(z,H,(oe=>((te,re)=>i(te,re)&&te.useTabstopAt(re))(j,oe))).fold((()=>j.cyclic?E.some(!0):E.none()),(oe=>(j.focusManager.set(V,oe),E.some(!0)))))(S,B,$,A,M)))))},p=(S,k,A)=>{const M=A.cyclic?Q1:e0;return m(S,0,A,M)},x=(S,k,A)=>{const M=A.cyclic?AE:H2;return m(S,0,A,M)},v=ae([co($l([Gf,Oo(hd)]),p),co(Oo(hd),x),co($l([Kp,Oo(ko)]),((S,k,A)=>A.onEnter.bind((M=>M(S,k)))))]),w=ae([co(Oo(Em),((S,k,A)=>(S.getSystem().broadcastOn([Sc()],{closedTooltip:()=>{k.stop()}}),k.isStopped()?E.none():A.onEscape.bind((M=>M(S,k)))))),co(Oo(hd),((S,k,A)=>l(S,A).filter((M=>!A.useTabstopAt(M))).bind((M=>((B=>(U=>Vn(U))(B).bind(Xr).exists((U=>lo(U,B))))(M)?p:x)(S,k,A)))))]);return gl(r,mi.init,v,w,(()=>E.some(u)))};var dx=cx(js("cyclic",Ee)),Xp=cx(js("cyclic",Ut));const fi=n=>En("input")(n)&&Hs(n,"type")!=="radio"||En("textarea")(n),Nm=(n,r,i)=>fi(i)&&Oo(Pa)(r.event)?E.none():((l,u,m)=>(Up(l,m,qs()),E.some(!0)))(n,0,i),Kf=(n,r)=>E.some(!0),Rm=[xe("execute",Nm),xe("useSpace",!1),xe("useEnter",!0),xe("useControlEnter",!1),xe("useDown",!1)],Jp=(n,r,i)=>i.execute(n,r,n.element);var $2=gl(Rm,mi.init,((n,r,i,l)=>{const u=i.useSpace&&!fi(n.element)?Pa:[],m=i.useEnter?ko:[],p=i.useDown?La:[],x=u.concat(m).concat(p);return[co(Oo(x),Jp)].concat(i.useControlEnter?[co($l([xC,Oo(ko)]),Jp)]:[])}),((n,r,i,l)=>i.useSpace&&!fi(n.element)?[co(Oo(Pa),Kf)]:[]),(()=>E.none()));const V2=()=>{const n=mn();return ia({readState:()=>n.get().map((r=>({numRows:String(r.numRows),numColumns:String(r.numColumns)}))).getOr({numRows:"?",numColumns:"?"}),setGridSize:(r,i)=>{n.set({numRows:r,numColumns:i})},getNumRows:()=>n.get().map((r=>r.numRows)),getNumColumns:()=>n.get().map((r=>r.numColumns))})};var bu=Object.freeze({__proto__:null,flatgrid:V2,init:n=>n.state(n)});const Ul=n=>(r,i,l,u)=>{const m=n(r.element);return zi(m,r,i,l,u)},Oc=(n,r)=>{const i=kf(n,r);return Ul(i)},Qp=(n,r)=>{const i=kf(r,n);return Ul(i)},Yf=n=>(r,i,l,u)=>zi(n,r,i,l,u),zi=(n,r,i,l,u)=>l.focusManager.get(r).bind((m=>n(r.element,m,l,u))).map((m=>(l.focusManager.set(r,m),!0))),eh=Yf,vs=Yf,Mm=Yf,ux=(n,r,i)=>{const l=Sr(n,i);return(u=>el(u,(m=>lo(m,r))).map((m=>({index:m,candidates:u}))))(sn(l,tm))},U2=(n,r)=>el(n,(i=>lo(r,i))),Bm=(n,r,i,l)=>l(Math.floor(r/i),r%i).bind((u=>{const m=u.row*i+u.column;return m>=0&&m<n.length?E.some(n[m]):E.none()})),vd=(n,r,i,l,u)=>Bm(n,r,l,((m,p)=>{const x=m===i-1?n.length-m*l:l,v=rs(p,u,0,x-1);return E.some({row:m,column:v})})),th=(n,r,i,l,u)=>Bm(n,r,l,((m,p)=>{const x=rs(m,u,0,i-1),v=x===i-1?n.length-x*l:l,w=Jo(p,0,v-1);return E.some({row:x,column:w})})),Ks=[Fe("selector"),xe("execute",Nm),rr("onEscape"),xe("captureTab",!1),T2()],Xf=(n,r,i)=>{Qo(n.element,r.selector).each((l=>{r.focusManager.set(n,l)}))},jr=n=>(r,i,l,u)=>ux(r,i,l.selector).bind((m=>n(m.candidates,m.index,u.getNumRows().getOr(l.initSize.numRows),u.getNumColumns().getOr(l.initSize.numColumns)))),mx=(n,r,i)=>i.captureTab?E.some(!0):E.none(),s0=jr(((n,r,i,l)=>vd(n,r,i,l,-1))),xu=jr(((n,r,i,l)=>vd(n,r,i,l,1))),Pm=jr(((n,r,i,l)=>th(n,r,i,l,-1))),yd=jr(((n,r,i,l)=>th(n,r,i,l,1))),Hi=ae([co(Oo(Tm),Oc(s0,xu)),co(Oo(qf),Qp(s0,xu)),co(Oo(bd),eh(Pm)),co(Oo(La),vs(yd)),co($l([Gf,Oo(hd)]),mx),co($l([Kp,Oo(hd)]),mx),co(Oo(Pa.concat(ko)),((n,r,i,l)=>((u,m)=>m.focusManager.get(u).bind((p=>Vs(p,m.selector))))(n,i).bind((u=>i.execute(n,r,u)))))]),fx=ae([co(Oo(Em),((n,r,i)=>i.onEscape(n,r))),co(Oo(Pa),Kf)]);var Z2=gl(Ks,V2,Hi,fx,(()=>E.some(Xf)));const r0=(n,r,i,l,u)=>{const m=(p,x,v)=>u(p,x,l,0,v.length-1,v[x],(w=>{return S=v[w],Ol(S)==="button"&&Hs(S,"disabled")==="disabled"?m(p,w,v):E.from(v[w]);var S}));return ux(n,i,r).bind((p=>{const x=p.index,v=p.candidates;return m(x,x,v)}))},Jf=(n,r,i,l)=>r0(n,r,i,l,((u,m,p,x,v,w,S)=>{const k=Jo(m+p,x,v);return k===u?E.from(w):S(k)})),a0=(n,r,i,l)=>r0(n,r,i,l,((u,m,p,x,v,w,S)=>{const k=rs(m,p,x,v);return k===u?E.none():S(k)})),Qf=[Fe("selector"),xe("getInitial",E.none),xe("execute",Nm),rr("onEscape"),xe("executeOnMove",!1),xe("allowVertical",!0),xe("allowHorizontal",!0),xe("cycles",!0)],eg=(n,r,i)=>((l,u)=>u.focusManager.get(l).bind((m=>Vs(m,u.selector))))(n,i).bind((l=>i.execute(n,r,l))),W2=(n,r,i)=>{r.getInitial(n).orThunk((()=>Qo(n.element,r.selector))).each((l=>{r.focusManager.set(n,l)}))},tg=(n,r,i)=>(i.cycles?a0:Jf)(n,i.selector,r,-1),gx=(n,r,i)=>(i.cycles?a0:Jf)(n,i.selector,r,1),Lm=n=>(r,i,l,u)=>n(r,i,l,u).bind((()=>l.executeOnMove?eg(r,i,l):E.some(!0))),Im=ae([co(Oo(Pa),Kf),co(Oo(Em),((n,r,i)=>i.onEscape(n,r)))]);var f=gl(Qf,mi.init,((n,r,i,l)=>{const u=[...i.allowHorizontal?Tm:[]].concat(i.allowVertical?bd:[]),m=[...i.allowHorizontal?qf:[]].concat(i.allowVertical?La:[]);return[co(Oo(u),Lm(Oc(tg,gx))),co(Oo(m),Lm(Qp(tg,gx))),co(Oo(ko),eg),co(Oo(Pa),eg)]}),Im,(()=>E.some(W2)));const h=(n,r,i)=>E.from(n[r]).bind((l=>E.from(l[i]).map((u=>({rowIndex:r,columnIndex:i,cell:u}))))),y=(n,r,i,l)=>{const u=n[r].length,m=rs(i,l,0,u-1);return h(n,r,m)},C=(n,r,i,l)=>{const u=rs(i,l,0,n.length-1),m=n[u].length,p=Jo(r,0,m-1);return h(n,u,p)},O=(n,r,i,l)=>{const u=n[r].length,m=Jo(i+l,0,u-1);return h(n,r,m)},D=(n,r,i,l)=>{const u=Jo(i+l,0,n.length-1),m=n[u].length,p=Jo(r,0,m-1);return h(n,u,p)},L=[ta("selectors",[Fe("row"),Fe("cell")]),xe("cycles",!0),xe("previousSelector",E.none),xe("execute",Nm)],F=(n,r,i)=>{r.previousSelector(n).orThunk((()=>{const l=r.selectors;return Qo(n.element,l.cell)})).each((l=>{r.focusManager.set(n,l)}))},q=(n,r)=>(i,l,u)=>{const m=u.cycles?n:r;return Vs(l,u.selectors.row).bind((p=>{const x=Sr(p,u.selectors.cell);return U2(x,l).bind((v=>{const w=Sr(i,u.selectors.row);return U2(w,p).bind((S=>{const k=((A,M)=>Ke(A,(B=>Sr(B,M.selectors.cell))))(w,u);return m(k,S,v).map((A=>A.cell))}))}))}))},J=q(((n,r,i)=>y(n,r,i,-1)),((n,r,i)=>O(n,r,i,-1))),se=q(((n,r,i)=>y(n,r,i,1)),((n,r,i)=>O(n,r,i,1))),Q=q(((n,r,i)=>C(n,i,r,-1)),((n,r,i)=>D(n,i,r,-1))),ne=q(((n,r,i)=>C(n,i,r,1)),((n,r,i)=>D(n,i,r,1))),ee=ae([co(Oo(Tm),Oc(J,se)),co(Oo(qf),Qp(J,se)),co(Oo(bd),eh(Q)),co(Oo(La),vs(ne)),co(Oo(Pa.concat(ko)),((n,r,i)=>Vr(n.element).bind((l=>i.execute(n,r,l)))))]),me=ae([co(Oo(Pa),Kf)]);var ue=gl(L,mi.init,ee,me,(()=>E.some(F)));const Re=[Fe("selector"),xe("execute",Nm),xe("moveOnTab",!1)],Be=(n,r,i)=>i.focusManager.get(n).bind((l=>i.execute(n,r,l))),Ve=(n,r,i)=>{Qo(n.element,r.selector).each((l=>{r.focusManager.set(n,l)}))},Ze=(n,r,i)=>a0(n,i.selector,r,-1),qe=(n,r,i)=>a0(n,i.selector,r,1),et=ae([co(Oo(bd),Mm(Ze)),co(Oo(La),Mm(qe)),co($l([Gf,Oo(hd)]),((n,r,i,l)=>i.moveOnTab?Mm(Ze)(n,r,i,l):E.none())),co($l([Kp,Oo(hd)]),((n,r,i,l)=>i.moveOnTab?Mm(qe)(n,r,i,l):E.none())),co(Oo(ko),Be),co(Oo(Pa),Be)]),nt=ae([co(Oo(Pa),Kf)]);var _t=gl(Re,mi.init,et,nt,(()=>E.some(Ve)));const kt=[rr("onSpace"),rr("onEnter"),rr("onShiftEnter"),rr("onLeft"),rr("onRight"),rr("onTab"),rr("onShiftTab"),rr("onUp"),rr("onDown"),rr("onEscape"),xe("stopSpaceKeyup",!1),Po("focusIn")];var Do=gl(kt,mi.init,((n,r,i)=>[co(Oo(Pa),i.onSpace),co($l([Kp,Oo(ko)]),i.onEnter),co($l([Gf,Oo(ko)]),i.onShiftEnter),co($l([Gf,Oo(hd)]),i.onShiftTab),co($l([Kp,Oo(hd)]),i.onTab),co(Oo(bd),i.onUp),co(Oo(La),i.onDown),co(Oo(Tm),i.onLeft),co(Oo(qf),i.onRight),co(Oo(Pa),i.onSpace)]),((n,r,i)=>[...i.stopSpaceKeyup?[co(Oo(Pa),Kf)]:[],co(Oo(Em),i.onEscape)]),(n=>n.focusIn));const Jt=dx.schema(),ho=Xp.schema(),to=f.schema(),tn=Z2.schema(),ys=ue.schema(),Dr=$2.schema(),hr=_t.schema(),Xa=Do.schema(),ht=ix({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Jt,cyclic:ho,flow:to,flatgrid:tn,matrix:ys,execution:Dr,menu:hr,special:Xa}),name:"keying",active:{events:(n,r)=>n.handler.toEvents(n,r)},apis:{focusIn:(n,r,i)=>{r.sendFocusIn(r).fold((()=>{n.getSystem().triggerFocus(n.element,n.element)}),(l=>{l(n,r,i)}))},setGridSize:(n,r,i,l,u)=>{(m=>$n(m,"setGridSize"))(i)?i.setGridSize(l,u):console.error("Layout does not support setGridSize")}},state:bu}),Ys=ge("alloy-premade"),vu=n=>(Object.defineProperty(n.element.dom,Ys,{value:n.uid,writable:!0}),Ga(Ys,n)),_d=n=>Dt(n,Ys),wd=n=>((r,i)=>{const l=i.toString(),u=l.indexOf(")")+1,m=l.indexOf("("),p=l.substring(m+1,u-1).split(/,\s*/);return r.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Ra(p.slice(1))}),r})(((r,...i)=>n(r.getApis(),r,...i)),n),og=n=>n.getSystem().isConnected(),Zl=n=>{no(n,bc());const r=n.components();vt(r,Zl)},Dc=n=>{const r=n.components();vt(r,Dc),no(n,cl())},j2=(n,r)=>{n.getSystem().addToWorld(r),ma(n.element)&&Dc(r)},q2=n=>{Zl(n),n.getSystem().removeFromWorld(n)},G2=(n,r)=>{zs(n.element,r.element)},oh=(n,r)=>{OE(n,r,zs)},OE=(n,r,i)=>{n.getSystem().addToWorld(r),i(n.element,r.element),ma(n.element)&&Dc(r),n.syncComponents()},vC=n=>{Zl(n),dc(n.element),n.getSystem().removeFromWorld(n)},gi=n=>{const r=Vn(n.element).bind((i=>n.getSystem().getByDom(i).toOptional()));vC(n),r.each((i=>{i.syncComponents()}))},ng=n=>{const r=n.components();vt(r,vC),u1(n.element),n.syncComponents()},yC=(n,r)=>{px(n,r,zs)},Ae=(n,r)=>{px(n,r,Tb)},px=(n,r,i)=>{i(n,r.element);const l=nl(r.element);vt(l,(u=>{r.getByDom(u).each(Dc)}))},KD=n=>{const r=nl(n.element);vt(r,(i=>{n.getByDom(i).each(Zl)})),dc(n.element)},DE=(n,r,i)=>{i.fold((()=>zs(n,r)),(l=>{lo(l,r)||(Oi(l,r),dc(l))}))},K2=(n,r,i)=>{const l=Ke(r,i),u=nl(n);return vt(u.slice(l.length),dc),l},Nc=(n,r,i,l)=>{const u=lc(n,r),m=l(i,u),p=((x,v,w)=>lc(x,v).map((S=>{if(w.exists((k=>!lo(k,S)))){const k=w.map(Ol).getOr("span"),A=Qn(k);return Oi(S,A),A}return S})))(n,r,u);return DE(n,m.element,p),m},Y2=(n,r)=>{const i=er(r),l=Ml(i).bind((m=>{const p=x=>lo(m,x);return p(r)?E.some(r):((x,v)=>{const w=S=>{for(let k=0;k<S.childNodes.length;k++){const A=at(S.childNodes[k]);if(v(A))return E.some(A);const M=w(S.childNodes[k]);if(M.isSome())return M}return E.none()};return w(x.dom)})(r,p)})),u=n(r);return l.each((m=>{Ml(i).filter((p=>lo(p,m))).fold((()=>{_n(m)}),Me)})),u},_C=(n,r)=>{Y2((()=>{((i,l,u)=>{const m=i.components();(v=>{vt(v.components(),(w=>dc(w.element))),u1(v.element),v.syncComponents()})(i);const p=u(l),x=wo(m,p);vt(x,(v=>{Zl(v),i.getSystem().removeFromWorld(v)})),vt(p,(v=>{og(v)?G2(i,v):(i.getSystem().addToWorld(v),G2(i,v),ma(i.element)&&Dc(v))})),i.syncComponents()})(n,r,(()=>Ke(r,n.getSystem().build)))}),n.element)},wC=(n,r)=>{Y2((()=>{((i,l)=>{const u=i.components(),m=yn(l,(v=>_d(v).toArray()));vt(u,(v=>{Ge(m,v)||q2(v)}));const p=((v,w,S)=>K2(v,w,((k,A)=>Nc(v,A,k,S))))(n.element,r,n.getSystem().buildOrPatch),x=wo(u,p);vt(x,(v=>{og(v)&&q2(v)})),vt(p,(v=>{og(v)||j2(i,v)})),i.syncComponents()})(n,r)}),n.element)},CC=(n,r,i,l)=>{q2(r);const u=Nc(n.element,i,l,n.getSystem().buildOrPatch);j2(n,u),n.syncComponents()},kC=(n,r,i)=>{const l=n.getSystem().build(i);OE(n,l,r)},NE=(n,r,i,l)=>{gi(r),kC(n,((u,m)=>((p,x,v)=>{lc(p,v).fold((()=>{zs(p,x)}),(w=>{Oi(w,x)}))})(u,m,i)),l)},X2=(n,r)=>n.components(),SC=(n,r,i,l,u)=>{const m=X2(n);return E.from(m[l]).map((p=>(u.fold((()=>gi(p)),(x=>{(r.reuseDom?CC:NE)(n,p,l,x)})),p)))};var YD=Object.freeze({__proto__:null,append:(n,r,i,l)=>{kC(n,zs,l)},prepend:(n,r,i,l)=>{kC(n,lp,l)},remove:(n,r,i,l)=>{const u=X2(n);P(u,(p=>lo(l.element,p.element))).each(gi)},replaceAt:SC,replaceBy:(n,r,i,l,u)=>{const m=X2(n);return el(m,l).bind((p=>SC(n,r,0,p,u)))},set:(n,r,i,l)=>(r.reuseDom?wC:_C)(n,l),contents:X2});const Kt=cs({fields:[sr("reuseDom",!0)],name:"replacing",apis:YD}),XD=en([(n=>({key:n,value:fl({can:(r,i)=>{const l=i.event,u=l.originator,m=l.target;return!((p,x,v)=>lo(x,p.element)&&!lo(x,v))(r,u,m)||(console.warn(Pi()+` did not get interpreted by the desired target. 
Originator: `+di(u)+`
Target: `+di(m)+`
Check the `+Pi()+" event handlers"),!1)}})}))(Pi())]);var JD=Object.freeze({__proto__:null,events:XD});const RE=ae("alloy-id-"),J2=ae("data-alloy-id"),QD=RE(),EC=J2(),TC=(n,r)=>{Object.defineProperty(n.dom,EC,{value:r,writable:!0})},nh=n=>{const r=$r(n)?n.dom[EC]:null;return E.from(r)},sh=n=>ge(n),ME=dt,hx=n=>{const r=u=>`The component must be in a context to execute: ${u}`+(n?`
`+di(n().element)+" is not in context.":""),i=u=>()=>{throw new Error(r(u))},l=u=>()=>{console.warn(r(u))};return{debugInfo:ae("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:Ee}},eN=hx(),AC=(n,r)=>{const i={};return Ko(n,((l,u)=>{Ko(l,((m,p)=>{const x=Dt(i,p).getOr([]);i[p]=x.concat([r(u,m)])}))})),i},OC=n=>n.cHandler,tN=(n,r)=>({name:n,handler:r}),BE=(n,r)=>{const i={};return vt(n,(l=>{i[l.name()]=l.handlers(r)})),i},PE=(n,r,i)=>{const l=r[i];return l?((u,m,p,x)=>{try{const v=Te(p,((w,S)=>{const k=w[m],A=S[m],M=x.indexOf(k),B=x.indexOf(A);if(M===-1)throw new Error("The ordering for "+u+" does not have an entry for "+k+`.
Order specified: `+JSON.stringify(x,null,2));if(B===-1)throw new Error("The ordering for "+u+" does not have an entry for "+A+`.
Order specified: `+JSON.stringify(x,null,2));return M<B?-1:B<M?1:0}));return yo.value(v)}catch(v){return yo.error([v])}})("Event: "+i,"name",n,l).map((u=>(m=>({can:(v=>(...w)=>qo(v,((S,k)=>S&&(A=>A.can)(k).apply(void 0,w)),!0))(m),abort:(v=>(...w)=>qo(v,((S,k)=>S||(A=>A.abort)(k).apply(void 0,w)),!1))(m),run:(...v)=>{vt(m,(w=>{w.run.apply(void 0,v)}))}}))(Ke(u,(m=>m.handler))))):((u,m)=>yo.error(["The event ("+u+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ke(m,(p=>p.name)),null,2)]))(i,n)},oN=(n,r)=>((i,l)=>{const u=(p=>{const x=[],v=[];return vt(p,(w=>{w.fold((S=>{x.push(S)}),(S=>{v.push(S)}))})),{errors:x,values:v}})(i);return u.errors.length>0?(m=u.errors,yo.error(fr(m))):((p,x)=>p.length===0?yo.value(x):yo.value(as(x,sc.apply(void 0,p))))(u.values,l);var m})(Si(n,((i,l)=>(i.length===1?yo.value(i[0].handler):PE(i,r,l)).map((u=>{const m=(x=>{const v=(w=>yt(w)?{can:Ut,abort:Ee,run:w}:w)(x);return(w,S,...k)=>{const A=[w,S].concat(k);v.abort.apply(void 0,A)?S.stop():v.can.apply(void 0,A)&&v.run.apply(void 0,A)}})(u),p=i.length>1?sn(r[l],(x=>dn(i,(v=>v.name===x)))).join(" > "):i[0].name;return Ga(l,((x,v)=>({handler:x,purpose:v}))(m,p))})))),{}),Fm="alloy.base.behaviour",nN=Ht([Ws("dom","dom",{tag:"required",process:{}},Ht([Fe("tag"),xe("styles",{}),xe("classes",[]),xe("attributes",{}),Po("value"),Po("innerHtml")])),Fe("components"),Fe("uid"),xe("events",{}),xe("apis",{}),Ws("eventOrder","eventOrder",(HE={[qs()]:["disabling",Fm,"toggling","typeaheadevents"],[Pi()]:[Fm,"focusing","keying"],[T1()]:[Fm,"disabling","toggling","representing","tooltipping"],[ad()]:[Fm,"representing","streaming","invalidating"],[bc()]:[Fm,"representing","item-events","toolbar-button-events","tooltipping"],[In()]:["focusing",Fm,"item-type-events"],[Ll()]:["focusing",Fm,"item-type-events"],[Da()]:["item-type-events","tooltipping"],[lu()]:["receiving","reflecting","tooltipping"]},Ob(ae(HE))),li()),Po("domModification")]),sN=n=>n.events,LE=(n,r)=>{const i=Go(n),l=Go(r),u=wo(l,i),m=(p=>{const x={},v={};return _r(p,((w,S)=>!$o(r,S)||w!==r[S]),Kg(x),Kg(v)),{t:x,f:v}})(n).t;return{toRemove:u,toSet:m}},rN=(n,r)=>{const i=r.filter((l=>Ol(l)===n.tag&&!(u=>u.innerHtml.isSome()&&u.domChildren.length>0)(n)&&!(u=>$o(u.dom,Ys))(l))).bind((l=>((u,m)=>{try{const p=((x,v)=>{const{class:w,style:S,...k}=(j=>qo(j.dom.attributes,((K,oe)=>(K[oe.name]=oe.value,K)),{}))(v),{toSet:A,toRemove:M}=LE(x.attributes,k),B=wf(v),{toSet:U,toRemove:$}=LE(x.styles,B),V=g1(v),z=wo(V,x.classes),H=wo(x.classes,V);return vt(M,(j=>ts(v,j))),Vo(v,A),Di(v,H),Zr(v,z),vt($,(j=>_o(v,j))),Qd(v,U),x.innerHtml.fold((()=>{const j=x.domChildren;((K,oe)=>{K2(K,oe,((te,re)=>{const pe=lc(K,re);return DE(K,te,pe),te}))})(v,j)}),(j=>{Ju(v,j)})),(()=>{const j=v,K=x.value.getOrUndefined();K!==Ds(j)&&Wa(j,K??"")})(),v})(u,m);return E.some(p)}catch{return E.none()}})(n,l))).getOrThunk((()=>(l=>{const u=Qn(l.tag);Vo(u,l.attributes),Di(u,l.classes),Qd(u,l.styles),l.innerHtml.each((p=>Ju(u,p)));const m=l.domChildren;return ua(u,m),l.value.each((p=>{Wa(u,p)})),u})(n)));return TC(i,n.uid),i},IE=n=>{const r=(i=>{const l=Dt(i,"behaviours").getOr({});return yn(Go(l),(u=>{const m=l[u];return ot(m)?[m.me]:[]}))})(n);return((i,l)=>((u,m)=>{const p=Ke(m,(v=>pa(v.name(),[Fe("config"),xe("state",mi)]))),x=An("component.behaviours",Ht(p),u.behaviours).fold((v=>{throw new Error(od(v)+`
Complete spec:
`+JSON.stringify(u,null,2))}),dt);return{list:m,data:ss(x,(v=>{const w=v.map((S=>({config:S.config,state:S.state.init(S.config)})));return ae(w)}))}})(i,l))(n,r)},FE=(n,r)=>{const i=()=>A,l=mt(eN),u=Aa((M=>An("custom.definition",nN,M))(n)),m=IE(n),p=(M=>M.list)(m),x=(M=>M.data)(m),v=((M,B,U)=>{const $={...(V=M).dom,uid:V.uid,domChildren:Ke(V.components,(te=>te.element))};var V;const z=(te=>te.domModification.fold((()=>Hl({})),Hl))(M),H={"alloy.base.modification":z},j=B.length>0?((te,re,pe,Ce)=>{const we={...re};vt(pe,(ro=>{we[ro.name()]=ro.exhibit(te,Ce)}));const Oe=AC(we,((ro,Ho)=>({name:ro,modification:Ho}))),ze=ro=>un(ro,((Ho,nn)=>({...nn.modification,...Ho})),{}),pt=un(Oe.classes,((ro,Ho)=>Ho.modification.concat(ro)),[]),St=ze(Oe.attributes),At=ze(Oe.styles);return Hl({classes:pt,attributes:St,styles:At})})(U,H,B,$):z;return K=$,oe=j,{...K,attributes:{...K.attributes,...oe.attributes},styles:{...K.styles,...oe.styles},classes:K.classes.concat(oe.classes)};var K,oe})(u,p,x),w=rN(v,r),S=((M,B,U)=>{const $={"alloy.base.behaviour":sN(M)};return((V,z,H,j)=>{const K=((oe,te,re)=>{const pe={...re,...BE(te,oe)};return AC(pe,tN)})(V,H,j);return oN(K,z)})(U,M.eventOrder,B,$).getOrDie()})(u,p,x),k=mt(u.components),A={uid:n.uid,getSystem:l.get,config:M=>{const B=x;return(yt(B[M.name()])?B[M.name()]:()=>{throw new Error("Could not find "+M.name()+" in "+JSON.stringify(n,null,2))})()},hasConfigured:M=>yt(x[M.name()]),spec:n,readState:M=>x[M]().map((B=>B.state.readState())).getOr("not enabled"),getApis:()=>u.apis,connect:M=>{l.set(M)},disconnect:()=>{l.set(hx(i))},element:w,syncComponents:()=>{const M=nl(w),B=yn(M,(U=>l.get().getByDom(U).fold((()=>[]),go)));k.set(B)},components:k.get,events:S};return A},Hn=n=>{const r=a2(n);return Q2({element:r})},Q2=n=>{const r=ea("external.component",ci([Fe("element"),Po("uid")]),n),i=mt(hx()),l=r.uid.getOrThunk((()=>sh("external")));TC(r.element,l);const u={uid:l,getSystem:i.get,config:E.none,hasConfigured:Ee,connect:m=>{i.set(m)},disconnect:()=>{i.set(hx((()=>u)))},getApis:()=>({}),element:r.element,spec:n,readState:ae("No state"),syncComponents:Me,components:ae([]),events:{}};return vu(u)},zE=sh,DC=(n,r)=>_d(n).getOrThunk((()=>((i,l)=>{const{events:u,...m}=ME(i),p=((v,w)=>{const S=Dt(v,"components").getOr([]);return w.fold((()=>Ke(S,ba)),(k=>Ke(S,((A,M)=>DC(A,lc(k,M))))))})(m,l),x={...m,events:{...JD,...u},components:p};return yo.value(FE(x,l))})((i=>$o(i,"uid"))(n)?n:{uid:zE(""),...n},r).getOrDie())),ba=n=>DC(n,E.none()),pl=vu;var HE,aN=Object.freeze({__proto__:null,block:(n,r,i,l)=>{Vt(n.element,"aria-busy",!0);const u=r.getRoot(n).getOr(n),m=He([ht.config({mode:"special",onTab:()=>E.some(!0),onShiftTab:()=>E.some(!0)}),Zt.config({})]),p=l(u,m),x=u.getSystem().build(p);Kt.append(u,pl(x)),x.hasConfigured(ht)&&r.focus&&ht.focusIn(x),i.isBlocked()||r.onBlock(n),i.blockWith((()=>Kt.remove(u,x)))},unblock:(n,r,i)=>{ts(n.element,"aria-busy"),i.isBlocked()&&r.onUnblock(n),i.clear()},isBlocked:(n,r,i)=>i.isBlocked()}),iN=[wn("getRoot",E.none),sr("focus",!0),Co("onBlock"),Co("onUnblock")];const Cd=cs({fields:iN,name:"blocking",apis:aN,state:Object.freeze({__proto__:null,init:()=>{const n=Xg((r=>r.destroy()));return ia({readState:n.isSet,blockWith:r=>{n.set({destroy:r})},clear:n.clear,isBlocked:n.isSet})}})});var lN=Object.freeze({__proto__:null,getCurrent:(n,r,i)=>r.find(n)});const cN=[Fe("find")],Bo=cs({fields:cN,name:"composing",apis:lN});var dN=Object.freeze({__proto__:null,getCoupled:(n,r,i,l)=>i.getOrCreate(n,r,l),getExistingCoupled:(n,r,i,l)=>i.getExisting(n,r,l)}),uN=[Oa("others",_2(yo.value,li()))],$E=Object.freeze({__proto__:null,init:()=>{const n={},r=(l,u)=>{if(Go(l.others).length===0)throw new Error("Cannot find any known coupled components");return Dt(n,u)},i=ae({});return ia({readState:i,getExisting:(l,u,m)=>r(u,m).orThunk((()=>(Dt(u.others,m).getOrDie("No information found for coupled component: "+m),E.none()))),getOrCreate:(l,u,m)=>r(u,m).getOrThunk((()=>{const p=Dt(u.others,m).getOrDie("No information found for coupled component: "+m)(l),x=l.getSystem().build(p);return n[m]=x,x}))})}});const _s=cs({fields:uN,name:"coupling",apis:dN,state:$E}),VE=["input","button","textarea","select"],UE=(n,r,i)=>{(r.disabled()?bx:NC)(n,r)},ey=(n,r)=>r.useNative===!0&&Ge(VE,Ol(n.element)),mN=n=>{Vt(n.element,"disabled","disabled")},ZE=n=>{ts(n.element,"disabled")},fN=n=>{Vt(n.element,"aria-disabled","true")},gN=n=>{Vt(n.element,"aria-disabled","false")},bx=(n,r,i)=>{r.disableClass.each((l=>{Ln(n.element,l)})),(ey(n,r)?mN:fN)(n),r.onDisabled(n)},NC=(n,r,i)=>{r.disableClass.each((l=>{fn(n.element,l)})),(ey(n,r)?ZE:gN)(n),r.onEnabled(n)},WE=(n,r)=>ey(n,r)?(i=>Ab(i.element,"disabled"))(n):(i=>Hs(i.element,"aria-disabled")==="true")(n);var pN=Object.freeze({__proto__:null,enable:NC,disable:bx,isDisabled:WE,onLoad:UE,set:(n,r,i,l)=>{(l?bx:NC)(n,r)}}),jE=Object.freeze({__proto__:null,exhibit:(n,r)=>Hl({classes:r.disabled()?r.disableClass.toArray():[]}),events:(n,r)=>en([pu(qs(),((i,l)=>WE(i,n))),Wf(n,r,UE)])}),hN=[wn("disabled",Ee),xe("useNative",!0),Po("disableClass"),Co("onDisabled"),Co("onEnabled")];const wt=cs({fields:hN,name:"disabling",active:jE,apis:pN}),Rc=(n,r,i,l,u)=>{const m=p=>p+"px";return{position:n,left:r.map(m),top:i.map(m),right:l.map(m),bottom:u.map(m)}},ty=(n,r)=>{eu(n,(i=>({...i,position:E.some(i.position)}))(r))},bN=(n,r)=>{const i=n.element;Ln(i,r.transitionClass),fn(i,r.fadeOutClass),Ln(i,r.fadeInClass),r.onShow(n)},xN=(n,r)=>{const i=n.element;Ln(i,r.transitionClass),fn(i,r.fadeInClass),Ln(i,r.fadeOutClass),r.onHide(n)},qE=(n,r)=>n.y>=r.y,RC=(n,r)=>n.bottom<=r.bottom,ut=(n,r,i)=>({location:"top",leftX:r,topY:i.bounds.y-n.y}),i0=(n,r,i)=>({location:"bottom",leftX:r,bottomY:n.bottom-i.bounds.bottom}),oy=n=>n.box.x-n.win.x,MC=(n,r,i)=>i.getInitialPos().map((l=>{const u=((m,p)=>{const x=p.optScrollEnv.fold(ae(m.bounds.y),(v=>v.scrollElmTop+(m.bounds.y-v.currentScrollTop)));return Lt(m.bounds.x,x)})(l,r);return{box:Ns(u.left,u.top,Fn(n),Os(n)),location:l.location}})),GE=(n,r,i,l,u)=>{const m=((x,v)=>{const w=v.optScrollEnv.fold(ae(x.y),(S=>x.y+S.currentScrollTop-S.scrollElmTop));return Lt(x.x,w)})(r,i),p=Ns(m.left,m.top,r.width,r.height);l.setInitialPos({style:wf(n),position:kr(n,"position")||"static",bounds:p,location:u.location})},KE=(n,r,i)=>i.getInitialPos().bind((l=>{var u;switch(i.clearInitialPos(),l.position){case"static":return E.some({morph:"static"});case"absolute":const m=Ta(n).getOr(ps()),p=Us(m),x=(u=m.dom.scrollTop)!==null&&u!==void 0?u:0;return E.some({morph:"absolute",positionCss:Rc("absolute",Dt(l.style,"left").map((v=>r.x-p.x)),Dt(l.style,"top").map((v=>r.y-p.y+x)),Dt(l.style,"right").map((v=>p.right-r.right)),Dt(l.style,"bottom").map((v=>p.bottom-r.bottom)))});default:return E.none()}})),ny=n=>{switch(n.location){case"top":return E.some({morph:"fixed",positionCss:Rc("fixed",E.some(n.leftX),E.some(n.topY),E.none(),E.none())});case"bottom":return E.some({morph:"fixed",positionCss:Rc("fixed",E.some(n.leftX),E.none(),E.none(),E.some(n.bottomY))});default:return E.none()}},vN=(n,r,i)=>{const l=n.element;return Bn(os(l,"position"),"fixed")?((u,m,p)=>((x,v,w)=>MC(x,v,w).filter((({box:S})=>((k,A,M)=>Uc(k,(B=>{switch(B){case"bottom":return RC(A,M.bounds);case"top":return qE(A,M.bounds)}})))(w.getModes(),S,v))).bind((({box:S})=>KE(x,S,w))))(u,m,p).orThunk((()=>m.optScrollEnv.bind((x=>MC(u,m,p))).bind((({box:x,location:v})=>{const w=Tr(),S=oy({win:w,box:x}),k=v==="top"?ut(w,S,m):i0(w,S,m);return ny(k)})))))(l,r,i):((u,m,p)=>{const x=Us(u),v=Tr(),w=((S,k,A)=>{const M=k.win,B=k.box,U=oy(k);return wa(S,($=>{switch($){case"bottom":return RC(B,A.bounds)?E.none():E.some(i0(M,U,A));case"top":return qE(B,A.bounds)?E.none():E.some(ut(M,U,A));default:return E.none()}})).getOr({location:"no-dock"})})(p.getModes(),{win:v,box:x},m);return w.location==="top"||w.location==="bottom"?(GE(u,x,m,p,w),ny(w)):E.none()})(l,r,i)},YE=(n,r,i)=>{i.setDocked(!1),vt(["left","right","top","bottom","position"],(l=>_o(n.element,l))),r.onUndocked(n)},sy=(n,r,i,l)=>{const u=l.position==="fixed";i.setDocked(u),ty(n.element,l),(u?r.onDocked:r.onUndocked)(n)},XE=(n,r,i,l,u=!1)=>{r.contextual.each((m=>{m.lazyContext(n).each((p=>{const x=((v,w)=>v.y<w.bottom&&v.bottom>w.y)(p,l.bounds);x!==i.isVisible()&&(i.setVisible(x),u&&!x?(Di(n.element,[m.fadeOutClass]),m.onHide(n)):(x?bN:xN)(n,m))}))}))},qr=(n,r,i,l,u)=>{XE(n,r,i,l,!0),sy(n,r,i,u.positionCss)},zm=(n,r,i)=>{n.getSystem().isConnected()&&((l,u,m)=>{const p=u.lazyViewport(l);XE(l,u,m,p),vN(l,p,m).each((x=>{((v,w,S,k,A)=>{switch(A.morph){case"static":return YE(v,w,S);case"absolute":return sy(v,w,S,A.positionCss);case"fixed":qr(v,w,S,k,A)}})(l,u,m,p,x)}))})(n,r,i)},JE=(n,r,i)=>{i.isDocked()&&((l,u,m)=>{const p=l.element;m.setDocked(!1);const x=u.lazyViewport(l);((v,w,S)=>{const k=v.element;return MC(k,w,S).bind((({box:A})=>KE(k,A,S)))})(l,x,m).each((v=>{switch(v.morph){case"static":YE(l,u,m);break;case"absolute":sy(l,u,m,v.positionCss)}})),m.setVisible(!0),u.contextual.each((v=>{Zr(p,[v.fadeInClass,v.fadeOutClass,v.transitionClass]),v.onShow(l)})),zm(l,u,m)})(n,r,i)},QE=n=>(r,i,l)=>{const u=i.lazyViewport(r);((m,p,x,v)=>{const w=Us(m),S=Tr(),k=v(S,oy({win:S,box:w}),p);return k.location==="bottom"||k.location==="top"?(((A,M,B,U,$)=>{U.getInitialPos().fold((()=>GE(A,M,B,U,$)),(()=>Me))})(m,w,p,x,k),ny(k)):E.none()})(r.element,u,l,n).each((m=>{qr(r,i,l,u,m)}))},yN=QE(ut),_N=QE(i0);var wN=Object.freeze({__proto__:null,refresh:zm,reset:JE,isDocked:(n,r,i)=>i.isDocked(),getModes:(n,r,i)=>i.getModes(),setModes:(n,r,i,l)=>i.setModes(l),forceDockToTop:yN,forceDockToBottom:_N}),e5=Object.freeze({__proto__:null,events:(n,r)=>en([pd(Bf(),((i,l)=>{n.contextual.each((u=>{xs(i.element,u.transitionClass)&&(Zr(i.element,[u.transitionClass,u.fadeInClass]),(r.isVisible()?u.onShown:u.onHidden)(i)),l.stop()}))})),Ne(ld(),((i,l)=>{zm(i,n,r)})),Ne(O1(),((i,l)=>{zm(i,n,r)})),Ne(cu(),((i,l)=>{JE(i,n,r)}))])}),t5=[pa("contextual",[Rs("fadeInClass"),Rs("fadeOutClass"),Rs("transitionClass"),nr("lazyContext"),Co("onShow"),Co("onShown"),Co("onHide"),Co("onHidden")]),wn("lazyViewport",(()=>({bounds:Tr(),optScrollEnv:E.none()}))),rd("modes",["top","bottom"],Un),Co("onDocked"),Co("onUndocked")];const Wn=cs({fields:t5,name:"docking",active:e5,apis:wN,state:Object.freeze({__proto__:null,init:n=>{const r=mt(!1),i=mt(!0),l=mn(),u=mt(n.modes);return ia({isDocked:r.get,setDocked:r.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:i.get,setVisible:i.set,getModes:u.get,setModes:u.set,readState:()=>`docked:  ${r.get()}, visible: ${i.get()}, modes: ${u.get().join(",")}`})}})}),ry=Is([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),ay=n=>r=>r.translate(-n.left,-n.top),iy=n=>r=>r.translate(n.left,n.top),Hm=n=>(r,i)=>qo(n,((l,u)=>u(l)),Lt(r,i)),ly=(n,r,i)=>n.fold(Hm([iy(i),ay(r)]),Hm([ay(r)]),Hm([])),l0=(n,r,i)=>n.fold(Hm([iy(i)]),Hm([]),Hm([iy(r)])),o5=(n,r,i)=>n.fold(Hm([]),Hm([ay(i)]),Hm([iy(r),ay(i)])),cy=(n,r,i)=>{const l=n.fold(((u,m)=>({position:E.some("absolute"),left:E.some(u+"px"),top:E.some(m+"px")})),((u,m)=>({position:E.some("absolute"),left:E.some(u-i.left+"px"),top:E.some(m-i.top+"px")})),((u,m)=>({position:E.some("fixed"),left:E.some(u+"px"),top:E.some(m+"px")})));return{right:E.none(),bottom:E.none(),...l}},xx=(n,r,i,l)=>{const u=(m,p)=>(x,v)=>{const w=m(r,i,l);return p(x.getOr(w.left),v.getOr(w.top))};return n.fold(u(o5,vx),u(l0,sg),u(ly,rg))},vx=ry.offset,sg=ry.absolute,rg=ry.fixed,n5=(n,r)=>{const i=Hs(n,r);return ao(i)?NaN:parseInt(i,10)},CN=(n,r,i,l,u,m)=>{const p=((w,S,k,A)=>((M,B)=>{const U=M.element,$=n5(U,B.leftAttr),V=n5(U,B.topAttr);return isNaN($)||isNaN(V)?E.none():E.some(Lt($,V))})(w,S).fold((()=>k),(M=>rg(M.left+A.left,M.top+A.top))))(n,r,i,l),x=r.mustSnap?r5(n,r,p,u,m):kN(n,r,p,u,m),v=ly(p,u,m);return((w,S,k)=>{const A=w.element;Vt(A,S.leftAttr,k.left+"px"),Vt(A,S.topAttr,k.top+"px")})(n,r,v),x.fold((()=>({coord:rg(v.left,v.top),extra:E.none()})),(w=>({coord:w.output,extra:w.extra})))},s5=(n,r,i,l)=>wa(n,(u=>{const m=u.sensor;return((x,v,w,S,k,A)=>{const M=l0(x,k,A),B=l0(v,k,A);return Math.abs(M.left-B.left)<=w&&Math.abs(M.top-B.top)<=S})(r,m,u.range.left,u.range.top,i,l)?E.some({output:xx(u.output,r,i,l),extra:u.extra}):E.none()})),r5=(n,r,i,l,u)=>{const m=r.getSnapPoints(n);return s5(m,i,l,u).orThunk((()=>qo(m,((x,v)=>{const w=v.sensor,S=((k,A,M,B,U,$)=>{const V=l0(k,U,$),z=l0(A,U,$),H=Math.abs(V.left-z.left),j=Math.abs(V.top-z.top);return Lt(H,j)})(i,w,v.range.left,v.range.top,l,u);return x.deltas.fold((()=>({deltas:E.some(S),snap:E.some(v)})),(k=>(S.left+S.top)/2<=(k.left+k.top)/2?{deltas:E.some(S),snap:E.some(v)}:x))}),{deltas:E.none(),snap:E.none()}).snap.map((x=>({output:xx(x.output,i,l,u),extra:x.extra})))))},kN=(n,r,i,l,u)=>{const m=r.getSnapPoints(n);return s5(m,i,l,u)};var SN=Object.freeze({__proto__:null,snapTo:(n,r,i,l)=>{const u=r.getTarget(n.element);if(r.repositionTarget){const m=Dl(n.element),p=Gt(m),x=fa(u),v=((S,k,A)=>({coord:xx(S.output,S.output,k,A),extra:S.extra}))(l,p,x),w=cy(v.coord,0,x);eu(u,w)}}});const Nr=(n,r)=>S1(n,{},Ke(r,(i=>{return l=i.name(),u="Cannot configure "+i.name()+" for "+n,Ws(l,l,{tag:"option",process:{}},qa((m=>ja("The field: "+l+" is forbidden. "+u))));var l,u})).concat([js("dump",dt)])),BC=n=>n.dump,la=(n,r)=>({...He(r),...n.dump}),rh=Nr,c0=la,ah=(n,r,i,l,u)=>{const m=((p,x)=>(p.length>0?[ta("parts",p)]:[]).concat([Fe("uid"),xe("dom",{}),xe("components",[]),du("originalSpec"),xe("debug.sketcher",{})]).concat(x))(l,u);return ea(n+" [SpecSchema]",ci(m.concat(r)),i)},PC=(n,r,i,l,u)=>{const m=dy(u),p=Ff(i),x=Ub(i),v=ah(n,r,m,p,[x]),w=$b(0,v,i);return l(v,zf(n,v,w.internals()),m,w.externals())},dy=n=>(r=>$o(r,"uid"))(n)?n:{...n,uid:sh("uid")},EN=ci([Fe("name"),Fe("factory"),Fe("configFields"),xe("apis",{}),xe("extraApis",{})]),yx=ci([Fe("name"),Fe("factory"),Fe("configFields"),Fe("partFields"),xe("apis",{}),xe("extraApis",{})]),hl=n=>{const r=ea("Sketcher for "+n.name,EN,n),i=ss(r.apis,wd),l=ss(r.extraApis,((u,m)=>B1(u,m)));return{name:r.name,configFields:r.configFields,sketch:u=>((m,p,x,v)=>{const w=dy(v);return x(ah(m,p,w,[],[]),w)})(r.name,r.configFields,r.factory,u),...i,...l}},Ja=n=>{const r=ea("Sketcher for "+n.name,yx,n),i=z1(r.name,r.partFields),l=ss(r.apis,wd),u=ss(r.extraApis,((m,p)=>B1(m,p)));return{name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:m=>PC(r.name,r.configFields,r.partFields,r.factory,m),parts:i,...l,...u}},kd=hl({name:"Container",factory:n=>{const{attributes:r,...i}=n.dom;return{uid:n.uid,dom:{tag:"div",attributes:{role:"presentation",...r},...i},components:n.components,behaviours:BC(n.containerBehaviours),events:n.events,domModification:n.domModification,eventOrder:n.eventOrder}},configFields:[xe("components",[]),Nr("containerBehaviours",[]),xe("events",{}),xe("domModification",{}),xe("eventOrder",{})]}),LC="data-initial-z-index",a5=(n,r)=>{n.getSystem().addToGui(r),(i=>{Vn(i.element).filter($r).each((l=>{os(l,"z-index").each((u=>{Vt(l,LC,u)})),Z(l,"z-index",kr(i.element,"z-index"))}))})(r)},IC=n=>{(r=>{Vn(r.element).filter($r).each((i=>{$s(i,LC).fold((()=>_o(i,"z-index")),(l=>Z(i,"z-index",l))),ts(i,LC)}))})(n),n.getSystem().removeFromGui(n)},i5=(n,r,i)=>n.getSystem().build(kd.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:i}));var TN=pa("snaps",[Fe("getSnapPoints"),Co("onSensor"),Fe("leftAttr"),Fe("topAttr"),xe("lazyViewport",Tr),xe("mustSnap",!1)]);const FC=[xe("useFixed",Ee),Fe("blockerClass"),xe("getTarget",dt),xe("onDrag",Me),xe("repositionTarget",!0),xe("onDrop",Me),wn("getBounds",Tr),TN],AN=n=>{return(r=os(n,"left"),i=os(n,"top"),l=os(n,"position"),r.isSome()&&i.isSome()&&l.isSome()?E.some(((u,m,p)=>(p==="fixed"?rg:vx)(parseInt(u,10),parseInt(m,10)))(r.getOrDie(),i.getOrDie(),l.getOrDie())):E.none()).getOrThunk((()=>{const u=Va(n);return sg(u.left,u.top)}));var r,i,l},l5=(n,r)=>({bounds:n.getBounds(),height:sl(r.element),width:Yc(r.element)}),zC=(n,r,i,l,u)=>{const m=i.update(l,u),p=i.getStartData().getOrThunk((()=>l5(r,n)));m.each((x=>{((v,w,S,k)=>{const A=w.getTarget(v.element);if(w.repositionTarget){const M=Dl(v.element),B=Gt(M),U=fa(A),$=AN(A),V=((H,j,K,oe,te,re,pe)=>((Ce,we,Oe,ze,pt)=>{const St=pt.bounds,At=l0(we,Oe,ze),ro=Jo(At.left,St.x,St.x+St.width-pt.width),Ho=Jo(At.top,St.y,St.y+St.height-pt.height),nn=sg(ro,Ho);return we.fold((()=>{const Rt=o5(nn,Oe,ze);return vx(Rt.left,Rt.top)}),ae(nn),(()=>{const Rt=ly(nn,Oe,ze);return rg(Rt.left,Rt.top)}))})(0,j.fold((()=>{const Ce=(we=K,Oe=re.left,ze=re.top,we.fold(((St,At)=>vx(St+Oe,At+ze)),((St,At)=>sg(St+Oe,At+ze)),((St,At)=>rg(St+Oe,At+ze))));var we,Oe,ze;const pt=ly(Ce,oe,te);return rg(pt.left,pt.top)}),(Ce=>{const we=CN(H,Ce,K,re,oe,te);return we.extra.each((Oe=>{Ce.onSensor(H,Oe)})),we.coord})),oe,te,pe))(v,w.snaps,$,B,U,k,S),z=cy(V,0,U);eu(A,z)}w.onDrag(v,A,k)})(n,r,p,x)}))},HC=(n,r,i,l)=>{r.each(IC),i.snaps.each((m=>{((p,x)=>{((v,w)=>{const S=v.element;ts(S,w.leftAttr),ts(S,w.topAttr)})(p,x)})(n,m)}));const u=i.getTarget(n.element);l.reset(),i.onDrop(n,u)},$C=n=>(r,i)=>{const l=u=>{i.setStartData(l5(r,u))};return en([Ne(ld(),(u=>{i.getStartData().each((()=>l(u)))})),...n(r,i,l)])};var c5=Object.freeze({__proto__:null,getData:n=>E.from(Lt(n.x,n.y)),getDelta:(n,r)=>Lt(r.left-n.left,r.top-n.top)});const d0=(n,r,i)=>[Ne(In(),((l,u)=>{if(u.event.raw.button!==0)return;u.stop();const m=()=>HC(l,E.some(v),n,r),p=Mp(m,200),x={drop:m,delayDrop:p.schedule,forceDrop:m,move:w=>{p.cancel(),zC(l,n,r,c5,w)}},v=i5(l,n.blockerClass,(w=>en([Ne(In(),w.forceDrop),Ne(Mf(),w.drop),Ne(mm(),((S,k)=>{w.move(k.event)})),Ne(ru(),w.delayDrop)]))(x));i(l),a5(l,v)}))],ON=[...FC,Cn("dragger",{handlers:$C(d0)})];var d5=Object.freeze({__proto__:null,getData:n=>{const r=n.raw.touches;return r.length===1?(i=>{const l=i[0];return E.some(Lt(l.clientX,l.clientY))})(r):E.none()},getDelta:(n,r)=>Lt(r.left-n.left,r.top-n.top)});const u5=(n,r,i)=>{const l=mn(),u=m=>{HC(m,l.get(),n,r),l.clear()};return[Ne(Ll(),((m,p)=>{p.stop();const x=()=>u(m),v={drop:x,delayDrop:Me,forceDrop:x,move:S=>{zC(m,n,r,d5,S)}},w=i5(m,n.blockerClass,(S=>en([Ne(Ll(),S.forceDrop),Ne(Il(),S.drop),Ne(il(),S.drop),Ne(Ep(),((k,A)=>{S.move(A.event)}))]))(v));l.set(w),i(m),a5(m,w)})),Ne(Ep(),((m,p)=>{p.stop(),zC(m,n,r,d5,p.event)})),Ne(Il(),((m,p)=>{p.stop(),u(m)})),Ne(il(),u)]},DN=ON,m5=[...FC,Cn("dragger",{handlers:$C(u5)})],f5=[...FC,Cn("dragger",{handlers:$C(((n,r,i)=>[...d0(n,r,i),...u5(n,r,i)]))})];var NN=Object.freeze({__proto__:null,mouse:DN,touch:m5,mouseOrTouch:f5}),RN=Object.freeze({__proto__:null,init:()=>{let n=E.none(),r=E.none();const i=ae({});return ia({readState:i,reset:()=>{n=E.none(),r=E.none()},update:(l,u)=>l.getData(u).bind((m=>((p,x)=>{const v=n.map((w=>p.getDelta(w,x)));return n=E.some(x),v})(l,m))),getStartData:()=>r,setStartData:l=>{r=E.some(l)}})}});const ih=ix({branchKey:"mode",branches:NN,name:"dragging",active:{events:(n,r)=>n.dragger.handlers(n,r)},extra:{snap:n=>({sensor:n.sensor,range:n.range,output:n.output,extra:E.from(n.extra)})},state:RN,apis:SN}),MN=["input","textarea"],g5=n=>{const r=Ol(n);return Ge(MN,r)},p5=(n,r)=>{const i=r.getRoot(n).getOr(n.element);fn(i,r.invalidClass),r.notify.each((l=>{g5(n.element)&&Vt(n.element,"aria-invalid",!1),l.getContainer(n).each((u=>{Ju(u,l.validHtml)})),l.onValid(n)}))},h5=(n,r,i,l)=>{const u=r.getRoot(n).getOr(n.element);Ln(u,r.invalidClass),r.notify.each((m=>{g5(n.element)&&Vt(n.element,"aria-invalid",!0),m.getContainer(n).each((p=>{Ju(p,l)})),m.onInvalid(n,l)}))},_x=(n,r,i)=>r.validator.fold((()=>si(yo.value(!0))),(l=>l.validate(n))),VC=(n,r,i)=>(r.notify.each((l=>{l.onValidate(n)})),_x(n,r).map((l=>n.getSystem().isConnected()?l.fold((u=>(h5(n,r,0,u),yo.error(u))),(u=>(p5(n,r),yo.value(u)))):yo.error("No longer in system"))));var BN=Object.freeze({__proto__:null,markValid:p5,markInvalid:h5,query:_x,run:VC,isInvalid:(n,r)=>{const i=r.getRoot(n).getOr(n.element);return xs(i,r.invalidClass)}}),PN=Object.freeze({__proto__:null,events:(n,r)=>n.validator.map((i=>en([Ne(i.onEvent,(l=>{VC(l,n).get(dt)}))].concat(i.validateOnLoad?[gn((l=>{VC(l,n).get(Me)}))]:[])))).getOr({})}),LN=[Fe("invalidClass"),xe("getRoot",E.none),pa("notify",[xe("aria","alert"),xe("getContainer",E.none),xe("validHtml",""),Co("onValid"),Co("onInvalid"),Co("onValidate")]),pa("validator",[Fe("validate"),xe("onEvent","input"),xe("validateOnLoad",!0)])];const UC=(n,r,i)=>{r.store.manager.onLoad(n,r,i)},b5=(n,r,i)=>{r.store.manager.onUnload(n,r,i)};var IN=Object.freeze({__proto__:null,onLoad:UC,onUnload:b5,setValue:(n,r,i,l)=>{r.store.manager.setValue(n,r,i,l)},getValue:(n,r,i)=>r.store.manager.getValue(n,r,i),getState:(n,r,i)=>i}),FN=Object.freeze({__proto__:null,events:(n,r)=>{const i=n.resetOnDom?[gn(((l,u)=>{UC(l,n,r)})),Fi(((l,u)=>{b5(l,n,r)}))]:[Wf(n,r,UC)];return en(i)}});const x5=()=>{const n=mt(null);return ia({set:n.set,get:n.get,isNotSet:()=>n.get()===null,clear:()=>{n.set(null)},readState:()=>({mode:"memory",value:n.get()})})},v5=()=>{const n=mt({}),r=mt({});return ia({readState:()=>({mode:"dataset",dataByValue:n.get(),dataByText:r.get()}),lookup:i=>Dt(n.get(),i).orThunk((()=>Dt(r.get(),i))),update:i=>{const l=n.get(),u=r.get(),m={},p={};vt(i,(x=>{m[x.value]=x,Dt(x,"meta").each((v=>{Dt(v,"text").each((w=>{p[w]=x}))}))})),n.set({...l,...m}),r.set({...u,...p})},clear:()=>{n.set({}),r.set({})}})};var zN=Object.freeze({__proto__:null,memory:x5,dataset:v5,manual:()=>ia({readState:Me}),init:n=>n.store.manager.state(n)});const y5=(n,r,i,l)=>{const u=r.store;i.update([l]),u.setValue(n,l),r.onSetValue(n,l)};var _5=[Po("initialValue"),Fe("getFallbackEntry"),Fe("getDataKey"),Fe("setValue"),Cn("manager",{setValue:y5,getValue:(n,r,i)=>{const l=r.store,u=l.getDataKey(n);return i.lookup(u).getOrThunk((()=>l.getFallbackEntry(u)))},onLoad:(n,r,i)=>{r.store.initialValue.each((l=>{y5(n,r,i,l)}))},onUnload:(n,r,i)=>{i.clear()},state:v5})],HN=[Fe("getValue"),xe("setValue",Me),Po("initialValue"),Cn("manager",{setValue:(n,r,i,l)=>{r.store.setValue(n,l),r.onSetValue(n,l)},getValue:(n,r,i)=>r.store.getValue(n),onLoad:(n,r,i)=>{r.store.initialValue.each((l=>{r.store.setValue(n,l)}))},onUnload:Me,state:mi.init})],$N=[Po("initialValue"),Cn("manager",{setValue:(n,r,i,l)=>{i.set(l),r.onSetValue(n,l)},getValue:(n,r,i)=>i.get(),onLoad:(n,r,i)=>{r.store.initialValue.each((l=>{i.isNotSet()&&i.set(l)}))},onUnload:(n,r,i)=>{i.clear()},state:x5})],VN=[sa("store",{mode:"memory"},ga("mode",{memory:$N,manual:HN,dataset:_5})),Co("onSetValue"),xe("resetOnDom",!1)];const lt=cs({fields:VN,name:"representing",active:FN,apis:IN,extra:{setValueFrom:(n,r)=>{const i=lt.getValue(r);lt.setValue(n,i)}},state:zN}),Sd=cs({fields:LN,name:"invalidating",active:PN,apis:BN,extra:{validation:n=>r=>{const i=lt.getValue(r);return si(n(i))}}});var UN=Object.freeze({__proto__:null,exhibit:(n,r)=>Hl({classes:[],styles:r.useFixed()?{}:{position:"relative"}})});const ZC=Is([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),w5=(n,r,i,l,u,m)=>{const p=r.rect,x=p.x-i,v=p.y-l,w=u-(x+p.width),S=m-(v+p.height),k=E.some(x),A=E.some(v),M=E.some(w),B=E.some(S),U=E.none();return r.direction.fold((()=>Rc(n,k,A,U,U)),(()=>Rc(n,U,A,M,U)),(()=>Rc(n,k,U,U,B)),(()=>Rc(n,U,U,M,B)),(()=>Rc(n,k,A,U,U)),(()=>Rc(n,k,U,U,B)),(()=>Rc(n,k,A,U,U)),(()=>Rc(n,U,A,M,U)))},C5=(n,r)=>n.fold((()=>{const i=r.rect;return Rc("absolute",E.some(i.x),E.some(i.y),E.none(),E.none())}),((i,l,u,m)=>w5("absolute",r,i,l,u,m)),((i,l,u,m)=>w5("fixed",r,i,l,u,m))),WC=(n,r)=>{const i=eo(rn,r),l=n.fold(i,i,(()=>{const p=Gt();return rn(r).translate(-p.left,-p.top)})),u=Yc(r),m=sl(r);return Ns(l.left,l.top,u,m)},k5=(n,r)=>r.fold((()=>n.fold(Tr,Tr,Ns)),(i=>n.fold(ae(i),ae(i),(()=>{const l=S5(n,i.x,i.y);return Ns(l.left,l.top,i.width,i.height)})))),S5=(n,r,i)=>{const l=Lt(r,i);return n.fold(ae(l),ae(l),(()=>{const u=Gt();return l.translate(-u.left,-u.top)}))};ZC.none;const ZN=ZC.relative,WN=ZC.fixed,wx=Is([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),jC=(n,r,i,l)=>{const u=n.bubble,m=u.offset,p=((j,K,oe)=>{const te=(Oe,ze)=>K[Oe].map((pt=>{const St=Oe==="top"||Oe==="bottom",At=St?oe.top:oe.left,ro=(Oe==="left"||Oe==="top"?Math.max:Math.min)(pt,ze)+At;return St?Jo(ro,j.y,j.bottom):Jo(ro,j.x,j.right)})).getOr(ze),re=te("left",j.x),pe=te("top",j.y),Ce=te("right",j.right),we=te("bottom",j.bottom);return Ns(re,pe,Ce-re,we-pe)})(l,n.restriction,m),x=n.x+m.left,v=n.y+m.top,w=Ns(x,v,r,i),{originInBounds:S,sizeInBounds:k,visibleW:A,visibleH:M}=((j,K)=>{const{x:oe,y:te,right:re,bottom:pe}=K,{x:Ce,y:we,right:Oe,bottom:ze,width:pt,height:St}=j;return{originInBounds:Ce>=oe&&Ce<=re&&we>=te&&we<=pe,sizeInBounds:Oe<=re&&Oe>=oe&&ze<=pe&&ze>=te,visibleW:Math.min(pt,Ce>=oe?re-Ce:Oe-oe),visibleH:Math.min(St,we>=te?pe-we:ze-te)}})(w,p),B=S&&k,U=B?w:((j,K)=>{const{x:oe,y:te,right:re,bottom:pe}=K,{x:Ce,y:we,width:Oe,height:ze}=j,pt=Math.max(oe,re-Oe),St=Math.max(te,pe-ze),At=Jo(Ce,oe,pt),ro=Jo(we,te,St),Ho=Math.min(At+Oe,re)-At,nn=Math.min(ro+ze,pe)-ro;return Ns(At,ro,Ho,nn)})(w,p),$=U.width>0&&U.height>0,{maxWidth:V,maxHeight:z}=((j,K,oe)=>{const te=ae(K.bottom-oe.y),re=ae(oe.bottom-K.y),pe=((ze,pt,St,At)=>ze.fold(pt,pt,At,At,pt,At,St,St))(j,re,re,te),Ce=ae(K.right-oe.x),we=ae(oe.right-K.x);return{maxWidth:((ze,pt,St,At)=>ze.fold(pt,At,pt,At,St,St,pt,At))(j,we,we,Ce),maxHeight:pe}})(n.direction,U,l),H={rect:U,maxHeight:z,maxWidth:V,direction:n.direction,placement:n.placement,classes:{on:u.classesOn,off:u.classesOff},layout:n.label,testY:v};return B||n.alwaysFit?wx.fit(H):wx.nofit(H,A,M,$)},E5=["top","bottom","right","left"],uy="data-alloy-transition-timer",jN=(n,r,i,l,u,m)=>{const p=((x,v,w)=>w.exists((S=>{const k=x.mode;return k==="all"||S[k]!==v[k]})))(l,u,m);if(p||((x,v)=>((w,S)=>Uc(S,(k=>xs(w,k))))(x,v.classes))(n,l)){Z(n,"position",i.position);const x=WC(r,n),v=C5(r,{...u,rect:x}),w=Sn(E5,(S=>v[S]));((S,k)=>{const A=M=>parseFloat(M).toFixed(3);return Wu(k,((M,B)=>!((U,$,V=ie)=>ju(U,$,V).getOr(U.isNone()&&$.isNone()))(S[B].map(A),M.map(A)))).isSome()})(i,w)&&(eu(n,w),p&&((S,k)=>{Di(S,k.classes),$s(S,uy).each((A=>{clearTimeout(parseInt(A,10)),ts(S,uy)})),((A,M)=>{const B=Yr(),U=Yr();let $;const V=K=>{var oe;const te=(oe=K.raw.pseudoElement)!==null&&oe!==void 0?oe:"";return lo(K.target,A)&&Gd(te)&&Ge(E5,K.raw.propertyName)},z=K=>{if(vo(K)||V(K)){B.clear(),U.clear();const oe=K?.raw.type;(vo(oe)||oe===Bf())&&(clearTimeout($),ts(A,uy),Zr(A,M.classes))}},H=da(A,TE(),(K=>{V(K)&&(H.unbind(),B.set(da(A,Bf(),z)),U.set(da(A,w2(),z)))})),j=(K=>{const oe=Ce=>{const we=kr(K,Ce).split(/\s*,\s*/);return sn(we,Wc)},te=Ce=>{if(Le(Ce)&&/^[\d.]+/.test(Ce)){const we=parseFloat(Ce);return Qg(Ce,"ms")?we:1e3*we}return 0},re=oe("transition-delay"),pe=oe("transition-duration");return qo(pe,((Ce,we,Oe)=>{const ze=te(re[Oe])+te(we);return Math.max(Ce,ze)}),0)})(A);window.requestAnimationFrame((()=>{$=setTimeout(z,j+17),Vt(A,uy,$)}))})(S,k)})(n,l),dp(n))}else Zr(n,l.classes)},Cx=(n,r,i)=>n[r]===void 0?i:n[r],qN=(n,r,i,l)=>{const u=((m,p,x,v)=>{_o(p,"max-height"),_o(p,"max-width");const w=(S=p,{width:Math.ceil(Yc(S)),height:sl(S)});var S;return((k,A,M,B,U,$)=>{const V=B.width,z=B.height,H=(j,K,oe,te,re)=>{const pe=j(M,B,U,k,$),Ce=jC(pe,V,z,$);return Ce.fold(ae(Ce),((we,Oe,ze,pt)=>(re===pt?ze>te||Oe>oe:!re&&pt)?Ce:wx.nofit(K,oe,te,re)))};return qo(A,((j,K)=>{const oe=eo(H,K);return j.fold(ae(j),oe)}),wx.nofit({rect:M,maxHeight:B.height,maxWidth:B.width,direction:_c(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:M.y},-1,-1,!1)).fold(dt,dt)})(p,v.preference,m,w,x,v.bounds)})(n,r,i,l);return((m,p,x)=>{const v=C5(x.origin,p);x.transition.each((w=>{jN(m,x.origin,v,w,p,x.lastPlacement)})),ty(m,v)})(r,u,l),((m,p)=>{((x,v)=>{Vt(x,Ba,v)})(m,p.placement)})(r,u),((m,p)=>{const x=p.classes;Zr(m,x.off),Di(m,x.on)})(r,u),((m,p,x)=>{(0,x.maxHeightFunction)(m,p.maxHeight)})(r,u,l),((m,p,x)=>{(0,x.maxWidthFunction)(m,p.maxWidth)})(r,u,l),{layout:u.layout,placement:u.placement}},my=dt,lh=()=>pa("layouts",[Fe("onLtr"),Fe("onRtl"),Po("onBottomLtr"),Po("onBottomRtl")]),kx=(n,r,i,l,u,m,p)=>{const x=p.map(ml).getOr(!1),v=r.layouts.map((A=>A.onLtr(n))),w=r.layouts.map((A=>A.onRtl(n))),S=x?r.layouts.bind((A=>A.onBottomLtr.map((M=>M(n))))).or(v).getOr(u):v.getOr(i),k=x?r.layouts.bind((A=>A.onBottomRtl.map((M=>M(n))))).or(w).getOr(m):w.getOr(l);return kf(S,k)(n)};var GN=[Fe("hotspot"),Po("bubble"),xe("overrides",{}),lh(),Cn("placement",((n,r,i)=>{const l=r.hotspot,u=WC(i,l.element),m=kx(n.element,r,Qb(),Hp(),wc(),zp(),E.some(r.hotspot.element));return E.some(my({anchorBox:u,bubble:r.bubble.getOr(Hf()),overrides:r.overrides,layouts:m}))}))],T5=[Fe("x"),Fe("y"),xe("height",0),xe("width",0),xe("bubble",Hf()),xe("overrides",{}),lh(),Cn("placement",((n,r,i)=>{const l=S5(i,r.x,r.y),u=Ns(l.left,l.top,r.width,r.height),m=kx(n.element,r,Jb(),P2(),Jb(),P2(),E.none());return E.some(my({anchorBox:u,bubble:r.bubble,overrides:r.overrides,layouts:m}))}))];const qC=Is([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),A5=n=>n.fold(dt,((r,i,l)=>r.translate(-i,-l))),O5=n=>n.fold(dt,dt),GC=n=>qo(n,((r,i)=>r.translate(i.left,i.top)),Lt(0,0)),D5=n=>{const r=Ke(n,O5);return GC(r)},KN=qC.screen,YN=qC.absolute,N5=(n,r,i)=>{const l=Dl(n.element),u=Gt(l),m=((p,x,v)=>{const w=Yu(v.root).dom;return E.from(w.frameElement).map(at).filter((S=>{const k=Dl(S),A=Dl(p.element);return lo(k,A)})).map(Va)})(n,0,i).getOr(u);return YN(m,u.left,u.top)},KC=(n,r,i,l)=>{const u=KN(Lt(n,r));return E.some(((m,p,x)=>({point:m,width:p,height:x}))(u,i,l))},ag=(n,r,i,l,u)=>n.map((m=>{const p=[r,m.point],x=(v=()=>D5(p),w=()=>D5(p),S=()=>(H=>{const j=Ke(H,A5);return GC(j)})(p),l.fold(v,w,S));var v,w,S;const k=(U=x.left,$=x.top,V=m.width,z=m.height,{x:U,y:$,width:V,height:z}),A=i.showAbove?wc():Qb(),M=i.showAbove?zp():Hp(),B=kx(u,i,A,M,A,M,E.none());var U,$,V,z;return my({anchorBox:k,bubble:i.bubble.getOr(Hf()),overrides:i.overrides,layouts:B})}));var XN=[Fe("node"),Fe("root"),Po("bubble"),lh(),xe("overrides",{}),xe("showAbove",!1),Cn("placement",((n,r,i)=>{const l=N5(n,0,r);return r.node.filter(ma).bind((u=>{const m=u.dom.getBoundingClientRect(),p=KC(m.left,m.top,m.width,m.height),x=r.node.getOr(n.element);return ag(p,l,r,i,x)}))}))];const fy=(n,r)=>({element:n,offset:r}),R5=(n,r)=>ic(n)?fy(n,r):((i,l)=>{const u=nl(i);if(u.length===0)return fy(i,l);if(l<u.length)return fy(u[l],0);{const m=u[u.length-1],p=ic(m)?(x=>fp.get(x))(m).length:nl(m).length;return fy(m,p)}})(n,r),YC=n=>n.foffset!==void 0,XC=(n,r)=>r.getSelection.getOrThunk((()=>()=>(i=>(l=>E.from(l.getSelection()))(i).filter((l=>l.rangeCount>0)).bind(y2))(n)))().map((i=>{if(YC(i)){const l=R5(i.start,i.soffset),u=R5(i.finish,i.foffset);return Pl.range(l.element,l.offset,u.element,u.offset)}return i}));var JN=[Po("getSelection"),Fe("root"),Po("bubble"),lh(),xe("overrides",{}),xe("showAbove",!1),Cn("placement",((n,r,i)=>{const l=Yu(r.root).dom,u=N5(n,0,r),m=XC(l,r).bind((x=>{if(YC(x))return((w,S)=>(k=>{const A=k.getBoundingClientRect();return A.width>0||A.height>0?E.some(A).map(_b):E.none()})(ac(w,S)))(l,Pl.exactFromRange(x)).orThunk((()=>{const w=a2("\uFEFF");Oi(x.start,w);const S=w1(l,Pl.exact(w,0,w,1));return dc(w),S})).bind((w=>KC(w.left,w.top,w.width,w.height)));{const v=ss(x,(S=>S.dom.getBoundingClientRect())),w={left:Math.min(v.firstCell.left,v.lastCell.left),right:Math.max(v.firstCell.right,v.lastCell.right),top:Math.min(v.firstCell.top,v.lastCell.top),bottom:Math.max(v.firstCell.bottom,v.lastCell.bottom)};return KC(w.left,w.top,w.right-w.left,w.bottom-w.top)}})),p=XC(l,r).bind((x=>YC(x)?$r(x.start)?E.some(x.start):Ai(x.start):E.some(x.firstCell))).getOr(n.element);return ag(m,u,r,i,p)}))];const gy="link-layout",JC=n=>n.x+n.width,u0=(n,r)=>n.x-r.width,m0=(n,r)=>n.y-r.height+n.height,M5=n=>n.y,py=(n,r,i)=>ar(JC(n),M5(n),i.southeast(),_c(),"southeast",Ar(n,{left:0,top:2}),gy),B5=(n,r,i)=>ar(u0(n,r),M5(n),i.southwest(),Wb(),"southwest",Ar(n,{right:1,top:2}),gy),QC=(n,r,i)=>ar(JC(n),m0(n,r),i.northeast(),Fp(),"northeast",Ar(n,{left:0,bottom:3}),gy),e4=(n,r,i)=>ar(u0(n,r),m0(n,r),i.northwest(),jb(),"northwest",Ar(n,{right:1,bottom:3}),gy),t4=()=>[py,B5,QC,e4],P5=()=>[B5,py,e4,QC];var QN=[Fe("item"),lh(),xe("overrides",{}),Cn("placement",((n,r,i)=>{const l=WC(i,r.item.element),u=kx(n.element,r,t4(),P5(),t4(),P5(),E.none());return E.some(my({anchorBox:l,bubble:Hf(),overrides:r.overrides,layouts:u}))}))],eR=ga("type",{selection:JN,node:XN,hotspot:GN,submenu:QN,makeshift:T5});const f0=[oa("classes",Un),al("mode","all",["all","layout","placement"])],ch=[xe("useFixed",Ee),Po("getBounds")],hy=[Oa("anchor",eR),pa("transition",f0)],g0=(n,r,i,l,u,m)=>{const p=ea("placement.info",Ht(hy),u),x=p.anchor,v=l.element,w=i.get(l.uid);Y2((()=>{Z(v,"position","fixed");const S=os(v,"visibility");Z(v,"visibility","hidden");const k=r.useFixed()?(()=>{const A=document.documentElement;return WN(0,0,A.clientWidth,A.clientHeight)})():(A=>{const M=Va(A.element),B=A.element.dom.getBoundingClientRect();return ZN(M.left,M.top,B.width,B.height)})(n);x.placement(n,x,k).each((A=>{const M=m.orThunk((()=>r.getBounds.map(zo))),B=((U,$,V,z,H,j)=>((K,oe,te,re,pe,Ce,we,Oe)=>{const ze=Cx(we,"maxHeightFunction",nx()),pt=Cx(we,"maxWidthFunction",Me),St=K.anchorBox,At=K.origin,ro={bounds:k5(At,Ce),origin:At,preference:re,maxHeightFunction:ze,maxWidthFunction:pt,lastPlacement:pe,transition:Oe};return qN(St,oe,te,ro)})(((K,oe)=>((te,re)=>({anchorBox:te,origin:re}))(K,oe))($.anchorBox,U),z.element,$.bubble,$.layouts,H,V,$.overrides,j))(k,A,M,l,w,p.transition);i.set(l.uid,B)})),S.fold((()=>{_o(v,"visibility")}),(A=>{Z(v,"visibility",A)})),os(v,"left").isNone()&&os(v,"top").isNone()&&os(v,"right").isNone()&&os(v,"bottom").isNone()&&Bn(os(v,"position"),"fixed")&&_o(v,"position")}),v)};var tR=Object.freeze({__proto__:null,position:(n,r,i,l,u)=>{const m=E.none();g0(n,r,i,l,u,m)},positionWithinBounds:g0,getMode:(n,r,i)=>r.useFixed()?"fixed":"absolute",reset:(n,r,i,l)=>{const u=l.element;vt(["position","left","right","top","bottom"],(m=>_o(u,m))),(m=>{ts(m,Ba)})(u),i.clear(l.uid)}});const Ls=cs({fields:ch,name:"positioning",active:UN,apis:tR,state:Object.freeze({__proto__:null,init:()=>{let n={};return ia({readState:()=>n,clear:r=>{ot(r)?delete n[r]:n={}},set:(r,i)=>{n[r]=i},get:r=>Dt(n,r)})}})});var yu=Object.freeze({__proto__:null,events:n=>en([Ne(lu(),((r,i)=>{const l=n.channels,u=Go(l),m=i,p=((x,v)=>v.universal?x:sn(x,(w=>Ge(v.channels,w))))(u,m);vt(p,(x=>{const v=l[x],w=v.schema,S=ea("channel["+x+`] data
Receiver: `+di(r.element),w,m.data);v.onReceive(r,S)}))}))])}),o4=[Oa("channels",_2(yo.value,ci([Na("onReceive"),xe("schema",li())])))];const pi=cs({fields:o4,name:"receiving",active:yu});var oR=Object.freeze({__proto__:null,events:(n,r)=>{const i=(l,u)=>{n.updateState.each((m=>{const p=m(l,u);r.set(p)})),n.renderComponents.each((m=>{const p=m(u,r.get());(n.reuseDom?wC:_C)(l,p)}))};return en([Ne(lu(),((l,u)=>{const m=u;if(!m.universal){const p=n.channel;Ge(m.channels,p)&&i(l,m.data)}})),gn(((l,u)=>{n.initialData.each((m=>{i(l,m)}))}))])}}),L5=Object.freeze({__proto__:null,getState:(n,r,i)=>i}),Sx=[Fe("channel"),Po("renderComponents"),Po("updateState"),Po("initialData"),sr("reuseDom",!0)];const xa=cs({fields:Sx,name:"reflecting",active:oR,apis:L5,state:Object.freeze({__proto__:null,init:()=>{const n=mt(E.none());return{readState:()=>n.get().getOr("none"),get:n.get,set:n.set,clear:()=>n.set(E.none())}}})}),by=(n,r,i,l)=>{i.get().each((p=>{ng(n)}));const u=r.getAttachPoint(n);oh(u,n);const m=n.getSystem().build(l);return oh(n,m),i.set(m),m},n4=(n,r,i,l)=>{const u=by(n,r,i,l);return r.onOpen(n,u),u},p0=(n,r,i)=>{i.get().each((l=>{ng(n),gi(n),r.onClose(n,l),i.clear()}))},Ex=(n,r,i)=>i.isOpen(),I5=(n,r,i)=>{const l=r.getAttachPoint(n);Z(n.element,"position",Ls.getMode(l)),((u,m,p)=>{os(u.element,m).fold((()=>{ts(u.element,p)}),(x=>{Vt(u.element,p,x)})),Z(u.element,m,"hidden")})(n,"visibility",r.cloakVisibilityAttr)},xy=(n,r,i)=>{(l=>dn(["top","left","right","bottom"],(u=>os(l,u).isSome())))(n.element)||_o(n.element,"position"),((l,u,m)=>{$s(l.element,m).fold((()=>_o(l.element,u)),(p=>Z(l.element,u,p)))})(n,"visibility",r.cloakVisibilityAttr)};var vy=Object.freeze({__proto__:null,cloak:I5,decloak:xy,open:n4,openWhileCloaked:(n,r,i,l,u)=>{I5(n,r),n4(n,r,i,l),u(),xy(n,r)},close:p0,isOpen:Ex,isPartOf:(n,r,i,l)=>Ex(0,0,i)&&i.get().exists((u=>r.isPartOf(n,u,l))),getState:(n,r,i)=>i.get(),setContent:(n,r,i,l)=>i.get().map((()=>by(n,r,i,l)))}),nR=Object.freeze({__proto__:null,events:(n,r)=>en([Ne(Ap(),((i,l)=>{p0(i,n,r)}))])}),_u=[Co("onOpen"),Co("onClose"),Fe("isPartOf"),Fe("getAttachPoint"),xe("cloakVisibilityAttr","data-precloak-visibility")],F5=Object.freeze({__proto__:null,init:()=>{const n=mn(),r=ae("not-implemented");return ia({readState:r,isOpen:n.isSet,clear:n.clear,set:n.set,get:n.get})}});const Ro=cs({fields:_u,name:"sandboxing",active:nR,apis:vy,state:F5}),wu=(n,r)=>r.getAnimationRoot.fold((()=>n.element),(i=>i(n))),Cu=n=>n.dimension.property,ku=(n,r)=>n.dimension.getDimension(r),yy=(n,r)=>{const i=wu(n,r);Zr(i,[r.shrinkingClass,r.growingClass])},_y=(n,r)=>{fn(n.element,r.openClass),Ln(n.element,r.closedClass),Z(n.element,Cu(r),"0px"),dp(n.element)},wy=(n,r)=>{fn(n.element,r.closedClass),Ln(n.element,r.openClass),_o(n.element,Cu(r))},z5=(n,r,i,l)=>{i.setCollapsed(),Z(n.element,Cu(r),ku(r,n.element)),yy(n,r),_y(n,r),r.onStartShrink(n),r.onShrunk(n)},s4=(n,r,i,l)=>{const u=l.getOrThunk((()=>ku(r,n.element)));i.setCollapsed(),Z(n.element,Cu(r),u),dp(n.element);const m=wu(n,r);fn(m,r.growingClass),Ln(m,r.shrinkingClass),_y(n,r),r.onStartShrink(n)},Ed=(n,r,i)=>{const l=ku(r,n.element);(l==="0px"?z5:s4)(n,r,i,E.some(l))},H5=(n,r,i)=>{const l=wu(n,r),u=xs(l,r.shrinkingClass),m=ku(r,n.element);wy(n,r);const p=ku(r,n.element);(u?()=>{Z(n.element,Cu(r),m),dp(n.element)}:()=>{_y(n,r)})(),fn(l,r.shrinkingClass),Ln(l,r.growingClass),wy(n,r),Z(n.element,Cu(r),p),i.setExpanded(),r.onStartGrow(n)},$5=(n,r,i)=>{const l=wu(n,r);return xs(l,r.growingClass)===!0},r4=(n,r,i)=>{const l=wu(n,r);return xs(l,r.shrinkingClass)===!0};var V5=Object.freeze({__proto__:null,refresh:(n,r,i)=>{if(i.isExpanded()){_o(n.element,Cu(r));const l=ku(r,n.element);Z(n.element,Cu(r),l)}},grow:(n,r,i)=>{i.isExpanded()||H5(n,r,i)},shrink:(n,r,i)=>{i.isExpanded()&&Ed(n,r,i)},immediateShrink:(n,r,i)=>{i.isExpanded()&&z5(n,r,i)},hasGrown:(n,r,i)=>i.isExpanded(),hasShrunk:(n,r,i)=>i.isCollapsed(),isGrowing:$5,isShrinking:r4,isTransitioning:(n,r,i)=>$5(n,r)||r4(n,r),toggleGrow:(n,r,i)=>{(i.isExpanded()?Ed:H5)(n,r,i)},disableTransitions:yy,immediateGrow:(n,r,i)=>{i.isExpanded()||(wy(n,r),Z(n.element,Cu(r),ku(r,n.element)),yy(n,r),i.setExpanded(),r.onStartGrow(n),r.onGrown(n))}}),U5=Object.freeze({__proto__:null,exhibit:(n,r,i)=>{const l=r.expanded;return Hl(l?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:Ga(r.dimension.property,"0px")})},events:(n,r)=>en([pd(Bf(),((i,l)=>{l.event.raw.propertyName===n.dimension.property&&(yy(i,n),r.isExpanded()&&_o(i.element,n.dimension.property),(r.isExpanded()?n.onGrown:n.onShrunk)(i))}))])}),sR=[Fe("closedClass"),Fe("openClass"),Fe("shrinkingClass"),Fe("growingClass"),Po("getAnimationRoot"),Co("onShrunk"),Co("onStartShrink"),Co("onGrown"),Co("onStartGrow"),xe("expanded",!1),Oa("dimension",ga("property",{width:[Cn("property","width"),Cn("getDimension",(n=>Fn(n)+"px"))],height:[Cn("property","height"),Cn("getDimension",(n=>Os(n)+"px"))]}))];const hi=cs({fields:sR,name:"sliding",active:U5,apis:V5,state:Object.freeze({__proto__:null,init:n=>{const r=mt(n.expanded);return ia({isExpanded:()=>r.get()===!0,isCollapsed:()=>r.get()===!1,setCollapsed:eo(r.set,!1),setExpanded:eo(r.set,!0),readState:()=>"expanded: "+r.get()})}})});var Wl=Object.freeze({__proto__:null,events:(n,r)=>{const i=n.stream.streams.setup(n,r);return en([Ne(n.event,i),Fi((()=>r.cancel()))].concat(n.cancelEvent.map((l=>[Ne(l,(()=>r.cancel()))])).getOr([])))}});const dh=n=>{const r=mt(null);return ia({readState:()=>({timer:r.get()!==null?"set":"unset"}),setTimer:i=>{r.set(i)},cancel:()=>{const i=r.get();i!==null&&i.cancel()}})};var Z5=Object.freeze({__proto__:null,throttle:dh,init:n=>n.stream.streams.state(n)}),h0=[Oa("stream",ga("mode",{throttle:[Fe("delay"),xe("stopEvent",!0),Cn("streams",{setup:(n,r)=>{const i=n.stream,l=mf(n.onStream,i.delay);return r.setTimer(l),(u,m)=>{l.throttle(u,m),i.stopEvent&&m.stop()}},state:dh})]})),xe("event","input"),Po("cancelEvent"),Na("onStream")];const Ia=cs({fields:h0,name:"streaming",active:Wl,state:Z5});var $i=Object.freeze({__proto__:null,exhibit:(n,r)=>Hl({attributes:um([{key:r.tabAttr,value:"true"}])})}),Fa=[xe("tabAttr","data-alloy-tabstop")];const Lo=cs({fields:Fa,name:"tabstopping",active:$i}),uh=(n,r,i,l)=>{const u=i.get();i.set(l),((m,p,x)=>{p.toggleClass.each((v=>{x.get()?Ln(m.element,v):fn(m.element,v)}))})(n,r,i),((m,p,x)=>{const v=p.aria;v.update(m,v,x.get())})(n,r,i),u!==l&&r.onToggled(n,l)},bl=(n,r,i)=>{uh(n,r,i,!i.get())},ig=(n,r,i)=>{uh(n,r,i,r.selected)};var rR=Object.freeze({__proto__:null,onLoad:ig,toggle:bl,isOn:(n,r,i)=>i.get(),on:(n,r,i)=>{uh(n,r,i,!0)},off:(n,r,i)=>{uh(n,r,i,!1)},set:uh}),aR=Object.freeze({__proto__:null,exhibit:()=>Hl({}),events:(n,r)=>{const i=(l=n,u=r,m=bl,kc((x=>{m(x,l,u)})));var l,u,m;const p=Wf(n,r,ig);return en(fr([n.toggleOnExecute?[i]:[],[p]]))}});const W5=(n,r,i)=>{Vt(n.element,"aria-expanded",i)};var j5=[xe("selected",!1),Po("toggleClass"),xe("toggleOnExecute",!0),Co("onToggled"),sa("aria",{mode:"none"},ga("mode",{pressed:[xe("syncWithExpanded",!1),Cn("update",((n,r,i)=>{Vt(n.element,"aria-pressed",i),r.syncWithExpanded&&W5(n,0,i)}))],checked:[Cn("update",((n,r,i)=>{Vt(n.element,"aria-checked",i)}))],expanded:[Cn("update",W5)],selected:[Cn("update",((n,r,i)=>{Vt(n.element,"aria-selected",i)}))],none:[Cn("update",Me)]}))];const bo=cs({fields:j5,name:"toggling",active:aR,apis:rR,state:(b0=!1,{init:()=>{const n=mt(b0);return{get:()=>n.get(),set:r=>n.set(r),clear:()=>n.set(b0),readState:()=>n.get()}}})});var b0;const a4=ge("tooltip.exclusive"),Tx=ge("tooltip.show"),Ax=ge("tooltip.hide"),Ox=ge("tooltip.immediateHide"),Dx=ge("tooltip.immediateShow"),i4=(n,r,i)=>{n.getSystem().broadcastOn([a4],{})};var q5=Object.freeze({__proto__:null,hideAllExclusive:i4,immediateOpenClose:(n,r,i,l)=>no(n,l?Dx:Ox),isEnabled:(n,r,i)=>i.isEnabled(),setComponents:(n,r,i,l)=>{i.getTooltip().each((u=>{u.getSystem().isConnected()&&Kt.set(u,l)}))},setEnabled:(n,r,i,l)=>i.setEnabled(l)}),l4=Object.freeze({__proto__:null,events:(n,r)=>{const i=m=>{r.getTooltip().each((p=>{p.getSystem().isConnected()&&(gi(p),n.onHide(m,p),r.clearTooltip())})),r.clearTimer()},l=m=>{if(!r.isShowing()&&r.isEnabled()){i4(m);const p=n.lazySink(m).getOrDie(),x=m.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:en(n.mode==="normal"?[Ne(Da(),(v=>{no(m,Tx)})),Ne(ru(),(v=>{no(m,Ax)}))]:[]),behaviours:He([Kt.config({})])});r.setTooltip(x),oh(p,x),n.onShow(m,x),Ls.position(p,x,{anchor:n.anchor(m)})}},u=m=>{r.getTooltip().each((p=>{const x=n.lazySink(m).getOrDie();Ls.position(x,p,{anchor:n.anchor(m)})}))};return en(fr([[K1((m=>{n.onSetup(m)})),Ne(Tx,(m=>{r.resetTimer((()=>{l(m)}),n.delayForShow())})),Ne(Ax,(m=>{r.resetTimer((()=>{i(m)}),n.delayForHide())})),Ne(Dx,(m=>{r.resetTimer((()=>{l(m)}),0)})),Ne(Ox,(m=>{r.resetTimer((()=>{i(m)}),0)})),Ne(lu(),((m,p)=>{const x=p;x.universal||(Ge(x.channels,a4)||Ge(x.channels,Sc()))&&(x.data.closedTooltip&&r.isShowing()&&x.data.closedTooltip(),i(m))})),Fi((m=>{i(m)}))],(()=>{switch(n.mode){case"normal":return[Ne(Bi(),(m=>{no(m,Dx)})),Ne(id(),(m=>{no(m,Ox)})),Ne(Da(),(m=>{no(m,Tx)})),Ne(ru(),(m=>{no(m,Ax)}))];case"follow-highlight":return[Ne(Bb(),((m,p)=>{no(m,Tx)})),Ne(R1(),(m=>{no(m,Ax)}))];case"children-normal":return[Ne(Bi(),((m,p)=>{Vr(m.element).each((x=>{qu(p.event.target,"[data-mce-tooltip]")&&r.getTooltip().fold((()=>{no(m,Dx)}),(v=>{r.isShowing()&&(n.onShow(m,v),u(m))}))}))})),Ne(id(),(m=>{Vr(m.element).fold((()=>{no(m,Ox)}),Me)})),Ne(Da(),(m=>{Qo(m.element,"[data-mce-tooltip]:hover").each((p=>{r.getTooltip().fold((()=>{no(m,Tx)}),(x=>{r.isShowing()&&(n.onShow(m,x),u(m))}))}))})),Ne(ru(),(m=>{Qo(m.element,"[data-mce-tooltip]:hover").fold((()=>{no(m,Ax)}),Me)}))];default:return[Ne(Bi(),((m,p)=>{Vr(m.element).each((x=>{qu(p.event.target,"[data-mce-tooltip]")&&r.getTooltip().fold((()=>{no(m,Dx)}),(v=>{r.isShowing()&&(n.onShow(m,v),u(m))}))}))})),Ne(id(),(m=>{Vr(m.element).fold((()=>{no(m,Ox)}),Me)}))]}})()]))}}),G5=[Fe("lazySink"),Fe("tooltipDom"),xe("exclusive",!0),xe("tooltipComponents",[]),wn("delayForShow",ae(300)),wn("delayForHide",ae(100)),wn("onSetup",Me),al("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),xe("anchor",(n=>({type:"hotspot",hotspot:n,layouts:{onLtr:ae([ls,lr,Bs,Or,Ps,ir]),onRtl:ae([ls,lr,Bs,Or,Ps,ir])},bubble:Ya(0,-2,{})}))),Co("onHide"),Co("onShow")],iR=Object.freeze({__proto__:null,init:()=>{const n=mt(!0),r=mn(),i=mn(),l=()=>{r.on(clearTimeout)},u=ae("not-implemented");return ia({getTooltip:i.get,isShowing:i.isSet,setTooltip:i.set,clearTooltip:i.clear,clearTimer:l,resetTimer:(m,p)=>{l(),r.set(setTimeout(m,p))},readState:u,isEnabled:()=>n.get(),setEnabled:m=>n.set(m)})}});const Dn=cs({fields:G5,name:"tooltipping",active:l4,state:iR,apis:q5}),Nx=cs({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>en([pu(Tp(),Ut)]),exhibit:()=>Hl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),$m=n=>{const r=uC(n),i=nl(r),l=(p=>{const x=p.dom.attributes!==void 0?p.dom.attributes:[];return qo(x,((v,w)=>w.name==="class"?v:{...v,[w.name]:w.value}),{})})(r),u=(p=>Array.prototype.slice.call(p.dom.classList,0))(r),m=i.length===0?{}:{innerHtml:yf(r)};return{tag:Ol(r),classes:u,attributes:l,...m}},Zo=n=>{const r=(i=>i.uid!==void 0)(n)&&$n(n,"uid")?n.uid:sh("memento");return{get:i=>i.getSystem().getByUid(r).getOrDie(),getOpt:i=>i.getSystem().getByUid(r).toOptional(),asSpec:()=>({...n,uid:r})}},br=U1,Rr=ra,LI=(n,r)=>{const i={stopBackspace:!0,...r},l=(k=>{const A=mn(),M=mt(!1),B=Mp(($=>{k.triggerEvent(k2(),$),M.set(!0)}),400),U=um([{key:Ll(),value:$=>(je($).each((V=>{B.cancel();const z={x:V.clientX,y:V.clientY,target:$.target};B.schedule($),M.set(!1),A.set(z)})),E.none())},{key:Ep(),value:$=>(B.cancel(),je($).each((V=>{A.on((z=>{((H,j)=>{const K=Math.abs(H.clientX-j.x),oe=Math.abs(H.clientY-j.y);return K>5||oe>5})(V,z)&&A.clear()}))})),E.none())},{key:Il(),value:$=>(B.cancel(),A.get().filter((V=>lo(V.target,$.target))).map((V=>M.get()?($.prevent(),!1):k.triggerEvent(Pf(),$))))}]);return{fireIfReady:($,V)=>Dt(U,V).bind((z=>z($)))}})(i),u=Ke(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(k=>da(n,k,(A=>{l.fireIfReady(A,k).each((M=>{M&&A.kill()})),i.triggerEvent(k,A)&&A.kill()})))),m=mn(),p=da(n,"paste",(k=>{l.fireIfReady(k,"paste").each((A=>{A&&k.kill()})),i.triggerEvent("paste",k)&&k.kill(),m.set(setTimeout((()=>{i.triggerEvent(Rb(),k)}),0))})),x=da(n,"keydown",(k=>{i.triggerEvent("keydown",k)?k.kill():i.stopBackspace&&(A=>A.raw.which===J1[0]&&!Ge(["input","textarea"],Ol(A.target))&&!hp(A.target,'[contenteditable="true"]'))(k)&&k.prevent()})),v=da(n,"focusin",(k=>{i.triggerEvent("focusin",k)&&k.kill()})),w=mn(),S=da(n,"focusout",(k=>{i.triggerEvent("focusout",k)&&k.kill(),w.set(setTimeout((()=>{i.triggerEvent(id(),k)}),0))}));return{unbind:()=>{vt(u,(k=>{k.unbind()})),x.unbind(),v.unbind(),S.unbind(),p.unbind(),m.on(clearTimeout),w.on(clearTimeout)}}},Rx=(n,r)=>{const i=Dt(n,"target").getOr(r);return mt(i)},Td=Is([{stopped:[]},{resume:["element"]},{complete:[]}]),Cy=(n,r,i,l,u,m)=>{const p=n(r,l),x=((v,w)=>{const S=mt(!1),k=mt(!1);return{stop:()=>{S.set(!0)},cut:()=>{k.set(!0)},isStopped:S.get,isCut:k.get,event:v,setSource:w.set,getSource:w.get}})(i,u);return p.fold((()=>(m.logEventNoHandlers(r,l),Td.complete())),(v=>{const w=v.descHandler;return OC(w)(x),x.isStopped()?(m.logEventStopped(r,v.element,w.purpose),Td.stopped()):x.isCut()?(m.logEventCut(r,v.element,w.purpose),Td.complete()):Vn(v.element).fold((()=>(m.logNoParent(r,v.element,w.purpose),Td.complete())),(S=>(m.logEventResponse(r,v.element,w.purpose),Td.resume(S))))}))},ky=(n,r,i,l,u,m)=>Cy(n,r,i,l,u,m).fold(Ut,(p=>ky(n,r,i,p,u,m)),Ee),K5=(n,r,i,l,u)=>{const m=Rx(i,l);return ky(n,r,i,l,m,u)},lR=()=>{const n=(()=>{const l={};return{registerId:(u,m,p)=>{Ko(p,((x,v)=>{const w=l[v]!==void 0?l[v]:{};w[m]=((S,k)=>({cHandler:eo.apply(void 0,[S.handler].concat(k)),purpose:S.purpose}))(x,u),l[v]=w}))},unregisterId:u=>{Ko(l,((m,p)=>{$o(m,u)&&delete m[u]}))},filterByType:u=>Dt(l,u).map((m=>Si(m,((p,x)=>((v,w)=>({id:v,descHandler:w}))(x,p))))).getOr([]),find:(u,m,p)=>Dt(l,m).bind((x=>bp(p,(v=>((w,S)=>nh(S).bind((k=>Dt(w,k))).map((k=>((A,M)=>({element:A,descHandler:M}))(S,k))))(x,v)),u)))}})(),r={},i=l=>{nh(l.element).each((u=>{delete r[u],n.unregisterId(u)}))};return{find:(l,u,m)=>n.find(l,u,m),filter:l=>n.filterByType(l),register:l=>{const u=(p=>{const x=p.element;return nh(x).getOrThunk((()=>((v,w)=>{const S=ge(QD+"uid-");return TC(w,S),S})(0,p.element)))})(l);$n(r,u)&&((p,x)=>{const v=r[x];if(v!==p)throw new Error('The tagId "'+x+'" is already used by: '+di(v.element)+`
Cannot use it for: `+di(p.element)+`
The conflicting element is`+(ma(v.element)?" ":" not ")+"already in the DOM");i(p)})(l,u);const m=[l];n.registerId(m,u,l.events),r[u]=l},unregister:i,getById:l=>Dt(r,l)}},c4=n=>{const r=$=>Vn(n.element).fold(Ut,(V=>lo($,V))),i=lR(),l=($,V)=>i.find(r,$,V),u=LI(n.element,{triggerEvent:($,V)=>Pb($,V.target,(z=>((H,j,K,oe)=>K5(H,j,K,K.target,oe))(l,$,V,z)))}),m={debugInfo:ae("real"),triggerEvent:($,V,z)=>{Pb($,V,(H=>K5(l,$,z,V,H)))},triggerFocus:($,V)=>{nh($).fold((()=>{_n($)}),(z=>{Pb(Pi(),$,(H=>(((j,K,oe,te,re)=>{const pe=Rx(oe,te);Cy(j,K,oe,te,pe,re)})(l,Pi(),{originator:V,kill:Me,prevent:Me,target:$},$,H),!1)))}))},triggerEscape:($,V)=>{m.triggerEvent("keydown",$.element,V.event)},getByUid:$=>B($),getByDom:$=>U($),build:ba,buildOrPatch:DC,addToGui:$=>{v($)},removeFromGui:$=>{w($)},addToWorld:$=>{p($)},removeFromWorld:$=>{x($)},broadcast:$=>{k($)},broadcastOn:($,V)=>{A($,V)},broadcastEvent:($,V)=>{M($,V)},isConnected:Ut},p=$=>{$.connect(m),ic($.element)||(i.register($),vt($.components(),p),m.triggerEvent(T1(),$.element,{target:$.element}))},x=$=>{ic($.element)||(vt($.components(),x),i.unregister($)),$.disconnect()},v=$=>{oh(n,$)},w=$=>{gi($)},S=$=>{const V=i.filter(lu());vt(V,(z=>{const H=z.descHandler;OC(H)($)}))},k=$=>{S({universal:!0,data:$})},A=($,V)=>{S({universal:!1,channels:$,data:V})},M=($,V)=>((z,H)=>{const j=(K=>{const oe=mt(!1);return{stop:()=>{oe.set(!0)},cut:Me,isStopped:oe.get,isCut:Ee,event:K,setSource:Cs("Cannot set source of a broadcasted event"),getSource:Cs("Cannot get source of a broadcasted event")}})(H);return vt(z,(K=>{const oe=K.descHandler;OC(oe)(j)})),j.isStopped()})(i.filter($),V),B=$=>i.getById($).fold((()=>yo.error(new Error('Could not find component with uid: "'+$+'" in system.'))),yo.value),U=$=>{const V=nh($).getOr("not found");return B(V)};return p(n),{root:n,element:n.element,destroy:()=>{u.unbind(),dc(n.element)},add:v,remove:w,getByUid:B,getByDom:U,addToWorld:p,removeFromWorld:x,broadcast:k,broadcastOn:A,broadcastEvent:M}},Y5=()=>{const n=(r,i)=>{i.stop(),Vp(r)};return[Ne(iu(),n),Ne(Pf(),n),gd(Ll()),gd(In())]},Sy=n=>en(fr([n.map((r=>kc(((i,l)=>{r(i),l.stop()})))).toArray(),Y5()])),Xs=hl({name:"Button",factory:n=>{const r=Sy(n.action),i=n.dom.tag,l=u=>Dt(n.dom,"attributes").bind((m=>Dt(m,u)));return{uid:n.uid,dom:n.dom,components:n.components,events:r,behaviours:c0(n.buttonBehaviours,[Zt.config({}),ht.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:i==="button"?{type:l("type").getOr("button"),...l("role").map((u=>({role:u}))).getOr({})}:{role:n.role.getOr(l("role").getOr("button"))}},eventOrder:n.eventOrder}},configFields:[xe("uid",void 0),Fe("dom"),xe("components",[]),rh("buttonBehaviours",[Zt,ht]),Po("action"),Po("role"),xe("eventOrder",{})]}),Mx=ae([xe("shell",!1),Fe("makeItem"),xe("setupItem",Me),rh("listBehaviours",[Kt])]),cR=ul({name:"items",overrides:()=>({behaviours:He([Kt.config({})])})}),dR=ae([cR]),d4=Ja({name:ae("CustomList")(),configFields:Mx(),partFields:dR(),factory:(n,r,i,l)=>{const u=n.shell?{behaviours:[Kt.config({})],components:[]}:{behaviours:[],components:r};return{uid:n.uid,dom:n.dom,components:u.components,behaviours:la(n.listBehaviours,u.behaviours),apis:{setItems:(m,p)=>{var x;(x=m,n.shell?E.some(x):vn(x,n,"items")).fold((()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(v=>{const w=Kt.contents(v),S=p.length,k=S-w.length,A=k>0?df(k,(()=>n.makeItem())):[],M=w.slice(S);vt(M,(U=>Kt.remove(v,U))),vt(A,(U=>Kt.append(v,U)));const B=Kt.contents(v);vt(B,((U,$)=>{n.setupItem(m,U,p[$],$)}))}))}}}},apis:{setItems:(n,r,i)=>{n.setItems(r,i)}}}),mh="aria-controls",Ey=()=>{const n=ge(mh);return{id:n,link:r=>{Vt(r,mh,n)},unlink:r=>{ts(r,mh)}}},Vm=(n,r)=>pp(r,(i=>lo(i,n.element)),Ee)||((i,l)=>(u=>v2(u,(m=>{if(!$r(m))return!1;const p=Hs(m,"id");return p!==void 0&&p.indexOf(mh)>-1})).bind((m=>{const p=Hs(m,"id"),x=er(m);return Qo(x,`[${mh}="${p}"]`)})))(l).exists((u=>Vm(i,u))))(n,r),Bx="alloy.item-hover",Ty="alloy.item-focus",u4="alloy.item-toggled",Ay=n=>{(Vr(n.element).isNone()||Zt.isFocused(n))&&(Zt.isFocused(n)||Zt.focus(n),Ct(n,Bx,{item:n}))},X5=n=>{Ct(n,Ty,{item:n})},J5=ae(Bx),uR=ae(Ty),Px=ae(u4),m4=n=>n.role.fold((()=>n.toggling.map((r=>r.exclusive?"menuitemradio":"menuitemcheckbox")).getOr("menuitem")),dt);var mR=[Fe("data"),Fe("components"),Fe("dom"),xe("hasSubmenu",!1),Po("toggling"),Po("role"),rh("itemBehaviours",[bo,Zt,ht,lt]),xe("ignoreFocus",!1),xe("domModification",{}),Cn("builder",(n=>({dom:n.dom,domModification:{...n.domModification,attributes:{role:m4(n),...n.domModification.attributes,"aria-haspopup":n.hasSubmenu,...n.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:c0(n.itemBehaviours,[n.toggling.fold(bo.revoke,(r=>bo.config(((i,l)=>({aria:{mode:l?"selected":"checked"},...Tl(i,((u,m)=>m!=="exclusive")),onToggled:(u,m)=>{yt(i.onToggled)&&i.onToggled(u,m),((p,x)=>{Ct(p,u4,{item:p,state:x})})(u,m)}}))(r,n.role.exists((i=>i==="option")))))),Zt.config({ignore:n.ignoreFocus,stopMousedown:n.ignoreFocus,onFocus:r=>{X5(r)}}),ht.config({mode:"execution"}),lt.config({store:{mode:"memory",initialValue:n.data}}),It("item-type-events",[...Y5(),Ne(Da(),Ay),Ne(ll(),Zt.focus)])]),components:n.components,eventOrder:n.eventOrder}))),xe("eventOrder",{})],Q5=[Fe("dom"),Fe("components"),Cn("builder",(n=>({dom:n.dom,components:n.components,events:en([rx(ll())])})))];const f4=ae("item-widget"),Oy=ae([ha({name:"widget",overrides:n=>({behaviours:He([lt.config({store:{mode:"manual",getValue:r=>n.data,setValue:Me}})])})})]),g4=[Fe("uid"),Fe("data"),Fe("components"),Fe("dom"),xe("autofocus",!1),xe("ignoreFocus",!1),rh("widgetBehaviours",[lt,Zt,ht]),xe("domModification",{}),Ub(Oy()),Cn("builder",(n=>{const r=$b(f4(),n,Oy()),i=zf(f4(),n,r.internals()),l=m=>vn(m,n,"widget").map((p=>(ht.focusIn(p),p))),u=(m,p)=>(fi(p.event.target)||n.autofocus&&p.setSource(m.element),E.none());return{dom:n.dom,components:i,domModification:n.domModification,events:en([kc(((m,p)=>{l(m).each((x=>{p.stop()}))})),Ne(Da(),Ay),Ne(ll(),((m,p)=>{n.autofocus?l(m):Zt.focus(m)}))]),behaviours:c0(n.widgetBehaviours,[lt.config({store:{mode:"memory",initialValue:n.data}}),Zt.config({ignore:n.ignoreFocus,onFocus:m=>{X5(m)}}),ht.config({mode:"special",focusIn:n.autofocus?m=>{l(m)}:X1(),onLeft:u,onRight:u,onEscape:(m,p)=>Zt.isFocused(m)||n.autofocus?(n.autofocus&&p.setSource(m.element),E.none()):(Zt.focus(m),E.some(!0))})])}}))],x0=ga("type",{widget:g4,item:mR,separator:Q5}),p4=ae([If({factory:{sketch:n=>{const r=ea("menu.spec item",x0,n);return r.builder(r)}},name:"items",unit:"item",defaults:(n,r)=>$o(r,"uid")?r:{...r,uid:sh("item")},overrides:(n,r)=>({type:r.type,ignoreFocus:n.fakeFocus,domModification:{classes:[n.markers.item]}})})]),fR=ae([On("role"),Fe("value"),Fe("items"),Fe("dom"),Fe("components"),xe("eventOrder",{}),Nr("menuBehaviours",[So,lt,Bo,ht]),sa("movement",{mode:"menu",moveOnTab:!0},ga("mode",{grid:[T2(),Cn("config",((n,r)=>({mode:"flatgrid",selector:"."+n.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:n.focusManager})))],matrix:[Cn("config",((n,r)=>({mode:"matrix",selectors:{row:r.rowSelector,cell:"."+n.markers.item},previousSelector:r.previousSelector,focusManager:n.focusManager}))),Fe("rowSelector"),xe("previousSelector",E.none)],menu:[xe("moveOnTab",!0),Cn("config",((n,r)=>({mode:"menu",selector:"."+n.markers.item,moveOnTab:r.moveOnTab,focusManager:n.focusManager})))]})),Oa("markers",Ib()),xe("fakeFocus",!1),xe("focusManager",o0()),Co("onHighlight"),Co("onDehighlight"),xe("showMenuRole",!0)]),eT=ae("alloy.menu-focus"),Su=Ja({name:"Menu",configFields:fR(),partFields:p4(),factory:(n,r,i,l)=>({uid:n.uid,dom:n.dom,markers:n.markers,behaviours:la(n.menuBehaviours,[So.config({highlightClass:n.markers.selectedItem,itemClass:n.markers.item,onHighlight:n.onHighlight,onDehighlight:n.onDehighlight}),lt.config({store:{mode:"memory",initialValue:n.value}}),Bo.config({find:E.some}),ht.config(n.movement.config(n,n.movement))]),events:en([Ne(uR(),((u,m)=>{const p=m.event;u.getSystem().getByDom(p.target).each((x=>{So.highlight(u,x),m.stop(),Ct(u,eT(),{menu:u,item:x})}))})),Ne(J5(),((u,m)=>{const p=m.event.item;So.highlight(u,p)})),Ne(Px(),((u,m)=>{const{item:p,state:x}=m.event;x&&Hs(p.element,"role")==="menuitemradio"&&((v,w)=>{const S=Sr(v.element,'[role="menuitemradio"][aria-checked="true"]');vt(S,(k=>{lo(k,w.element)||v.getSystem().getByDom(k).each((A=>{bo.off(A)}))}))})(u,p)}))]),components:r,eventOrder:n.eventOrder,...n.showMenuRole?{domModification:{attributes:{role:n.role.getOr("menu")}}}:{}})}),Um=(n,r,i,l)=>Dt(i,l).bind((u=>Dt(n,u).bind((m=>{const p=Um(n,r,i,m);return E.some([m].concat(p))})))).getOr([]),Dy=n=>n.type==="prepared"?E.some(n.menu):E.none(),h4=()=>{const n=mt({}),r=mt({}),i=mt({}),l=mn(),u=mt({}),m=v=>p(v).bind(Dy),p=v=>Dt(r.get(),v),x=v=>Dt(n.get(),v);return{setMenuBuilt:(v,w)=>{r.set({...r.get(),[v]:{type:"prepared",menu:w}})},setContents:(v,w,S,k)=>{l.set(v),n.set(S),r.set(w),u.set(k);const A=((M,B)=>{const U={};Ko(M,((H,j)=>{vt(H,(K=>{U[K]=j}))}));const $=B,V=n1(B,((H,j)=>({k:H,v:j}))),z=ss(V,((H,j)=>[j].concat(Um(U,$,V,j))));return ss(U,(H=>Dt(z,H).getOr([H])))})(k,S);i.set(A)},expand:v=>Dt(n.get(),v).map((w=>{const S=Dt(i.get(),v).getOr([]);return[w].concat(S)})),refresh:v=>Dt(i.get(),v),collapse:v=>Dt(i.get(),v).bind((w=>w.length>1?E.some(w.slice(1)):E.none())),lookupMenu:p,lookupItem:x,otherMenus:v=>{const w=u.get();return wo(Go(w),v)},getPrimary:()=>l.get().bind(m),getMenus:()=>r.get(),clear:()=>{n.set({}),r.set({}),i.set({}),l.clear()},isClear:()=>l.get().isNone(),getTriggeringPath:(v,w)=>{const S=sn(x(v).toArray(),(k=>m(k).isSome()));return Dt(i.get(),v).bind((k=>{const A=Gg(S.concat(k));return(M=>{const B=[];for(let U=0;U<M.length;U++){const $=M[U];if(!$.isSome())return E.none();B.push($.getOrDie())}return E.some(B)})(yn(A,((M,B)=>((U,$,V)=>m(U).bind((z=>(H=>Wu(n.get(),((j,K)=>j===H)))(U).bind((H=>$(H).map((j=>({triggeredMenu:z,triggeringItem:j,triggeringPath:V}))))))))(M,w,A.slice(0,B+1)).fold((()=>Bn(l.get(),M)?[]:[E.none()]),(U=>[E.some(U)])))))}))}}},Ny=Dy,b4=ge("tiered-menu-item-highlight"),Lx=ge("tiered-menu-item-dehighlight"),x4=ae("collapse-item"),fh=hl({name:"TieredMenu",configFields:[hm("onExecute"),hm("onEscape"),Na("onOpenMenu"),Na("onOpenSubmenu"),Co("onRepositionMenu"),Co("onCollapseMenu"),xe("highlightOnOpen",aa.HighlightMenuAndItem),ta("data",[Fe("primary"),Fe("menus"),Fe("expansions")]),xe("fakeFocus",!1),Co("onHighlightItem"),Co("onDehighlightItem"),Co("onHover"),Lf(),Fe("dom"),xe("navigateOnHover",!0),xe("stayInDom",!1),Nr("tmenuBehaviours",[ht,So,Bo,Kt]),xe("eventOrder",{})],apis:{collapseMenu:(n,r)=>{n.collapseMenu(r)},highlightPrimary:(n,r)=>{n.highlightPrimary(r)},repositionMenus:(n,r)=>{n.repositionMenus(r)}},factory:(n,r)=>{const i=mn(),l=h4(),u=H=>lt.getValue(H).value,m=H=>ss(n.data.menus,((j,K)=>yn(j.items,(oe=>oe.type==="separator"?[]:[oe.data.value])))),p=So.highlight,x=(H,j)=>{p(H,j),So.getHighlighted(j).orThunk((()=>So.getFirst(j))).each((K=>{n.fakeFocus?So.highlight(j,K):Up(H,K.element,ll())}))},v=(H,j)=>rc(Ke(j,(K=>H.lookupMenu(K).bind((oe=>oe.type==="prepared"?E.some(oe.menu):E.none()))))),w=(H,j,K)=>{const oe=v(j,j.otherMenus(K));vt(oe,(te=>{Zr(te.element,[n.markers.backgroundMenu]),n.stayInDom||Kt.remove(H,te)}))},S=(H,j)=>{const K=(oe=>i.get().getOrThunk((()=>{const te={},re=Sr(oe.element,`.${n.markers.item}`),pe=sn(re,(Ce=>Hs(Ce,"aria-haspopup")==="true"));return vt(pe,(Ce=>{oe.getSystem().getByDom(Ce).each((we=>{const Oe=u(we);te[Oe]=we}))})),i.set(te),te})))(H);Ko(K,((oe,te)=>{const re=Ge(j,te);Vt(oe.element,"aria-expanded",re)}))},k=(H,j,K)=>E.from(K[0]).bind((oe=>j.lookupMenu(oe).bind((te=>{if(te.type==="notbuilt")return E.none();{const re=te.menu,pe=v(j,K.slice(1));return vt(pe,(Ce=>{Ln(Ce.element,n.markers.backgroundMenu)})),ma(re.element)||Kt.append(H,pl(re)),Zr(re.element,[n.markers.backgroundMenu]),x(H,re),w(H,j,K),E.some(re)}}))));let A;(function(H){H[H.HighlightSubmenu=0]="HighlightSubmenu",H[H.HighlightParent=1]="HighlightParent"})(A||(A={}));const M=(H,j,K=A.HighlightSubmenu)=>{if(j.hasConfigured(wt)&&wt.isDisabled(j))return E.some(j);{const oe=u(j);return l.expand(oe).bind((te=>(S(H,te),E.from(te[0]).bind((re=>l.lookupMenu(re).bind((pe=>{const Ce=((we,Oe,ze)=>{if(ze.type==="notbuilt"){const pt=we.getSystem().build(ze.nbMenu());return l.setMenuBuilt(Oe,pt),pt}return ze.menu})(H,re,pe);return ma(Ce.element)||Kt.append(H,pl(Ce)),n.onOpenSubmenu(H,j,Ce,Gg(te)),K===A.HighlightSubmenu?(So.highlightFirst(Ce),k(H,l,te)):(So.dehighlightAll(Ce),E.some(j))})))))))}},B=(H,j)=>{const K=u(j);return l.collapse(K).bind((oe=>(S(H,oe),k(H,l,oe).map((te=>(n.onCollapseMenu(H,j,te),te))))))},U=H=>(j,K)=>Vs(K.getSource(),`.${n.markers.item}`).bind((oe=>j.getSystem().getByDom(oe).toOptional().bind((te=>H(j,te).map(Ut))))),$=en([Ne(eT(),((H,j)=>{const K=j.event.item;l.lookupItem(u(K)).each((()=>{const oe=j.event.menu;So.highlight(H,oe);const te=u(j.event.item);l.refresh(te).each((re=>w(H,l,re)))}))})),kc(((H,j)=>{const K=j.event.target;H.getSystem().getByDom(K).each((oe=>{u(oe).indexOf("collapse-item")===0&&B(H,oe),M(H,oe,A.HighlightSubmenu).fold((()=>{n.onExecute(H,oe)}),Me)}))})),gn(((H,j)=>{(K=>{const oe=((re,pe,Ce)=>ss(Ce,((we,Oe)=>{const ze=()=>Su.sketch({...we,value:Oe,markers:n.markers,fakeFocus:n.fakeFocus,onHighlight:(pt,St)=>{Ct(pt,b4,{menuComp:pt,itemComp:St})},onDehighlight:(pt,St)=>{Ct(pt,Lx,{menuComp:pt,itemComp:St})},focusManager:n.fakeFocus?n0():o0()});return Oe===pe?{type:"prepared",menu:re.getSystem().build(ze())}:{type:"notbuilt",nbMenu:ze}})))(K,n.data.primary,n.data.menus),te=m();return l.setContents(n.data.primary,oe,n.data.expansions,te),l.getPrimary()})(H).each((K=>{Kt.append(H,pl(K)),n.onOpenMenu(H,K),n.highlightOnOpen===aa.HighlightMenuAndItem?x(H,K):n.highlightOnOpen===aa.HighlightJustMenu&&p(H,K)}))})),Ne(b4,((H,j)=>{n.onHighlightItem(H,j.event.menuComp,j.event.itemComp)})),Ne(Lx,((H,j)=>{n.onDehighlightItem(H,j.event.menuComp,j.event.itemComp)})),...n.navigateOnHover?[Ne(J5(),((H,j)=>{const K=j.event.item;((oe,te)=>{const re=u(te);l.refresh(re).bind((pe=>(S(oe,pe),k(oe,l,pe))))})(H,K),M(H,K,A.HighlightParent),n.onHover(H,K)}))]:[]]),V=H=>So.getHighlighted(H).bind(So.getHighlighted),z={collapseMenu:H=>{V(H).each((j=>{B(H,j)}))},highlightPrimary:H=>{l.getPrimary().each((j=>{x(H,j)}))},repositionMenus:H=>{l.getPrimary().bind((K=>V(H).bind((oe=>{const te=u(oe),re=Ir(l.getMenus()),pe=rc(Ke(re,Ny));return l.getTriggeringPath(te,(Ce=>((we,Oe,ze)=>wa(Oe,(pt=>{if(!pt.getSystem().isConnected())return E.none();const St=So.getCandidates(pt);return P(St,(At=>u(At)===ze))})))(0,pe,Ce)))})).map((oe=>({primary:K,triggeringPath:oe}))))).fold((()=>{(K=>E.from(K.components()[0]).filter((oe=>Hs(oe.element,"role")==="menu")))(H).each((K=>{n.onRepositionMenu(H,K,[])}))}),(({primary:K,triggeringPath:oe})=>{n.onRepositionMenu(H,K,oe)}))}};return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:la(n.tmenuBehaviours,[ht.config({mode:"special",onRight:U(((H,j)=>fi(j.element)?E.none():M(H,j,A.HighlightSubmenu))),onLeft:U(((H,j)=>fi(j.element)?E.none():B(H,j))),onEscape:U(((H,j)=>B(H,j).orThunk((()=>n.onEscape(H,j).map((()=>H)))))),focusIn:(H,j)=>{l.getPrimary().each((K=>{Up(H,K.element,ll())}))}}),So.config({highlightClass:n.markers.selectedMenu,itemClass:n.markers.menu}),Bo.config({find:H=>So.getHighlighted(H)}),Kt.config({})]),eventOrder:n.eventOrder,apis:z,events:$}},extraApis:{tieredData:(n,r,i)=>({primary:n,menus:r,expansions:i}),singleData:(n,r)=>({primary:n,menus:Ga(n,r),expansions:{}}),collapseItem:n=>({value:ge(x4()),meta:{text:n}})}}),tT=ae("sink"),Eu=ae(ul({name:tT(),overrides:ae({dom:{tag:"div"},behaviours:He([Ls.config({useFixed:Ut})]),events:en([gd(Fl()),gd(In()),gd(iu())])})})),gR=ci([xe("isExtraPart",Ee),pa("fireEventInstead",[xe("event",fm())])]),v4=n=>{const r=ea("Dismissal",gR,n);return{[Ec()]:{schema:ci([Fe("target")]),onReceive:(i,l)=>{Ro.isOpen(i)&&(Ro.isPartOf(i,l.target)||r.isExtraPart(i,l.target)||r.fireEventInstead.fold((()=>Ro.close(i)),(u=>no(i,u.event))))}}}},jl=ci([pa("fireEventInstead",[xe("event",Op())]),nr("doReposition")]),cr=n=>{const r=ea("Reposition",jl,n);return{[hu()]:{onReceive:i=>{Ro.isOpen(i)&&r.fireEventInstead.fold((()=>r.doReposition(i)),(l=>no(i,l.event)))}}}},oT=(n,r)=>{const i=n.getHotspot(r).getOr(r),l="hotspot",u=n.getAnchorOverrides();return n.layouts.fold((()=>({type:l,hotspot:i,overrides:u})),(m=>({type:l,hotspot:i,overrides:u,layouts:m})))},v0=(n,r,i,l,u,m,p)=>((v,w,S,k,A,M,B)=>{const U=((V,z,H)=>(0,V.fetch)(H).map(z))(v,w,k),$=Ry(k,v);return U.map((V=>V.bind((z=>{const H=z.menus[z.primary];return E.from(H).each((j=>{v.listRole.each((K=>{j.role=K}))})),E.from(fh.sketch({...M.menu(),uid:sh(""),data:z,highlightOnOpen:B,onOpenMenu:(j,K)=>{const oe=$().getOrDie();Ls.position(oe,K,{anchor:S}),Ro.decloak(A)},onOpenSubmenu:(j,K,oe)=>{const te=$().getOrDie();Ls.position(te,oe,{anchor:{type:"submenu",item:K}}),Ro.decloak(A)},onRepositionMenu:(j,K,oe)=>{const te=$().getOrDie();Ls.position(te,K,{anchor:S}),vt(oe,(re=>{Ls.position(te,re.triggeredMenu,{anchor:{type:"submenu",item:re.triggeringItem}})}))},onEscape:()=>(Zt.focus(k),Ro.close(A),E.some(!0))}))}))))})(n,r,oT(n,i),i,l,u,p).map((v=>(v.fold((()=>{Ro.isOpen(l)&&Ro.close(l)}),(w=>{Ro.cloak(l),Ro.open(l,w),m(l)})),l))),pR=(n,r,i,l,u,m,p)=>(Ro.close(l),si(l)),y4=(n,r,i,l,u,m)=>{const p=_s.getCoupled(i,"sandbox");return(Ro.isOpen(p)?pR:v0)(n,r,i,p,l,u,m)},Ry=(n,r)=>n.getSystem().getByUid(r.uid+"-"+tT()).map((i=>()=>yo.value(i))).getOrThunk((()=>r.lazySink.fold((()=>()=>yo.error(new Error("No internal sink is specified, nor could an external sink be found"))),(i=>()=>i(n))))),gh=n=>{Ro.getState(n).each((r=>{fh.repositionMenus(r)}))},_4=(n,r,i)=>{const l=Ey(),u=Ry(r,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:l.id}},behaviours:c0(n.sandboxBehaviours,[lt.config({store:{mode:"memory",initialValue:r}}),Ro.config({onOpen:(m,p)=>{const x=oT(n,r);l.link(r.element),n.matchWidth&&((v,w,S)=>{const k=Bo.getCurrent(w).getOr(w),A=Fn(v.element);S?Z(k.element,"min-width",A+"px"):((M,B)=>{Jr.set(M,B)})(k.element,A)})(x.hotspot,p,n.useMinWidth),n.onOpen(x,m,p),i!==void 0&&i.onOpen!==void 0&&i.onOpen(m,p)},onClose:(m,p)=>{l.unlink(r.element),u().getOr(p).element.dom.dispatchEvent(new window.FocusEvent("focusout")),i!==void 0&&i.onClose!==void 0&&i.onClose(m,p)},isPartOf:(m,p,x)=>Vm(p,x)||Vm(r,x),getAttachPoint:()=>u().getOrDie()}),Bo.config({find:m=>Ro.getState(m).bind((p=>Bo.getCurrent(p)))}),pi.config({channels:{...v4({isExtraPart:Ee}),...cr({doReposition:gh})}})])}},w4=()=>[xe("sandboxClasses",[]),rh("sandboxBehaviours",[Bo,pi,Ro,lt])],hR=ae([Fe("dom"),Fe("fetch"),Co("onOpen"),rr("onExecute"),xe("getHotspot",E.some),xe("getAnchorOverrides",ae({})),lh(),Nr("dropdownBehaviours",[bo,_s,ht,Zt]),Fe("toggleClass"),xe("eventOrder",{}),Po("lazySink"),xe("matchWidth",!1),xe("useMinWidth",!1),Po("role"),Po("listRole")].concat(w4())),bR=ae([Li({schema:[Lf(),xe("fakeFocus",!1)],name:"menu",defaults:n=>({onExecute:n.onExecute})}),Eu()]),bi=Ja({name:"Dropdown",configFields:hR(),partFields:bR(),factory:(n,r,i,l)=>{const u=v=>{Ro.getState(v).each((w=>{fh.highlightPrimary(w)}))},m=(v,w,S)=>y4(n,dt,v,l,w,S),p={expand:v=>{bo.isOn(v)||m(v,Me,aa.HighlightNone).get(Me)},open:v=>{bo.isOn(v)||m(v,Me,aa.HighlightMenuAndItem).get(Me)},refetch:v=>_s.getExistingCoupled(v,"sandbox").fold((()=>m(v,Me,aa.HighlightMenuAndItem).map(Me)),(w=>v0(n,dt,v,w,l,Me,aa.HighlightMenuAndItem).map(Me))),isOpen:bo.isOn,close:v=>{bo.isOn(v)&&m(v,Me,aa.HighlightMenuAndItem).get(Me)},repositionMenus:v=>{bo.isOn(v)&&(w=>{const S=_s.getCoupled(w,"sandbox");gh(S)})(v)}},x=(v,w)=>(Vp(v),E.some(!0));return{uid:n.uid,dom:n.dom,components:r,behaviours:la(n.dropdownBehaviours,[bo.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),_s.config({others:{sandbox:v=>_4(n,v,{onOpen:()=>bo.on(v),onClose:()=>bo.off(v)})}}),ht.config({mode:"special",onSpace:x,onEnter:x,onDown:(v,w)=>{if(bi.isOpen(v)){const S=_s.getCoupled(v,"sandbox");u(S)}else bi.open(v);return E.some(!0)},onEscape:(v,w)=>bi.isOpen(v)?(bi.close(v),E.some(!0)):E.none()}),Zt.config({})]),events:Sy(E.some((v=>{m(v,u,aa.HighlightMenuAndItem).get(Me)}))),eventOrder:{...n.eventOrder,[qs()]:["disabling","toggling","alloy.base.behaviour"]},apis:p,domModification:{attributes:{"aria-haspopup":n.listRole.getOr("true"),...n.role.fold((()=>({})),(v=>({role:v}))),...n.dom.tag==="button"?{type:Dt(n.dom,"attributes").bind((v=>Dt(v,"type"))).getOr("button")}:{}}}}},apis:{open:(n,r)=>n.open(r),refetch:(n,r)=>n.refetch(r),expand:(n,r)=>n.expand(r),close:(n,r)=>n.close(r),isOpen:(n,r)=>n.isOpen(r),repositionMenus:(n,r)=>n.repositionMenus(r)}}),C4="form",xR=[Nr("formBehaviours",[lt])],nT=n=>"<alloy.field."+n+">",sT=(n,r)=>({uid:n.uid,dom:n.dom,components:r,behaviours:la(n.formBehaviours,[lt.config({store:{mode:"manual",getValue:i=>{const l=H1(i,n);return ss(l,((u,m)=>u().bind((p=>{return x=Bo.getCurrent(p),v=new Error(`Cannot find a current component to extract the value from for form part '${m}': `+di(p.element)),x.fold((()=>yo.error(v)),yo.value);var x,v})).map(lt.getValue)))},setValue:(i,l)=>{Ko(l,((u,m)=>{vn(i,n,m).each((p=>{Bo.getCurrent(p).each((x=>{lt.setValue(x,u)}))}))}))}}})]),apis:{getField:(i,l)=>vn(i,n,l).bind(Bo.getCurrent)}}),ph={getField:wd(((n,r,i)=>n.getField(r,i))),sketch:n=>{const r=(()=>{const m=[];return{field:(p,x)=>(m.push(p),Lp(C4,nT(p),x)),record:ae(m)}})(),i=n(r),l=r.record(),u=Ke(l,(m=>ha({name:m,pname:nT(m)})));return PC(C4,xR,u,sT,i)}},hh=ae([Fe("dom"),xe("shell",!0),Nr("toolbarBehaviours",[Kt])]),rT=ae([ul({name:"groups",overrides:()=>({behaviours:He([Kt.config({})])})})]),xl=Ja({name:"Toolbar",configFields:hh(),partFields:rT(),factory:(n,r,i,l)=>{const u=n.shell?{behaviours:[Kt.config({})],components:[]}:{behaviours:[],components:r};return{uid:n.uid,dom:n.dom,components:u.components,behaviours:la(n.toolbarBehaviours,u.behaviours),apis:{setGroups:(m,p)=>{var x;(x=m,n.shell?E.some(x):vn(x,n,"groups")).fold((()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(v=>{Kt.set(v,p)}))},refresh:Me},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,r,i)=>{n.setGroups(r,i)}}}),aT=ae([ft(["toggledClass"]),Fe("lazySink"),nr("fetch"),pr("getBounds"),pa("fireDismissalEventInstead",[xe("event",fm())]),lh(),Co("onToggled")]),bh=ae([Li({name:"button",overrides:n=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:He([bo.config({toggleClass:n.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:n.onToggled})])})}),Li({factory:xl,schema:hh(),name:"toolbar",overrides:n=>({toolbarBehaviours:He([ht.config({mode:"cyclic",onEscape:r=>(vn(r,n,"button").each(Zt.focus),E.none())})])})})]),lg=mn(),k4=(n,r)=>{const i=_s.getCoupled(n,"toolbarSandbox");Ro.isOpen(i)?Ro.close(i):Ro.open(i,r.toolbar())},S4=(n,r,i,l)=>{const u=i.getBounds.map((p=>p())),m=i.lazySink(n).getOrDie();Ls.positionWithinBounds(m,r,{anchor:{type:"hotspot",hotspot:n,layouts:l,overrides:{maxWidthFunction:G1()}}},u)},iT=(n,r,i,l,u)=>{xl.setGroups(r,u),S4(n,r,i,l),bo.on(n)},cg=Ja({name:"FloatingToolbarButton",factory:(n,r,i,l)=>({...Xs.sketch({...l.button(),action:u=>{k4(u,l)},buttonBehaviours:c0({dump:l.button().buttonBehaviours},[_s.config({others:{toolbarSandbox:u=>((m,p,x)=>{const v=Ey();return{dom:{tag:"div",attributes:{id:v.id}},behaviours:He([ht.config({mode:"special",onEscape:w=>(Ro.close(w),E.some(!0))}),Ro.config({onOpen:(w,S)=>{const k=lg.get().getOr(!1);x.fetch().get((A=>{iT(m,S,x,p.layouts,A),v.link(m.element),k||ht.focusIn(S)}))},onClose:()=>{bo.off(m),lg.get().getOr(!1)||Zt.focus(m),v.unlink(m.element)},isPartOf:(w,S,k)=>Vm(S,k)||Vm(m,k),getAttachPoint:()=>x.lazySink(m).getOrDie()}),pi.config({channels:{...v4({isExtraPart:Ee,...x.fireDismissalEventInstead.map((w=>({fireEventInstead:{event:w.event}}))).getOr({})}),...cr({doReposition:()=>{Ro.getState(_s.getCoupled(m,"toolbarSandbox")).each((w=>{S4(m,w,x,p.layouts)}))}})}})])}})(u,i,n)}})])}),apis:{setGroups:(u,m)=>{Ro.getState(_s.getCoupled(u,"toolbarSandbox")).each((p=>{iT(u,p,n,i.layouts,m)}))},reposition:u=>{Ro.getState(_s.getCoupled(u,"toolbarSandbox")).each((m=>{S4(u,m,n,i.layouts)}))},toggle:u=>{k4(u,l)},toggleWithoutFocusing:u=>{((m,p)=>{lg.set(!0),k4(m,p),lg.clear()})(u,l)},getToolbar:u=>Ro.getState(_s.getCoupled(u,"toolbarSandbox")),isOpen:u=>Ro.isOpen(_s.getCoupled(u,"toolbarSandbox"))}}),configFields:aT(),partFields:bh(),apis:{setGroups:(n,r,i)=>{n.setGroups(r,i)},reposition:(n,r)=>{n.reposition(r)},toggle:(n,r)=>{n.toggle(r)},toggleWithoutFocusing:(n,r)=>{n.toggleWithoutFocusing(r)},getToolbar:(n,r)=>n.getToolbar(r),isOpen:(n,r)=>n.isOpen(r)}}),lT=ae([xe("prefix","form-field"),Nr("fieldBehaviours",[Bo,lt])]),vR=ae([ul({schema:[Fe("dom")],name:"label"}),ul({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[Fe("text")],name:"aria-descriptor"}),ha({factory:{sketch:n=>{const r=((i,l)=>{const u={};return Ko(i,((m,p)=>{Ge(l,p)||(u[p]=m)})),u})(n,["factory"]);return n.factory.sketch(r)}},schema:[Fe("factory")],name:"field"})]),uo=Ja({name:"FormField",configFields:lT(),partFields:vR(),factory:(n,r,i,l)=>{const u=la(n.fieldBehaviours,[Bo.config({find:x=>vn(x,n,"field")}),lt.config({store:{mode:"manual",getValue:x=>Bo.getCurrent(x).bind(lt.getValue),setValue:(x,v)=>{Bo.getCurrent(x).each((w=>{lt.setValue(w,v)}))}}})]),m=en([gn(((x,v)=>{const w=Ip(x,n,["label","field","aria-descriptor"]);w.field().each((S=>{const k=ge(n.prefix);w.label().each((A=>{Vt(A.element,"for",k),Vt(S.element,"id",k)})),w["aria-descriptor"]().each((A=>{const M=ge(n.prefix);Vt(A.element,"id",M),Vt(S.element,"aria-describedby",M)}))}))}))]),p={getField:x=>vn(x,n,"field"),getLabel:x=>vn(x,n,"label")};return{uid:n.uid,dom:n.dom,components:r,behaviours:u,events:m,apis:p}},apis:{getField:(n,r)=>n.getField(r),getLabel:(n,r)=>n.getLabel(r)}}),yR=ae([xe("field1Name","field1"),xe("field2Name","field2"),Na("onLockedChange"),ft(["lockClass"]),xe("locked",!1),rh("coupledFieldBehaviours",[Bo,lt]),wn("onInput",Me)]),cT=(n,r)=>ha({factory:uo,name:n,overrides:i=>({fieldBehaviours:He([It("coupled-input-behaviour",[Ne(ad(),(l=>{((u,m,p)=>vn(u,m,p).bind(Bo.getCurrent))(l,i,r).each((u=>{vn(l,i,"lock").each((m=>{bo.isOn(m)&&i.onLockedChange(l,u,m),i.onInput(l)}))}))}))])])})}),dT=ae([cT("field1","field2"),cT("field2","field1"),ha({factory:Xs,schema:[Fe("dom")],name:"lock",overrides:n=>({buttonBehaviours:He([bo.config({selected:n.locked,toggleClass:n.markers.lockClass,aria:{mode:"pressed"}})])})})]),jn=Ja({name:"FormCoupledInputs",configFields:yR(),partFields:dT(),factory:(n,r,i,l)=>({uid:n.uid,dom:n.dom,components:r,behaviours:c0(n.coupledFieldBehaviours,[Bo.config({find:E.some}),lt.config({store:{mode:"manual",getValue:u=>{const m=V1(u,n,["field1","field2"]);return{[n.field1Name]:lt.getValue(m.field1()),[n.field2Name]:lt.getValue(m.field2())}},setValue:(u,m)=>{const p=V1(u,n,["field1","field2"]);$n(m,n.field1Name)&&lt.setValue(p.field1(),m[n.field1Name]),$n(m,n.field2Name)&&lt.setValue(p.field2(),m[n.field2Name])}}})]),apis:{getField1:u=>vn(u,n,"field1"),getField2:u=>vn(u,n,"field2"),getLock:u=>vn(u,n,"lock")}}),apis:{getField1:(n,r)=>n.getField1(r),getField2:(n,r)=>n.getField2(r),getLock:(n,r)=>n.getLock(r)}}),uT=hl({name:"HtmlSelect",configFields:[Fe("options"),Nr("selectBehaviours",[Zt,lt]),xe("selectClasses",[]),xe("selectAttributes",{}),Po("data")],factory:(n,r)=>{const i=Ke(n.options,(u=>({dom:{tag:"option",value:u.value,innerHtml:u.text}}))),l=n.data.map((u=>Ga("initialValue",u))).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:i,behaviours:la(n.selectBehaviours,[Zt.config({}),lt.config({store:{mode:"manual",getValue:u=>Ds(u.element),setValue:(u,m)=>{const p=Lr(n.options);P(n.options,(x=>x.value===m)).isSome()?Wa(u.element,m):u.element.dom.selectedIndex===-1&&m===""&&p.each((x=>Wa(u.element,x.value)))},...l}})])}}}),qn=hl({name:"InlineView",configFields:[Fe("lazySink"),Co("onShow"),Co("onHide"),pr("onEscape"),Nr("inlineBehaviours",[Ro,lt,pi]),pa("fireDismissalEventInstead",[xe("event",fm())]),pa("fireRepositionEventInstead",[xe("event",Op())]),xe("getRelated",E.none),xe("isExtraPart",Ee),xe("eventOrder",E.none)],factory:(n,r)=>{const i=(p,x,v,w)=>{const S=n.lazySink(p).getOrDie();Ro.openWhileCloaked(p,x,(()=>Ls.positionWithinBounds(S,p,v,w()))),lt.setValue(p,E.some({mode:"position",config:v,getBounds:w}))},l=(p,x,v,w)=>{const S=((k,A,M,B,U)=>{const $=()=>k.lazySink(A),V=B.type==="horizontal"?{layouts:{onLtr:()=>Qb(),onRtl:()=>Hp()}}:{},z=H=>(j=>j.length===2)(H)?V:{};return fh.sketch({dom:{tag:"div"},data:B.data,markers:B.menu.markers,highlightOnOpen:B.menu.highlightOnOpen,fakeFocus:B.menu.fakeFocus,onEscape:()=>(Ro.close(A),k.onEscape.map((H=>H(A))),E.some(!0)),onExecute:()=>E.some(!0),onOpenMenu:(H,j)=>{Ls.positionWithinBounds($().getOrDie(),j,M,U())},onOpenSubmenu:(H,j,K,oe)=>{const te=$().getOrDie();Ls.position(te,K,{anchor:{type:"submenu",item:j,...z(oe)}})},onRepositionMenu:(H,j,K)=>{const oe=$().getOrDie();Ls.positionWithinBounds(oe,j,M,U()),vt(K,(te=>{const re=z(te.triggeringPath);Ls.position(oe,te.triggeredMenu,{anchor:{type:"submenu",item:te.triggeringItem,...re}})}))}})})(n,p,x,v,w);Ro.open(p,S),lt.setValue(p,E.some({mode:"menu",menu:S}))},u=p=>{Ro.isOpen(p)&&lt.getValue(p).each((x=>{switch(x.mode){case"menu":Ro.getState(p).each(fh.repositionMenus);break;case"position":const v=n.lazySink(p).getOrDie();Ls.positionWithinBounds(v,p,x.config,x.getBounds())}}))},m={setContent:(p,x)=>{Ro.setContent(p,x)},showAt:(p,x,v)=>{const w=E.none;i(p,x,v,w)},showWithinBounds:i,showMenuAt:(p,x,v)=>{l(p,x,v,E.none)},showMenuWithinBounds:l,hide:p=>{Ro.isOpen(p)&&(lt.setValue(p,E.none()),Ro.close(p))},getContent:p=>Ro.getState(p),reposition:u,isOpen:Ro.isOpen};return{uid:n.uid,dom:n.dom,behaviours:la(n.inlineBehaviours,[Ro.config({isPartOf:(p,x,v)=>Vm(x,v)||((w,S)=>n.getRelated(w).exists((k=>Vm(k,S))))(p,v),getAttachPoint:p=>n.lazySink(p).getOrDie(),onOpen:p=>{n.onShow(p)},onClose:p=>{n.onHide(p)}}),lt.config({store:{mode:"memory",initialValue:E.none()}}),pi.config({channels:{...v4({isExtraPart:r.isExtraPart,...n.fireDismissalEventInstead.map((p=>({fireEventInstead:{event:p.event}}))).getOr({})}),...cr({...n.fireRepositionEventInstead.map((p=>({fireEventInstead:{event:p.event}}))).getOr({}),doReposition:u})}})]),eventOrder:n.eventOrder,apis:m}},apis:{showAt:(n,r,i,l)=>{n.showAt(r,i,l)},showWithinBounds:(n,r,i,l,u)=>{n.showWithinBounds(r,i,l,u)},showMenuAt:(n,r,i,l)=>{n.showMenuAt(r,i,l)},showMenuWithinBounds:(n,r,i,l,u)=>{n.showMenuWithinBounds(r,i,l,u)},hide:(n,r)=>{n.hide(r)},isOpen:(n,r)=>n.isOpen(r),getContent:(n,r)=>n.getContent(r),setContent:(n,r,i)=>{n.setContent(r,i)},reposition:(n,r)=>{n.reposition(r)}}}),mT=ae([bn("type","text"),Po("data"),xe("inputAttributes",{}),xe("inputStyles",{}),xe("tag","input"),xe("inputClasses",[]),Co("onSetValue"),wn("fromInputValue",dt),wn("toInputValue",dt),xe("styles",{}),xe("eventOrder",{}),Nr("inputBehaviours",[lt,Zt]),xe("selectOnFocus",!0)]),E4=n=>He([Zt.config({onFocus:n.selectOnFocus?r=>{const i=r.element,l=Ds(i);n.type!=="range"&&i.dom.setSelectionRange(0,l.length)}:Me})]),fT=n=>({...E4(n),...la(n.inputBehaviours,[lt.config({store:{mode:"manual",...n.data.map((r=>({initialValue:r}))).getOr({}),getValue:r=>n.fromInputValue(Ds(r.element)),setValue:(r,i)=>{Ds(r.element)!==i&&Wa(r.element,n.toInputValue(i))}},onSetValue:n.onSetValue})])}),gT=n=>({tag:n.tag,attributes:{type:n.type,...n.inputAttributes},styles:n.inputStyles,classes:n.inputClasses}),Zm=hl({name:"Input",configFields:mT(),factory:(n,r)=>({uid:n.uid,dom:gT(n),components:[],behaviours:fT(n),eventOrder:n.eventOrder})}),T4=z1(f4(),Oy()),_R=ae([Fe("lazySink"),Po("dragBlockClass"),wn("getBounds",Tr),xe("useTabstopAt",Ut),xe("firstTabstop",0),xe("eventOrder",{}),Nr("modalBehaviours",[ht]),rr("onExecute"),hm("onEscape")]),A4={sketch:dt},wR=ae([ul({name:"draghandle",overrides:(n,r)=>({behaviours:He([ih.config({mode:"mouse",getTarget:i=>Ua(i,'[role="dialog"]').getOr(i),blockerClass:n.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:n.getDragBounds})])})}),ha({schema:[Fe("dom")],name:"title"}),ha({factory:A4,schema:[Fe("dom")],name:"close"}),ha({factory:A4,schema:[Fe("dom")],name:"body"}),ul({factory:A4,schema:[Fe("dom")],name:"footer"}),Li({factory:{sketch:(n,r)=>({...n,dom:r.dom,components:r.components})},schema:[xe("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),xe("components",[])],name:"blocker"})]),Ss=Ja({name:"ModalDialog",configFields:_R(),partFields:wR(),factory:(n,r,i,l)=>{const u=mn(),m=ge("modal-events"),p={...n.eventOrder,[cl()]:[m].concat(n.eventOrder["alloy.system.attached"]||[])},x=ol();return{uid:n.uid,dom:n.dom,components:r,apis:{show:v=>{u.set(v);const w=n.lazySink(v).getOrDie(),S=l.blocker(),k=w.getSystem().build({...S,components:S.components.concat([pl(v)]),behaviours:He([Zt.config({}),It("dialog-blocker-events",[pd(Bi(),(()=>{Cd.isBlocked(v)||ht.focusIn(v)}))])])});oh(w,k),ht.focusIn(v)},hide:v=>{u.clear(),Vn(v.element).each((w=>{v.getSystem().getByDom(w).each((S=>{gi(S)}))}))},getBody:v=>vc(v,n,"body"),getFooter:v=>vn(v,n,"footer"),setIdle:v=>{Cd.unblock(v)},setBusy:(v,w)=>{Cd.block(v,w)}},eventOrder:p,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:la(n.modalBehaviours,[Kt.config({}),ht.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt,firstTabstop:n.firstTabstop}),Cd.config({getRoot:u.get}),It(m,[gn((v=>{const w=vc(v,n,"title").element,S=(k=>k.dom.textContent)(w);x.os.isMacOS()&&ot(S)?Vt(v.element,"aria-label",S):((k,A)=>{const M=$s(k,"id").fold((()=>{const B=ge("dialog-label");return Vt(A,"id",B),B}),dt);Vt(k,"aria-labelledby",M)})(v.element,w)}))])])}},apis:{show:(n,r)=>{n.show(r)},hide:(n,r)=>{n.hide(r)},getBody:(n,r)=>n.getBody(r),getFooter:(n,r)=>n.getFooter(r),setBusy:(n,r,i)=>{n.setBusy(r,i)},setIdle:(n,r)=>{n.setIdle(r)}}}),O4=ul({schema:[Fe("dom")],name:"label"}),dg=n=>ul({name:n+"-edge",overrides:r=>r.model.manager.edgeActions[n].fold((()=>({})),(i=>({events:en([Wp(Ll(),((l,u,m)=>i(l,m)),[r]),Wp(In(),((l,u,m)=>i(l,m)),[r]),Wp(mm(),((l,u,m)=>{m.mouseIsDown.get()&&i(l,m)}),[r])])})))}),II=dg("top-left"),pT=dg("top"),CR=dg("top-right"),kR=dg("right"),ql=dg("bottom-right"),hT=dg("bottom"),SR=dg("bottom-left"),FI=dg("left"),zI=ha({name:"thumb",defaults:ae({dom:{styles:{position:"absolute"}}}),overrides:n=>({events:en([Cc(Ll(),n,"spectrum"),Cc(Ep(),n,"spectrum"),Cc(Il(),n,"spectrum"),Cc(In(),n,"spectrum"),Cc(mm(),n,"spectrum"),Cc(Mf(),n,"spectrum")])})}),My=n=>Gf(n.event),bT=ha({schema:[js("mouseIsDown",(()=>mt(!1)))],name:"spectrum",overrides:n=>{const r=n.model.manager,i=(l,u)=>r.getValueFromEvent(u).map((m=>r.setValueFrom(l,n,m)));return{behaviours:He([ht.config({mode:"special",onLeft:(l,u)=>r.onLeft(l,n,My(u)),onRight:(l,u)=>r.onRight(l,n,My(u)),onUp:(l,u)=>r.onUp(l,n,My(u)),onDown:(l,u)=>r.onDown(l,n,My(u))}),Lo.config({}),Zt.config({})]),events:en([Ne(Ll(),i),Ne(Ep(),i),Ne(In(),i),Ne(mm(),((l,u)=>{n.mouseIsDown.get()&&i(l,u)}))])}}});var ER=[O4,FI,kR,pT,hT,II,CR,SR,ql,zI,bT];const Ix=ae("slider.change.value"),D4=n=>{const r=n.event.raw;if((i=>i.type.indexOf("touch")!==-1)(r)){const i=r;return i.touches!==void 0&&i.touches.length===1?E.some(i.touches[0]).map((l=>Lt(l.clientX,l.clientY))):E.none()}{const i=r;return i.clientX!==void 0?E.some(i).map((l=>Lt(l.clientX,l.clientY))):E.none()}},xh=n=>n.model.minX,vh=n=>n.model.minY,Wm=n=>n.model.minX-1,y0=n=>n.model.minY-1,yh=n=>n.model.maxX,jm=n=>n.model.maxY,_h=n=>n.model.maxX+1,_0=n=>n.model.maxY+1,xT=(n,r,i)=>r(n)-i(n),N4=n=>xT(n,yh,xh),R4=n=>xT(n,jm,vh),vT=n=>N4(n)/2,yT=n=>R4(n)/2,w0=(n,r)=>r?n.stepSize*n.speedMultiplier:n.stepSize,_T=n=>n.snapToGrid,M4=n=>n.snapStart,Fx=n=>n.rounded,By=(n,r)=>n[r+"-edge"]!==void 0,wT=n=>By(n,"left"),CT=n=>By(n,"right"),kT=n=>By(n,"top"),wh=n=>By(n,"bottom"),Ad=n=>n.model.value.get(),ug=(n,r)=>({x:n,y:r}),vl=(n,r)=>{Ct(n,Ix(),{value:r})},B4=(n,r,i,l)=>n<r?n:n>i?i:n===r?r-1:Math.max(r,n-l),it=(n,r,i,l)=>n>i?n:n<r?r:n===i?i+1:Math.min(i,n+l),mg=(n,r,i)=>Math.max(r,Math.min(i,n)),ST=n=>{const{min:r,max:i,range:l,value:u,step:m,snap:p,snapStart:x,rounded:v,hasMinEdge:w,hasMaxEdge:S,minBound:k,maxBound:A,screenRange:M}=n,B=w?r-1:r,U=S?i+1:i;if(u<k)return B;if(u>A)return U;{const $=((z,H,j)=>Math.min(j,Math.max(z,H))-H)(u,k,A),V=mg($/M*l+r,B,U);return p&&V>=r&&V<=i?((z,H,j,K,oe)=>oe.fold((()=>{const te=z-H,re=Math.round(te/K)*K;return mg(H+re,H-1,j+1)}),(te=>{const re=(z-te)%K,pe=Math.round(re/K),Ce=Math.floor((z-te)/K),we=Math.floor((j-te)/K),Oe=te+Math.min(we,Ce+pe)*K;return Math.max(te,Oe)})))(V,r,i,m,x):v?Math.round(V):V}},P4=n=>{const{min:r,max:i,range:l,value:u,hasMinEdge:m,hasMaxEdge:p,maxBound:x,maxOffset:v,centerMinEdge:w,centerMaxEdge:S}=n;return u<r?m?0:w:u>i?p?x:S:(u-r)/l*v},C0="top",Py="right",ET="bottom",Ly="left",Od=n=>n.element.dom.getBoundingClientRect(),yl=(n,r)=>n[r],Iy=n=>{const r=Od(n);return yl(r,Ly)},L4=n=>{const r=Od(n);return yl(r,Py)},Fy=n=>{const r=Od(n);return yl(r,C0)},TT=n=>{const r=Od(n);return yl(r,ET)},I4=n=>{const r=Od(n);return yl(r,"width")},AT=n=>{const r=Od(n);return yl(r,"height")},OT=(n,r,i)=>(n+r)/2-i,zy=(n,r)=>{const i=Od(n),l=Od(r),u=yl(i,Ly),m=yl(i,Py),p=yl(l,Ly);return OT(u,m,p)},F4=(n,r)=>{const i=Od(n),l=Od(r),u=yl(i,C0),m=yl(i,ET),p=yl(l,C0);return OT(u,m,p)},Ch=(n,r)=>{Ct(n,Ix(),{value:r})},k0=(n,r,i)=>{const l={min:xh(r),max:yh(r),range:N4(r),value:i,step:w0(r),snap:_T(r),snapStart:M4(r),rounded:Fx(r),hasMinEdge:wT(r),hasMaxEdge:CT(r),minBound:Iy(n),maxBound:L4(n),screenRange:I4(n)};return ST(l)},zx=n=>(r,i,l)=>((u,m,p,x)=>{const v=(u>0?it:B4)(Ad(p),xh(p),yh(p),w0(p,x));return Ch(m,v),E.some(v)})(n,r,i,l).map(Ut),Mc=(n,r,i,l,u,m)=>{const p=((x,v,w,S,k)=>{const A=I4(x),M=S.bind(($=>E.some(zy($,x)))).getOr(0),B=k.bind(($=>E.some(zy($,x)))).getOr(A),U={min:xh(v),max:yh(v),range:N4(v),value:w,hasMinEdge:wT(v),hasMaxEdge:CT(v),minBound:Iy(x),maxBound:L4(x),maxOffset:A,centerMinEdge:M,centerMaxEdge:B};return P4(U)})(r,m,i,l,u);return Iy(r)-Iy(n)+p},z4=zx(-1),TR=zx(1),AR=E.none,OR=E.none,DT={"top-left":E.none(),top:E.none(),"top-right":E.none(),right:E.some(((n,r)=>{vl(n,_h(r))})),"bottom-right":E.none(),bottom:E.none(),"bottom-left":E.none(),left:E.some(((n,r)=>{vl(n,Wm(r))}))};var DR=Object.freeze({__proto__:null,setValueFrom:(n,r,i)=>{const l=k0(n,r,i);return Ch(n,l),l},setToMin:(n,r)=>{const i=xh(r);Ch(n,i)},setToMax:(n,r)=>{const i=yh(r);Ch(n,i)},findValueOfOffset:k0,getValueFromEvent:n=>D4(n).map((r=>r.left)),findPositionOfValue:Mc,setPositionFromValue:(n,r,i,l)=>{const u=Ad(i),m=Mc(n,l.getSpectrum(n),u,l.getLeftEdge(n),l.getRightEdge(n),i),p=Fn(r.element)/2;Z(r.element,"left",m-p+"px")},onLeft:z4,onRight:TR,onUp:AR,onDown:OR,edgeActions:DT});const Hy=(n,r)=>{Ct(n,Ix(),{value:r})},$y=(n,r,i)=>{const l={min:vh(r),max:jm(r),range:R4(r),value:i,step:w0(r),snap:_T(r),snapStart:M4(r),rounded:Fx(r),hasMinEdge:kT(r),hasMaxEdge:wh(r),minBound:Fy(n),maxBound:TT(n),screenRange:AT(n)};return ST(l)},H4=n=>(r,i,l)=>((u,m,p,x)=>{const v=(u>0?it:B4)(Ad(p),vh(p),jm(p),w0(p,x));return Hy(m,v),E.some(v)})(n,r,i,l).map(Ut),$4=(n,r,i,l,u,m)=>{const p=((x,v,w,S,k)=>{const A=AT(x),M=S.bind(($=>E.some(F4($,x)))).getOr(0),B=k.bind(($=>E.some(F4($,x)))).getOr(A),U={min:vh(v),max:jm(v),range:R4(v),value:w,hasMinEdge:kT(v),hasMaxEdge:wh(v),minBound:Fy(x),maxBound:TT(x),maxOffset:A,centerMinEdge:M,centerMaxEdge:B};return P4(U)})(r,m,i,l,u);return Fy(r)-Fy(n)+p},NT=E.none,NR=E.none,V4=H4(-1),RT=H4(1),MT={"top-left":E.none(),top:E.some(((n,r)=>{vl(n,y0(r))})),"top-right":E.none(),right:E.none(),"bottom-right":E.none(),bottom:E.some(((n,r)=>{vl(n,_0(r))})),"bottom-left":E.none(),left:E.none()};var BT=Object.freeze({__proto__:null,setValueFrom:(n,r,i)=>{const l=$y(n,r,i);return Hy(n,l),l},setToMin:(n,r)=>{const i=vh(r);Hy(n,i)},setToMax:(n,r)=>{const i=jm(r);Hy(n,i)},findValueOfOffset:$y,getValueFromEvent:n=>D4(n).map((r=>r.top)),findPositionOfValue:$4,setPositionFromValue:(n,r,i,l)=>{const u=Ad(i),m=$4(n,l.getSpectrum(n),u,l.getTopEdge(n),l.getBottomEdge(n),i),p=Os(r.element)/2;Z(r.element,"top",m-p+"px")},onLeft:NT,onRight:NR,onUp:V4,onDown:RT,edgeActions:MT});const Vy=(n,r)=>{Ct(n,Ix(),{value:r})},Uy=(n,r)=>({x:n,y:r}),Zy=(n,r)=>(i,l,u)=>((m,p,x,v,w)=>{const S=m>0?it:B4,k=p?Ad(v).x:S(Ad(v).x,xh(v),yh(v),w0(v,w)),A=p?S(Ad(v).y,vh(v),jm(v),w0(v,w)):Ad(v).y;return Vy(x,Uy(k,A)),E.some(k)})(n,r,i,l,u).map(Ut),RR=Zy(-1,!1),MR=Zy(1,!1),Hx=Zy(-1,!0),PT=Zy(1,!0),LT={"top-left":E.some(((n,r)=>{vl(n,ug(Wm(r),y0(r)))})),top:E.some(((n,r)=>{vl(n,ug(vT(r),y0(r)))})),"top-right":E.some(((n,r)=>{vl(n,ug(_h(r),y0(r)))})),right:E.some(((n,r)=>{vl(n,ug(_h(r),yT(r)))})),"bottom-right":E.some(((n,r)=>{vl(n,ug(_h(r),_0(r)))})),bottom:E.some(((n,r)=>{vl(n,ug(vT(r),_0(r)))})),"bottom-left":E.some(((n,r)=>{vl(n,ug(Wm(r),_0(r)))})),left:E.some(((n,r)=>{vl(n,ug(Wm(r),yT(r)))}))};var IT=Object.freeze({__proto__:null,setValueFrom:(n,r,i)=>{const l=k0(n,r,i.left),u=$y(n,r,i.top),m=Uy(l,u);return Vy(n,m),m},setToMin:(n,r)=>{const i=xh(r),l=vh(r);Vy(n,Uy(i,l))},setToMax:(n,r)=>{const i=yh(r),l=jm(r);Vy(n,Uy(i,l))},getValueFromEvent:n=>D4(n),setPositionFromValue:(n,r,i,l)=>{const u=Ad(i),m=Mc(n,l.getSpectrum(n),u.x,l.getLeftEdge(n),l.getRightEdge(n),i),p=$4(n,l.getSpectrum(n),u.y,l.getTopEdge(n),l.getBottomEdge(n),i),x=Fn(r.element)/2,v=Os(r.element)/2;Z(r.element,"left",m-x+"px"),Z(r.element,"top",p-v+"px")},onLeft:RR,onRight:MR,onUp:Hx,onDown:PT,edgeActions:LT});const Gl=Ja({name:"Slider",configFields:[xe("stepSize",1),xe("speedMultiplier",10),xe("onChange",Me),xe("onChoose",Me),xe("onInit",Me),xe("onDragStart",Me),xe("onDragEnd",Me),xe("snapToGrid",!1),xe("rounded",!0),Po("snapStart"),Oa("model",ga("mode",{x:[xe("minX",0),xe("maxX",100),js("value",(n=>mt(n.mode.minX))),Fe("getInitialValue"),Cn("manager",DR)],y:[xe("minY",0),xe("maxY",100),js("value",(n=>mt(n.mode.minY))),Fe("getInitialValue"),Cn("manager",BT)],xy:[xe("minX",0),xe("maxX",100),xe("minY",0),xe("maxY",100),js("value",(n=>mt({x:n.mode.minX,y:n.mode.minY}))),Fe("getInitialValue"),Cn("manager",IT)]})),Nr("sliderBehaviours",[ht,lt]),js("mouseIsDown",(()=>mt(!1)))],partFields:ER,factory:(n,r,i,l)=>{const u=z=>vc(z,n,"thumb"),m=z=>vc(z,n,"spectrum"),p=z=>vn(z,n,"left-edge"),x=z=>vn(z,n,"right-edge"),v=z=>vn(z,n,"top-edge"),w=z=>vn(z,n,"bottom-edge"),S=n.model,k=S.manager,A=(z,H)=>{k.setPositionFromValue(z,H,n,{getLeftEdge:p,getRightEdge:x,getTopEdge:v,getBottomEdge:w,getSpectrum:m})},M=(z,H)=>{S.value.set(H);const j=u(z);A(z,j)},B=z=>{const H=n.mouseIsDown.get();n.mouseIsDown.set(!1),H&&vn(z,n,"thumb").each((j=>{const K=S.value.get();n.onChoose(z,j,K)}))},U=(z,H)=>{H.stop(),n.mouseIsDown.set(!0),n.onDragStart(z,u(z))},$=(z,H)=>{H.stop(),n.onDragEnd(z,u(z)),B(z)},V=z=>{vn(z,n,"spectrum").map(ht.focusIn)};return{uid:n.uid,dom:n.dom,components:r,behaviours:la(n.sliderBehaviours,[ht.config({mode:"special",focusIn:V}),lt.config({store:{mode:"manual",getValue:z=>S.value.get(),setValue:M}}),pi.config({channels:{[xd()]:{onReceive:B}}})]),events:en([Ne(Ix(),((z,H)=>{((j,K)=>{M(j,K);const oe=u(j);n.onChange(j,oe,K)})(z,H.event.value)})),gn(((z,H)=>{const j=S.getInitialValue();S.value.set(j);const K=u(z);A(z,K);const oe=m(z);n.onInit(z,K,oe,S.value.get())})),Ne(Ll(),U),Ne(Il(),$),Ne(In(),((z,H)=>{V(z),U(z,H)})),Ne(Mf(),$)]),apis:{resetToMin:z=>{k.setToMin(z,n)},resetToMax:z=>{k.setToMax(z,n)},setValue:M,refresh:A},domModification:{styles:{position:"relative"}}}},apis:{setValue:(n,r,i)=>{n.setValue(r,i)},resetToMin:(n,r)=>{n.resetToMin(r)},resetToMax:(n,r)=>{n.resetToMax(r)},refresh:(n,r)=>{n.refresh(r)}}}),U4="container",BR=[Nr("slotBehaviours",[])],FT=n=>"<alloy.field."+n+">",PR=(n,r)=>{const i=S=>$1(n),l=(S,k)=>(A,M)=>vn(A,n,M).map((B=>S(B,M))).getOr(k),u=(S,k)=>Hs(S.element,"aria-hidden")!=="true",m=l(u,!1),p=l(((S,k)=>{if(u(S)){const A=S.element;Z(A,"display","none"),Vt(A,"aria-hidden","true"),Ct(S,Dp(),{name:k,visible:!1})}})),x=(S=>(k,A)=>{vt(A,(M=>S(k,M)))})(p),v=l(((S,k)=>{if(!u(S)){const A=S.element;_o(A,"display"),ts(A,"aria-hidden"),Ct(S,Dp(),{name:k,visible:!0})}})),w={getSlotNames:i,getSlot:(S,k)=>vn(S,n,k),isShowing:m,hideSlot:p,hideAllSlots:S=>x(S,i()),showSlot:v};return{uid:n.uid,dom:n.dom,components:r,behaviours:BC(n.slotBehaviours),apis:w}},Z4=ss({getSlotNames:(n,r)=>n.getSlotNames(r),getSlot:(n,r,i)=>n.getSlot(r,i),isShowing:(n,r,i)=>n.isShowing(r,i),hideSlot:(n,r,i)=>n.hideSlot(r,i),hideAllSlots:(n,r)=>n.hideAllSlots(r),showSlot:(n,r,i)=>n.showSlot(r,i)},(n=>wd(n))),va={...Z4,sketch:n=>{const r=(()=>{const m=[];return{slot:(p,x)=>(m.push(p),Lp(U4,FT(p),x)),record:ae(m)}})(),i=n(r),l=r.record(),u=Ke(l,(m=>ha({name:m,pname:FT(m)})));return PC(U4,BR,u,PR,i)}},S0=(n,r,i)=>({within:n,extra:r,withinWidth:i}),zT=(n,r,i)=>{const l=qo(n,((p,x)=>((v,w)=>{const S=i(v);return E.some({element:v,start:w,finish:w+S,width:S})})(x,p.len).fold(ae(p),(v=>({len:v.finish,list:p.list.concat([v])})))),{len:0,list:[]}).list,u=sn(l,(p=>p.finish<=r)),m=un(u,((p,x)=>p+x.width),0);return{within:u,extra:l.slice(u.length),withinWidth:m}},$x=n=>Ke(n,(r=>r.element)),ca=(n,r)=>{const i=Ke(r,(l=>pl(l)));xl.setGroups(n,i)},HT=(n,r,i)=>{const l=r.builtGroups.get();if(l.length===0)return;const u=vc(n,r,"primary"),m=_s.getCoupled(n,"overflowGroup");Z(u.element,"visibility","hidden");const p=l.concat([m]),x=wa(p,(w=>Vr(w.element).bind((S=>w.getSystem().getByDom(S).toOptional()))));i([]),ca(u,p);const v=((w,S,k,A)=>{const M=((V,z,H)=>{const j=zT(z,V,H);return j.extra.length===0?E.some(j):E.none()})(w,S,k).getOrThunk((()=>zT(S,w-k(A),k))),B=M.within,U=M.extra,$=M.withinWidth;return U.length===1&&U[0].width<=k(A)?((V,z,H)=>{const j=$x(V.concat(z));return S0(j,[],H)})(B,U,$):U.length>=1?((V,z,H,j)=>{const K=$x(V).concat([H]);return S0(K,$x(z),j)})(B,U,A,$):((V,z,H)=>S0($x(V),[],H))(B,0,$)})(Fn(u.element),r.builtGroups.get(),(w=>Math.ceil(w.element.dom.getBoundingClientRect().width)),m);v.extra.length===0?(Kt.remove(u,m),i([])):(ca(u,v.within),i(v.extra)),_o(u.element,"visibility"),dp(u.element),x.each(Zt.focus)},W4=ae([Nr("splitToolbarBehaviours",[_s]),js("builtGroups",(()=>mt([])))]),$T=ae([ft(["overflowToggledClass"]),pr("getOverflowBounds"),Fe("lazySink"),js("overflowGroups",(()=>mt([]))),Co("onOpened"),Co("onClosed")].concat(W4())),LR=ae([ha({factory:xl,schema:hh(),name:"primary"}),Li({schema:hh(),name:"overflow"}),Li({name:"overflow-button"}),Li({name:"overflow-group"})]),VT=ae([Fe("items"),ft(["itemSelector"]),Nr("tgroupBehaviours",[ht])]),UT=ae([If({name:"items",unit:"item"})]),Wy=Ja({name:"ToolbarGroup",configFields:VT(),partFields:UT(),factory:(n,r,i,l)=>({uid:n.uid,dom:n.dom,components:r,behaviours:la(n.tgroupBehaviours,[ht.config({mode:"flow",selector:n.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),ZT=n=>Ke(n,(r=>pl(r))),WT=(n,r,i)=>{HT(n,i,(l=>{i.overflowGroups.set(l),r.getOpt(n).each((u=>{cg.setGroups(u,ZT(l))}))}))},jT=Ja({name:"SplitFloatingToolbar",configFields:$T(),partFields:LR(),factory:(n,r,i,l)=>{const u=Zo(cg.sketch({fetch:()=>Mo((m=>{m(ZT(n.overflowGroups.get()))})),layouts:{onLtr:()=>[Ps,Bs],onRtl:()=>[Bs,Ps],onBottomLtr:()=>[ir,Or],onBottomRtl:()=>[Or,ir]},getBounds:i.getOverflowBounds,lazySink:n.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:n.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(m,p)=>n[p?"onOpened":"onClosed"](m)}));return{uid:n.uid,dom:n.dom,components:r,behaviours:la(n.splitToolbarBehaviours,[_s.config({others:{overflowGroup:()=>Wy.sketch({...l["overflow-group"](),items:[u.asSpec()]})}})]),apis:{setGroups:(m,p)=>{n.builtGroups.set(Ke(p,m.getSystem().build)),WT(m,u,n)},refresh:m=>WT(m,u,n),toggle:m=>{u.getOpt(m).each((p=>{cg.toggle(p)}))},toggleWithoutFocusing:m=>{u.getOpt(m).each(cg.toggleWithoutFocusing)},isOpen:m=>u.getOpt(m).map(cg.isOpen).getOr(!1),reposition:m=>{u.getOpt(m).each((p=>{cg.reposition(p)}))},getOverflow:m=>u.getOpt(m).bind(cg.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,r,i)=>{n.setGroups(r,i)},refresh:(n,r)=>{n.refresh(r)},reposition:(n,r)=>{n.reposition(r)},toggle:(n,r)=>{n.toggle(r)},toggleWithoutFocusing:(n,r)=>{n.toggle(r)},isOpen:(n,r)=>n.isOpen(r),getOverflow:(n,r)=>n.getOverflow(r)}}),qT=ae([ft(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Co("onOpened"),Co("onClosed")].concat(W4())),IR=ae([ha({factory:xl,schema:hh(),name:"primary"}),ha({factory:xl,schema:hh(),name:"overflow",overrides:n=>({toolbarBehaviours:He([hi.config({dimension:{property:"height"},closedClass:n.markers.closedClass,openClass:n.markers.openClass,shrinkingClass:n.markers.shrinkingClass,growingClass:n.markers.growingClass,onShrunk:r=>{vn(r,n,"overflow-button").each((i=>{bo.off(i)})),n.onClosed(r)},onGrown:r=>{n.onOpened(r)},onStartGrow:r=>{vn(r,n,"overflow-button").each(bo.on)}}),ht.config({mode:"acyclic",onEscape:r=>(vn(r,n,"overflow-button").each(Zt.focus),E.some(!0))})])})}),Li({name:"overflow-button",overrides:n=>({buttonBehaviours:He([bo.config({toggleClass:n.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Li({name:"overflow-group"})]),j4=(n,r,i)=>{vn(n,r,"overflow-button").each((l=>{vn(n,r,"overflow").each((u=>{if(jy(n,r),hi.hasShrunk(u)){const m=r.onOpened;r.onOpened=p=>{i||ht.focusIn(u),m(p),r.onOpened=m}}else{const m=r.onClosed;r.onClosed=p=>{i||Zt.focus(l),m(p),r.onClosed=m}}hi.toggleGrow(u)}))}))},jy=(n,r)=>{vn(n,r,"overflow").each((i=>{HT(n,r,(l=>{const u=Ke(l,(m=>pl(m)));xl.setGroups(i,u)})),vn(n,r,"overflow-button").each((l=>{hi.hasGrown(i)&&bo.on(l)})),hi.refresh(i)}))},qy=Ja({name:"SplitSlidingToolbar",configFields:qT(),partFields:IR(),factory:(n,r,i,l)=>{const u="alloy.toolbar.toggle";return{uid:n.uid,dom:n.dom,components:r,behaviours:la(n.splitToolbarBehaviours,[_s.config({others:{overflowGroup:m=>Wy.sketch({...l["overflow-group"](),items:[Xs.sketch({...l["overflow-button"](),action:p=>{no(m,u)}})]})}}),It("toolbar-toggle-events",[Ne(u,(m=>{j4(m,n,!1)}))])]),apis:{setGroups:(m,p)=>{((x,v)=>{const w=Ke(v,x.getSystem().build);n.builtGroups.set(w)})(m,p),jy(m,n)},refresh:m=>jy(m,n),toggle:m=>{j4(m,n,!1)},toggleWithoutFocusing:m=>{j4(m,n,!0)},isOpen:m=>((p,x)=>vn(p,x,"overflow").map(hi.hasGrown).getOr(!1))(m,n)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,r,i)=>{n.setGroups(r,i)},refresh:(n,r)=>{n.refresh(r)},toggle:(n,r)=>{n.toggle(r)},isOpen:(n,r)=>n.isOpen(r)}}),GT=hl({name:"TabButton",configFields:[xe("uid",void 0),Fe("value"),Ws("dom","dom",Ob((()=>({attributes:{role:"tab",id:ge("aria"),"aria-selected":"false"}}))),li()),Po("action"),xe("domModification",{}),Nr("tabButtonBehaviours",[Zt,ht,lt]),Fe("view")],factory:(n,r)=>({uid:n.uid,dom:n.dom,components:n.components,events:Sy(n.action),behaviours:la(n.tabButtonBehaviours,[Zt.config({}),ht.config({mode:"execution",useSpace:!0,useEnter:!0}),lt.config({store:{mode:"memory",initialValue:n.value}})]),domModification:n.domModification})}),FR=ae([Fe("tabs"),Fe("dom"),xe("clickToDismiss",!1),Nr("tabbarBehaviours",[So,ht]),ft(["tabClass","selectedClass"])]),zR=If({factory:GT,name:"tabs",unit:"tab",overrides:n=>{const r=(l,u)=>{So.dehighlight(l,u),Ct(l,N1(),{tabbar:l,button:u})},i=(l,u)=>{So.highlight(l,u),Ct(l,D1(),{tabbar:l,button:u})};return{action:l=>{const u=l.getSystem().getByUid(n.uid).getOrDie(),m=So.isHighlighted(u,l);(m&&n.clickToDismiss?r:m?Me:i)(u,l)},domModification:{classes:[n.markers.tabClass]}}}}),HR=ae([zR]),KT=Ja({name:"Tabbar",configFields:FR(),partFields:HR(),factory:(n,r,i,l)=>({uid:n.uid,dom:n.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:la(n.tabbarBehaviours,[So.config({highlightClass:n.markers.selectedClass,itemClass:n.markers.tabClass,onHighlight:(u,m)=>{Vt(m.element,"aria-selected","true")},onDehighlight:(u,m)=>{Vt(m.element,"aria-selected","false")}}),ht.config({mode:"flow",getInitial:u=>So.getHighlighted(u).map((m=>m.element)),selector:"."+n.markers.tabClass,executeOnMove:!0})])})}),YT=hl({name:"Tabview",configFields:[Nr("tabviewBehaviours",[Kt])],factory:(n,r)=>({uid:n.uid,dom:n.dom,behaviours:la(n.tabviewBehaviours,[Kt.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),XT=ae([xe("selectFirst",!0),Co("onChangeTab"),Co("onDismissTab"),xe("tabs",[]),Nr("tabSectionBehaviours",[])]),fg=ha({factory:KT,schema:[Fe("dom"),ta("markers",[Fe("tabClass"),Fe("selectedClass")])],name:"tabbar",defaults:n=>({tabs:n.tabs})}),JT=ha({factory:YT,name:"tabview"}),QT=ae([fg,JT]),kh=Ja({name:"TabSection",configFields:XT(),partFields:QT(),factory:(n,r,i,l)=>{const u=(m,p)=>{vn(m,n,"tabbar").each((x=>{p(x).each(Vp)}))};return{uid:n.uid,dom:n.dom,components:r,behaviours:BC(n.tabSectionBehaviours),events:en(fr([n.selectFirst?[gn(((m,p)=>{u(m,So.getFirst)}))]:[],[Ne(D1(),((m,p)=>{(x=>{const v=lt.getValue(x);vn(x,n,"tabview").each((w=>{P(n.tabs,(S=>S.value===v)).each((S=>{const k=S.view();$s(x.element,"id").each((A=>{Vt(w.element,"aria-labelledby",A)})),Kt.set(w,k),n.onChangeTab(w,x,k)}))}))})(p.event.button)})),Ne(N1(),((m,p)=>{const x=p.event.button;n.onDismissTab(m,x)}))]])),apis:{getViewItems:m=>vn(m,n,"tabview").map((p=>Kt.contents(p))).getOr([]),showTab:(m,p)=>{u(m,(x=>{const v=So.getCandidates(x);return P(v,(w=>lt.getValue(w)===p)).filter((w=>!So.isHighlighted(x,w)))}))}}}},apis:{getViewItems:(n,r)=>n.getViewItems(r),showTab:(n,r,i)=>{n.showTab(r,i)}}}),Gy=(n,r,i)=>{const l=lt.getValue(i);lt.setValue(r,l),e6(r)},Sh=(n,r)=>{const i=n.element,l=Ds(i),u=i.dom;Hs(i,"type")!=="number"&&r(u,l)},e6=n=>{Sh(n,((r,i)=>r.setSelectionRange(i.length,i.length)))},q4=ae("alloy.typeahead.itemexecute"),t6=ae([Po("lazySink"),Fe("fetch"),xe("minChars",5),xe("responseTime",1e3),Co("onOpen"),xe("getHotspot",E.some),xe("getAnchorOverrides",ae({})),xe("layouts",E.none()),xe("eventOrder",{}),S1("model",{},[xe("getDisplayText",(n=>n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.value)),xe("selectsOver",!0),xe("populateFromBrowse",!0)]),Co("onSetValue"),rr("onExecute"),Co("onItemExecute"),xe("inputClasses",[]),xe("inputAttributes",{}),xe("inputStyles",{}),xe("matchWidth",!0),xe("useMinWidth",!1),xe("dismissOnBlur",!0),ft(["openClass"]),Po("initialData"),Po("listRole"),Nr("typeaheadBehaviours",[Zt,lt,Ia,ht,bo,_s]),js("lazyTypeaheadComp",(()=>mt(E.none))),js("previewing",(()=>mt(!0)))].concat(mT()).concat(w4())),$R=ae([Li({schema:[Lf()],name:"menu",overrides:n=>({fakeFocus:!0,onHighlightItem:(r,i,l)=>{n.previewing.get()?n.lazyTypeaheadComp.get().each((u=>{((m,p,x)=>{if(m.selectsOver){const v=lt.getValue(p),w=m.getDisplayText(v),S=lt.getValue(x);return m.getDisplayText(S).indexOf(w)===0?E.some((()=>{Gy(0,p,x),((k,A)=>{Sh(k,((M,B)=>M.setSelectionRange(A,B.length)))})(p,w.length)})):E.none()}return E.none()})(n.model,u,l).fold((()=>{n.model.selectsOver?(So.dehighlight(i,l),n.previewing.set(!0)):n.previewing.set(!1)}),(m=>{m(),n.previewing.set(!1)}))})):n.lazyTypeaheadComp.get().each((u=>{n.model.populateFromBrowse&&Gy(n.model,u,l),$s(l.element,"id").each((m=>Vt(u.element,"aria-activedescendant",m)))}))},onExecute:(r,i)=>n.lazyTypeaheadComp.get().map((l=>(Ct(l,q4(),{item:i}),!0))),onHover:(r,i)=>{n.previewing.set(!1),n.lazyTypeaheadComp.get().each((l=>{n.model.populateFromBrowse&&Gy(n.model,l,i)}))}})})]),VR=Ja({name:"Typeahead",configFields:t6(),partFields:$R(),factory:(n,r,i,l)=>{const u=(k,A,M)=>{n.previewing.set(!1);const B=_s.getCoupled(k,"sandbox");if(Ro.isOpen(B))Bo.getCurrent(B).each((U=>{So.getHighlighted(U).fold((()=>{M(U)}),(()=>{Zf(B,U.element,"keydown",A)}))}));else{const U=$=>{Bo.getCurrent($).each(M)};v0(n,p(k),k,B,l,U,aa.HighlightMenuAndItem).get(Me)}},m=E4(n),p=k=>A=>A.map((M=>{const B=Ir(M.menus),U=yn(B,($=>sn($.items,(V=>V.type==="item"))));return lt.getState(k).update(Ke(U,($=>$.data))),M})),x=k=>Bo.getCurrent(k),v="typeaheadevents",w=[Zt.config({}),lt.config({onSetValue:n.onSetValue,store:{mode:"dataset",getDataKey:k=>Ds(k.element),getFallbackEntry:k=>({value:k,meta:{}}),setValue:(k,A)=>{Wa(k.element,n.model.getDisplayText(A))},...n.initialData.map((k=>Ga("initialValue",k))).getOr({})}}),Ia.config({stream:{mode:"throttle",delay:n.responseTime,stopEvent:!1},onStream:(k,A)=>{const M=_s.getCoupled(k,"sandbox");if(Zt.isFocused(k)&&Ds(k.element).length>=n.minChars){const B=x(M).bind(($=>So.getHighlighted($).map(lt.getValue)));n.previewing.set(!0);const U=$=>{x(M).each((V=>{B.fold((()=>{n.model.selectsOver&&So.highlightFirst(V)}),(z=>{So.highlightBy(V,(H=>lt.getValue(H).value===z.value)),So.getHighlighted(V).orThunk((()=>(So.highlightFirst(V),E.none())))}))}))};v0(n,p(k),k,M,l,U,aa.HighlightJustMenu).get(Me)}},cancelEvent:Mb()}),ht.config({mode:"special",onDown:(k,A)=>(u(k,A,So.highlightFirst),E.some(!0)),onEscape:k=>{const A=_s.getCoupled(k,"sandbox");return Ro.isOpen(A)?(Ro.close(A),E.some(!0)):E.none()},onUp:(k,A)=>(u(k,A,So.highlightLast),E.some(!0)),onEnter:k=>{const A=_s.getCoupled(k,"sandbox"),M=Ro.isOpen(A);if(M&&!n.previewing.get())return x(A).bind((B=>So.getHighlighted(B))).map((B=>(Ct(k,q4(),{item:B}),!0)));{const B=lt.getValue(k);return no(k,Mb()),n.onExecute(A,k,B),M&&Ro.close(A),E.some(!0)}}}),bo.config({toggleClass:n.markers.openClass,aria:{mode:"expanded"}}),_s.config({others:{sandbox:k=>_4(n,k,{onOpen:()=>bo.on(k),onClose:()=>{n.lazyTypeaheadComp.get().each((A=>ts(A.element,"aria-activedescendant"))),bo.off(k)}})}}),It(v,[gn((k=>{n.lazyTypeaheadComp.set(E.some(k))})),Fi((k=>{n.lazyTypeaheadComp.set(E.none())})),kc((k=>{const A=Me;y4(n,p(k),k,l,A,aa.HighlightMenuAndItem).get(Me)})),Ne(q4(),((k,A)=>{const M=_s.getCoupled(k,"sandbox");Gy(n.model,k,A.event.item),no(k,Mb()),n.onItemExecute(k,M,A.event.item,lt.getValue(k)),Ro.close(M),e6(k)}))].concat(n.dismissOnBlur?[Ne(id(),(k=>{const A=_s.getCoupled(k,"sandbox");Vr(A.element).isNone()&&Ro.close(A)}))]:[]))],S={[bc()]:[lt.name(),Ia.name(),v],...n.eventOrder};return{uid:n.uid,dom:gT(as(n,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...m,...la(n.typeaheadBehaviours,w)},eventOrder:S}}});var _l,E0,G4=tinymce.util.Tools.resolve("tinymce.ThemeManager"),T0=tinymce.util.Tools.resolve("tinymce.util.Delay"),Vx=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),gg=tinymce.util.Tools.resolve("tinymce.EditorManager"),Eh=tinymce.util.Tools.resolve("tinymce.Env");(function(n){n.default="wrap",n.floating="floating",n.sliding="sliding",n.scrolling="scrolling"})(_l||(_l={})),(function(n){n.auto="auto",n.top="top",n.bottom="bottom"})(E0||(E0={}));const on=n=>r=>r.options.get(n),Ux=n=>r=>E.from(n(r)),o6=n=>{const r=Eh.deviceType.isPhone(),i=Eh.deviceType.isTablet()||r,l=n.options.register,u=p=>Le(p)||p===!1,m=p=>Le(p)||zt(p);l("skin",{processor:p=>Le(p)||p===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:m,default:Math.max(n.getElement().offsetHeight,400)}),l("width",{processor:m,default:Vx.DOM.getStyle(n.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:p=>Le(p)||Ao(p),default:!r}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:p=>Ao(p)||Le(p)||io(p)?{value:p,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),df(9,(p=>{l("toolbar"+(p+1),{processor:"string"})})),l("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:E0.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:n.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:u,default:"#top"}),l("anchor_bottom",{processor:u,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:p=>p==="both"||Ao(p),default:!Eh.deviceType.isTouch()}),l("sidebar_show",{processor:"string"}),l("help_accessibility",{processor:"boolean",default:n.hasPlugin("help")}),l("default_font_stack",{processor:"string[]",default:[]})},A0=on("readonly"),pg=on("disabled"),Ky=on("height"),Zx=on("width"),Tu=Ux(on("min_width")),Au=Ux(on("min_height")),Yy=Ux(on("max_width")),K4=Ux(on("max_height")),Y4=Ux(on("style_formats")),Ou=on("style_formats_merge"),Xy=on("style_formats_autohide"),n6=on("content_langs"),X4=on("removed_menuitems"),hg=on("toolbar_mode"),J4=on("toolbar_groups"),Wx=on("toolbar_location"),s6=on("fixed_toolbar_container"),UR=on("fixed_toolbar_container_target"),r6=on("toolbar_persist"),a6=on("toolbar_sticky_offset"),jx=on("menubar"),O0=on("toolbar"),qx=on("file_picker_callback"),Q4=on("file_picker_validator_handler"),i6=on("font_size_input_default_unit"),e3=on("file_picker_types"),t3=on("typeahead_urls"),o3=on("anchor_top"),n3=on("anchor_bottom"),l6=on("draggable_modal"),Jy=on("statusbar"),c6=on("elementpath"),s3=on("branding"),d6=on("resize"),u6=on("paste_as_text"),r3=on("sidebar_show"),m6=on("promotion"),f6=on("help_accessibility"),a3=on("default_font_stack"),D0=on("skin"),i3=n=>n.options.get("skin")===!1,bg=n=>n.options.get("menubar")!==!1,Qy=n=>{const r=n.options.get("skin_url");if(i3(n))return r;if(r)return n.documentBaseURI.toAbsolute(r);{const i=n.options.get("skin");return gg.baseURL+"/skins/ui/"+i}},l3=n=>n.options.get("line_height_formats").split(" "),Gx=n=>{const r=O0(n),i=Le(r),l=io(r)&&r.length>0;return!Kx(n)&&(l||i||r===!0)},c3=n=>{const r=df(9,(l=>n.options.get("toolbar"+(l+1)))),i=sn(r,Le);return gs(i.length>0,i)},Kx=n=>c3(n).fold((()=>{const r=O0(n);return fs(r,Le)&&r.length>0}),Ut),e_=n=>Wx(n)===E0.bottom,g6=n=>{var r;if(!n.inline)return E.none();const i=(r=s6(n))!==null&&r!==void 0?r:"";if(i.length>0)return Qo(ps(),i);const l=UR(n);return ot(l)?E.some(at(l)):E.none()},Th=n=>n.inline&&g6(n).isSome(),d3=n=>g6(n).getOrThunk((()=>Xu(er(at(n.getElement()))))),u3=n=>n.inline&&!bg(n)&&!Gx(n)&&!Kx(n),Ah=n=>(n.options.get("toolbar_sticky")||n.inline)&&!Th(n)&&!u3(n),Dd=n=>!Th(n)&&n.options.get("ui_mode")==="split",t_=n=>{const r=n.options.get("menu");return ss(r,(i=>({...i,items:i.items})))};var m3=Object.freeze({__proto__:null,get ToolbarMode(){return _l},get ToolbarLocation(){return E0},register:o6,getSkinUrl:Qy,getSkinUrlOption:n=>E.from(n.options.get("skin_url")),isReadOnly:A0,isDisabled:pg,getSkin:D0,isSkinDisabled:i3,getHeightOption:Ky,getWidthOption:Zx,getMinWidthOption:Tu,getMinHeightOption:Au,getMaxWidthOption:Yy,getMaxHeightOption:K4,getUserStyleFormats:Y4,shouldMergeStyleFormats:Ou,shouldAutoHideStyleFormats:Xy,getLineHeightFormats:l3,getContentLanguages:n6,getRemovedMenuItems:X4,isMenubarEnabled:bg,isMultipleToolbars:Kx,isToolbarEnabled:Gx,isToolbarPersist:r6,getMultipleToolbarsOption:c3,getUiContainer:d3,useFixedContainer:Th,isSplitUiMode:Dd,getToolbarMode:hg,isDraggableModal:l6,isDistractionFree:u3,isStickyToolbar:Ah,getStickyToolbarOffset:a6,getToolbarLocation:Wx,isToolbarLocationBottom:e_,getToolbarGroups:J4,getMenus:t_,getMenubar:jx,getToolbar:O0,getFilePickerCallback:qx,getFilePickerTypes:e3,useTypeaheadUrls:t3,getAnchorTop:o3,getAnchorBottom:n3,getFilePickerValidatorHandler:Q4,getFontSizeInputDefaultUnit:i6,useStatusBar:Jy,useElementPath:c6,promotionEnabled:m6,useBranding:s3,getResize:d6,getPasteAsText:u6,getSidebarShow:r3,useHelpAccessibility:f6,getDefaultFontStack:a3});const ZR=["visible","hidden","clip"],p6=n=>ep(n).length>0&&!Ge(ZR,n),h6=n=>{if(Ku(n)){const r=kr(n,"overflow-x"),i=kr(n,"overflow-y");return p6(r)||p6(i)}return!1},b6=n=>n.plugins.fullscreen&&n.plugins.fullscreen.isFullscreen(),qm=(n,r)=>Dd(n)?((i,l)=>{const u=gp(l,h6),m=u.length===0?Jd(l).map(Nl).map((p=>gp(p,h6))).getOr([]):u;return Lr(m).map((p=>({element:p,others:m.slice(1),isFullscreen:()=>b6(i)})))})(n,r):E.none(),xg=n=>{const r=[...Ke(n.others,Us),Tr()];return n.isFullscreen()?Tr():((i,l)=>qo(l,((u,m)=>ai(u,m)),i))(Us(n.element),r)},{entries:x6,setPrototypeOf:v6,isFrozen:WR,getPrototypeOf:jR,getOwnPropertyDescriptor:qR}=Object;let{freeze:Vi,seal:Kl,create:y6}=Object,{apply:f3,construct:g3}=typeof Reflect<"u"&&Reflect;Vi||(Vi=function(n){return n}),Kl||(Kl=function(n){return n}),f3||(f3=function(n,r,i){return n.apply(r,i)}),g3||(g3=function(n,r){return new n(...r)});const o_=Ui(Array.prototype.forEach),GR=Ui(Array.prototype.lastIndexOf),Gm=Ui(Array.prototype.pop),Yx=Ui(Array.prototype.push),KR=Ui(Array.prototype.splice),Du=Ui(String.prototype.toLowerCase),n_=Ui(String.prototype.toString),_6=Ui(String.prototype.match),Bc=Ui(String.prototype.replace),YR=Ui(String.prototype.indexOf),XR=Ui(String.prototype.trim),xr=Ui(Object.prototype.hasOwnProperty),xi=Ui(RegExp.prototype.test),N0=(p3=TypeError,function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return g3(p3,r)});var p3;function Ui(n){return function(r){r instanceof RegExp&&(r.lastIndex=0);for(var i=arguments.length,l=new Array(i>1?i-1:0),u=1;u<i;u++)l[u-1]=arguments[u];return f3(n,r,l)}}function an(n,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Du;v6&&v6(n,null);let l=r.length;for(;l--;){let u=r[l];if(typeof u=="string"){const m=i(u);m!==u&&(WR(r)||(r[l]=m),u=m)}n[u]=!0}return n}function w6(n){for(let r=0;r<n.length;r++)xr(n,r)||(n[r]=null);return n}function Km(n){const r=y6(null);for(const[i,l]of x6(n))xr(n,i)&&(Array.isArray(l)?r[i]=w6(l):l&&typeof l=="object"&&l.constructor===Object?r[i]=Km(l):r[i]=l);return r}function Xx(n,r){for(;n!==null;){const i=qR(n,r);if(i){if(i.get)return Ui(i.get);if(typeof i.value=="function")return Ui(i.value)}n=jR(n)}return function(){return null}}const Jx=Vi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Qx=Vi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),s_=Vi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),C6=Vi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),r_=Vi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),JR=Vi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),a_=Vi(["#text"]),h3=Vi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),b3=Vi(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),k6=Vi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),i_=Vi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),x3=Kl(/\{\{[\w\W]*|[\w\W]*\}\}/gm),QR=Kl(/<%[\w\W]*|[\w\W]*%>/gm),ev=Kl(/\$\{[\w\W]*/gm),l_=Kl(/^data-[\-\w.\u00B7-\uFFFF]+$/),S6=Kl(/^aria-[\-\w]+$/),v3=Kl(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),eM=Kl(/^(?:\w+script|data):/i),tM=Kl(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),E6=Kl(/^html$/i),oM=Kl(/^[a-z][.\w]*(-[.\w]+)+$/i);var c_=Object.freeze({__proto__:null,ARIA_ATTR:S6,ATTR_WHITESPACE:tM,CUSTOM_ELEMENT:oM,DATA_ATTR:l_,DOCTYPE_NAME:E6,ERB_EXPR:QR,IS_ALLOWED_URI:v3,IS_SCRIPT_OR_DATA:eM,MUSTACHE_EXPR:x3,TMPLIT_EXPR:ev});const T6=function(){return typeof window>"u"?null:window};var A6=(function n(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T6();const i=he=>n(he);if(i.version="3.2.6",i.removed=[],!r||!r.document||r.document.nodeType!==9||!r.Element)return i.isSupported=!1,i;let{document:l}=r;const u=l,m=u.currentScript,{DocumentFragment:p,HTMLTemplateElement:x,Node:v,Element:w,NodeFilter:S,NamedNodeMap:k=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:A,DOMParser:M,trustedTypes:B}=r,U=w.prototype,$=Xx(U,"cloneNode"),V=Xx(U,"remove"),z=Xx(U,"nextSibling"),H=Xx(U,"childNodes"),j=Xx(U,"parentNode");if(typeof x=="function"){const he=l.createElement("template");he.content&&he.content.ownerDocument&&(l=he.content.ownerDocument)}let K,oe="";const{implementation:te,createNodeIterator:re,createDocumentFragment:pe,getElementsByTagName:Ce}=l,{importNode:we}=u;let Oe={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};i.isSupported=typeof x6=="function"&&typeof j=="function"&&te&&te.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ze,ERB_EXPR:pt,TMPLIT_EXPR:St,DATA_ATTR:At,ARIA_ATTR:ro,IS_SCRIPT_OR_DATA:Ho,ATTR_WHITESPACE:nn,CUSTOM_ELEMENT:Rt}=c_;let{IS_ALLOWED_URI:Xo}=c_,Ft=null;const Nn=an({},[...Jx,...Qx,...s_,...r_,...a_]);let Io=null;const Js=an({},[...h3,...b3,...k6,...i_]);let cn=Object.seal(y6(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),yi=null,_a=null,ei=!0,of=!0,tb=!1,Iw=!0,zc=!1,Hg=!0,Hd=!1,$g=!1,ob=!1,nf=!1,nb=!1,Kh=!1,Vv=!0,Uv=!1,Vg=!0,_i=!1,Eo={},wi=null;const $d=an({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Fw=null;const z8=an({},["audio","video","img","source","image","track"]);let KS=null;const H8=an({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Zv="http://www.w3.org/1998/Math/MathML",zw="http://www.w3.org/2000/svg",Vd="http://www.w3.org/1999/xhtml";let Ug=Vd,Wv=!1,YS=null;const Cl=an({},[Zv,zw,Vd],n_);let Hw=an({},["mi","mo","mn","ms","mtext"]),$w=an({},["annotation-xml"]);const $8=an({},["title","style","font","a","script"]);let sb=null;const nL=["application/xhtml+xml","text/html"];let Ha=null,rb=null;const sL=l.createElement("form"),V8=function(he){return he instanceof RegExp||he instanceof Function},XS=function(){let he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!rb||rb!==he){if(he&&typeof he=="object"||(he={}),he=Km(he),sb=nL.indexOf(he.PARSER_MEDIA_TYPE)===-1?"text/html":he.PARSER_MEDIA_TYPE,Ha=sb==="application/xhtml+xml"?n_:Du,Ft=xr(he,"ALLOWED_TAGS")?an({},he.ALLOWED_TAGS,Ha):Nn,Io=xr(he,"ALLOWED_ATTR")?an({},he.ALLOWED_ATTR,Ha):Js,YS=xr(he,"ALLOWED_NAMESPACES")?an({},he.ALLOWED_NAMESPACES,n_):Cl,KS=xr(he,"ADD_URI_SAFE_ATTR")?an(Km(H8),he.ADD_URI_SAFE_ATTR,Ha):H8,Fw=xr(he,"ADD_DATA_URI_TAGS")?an(Km(z8),he.ADD_DATA_URI_TAGS,Ha):z8,wi=xr(he,"FORBID_CONTENTS")?an({},he.FORBID_CONTENTS,Ha):$d,yi=xr(he,"FORBID_TAGS")?an({},he.FORBID_TAGS,Ha):Km({}),_a=xr(he,"FORBID_ATTR")?an({},he.FORBID_ATTR,Ha):Km({}),Eo=!!xr(he,"USE_PROFILES")&&he.USE_PROFILES,ei=he.ALLOW_ARIA_ATTR!==!1,of=he.ALLOW_DATA_ATTR!==!1,tb=he.ALLOW_UNKNOWN_PROTOCOLS||!1,Iw=he.ALLOW_SELF_CLOSE_IN_ATTR!==!1,zc=he.SAFE_FOR_TEMPLATES||!1,Hg=he.SAFE_FOR_XML!==!1,Hd=he.WHOLE_DOCUMENT||!1,nf=he.RETURN_DOM||!1,nb=he.RETURN_DOM_FRAGMENT||!1,Kh=he.RETURN_TRUSTED_TYPE||!1,ob=he.FORCE_BODY||!1,Vv=he.SANITIZE_DOM!==!1,Uv=he.SANITIZE_NAMED_PROPS||!1,Vg=he.KEEP_CONTENT!==!1,_i=he.IN_PLACE||!1,Xo=he.ALLOWED_URI_REGEXP||v3,Ug=he.NAMESPACE||Vd,Hw=he.MATHML_TEXT_INTEGRATION_POINTS||Hw,$w=he.HTML_INTEGRATION_POINTS||$w,cn=he.CUSTOM_ELEMENT_HANDLING||{},he.CUSTOM_ELEMENT_HANDLING&&V8(he.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(cn.tagNameCheck=he.CUSTOM_ELEMENT_HANDLING.tagNameCheck),he.CUSTOM_ELEMENT_HANDLING&&V8(he.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(cn.attributeNameCheck=he.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),he.CUSTOM_ELEMENT_HANDLING&&typeof he.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(cn.allowCustomizedBuiltInElements=he.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),zc&&(of=!1),nb&&(nf=!0),Eo&&(Ft=an({},a_),Io=[],Eo.html===!0&&(an(Ft,Jx),an(Io,h3)),Eo.svg===!0&&(an(Ft,Qx),an(Io,b3),an(Io,i_)),Eo.svgFilters===!0&&(an(Ft,s_),an(Io,b3),an(Io,i_)),Eo.mathMl===!0&&(an(Ft,r_),an(Io,k6),an(Io,i_))),he.ADD_TAGS&&(Ft===Nn&&(Ft=Km(Ft)),an(Ft,he.ADD_TAGS,Ha)),he.ADD_ATTR&&(Io===Js&&(Io=Km(Io)),an(Io,he.ADD_ATTR,Ha)),he.ADD_URI_SAFE_ATTR&&an(KS,he.ADD_URI_SAFE_ATTR,Ha),he.FORBID_CONTENTS&&(wi===$d&&(wi=Km(wi)),an(wi,he.FORBID_CONTENTS,Ha)),Vg&&(Ft["#text"]=!0),Hd&&an(Ft,["html","head","body"]),Ft.table&&(an(Ft,["tbody"]),delete yi.tbody),he.TRUSTED_TYPES_POLICY){if(typeof he.TRUSTED_TYPES_POLICY.createHTML!="function")throw N0('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof he.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw N0('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');K=he.TRUSTED_TYPES_POLICY,oe=K.createHTML("")}else K===void 0&&(K=(function(so,Wt){if(typeof so!="object"||typeof so.createPolicy!="function")return null;let Rn=null;const Jn="data-tt-policy-suffix";Wt&&Wt.hasAttribute(Jn)&&(Rn=Wt.getAttribute(Jn));const pn="dompurify"+(Rn?"#"+Rn:"");try{return so.createPolicy(pn,{createHTML:Mr=>Mr,createScriptURL:Mr=>Mr})}catch{return console.warn("TrustedTypes policy "+pn+" could not be created."),null}})(B,m)),K!==null&&typeof oe=="string"&&(oe=K.createHTML(""));Vi&&Vi(he),rb=he}},U8=an({},[...Qx,...s_,...C6]),JS=an({},[...r_,...JR]),Pu=function(he){Yx(i.removed,{element:he});try{j(he).removeChild(he)}catch{V(he)}},ab=function(he,so){try{Yx(i.removed,{attribute:so.getAttributeNode(he),from:so})}catch{Yx(i.removed,{attribute:null,from:so})}if(so.removeAttribute(he),he==="is")if(nf||nb)try{Pu(so)}catch{}else try{so.setAttribute(he,"")}catch{}},Z8=function(he){let so=null,Wt=null;if(ob)he="<remove></remove>"+he;else{const pn=_6(he,/^[\r\n\t ]+/);Wt=pn&&pn[0]}sb==="application/xhtml+xml"&&Ug===Vd&&(he='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+he+"</body></html>");const Rn=K?K.createHTML(he):he;if(Ug===Vd)try{so=new M().parseFromString(Rn,sb)}catch{}if(!so||!so.documentElement){so=te.createDocument(Ug,"template",null);try{so.documentElement.innerHTML=Wv?oe:Rn}catch{}}const Jn=so.body||so.documentElement;return he&&Wt&&Jn.insertBefore(l.createTextNode(Wt),Jn.childNodes[0]||null),Ug===Vd?Ce.call(so,Hd?"html":"body")[0]:Hd?so.documentElement:Jn},QS=function(he){return re.call(he.ownerDocument||he,he,S.SHOW_ELEMENT|S.SHOW_COMMENT|S.SHOW_TEXT|S.SHOW_PROCESSING_INSTRUCTION|S.SHOW_CDATA_SECTION,null)},jv=function(he){return he instanceof A&&(typeof he.nodeName!="string"||typeof he.textContent!="string"||typeof he.removeChild!="function"||!(he.attributes instanceof k)||typeof he.removeAttribute!="function"||typeof he.setAttribute!="function"||typeof he.namespaceURI!="string"||typeof he.insertBefore!="function"||typeof he.hasChildNodes!="function")},eE=function(he){return typeof v=="function"&&he instanceof v};function Lu(he,so,Wt){o_(he,(Rn=>{Rn.call(i,so,Wt,rb)}))}const tE=function(he){let so=null;if(Lu(Oe.beforeSanitizeElements,he,null),jv(he))return Pu(he),!0;const Wt=Ha(he.nodeName);if(Lu(Oe.uponSanitizeElement,he,{tagName:Wt,allowedTags:Ft}),Hg&&he.hasChildNodes()&&!eE(he.firstElementChild)&&xi(/<[/\w!]/g,he.innerHTML)&&xi(/<[/\w!]/g,he.textContent)||he.nodeType===7||Hg&&he.nodeType===8&&xi(/<[/\w]/g,he.data))return Pu(he),!0;if(!Ft[Wt]||yi[Wt]){if(!yi[Wt]&&Vw(Wt)&&(cn.tagNameCheck instanceof RegExp&&xi(cn.tagNameCheck,Wt)||cn.tagNameCheck instanceof Function&&cn.tagNameCheck(Wt)))return!1;if(Vg&&!wi[Wt]){const Rn=j(he)||he.parentNode,Jn=H(he)||he.childNodes;if(Jn&&Rn)for(let pn=Jn.length-1;pn>=0;--pn){const Mr=$(Jn[pn],!0);Mr.__removalCount=(he.__removalCount||0)+1,Rn.insertBefore(Mr,z(he))}}return Pu(he),!0}return he instanceof w&&!(function(Rn){let Jn=j(Rn);Jn&&Jn.tagName||(Jn={namespaceURI:Ug,tagName:"template"});const pn=Du(Rn.tagName),Mr=Du(Jn.tagName);return!!YS[Rn.namespaceURI]&&(Rn.namespaceURI===zw?Jn.namespaceURI===Vd?pn==="svg":Jn.namespaceURI===Zv?pn==="svg"&&(Mr==="annotation-xml"||Hw[Mr]):!!U8[pn]:Rn.namespaceURI===Zv?Jn.namespaceURI===Vd?pn==="math":Jn.namespaceURI===zw?pn==="math"&&$w[Mr]:!!JS[pn]:Rn.namespaceURI===Vd?!(Jn.namespaceURI===zw&&!$w[Mr])&&!(Jn.namespaceURI===Zv&&!Hw[Mr])&&!JS[pn]&&($8[pn]||!U8[pn]):!(sb!=="application/xhtml+xml"||!YS[Rn.namespaceURI]))})(he)?(Pu(he),!0):Wt!=="noscript"&&Wt!=="noembed"&&Wt!=="noframes"||!xi(/<\/no(script|embed|frames)/i,he.innerHTML)?(zc&&he.nodeType===3&&(so=he.textContent,o_([ze,pt,St],(Rn=>{so=Bc(so,Rn," ")})),he.textContent!==so&&(Yx(i.removed,{element:he.cloneNode()}),he.textContent=so)),Lu(Oe.afterSanitizeElements,he,null),!1):(Pu(he),!0)},oE=function(he,so,Wt){if(Vv&&(so==="id"||so==="name")&&(Wt in l||Wt in sL))return!1;if(!(of&&!_a[so]&&xi(At,so))){if(!(ei&&xi(ro,so))){if(!Io[so]||_a[so]){if(!(Vw(he)&&(cn.tagNameCheck instanceof RegExp&&xi(cn.tagNameCheck,he)||cn.tagNameCheck instanceof Function&&cn.tagNameCheck(he))&&(cn.attributeNameCheck instanceof RegExp&&xi(cn.attributeNameCheck,so)||cn.attributeNameCheck instanceof Function&&cn.attributeNameCheck(so))||so==="is"&&cn.allowCustomizedBuiltInElements&&(cn.tagNameCheck instanceof RegExp&&xi(cn.tagNameCheck,Wt)||cn.tagNameCheck instanceof Function&&cn.tagNameCheck(Wt))))return!1}else if(!KS[so]){if(!xi(Xo,Bc(Wt,nn,""))){if((so!=="src"&&so!=="xlink:href"&&so!=="href"||he==="script"||YR(Wt,"data:")!==0||!Fw[he])&&!(tb&&!xi(Ho,Bc(Wt,nn,"")))){if(Wt)return!1}}}}}return!0},Vw=function(he){return he!=="annotation-xml"&&_6(he,Rt)},W8=function(he){Lu(Oe.beforeSanitizeAttributes,he,null);const{attributes:so}=he;if(!so||jv(he))return;const Wt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Io,forceKeepAttr:void 0};let Rn=so.length;for(;Rn--;){const Jn=so[Rn],{name:pn,namespaceURI:Mr,value:Zg}=Jn,Iu=Ha(pn),Uw=Zg;let ti=pn==="value"?Uw:XR(Uw);if(Wt.attrName=Iu,Wt.attrValue=ti,Wt.keepAttr=!0,Wt.forceKeepAttr=void 0,Lu(Oe.uponSanitizeAttribute,he,Wt),ti=Wt.attrValue,!Uv||Iu!=="id"&&Iu!=="name"||(ab(pn,he),ti="user-content-"+ti),Hg&&xi(/((--!?|])>)|<\/(style|title)/i,ti)){ab(pn,he);continue}if(Wt.forceKeepAttr)continue;if(!Wt.keepAttr){ab(pn,he);continue}if(!Iw&&xi(/\/>/i,ti)){ab(pn,he);continue}zc&&o_([ze,pt,St],(sE=>{ti=Bc(ti,sE," ")}));const Zw=Ha(he.nodeName);if(oE(Zw,Iu,ti)){if(K&&typeof B=="object"&&typeof B.getAttributeType=="function"&&!Mr)switch(B.getAttributeType(Zw,Iu)){case"TrustedHTML":ti=K.createHTML(ti);break;case"TrustedScriptURL":ti=K.createScriptURL(ti)}if(ti!==Uw)try{Mr?he.setAttributeNS(Mr,pn,ti):he.setAttribute(pn,ti),jv(he)?Pu(he):Gm(i.removed)}catch{ab(pn,he)}}else ab(pn,he)}Lu(Oe.afterSanitizeAttributes,he,null)},nE=function he(so){let Wt=null;const Rn=QS(so);for(Lu(Oe.beforeSanitizeShadowDOM,so,null);Wt=Rn.nextNode();)Lu(Oe.uponSanitizeShadowNode,Wt,null),tE(Wt),W8(Wt),Wt.content instanceof p&&he(Wt.content);Lu(Oe.afterSanitizeShadowDOM,so,null)};return i.sanitize=function(he){let so=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Wt=null,Rn=null,Jn=null,pn=null;if(Wv=!he,Wv&&(he="<!-->"),typeof he!="string"&&!eE(he)){if(typeof he.toString!="function")throw N0("toString is not a function");if(typeof(he=he.toString())!="string")throw N0("dirty is not a string, aborting")}if(!i.isSupported)return he;if($g||XS(so),i.removed=[],typeof he=="string"&&(_i=!1),_i){if(he.nodeName){const Iu=Ha(he.nodeName);if(!Ft[Iu]||yi[Iu])throw N0("root node is forbidden and cannot be sanitized in-place")}}else if(he instanceof v)Wt=Z8("<!---->"),Rn=Wt.ownerDocument.importNode(he,!0),Rn.nodeType===1&&Rn.nodeName==="BODY"||Rn.nodeName==="HTML"?Wt=Rn:Wt.appendChild(Rn);else{if(!nf&&!zc&&!Hd&&he.indexOf("<")===-1)return K&&Kh?K.createHTML(he):he;if(Wt=Z8(he),!Wt)return nf?null:Kh?oe:""}Wt&&ob&&Pu(Wt.firstChild);const Mr=QS(_i?he:Wt);for(;Jn=Mr.nextNode();)tE(Jn),W8(Jn),Jn.content instanceof p&&nE(Jn.content);if(_i)return he;if(nf){if(nb)for(pn=pe.call(Wt.ownerDocument);Wt.firstChild;)pn.appendChild(Wt.firstChild);else pn=Wt;return(Io.shadowroot||Io.shadowrootmode)&&(pn=we.call(u,pn,!0)),pn}let Zg=Hd?Wt.outerHTML:Wt.innerHTML;return Hd&&Ft["!doctype"]&&Wt.ownerDocument&&Wt.ownerDocument.doctype&&Wt.ownerDocument.doctype.name&&xi(E6,Wt.ownerDocument.doctype.name)&&(Zg="<!DOCTYPE "+Wt.ownerDocument.doctype.name+`>
`+Zg),zc&&o_([ze,pt,St],(Iu=>{Zg=Bc(Zg,Iu," ")})),K&&Kh?K.createHTML(Zg):Zg},i.setConfig=function(){XS(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),$g=!0},i.clearConfig=function(){rb=null,$g=!1},i.isValidAttribute=function(he,so,Wt){rb||XS({});const Rn=Ha(he),Jn=Ha(so);return oE(Rn,Jn,Wt)},i.addHook=function(he,so){typeof so=="function"&&Yx(Oe[he],so)},i.removeHook=function(he,so){if(so!==void 0){const Wt=GR(Oe[he],so);return Wt===-1?void 0:KR(Oe[he],Wt,1)[0]}return Gm(Oe[he])},i.removeHooks=function(he){Oe[he]=[]},i.removeAllHooks=function(){Oe={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},i})();const d_=n=>A6().sanitize(n);var ya=tinymce.util.Tools.resolve("tinymce.util.I18n");const O6={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},D6="temporary-placeholder",y3=n=>()=>Dt(n,D6).getOr("!not found!"),_3=(n,r)=>{const i=n.toLowerCase();if(ya.isRtl()){const l=((u,m)=>Qg(u,m)?u:((p,x)=>p+x)(u,m))(i,"-rtl");return $o(r,l)?l:i}return i},w3=(n,r)=>Dt(r,_3(n,r)),N6=(n,r)=>{const i=r();return w3(n,i).getOrThunk(y3(i))},R6=()=>It("add-focusable",[gn((n=>{f1(n.element,"svg").each((r=>Vt(r,"focusable","false")))}))]),u_=(n,r,i,l)=>{var u,m,p;const x=(w=>!!ya.isRtl()&&$o(O6,w))(r)?["tox-icon--flip"]:[],v=Dt(i,_3(r,i)).or(l).getOrThunk(y3(i));return{dom:{tag:n.tag,attributes:(u=n.attributes)!==null&&u!==void 0?u:{},classes:n.classes.concat(x),innerHtml:v},behaviours:He([...(m=n.behaviours)!==null&&m!==void 0?m:[],R6()]),eventOrder:(p=n.eventOrder)!==null&&p!==void 0?p:{}}},Zi=(n,r,i,l=E.none())=>u_(r,n,i(),l),M6={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},C3=hl({name:"Notification",factory:n=>{const r=ge("notification-text"),i=Zo({dom:$m(`<p id=${r}>${d_(n.backstageProvider.translate(n.text))}</p>`),behaviours:He([Kt.config({})])}),l=k=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${k}%`}}}),u=k=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${k}%`}}),m=Zo({dom:{tag:"div",classes:n.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(0)]},u(0)],behaviours:He([Kt.config({})])}),p={updateProgress:(k,A)=>{k.getSystem().isConnected()&&m.getOpt(k).each((M=>{Kt.set(M,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(A)]},u(A)])}))},updateText:(k,A)=>{if(k.getSystem().isConnected()){const M=i.get(k);Kt.set(M,[Hn(A)])}}},x=fr([n.icon.toArray(),[n.level],E.from(M6[n.level]).toArray()]),v=Zo(Xs.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":n.backstageProvider.translate("Close")}},components:[Zi("close",{tag:"span",classes:["tox-icon"]},n.iconProvider)],buttonBehaviours:He([Lo.config({}),Dn.config({...n.backstageProvider.tooltips.getConfig({tooltipText:n.backstageProvider.translate("Close")})})]),action:k=>{n.onAction(k)}})),w=((k,A,M)=>{const B=M(),U=P(k,($=>$o(B,_3($,B))));return u_({tag:"div",classes:["tox-notification__icon"]},U.getOr(D6),B,E.none())})(x,0,n.iconProvider),S=[w,{dom:{tag:"div",classes:["tox-notification__body"]},components:[i.asSpec()],behaviours:He([Kt.config({})])}];return{uid:n.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":r},classes:["tox-notification","tox-notification--in",`tox-notification--${n.level}`]},behaviours:He([Lo.config({}),Zt.config({}),ht.config({mode:"special",onEscape:k=>(n.onAction(k),E.some(!0))})]),components:S.concat(n.progress?[m.asSpec()]:[]).concat([v.asSpec()]),apis:p}},configFields:[al("level","info",["success","error","warning","warn","info"]),Fe("progress"),Po("icon"),Fe("onAction"),Fe("text"),Fe("iconProvider"),Fe("backstageProvider")],apis:{updateProgress:(n,r,i)=>{n.updateProgress(r,i)},updateText:(n,r,i)=>{n.updateText(r,i)}}});var k3=(n,r,i,l)=>{const u=r.backstage.shared,m=()=>at(n.queryCommandValue("ToggleView")===""?n.getContentAreaContainer():n.getContainer()),p=()=>{const v=Us(m());return E.some(v)},x=v=>{p().each((w=>{vt(v,(S=>{_o(S.element,"width"),Fn(S.element)>w.width&&Z(S.element,"width",w.width+"px")}))}))};return{open:(v,w,S)=>{const k=()=>{l.on((B=>{w();const U=S();($=>{Kt.remove($,A),M()})(B),(($,V)=>{nl($.element).length===0?((z,H)=>{qn.hide(z),l.clear(),H&&n.focus()})($,V):((z,H)=>{H&&ht.focusIn(z)})($,V)})(B,U)}))},A=ba(C3.sketch({text:v.text,level:Ge(["success","error","warning","warn","info"],v.type)?v.type:void 0,progress:v.progressBar===!0,icon:v.icon,onAction:k,iconProvider:u.providers.icons,backstageProvider:u.providers}));if(l.isSet()){const B=pl(A);l.on((U=>{Kt.append(U,B),qn.reposition(U),A.hasConfigured(Wn)&&Wn.refresh(U),x(U.components())}))}else{const B=ba(qn.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:u.getSink,fireDismissalEventInstead:{},...u.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:He([ht.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),Kt.config({}),...Ah(n)&&u.header.isPositionedAtTop()?[]:[Wn.config({contextual:{lazyContext:()=>E.some(Us(m())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:z=>qm(n,z.element).map((H=>({bounds:xg(H),optScrollEnv:E.some({currentScrollTop:H.element.dom.scrollTop,scrollElmTop:Va(H.element).top})}))).getOrThunk((()=>({bounds:Tr(),optScrollEnv:E.none()})))})]])})),U=pl(A),$={maxHeightFunction:wm()},V={...u.anchors.banner(),overrides:$};l.set(B),i.add(B),qn.showWithinBounds(B,U,{anchor:V},p)}zt(v.timeout)&&v.timeout>0&&T0.setEditorTimeout(n,(()=>{k()}),v.timeout);const M=()=>{l.on((B=>{qn.reposition(B),B.hasConfigured(Wn)&&Wn.refresh(B),x(B.components())}))};return{close:k,reposition:M,text:B=>{C3.updateText(A,B)},settings:v,getEl:()=>A.element.dom,progressBar:{value:B=>{C3.updateProgress(A,B)}}}},close:v=>{v.close()},getArgs:v=>v.settings}},S3;(function(n){n[n.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",n[n.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(S3||(S3={}));var Pc=S3;const E3="tox-menu-nav__js",m_="tox-collection__item",B6="tox-swatch",P6={normal:E3,color:B6},tv="tox-collection__item--enabled",L6="tox-collection__item-icon",R0="tox-collection__item-label",I6="tox-collection__item-caret",Oh="tox-collection__item--active",F6="tox-collection__item-container",z6="tox-collection__item-container--row",H6=n=>Dt(P6,n).getOr(E3),nM=n=>n==="color"?"tox-swatches":"tox-menu",f_=n=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:nM(n),tieredMenu:"tox-tiered-menu"}),vg=n=>{const r=f_(n);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:H6(n)}},sM=(n,r,i)=>{const l=f_(i);return{tag:"div",classes:fr([[l.menu,`tox-menu-${r}-column`],n?[l.hasIcons]:[]])}},T3=[Su.parts.items({})],Nd=(n,r,i)=>{const l=f_(i);return{dom:{tag:"div",classes:fr([[l.tieredMenu]])},markers:vg(i)}},$6=ge("refetch-trigger-event"),V6=ge("redirect-menu-item-interaction"),g_="tox-menu__searcher",ov=n=>Qo(n.element,`.${g_}`).bind((r=>n.getSystem().getByDom(r).toOptional())),U6=ov,M0=n=>({fetchPattern:lt.getValue(n),selectionStart:n.element.dom.selectionStart,selectionEnd:n.element.dom.selectionEnd}),rM=n=>{const r=(u,m)=>(m.cut(),E.none()),i=(u,m)=>{const p={interactionEvent:m.event,eventType:m.event.raw.type};return Ct(u,V6,p),E.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[m_]},components:[Zm.sketch({inputClasses:[g_,"tox-textfield"],inputAttributes:{...n.placeholder.map((u=>({placeholder:n.i18n(u)}))).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:He([It(l,[Ne(ad(),(u=>{no(u,$6)})),Ne(Fl(),((u,m)=>{m.event.raw.key==="Escape"&&m.stop()}))]),ht.config({mode:"special",onLeft:r,onRight:r,onSpace:r,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[l,ht.name()]}})]}},p_="tox-collection--results__js",A3=n=>{var r;return n.dom?{...n,dom:{...n.dom,attributes:{...(r=n.dom.attributes)!==null&&r!==void 0?r:{},id:ge("aria-item-search-result-id"),"aria-selected":"false"}}}:n},Dh="Use arrow keys to navigate.",h_=(n,r)=>i=>{const l=bt(i,r);return Ke(l,(u=>({dom:n,components:u})))},b_=(n,r)=>{const i=[];let l=[];return vt(n,((u,m)=>{r(u,m)?(l.length>0&&i.push(l),l=[],($o(u.dom,"innerHtml")||u.components&&u.components.length>0)&&l.push(u)):l.push(u)})),l.length>0&&i.push(l),Ke(i,(u=>({dom:{tag:"div",classes:["tox-collection__group"]},components:u})))},x_=(n,r,i)=>Su.parts.items({preprocess:l=>{const u=Ke(l,i);return n!=="auto"&&n>1?h_({tag:"div",classes:["tox-collection__group"]},n)(u):b_(u,((m,p)=>r[p].type==="separator"))}}),v_=(n,r,i=!0)=>{return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{...(l=r,dn(l,(u=>u.type==="widget"))?{"aria-label":ya.translate(Dh)}:{})}},components:[x_(n,r,dt)]};var l},yg=n=>dn(n,(r=>"icon"in r&&r.icon!==void 0)),Lc=n=>(console.error(od(n)),console.log(n),E.none()),Yl=(n,r,i,l,u)=>{const m=(p=i,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Su.parts.items({preprocess:x=>b_(x,((v,w)=>p[w].type==="separator"))})]});var p;return{value:n,dom:m.dom,components:m.components,items:i}},nv=(n,r,i,l,u)=>{if(u.menuType==="color"){const m=(p=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"],attributes:{"aria-label":ya.translate(Dh)}},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Su.parts.items({preprocess:p!=="auto"?h_({tag:"div",classes:["tox-swatches__row"]},p):dt})]}]}))(l);return{value:n,dom:m.dom,components:m.components,items:i}}if(u.menuType==="imageselector"&&l!=="auto"){const m=(p=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[Su.parts.items({preprocess:p!=="auto"?h_({tag:"div",classes:["tox-image-selector__row"]},p):dt})]}]}))(l);return{value:n,dom:m.dom,components:m.components,items:i}}if(u.menuType==="normal"&&l==="auto"){const m=v_(l,i);return{value:n,dom:m.dom,components:m.components,items:i}}if(u.menuType==="normal"||u.menuType==="searchable"){const m=u.menuType!=="searchable"?v_(l,i):u.searchMode.searchMode==="search-with-field"?((p,x,v)=>{const w=ge("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(p===1?["tox-collection--list"]:["tox-collection--grid"])},components:[rM({i18n:ya.translate,placeholder:v.placeholder}),{dom:{tag:"div",classes:[...p===1?["tox-collection--list"]:["tox-collection--grid"],p_],attributes:{id:w}},components:[x_(p,x,A3)]}]}})(l,i,u.searchMode):((p,x)=>{const v=ge("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",p_].concat(p===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:v}},components:[x_(p,x,A3)]}})(l,i);return{value:n,dom:m.dom,components:m.components,items:i}}if(u.menuType==="listpreview"&&l!=="auto"){const m=(p=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Su.parts.items({preprocess:h_({tag:"div",classes:["tox-collection__group"]},p)})]}))(l);return{value:n,dom:m.dom,components:m.components,items:i}}return{value:n,dom:sM(r,l,u.menuType),components:T3,items:i}},ds=Rs("type"),O3=Rs("name"),y_=Rs("label"),Ym=Rs("text"),B0=Rs("title"),D3=Rs("icon"),Z6=Rs("url"),_g=Rs("value"),aM=nr("fetch"),N3=nr("getSubmenuItems"),wg=nr("onAction"),iM=nr("onItemAction"),Cg=wn("onSetup",(()=>Me)),W6=On("name"),kg=On("text"),j6=On("role"),wl=On("icon"),Nh=On("tooltip"),lM=On("chevronTooltip"),sv=On("label"),R3=On("shortcut"),cM=pr("select"),Rh=sr("active",!1),q6=sr("borderless",!1),Ic=sr("enabled",!0),rv=sr("primary",!1),M3=n=>xe("columns",n),B3=xe("meta",{}),P3=wn("onAction",Me),Sg=n=>bn("type",n),__=n=>Ws("name","name",hc((()=>ge(`${n}-name`))),Un),G6=[ds,Ym,Mi("level",["info","warn","error","success"]),D3,xe("url","")],K6=Ht(G6),dM=[ds,Ym,Ic,__("button"),wl,q6,nu("buttonType",["primary","secondary","toolbar"]),rv,bn("context","mode:design")],uM=Ht(dM),Mh=[ds,O3],Xl=Mh.concat([sv]),L3=Mh.concat([y_,Ic,bn("context","mode:design")]),Y6=Ht(L3),X6=Jc,J6=Xl.concat([M3("auto"),bn("context","mode:design")]),mM=Ht(J6),I3=td([_g,Ym,D3]),fM=Xl.concat([bn("storageKey","default"),bn("context","mode:design")]),Q6=Ht(fM),eA=Un,Bh=Ht(Xl),gM=Un,F3=Mh.concat([bn("tag","textarea"),Rs("scriptId"),Rs("scriptUrl"),pr("onFocus"),sa("settings",void 0,Ef)]),w_=Mh.concat([bn("tag","textarea"),nr("init")]),pM=ou((n=>An("customeditor.old",ci(w_),n).orThunk((()=>An("customeditor.new",ci(F3),n))))),tA=Un,Xm=[Ic,kg,j6,R3,Ws("value","value",hc((()=>ge("menuitem-value"))),li()),B3,bn("context","mode:design")],oA=Ht([ds,O3].concat(Xm)),z3=Jc,C_=[__("button"),wl,al("align","end",["start","end"]),rv,Ic,nu("buttonType",["primary","secondary"]),bn("context","mode:design")],nA=[...C_,Ym],k_=[Mi("type",["submit","cancel","custom"]),...nA],sA=[Mi("type",["menu"]),kg,Nh,wl,oa("items",oA),...C_],rA=[...C_,Mi("type",["togglebutton"]),Nh,wl,kg,sr("active",!1)],aA=ga("type",{submit:k_,cancel:k_,custom:k_,menu:sA,togglebutton:rA}),hM=Xl.concat([bn("context","mode:design")]),H3=Ht(hM),bM=ed(yp),xM=n=>[ds,Nf("columns"),n],vM=[ds,Rs("html"),al("presets","presentation",["presentation","document"]),wn("onInit",Me),sr("stretched",!1)],yM=Ht(vM),iA=Xl.concat([sr("border",!1),sr("sandboxed",!0),sr("streamContent",!1),sr("transparent",!0)]),_M=Ht(iA),av=Un,lA=Ht(Mh.concat([On("height")])),wM=Ht([Rs("url"),is("zoom"),is("cachedWidth"),is("cachedHeight")]),CM=Xl.concat([On("inputMode"),On("placeholder"),sr("maximized",!1),Ic,bn("context","mode:design")]),$3=Ht(CM),kM=Un,SM=n=>[ds,y_,n,al("align","start",["start","center","end"]),On("for")],EM=[Ym,_g],TM=[Ym,oa("items",nd(0,(()=>cA)))],cA=Sp([Ht(EM),Ht(TM)]),dA=Xl.concat([oa("items",cA),Ic,bn("context","mode:design")]),AM=Ht(dA),OM=Un,DM=Xl.concat([Rf("items",[Ym,_g]),sd("size",1),Ic,bn("context","mode:design")]),uA=Ht(DM),NM=Un,RM=Xl.concat([sr("constrain",!0),Ic,bn("context","mode:design")]),mA=Ht(RM),fA=Ht([Rs("width"),Rs("height")]),gA=Mh.concat([y_,sd("min",0),sd("max",0)]),pA=Ht(gA),V3=k1,MM=[ds,oa("header",Un),oa("cells",ed(Un))],hA=Ht(MM),BM=Xl.concat([On("placeholder"),sr("maximized",!1),Ic,bn("context","mode:design"),na("spellcheck",Jc)]),iv=Ht(BM),PM=Un,LM=[bn("buttonType","default"),On("text"),On("tooltip"),On("icon"),sa("search",!1,Sp([Jc,Ht([On("placeholder")])],(n=>Ao(n)?n?E.some({placeholder:E.none()}):E.none():E.some(n)))),nr("fetch"),wn("onSetup",(()=>Me)),bn("context","mode:design")],bA=Ht([ds,...LM]),S_=n=>An("menubutton",bA,n),U3=[Mi("type",["directory","leaf"]),B0,Rs("id"),na("menu",bA),On("customStateIcon"),On("customStateIconTooltip")],xA=Ht(U3),Z3=U3.concat([oa("children",nd(0,(()=>Of("type",{directory:vA,leaf:xA}))))]),vA=Ht(Z3),IM=Of("type",{directory:vA,leaf:xA}),E_=[ds,oa("items",IM),pr("onLeafAction"),pr("onToggleExpand"),rd("defaultExpandedIds",[],Un),On("defaultSelectedId")],yA=Ht(E_),_A=Xl.concat([al("filetype","file",["image","media","file"]),Ic,On("picker_text"),bn("context","mode:design")]),FM=Ht(_A),zM=Ht([_g,B3]),W3=n=>Ws("items","items",{tag:"required",process:{}},ed(ou((r=>An(`Checking item of ${n}`,j3,r).fold((i=>yo.error(od(i))),(i=>yo.value(i))))))),j3=kp((()=>{return Of("type",{alertbanner:K6,bar:Ht((n=W3("bar"),[ds,n])),button:uM,checkbox:Y6,colorinput:Q6,colorpicker:Bh,dropzone:H3,grid:Ht(xM(W3("grid"))),iframe:_M,input:$3,listbox:AM,selectbox:uA,sizeinput:mA,slider:pA,textarea:iv,urlinput:FM,customeditor:pM,htmlpanel:yM,imagepreview:lA,collection:mM,label:Ht(SM(W3("label"))),table:hA,tree:yA,panel:wA});var n})),HM=[ds,xe("classes",[]),oa("items",j3)],wA=Ht(HM),$M=[__("tab"),B0,oa("items",j3)],VM=[ds,Rf("tabs",$M)],UM=Ht(VM),ZM=nA,q3=aA,CA=Ht([Rs("title"),Oa("body",Of("type",{panel:wA,tabpanel:UM})),bn("size","normal"),rd("buttons",[],q3),xe("initialData",{}),wn("onAction",Me),wn("onChange",Me),wn("onSubmit",Me),wn("onClose",Me),wn("onCancel",Me),wn("onTabChange",Me)]),WM=Ht([Mi("type",["cancel","custom"]),...ZM]),jM=Ht([Rs("title"),Rs("url"),is("height"),is("width"),su("buttons",WM),wn("onAction",Me),wn("onCancel",Me),wn("onClose",Me),wn("onMessage",Me)]),T_=n=>Ot(n)?[n].concat(yn(Ir(n),T_)):io(n)?yn(n,T_):[],qM=n=>Le(n.type)&&Le(n.name),GM={checkbox:X6,colorinput:eA,colorpicker:gM,dropzone:bM,input:kM,iframe:av,imagepreview:wM,selectbox:NM,sizeinput:fA,slider:V3,listbox:OM,size:fA,textarea:PM,urlinput:zM,customeditor:tA,collection:I3,togglemenuitem:z3},kA=n=>{const r=(l=>sn(T_(l),qM))(n),i=yn(r,(l=>(u=>E.from(GM[u.type]))(l).fold((()=>[]),(u=>[Oa(l.name,u)]))));return Ht(i)},G3=n=>{var r;return{internalDialog:Aa(An("dialog",CA,n)),dataValidator:kA(n),initialData:(r=n.initialData)!==null&&r!==void 0?r:{}}},Eg={open:(n,r)=>{const i=G3(r);return n(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(n,r)=>n(Aa(An("dialog",jM,r))),redial:n=>G3(n)},SA=Ht([ds,kg]),KM=Ht([Sg("autocompleteitem"),Rh,Ic,B3,_g,kg,wl]),P0=[Ic,Nh,wl,kg,Cg,bn("context","mode:design")],EA=Ht([ds,wg,R3].concat(P0)),lv=n=>An("toolbarbutton",EA,n),K3=[Rh].concat(P0),YM=Ht(K3.concat([ds,wg,R3])),TA=n=>An("ToggleButton",YM,n),A_=[wn("predicate",Ee),al("scope","node",["node","editor"]),al("position","selection",["node","selection","line"])],XM=P0.concat([Sg("contextformbutton"),bn("align","end"),rv,wg,js("original",dt)]),JM=K3.concat([Sg("contextformbutton"),bn("align","end"),rv,wg,js("original",dt)]),AA=P0.concat([Sg("contextformbutton")]),OA=K3.concat([Sg("contextformtogglebutton")]),Y3=[sv,oa("commands",ga("type",{contextformbutton:XM,contextformtogglebutton:JM})),na("launch",ga("type",{contextformbutton:AA,contextformtogglebutton:OA})),wn("onInput",Me),wn("onSetup",Me)],QM=[...A_,...Y3,Mi("type",["contextform"]),wn("initValue",ae("")),On("placeholder")],eB=[...A_,...Y3,Mi("type",["contextsliderform"]),wn("initValue",ae(0)),wn("min",ae(0)),wn("max",ae(100))],Wi=[...A_,...Y3,Mi("type",["contextsizeinputform"]),wn("initValue",ae({width:"",height:""}))],Fc=ga("type",{contextform:QM,contextsliderform:eB,contextsizeinputform:Wi}),DA=P0.concat([Sg("contexttoolbarbutton")]),X3=Ht([Sg("contexttoolbar"),pa("launch",DA),Oa("items",Sp([Un,td([On("name"),On("label"),oa("items",Un)])]))].concat(A_)),J3=n=>({name:n.name.getOrUndefined(),label:n.label.getOrUndefined(),items:n.items}),O_=[ds,Rs("src"),On("alt"),rd("classes",[],Un)],tB=Ht(O_),NA=[ds,Ym,W6,rd("classes",["tox-collection__item-label"],Un)],cv=Ht(NA),RA=kp((()=>Of("type",{cardimage:tB,cardtext:cv,cardcontainer:D_}))),D_=Ht([ds,bn("direction","horizontal"),bn("align","left"),bn("valign","middle"),oa("items",RA)]),Q3=Ht([ds,sv,oa("items",RA),Cg,P3].concat(Xm)),MA=Ht([ds,Rh,wl,sv].concat(Xm)),Ph=[ds,Rs("fancytype"),P3],oB=[xe("initData",{})].concat(Ph),nB=[pr("select"),S1("initData",{},[sr("allowCustomColors",!0),bn("storageKey","default"),su("colors",li())])].concat(Ph),Rd=[pr("select"),ta("initData",[Nf("columns"),rd("items",[],li())])].concat(Ph),ji=ga("fancytype",{inserttable:oB,colorswatch:nB,imageselect:Rd}),dv=Ht([ds,Rh,Z6,sv,Nh].concat(Xm)),qi=Ht([ds,Rh,D3,y_,Nh,_g].concat(Xm)),sB=Ht([ds,Cg,P3,wl].concat(Xm)),kn=Ht([ds,N3,Cg,wl].concat(Xm)),rB=Ht([ds,wl,Rh,Cg,wg].concat(Xm)),Jm=Ht([wl,Nh,wn("onShow",Me),wn("onHide",Me),Cg]),uv=Ht([ds,Oa("items",Sp([td([O3,oa("items",Un)]),Un]))].concat(P0)),BA=Ht([ds,Nh,lM,wl,kg,cM,aM,Cg,al("presets","normal",["normal","color","listpreview"]),M3(1),wg,iM,bn("context","mode:design")]),N_=[kg,wl,On("tooltip"),al("buttonType","secondary",["primary","secondary"]),sr("borderless",!1),nr("onAction"),bn("context","mode:design")],R_={button:[...N_,Ym,Mi("type",["button"])],togglebutton:[...N_,sr("active",!1),Mi("type",["togglebutton"])]},aB=[Mi("type",["group"]),rd("buttons",[],ga("type",R_))],ek=ga("type",{...R_,group:aB}),iB=Ht([rd("buttons",[],ek),nr("onShow"),nr("onHide")]),M_=(n,r,i)=>{const l=Sr(n.element,"."+i);if(l.length>0){const u=el(l,(m=>{const p=m.dom.getBoundingClientRect().top,x=l[0].dom.getBoundingClientRect().top;return Math.abs(p-x)>r})).getOr(l.length);return E.some({numColumns:u,numRows:Math.ceil(l.length/u)})}return E.none()},L0=n=>((r,i)=>He([It(r,i)]))(ge("unnamed-events"),n),B_=n=>wt.config({disabled:n,disableClass:"tox-collection__item--state-disabled"}),I0=n=>wt.config({disabled:n}),Tg=n=>wt.config({disabled:n,disableClass:"tox-tbtn--disabled",useNative:!1}),mv=(n,r)=>{const i=n.getApi(r);return l=>{l(i)}},Md=(n,r)=>gn((i=>{yt(n.onBeforeSetup)&&n.onBeforeSetup(i),mv(n,i)((l=>{const u=n.onSetup(l);yt(u)&&r.set(u)}))})),Lh=(n,r)=>Fi((i=>mv(n,i)(r.get()))),tk=(n,r,i)=>Fi((l=>(i.set(lt.getValue(l)),mv(n,l)(r.get())))),PA="silver.uistate",F0="setDisabled",LA="init",lB=["switchmode",LA],z0=(n,r)=>{const i=n.mainUi.outerContainer,l=[n.mainUi.mothership,...n.uiMotherships];r===F0&&vt(l,(u=>{u.broadcastOn([Ec()],{target:i.element})})),vt(l,(u=>{u.broadcastOn([PA],r)}))},IA=(n,r)=>{n.on("init SwitchMode",(i=>{z0(r,i.type)})),n.on("DisabledStateChange",(i=>{if(!i.isDefaultPrevented()){const l=i.state?F0:LA;z0(r,l),i.state||n.nodeChanged()}})),n.on("NodeChange",(i=>{const l=n.ui.isEnabled()?i.type:F0;z0(r,l)})),A0(n)&&n.mode.set("readonly")},ws=n=>pi.config({channels:{[PA]:{onReceive:(r,i)=>{if(i===F0||i==="setEnabled")return void wt.set(r,i===F0);const{contextType:l,shouldDisable:u}=n();(l!=="mode"||Ge(lB,i))&&wt.set(r,u)}}}}),fv=(n,r)=>kc(((i,l)=>{mv(n,i)(n.onAction),n.triggersSubmenu||r!==Pc.CLOSE_ON_EXECUTE||(i.getSystem().isConnected()&&no(i,Ap()),l.stop())})),cB={[qs()]:["disabling","alloy.base.behaviour","toggling","item-events"]},H0=rc,Ag=(n,r,i,l)=>{const u=mt(Me);return{type:"item",dom:r.dom,components:H0(r.optComponents),data:n.data,eventOrder:cB,hasSubmenu:n.triggersSubmenu,itemBehaviours:He([It("item-events",[fv(n,i),Md(n,u),Lh(n,u)]),B_((()=>!n.enabled||l.checkUiComponentContext(n.context).shouldDisable)),ws((()=>l.checkUiComponentContext(n.context))),Kt.config({})].concat(n.itemBehaviours))}},Og=n=>({value:n.value,meta:{text:n.text.getOr(""),...n.meta}}),ok=(n,r)=>{var i,l;const u=Qn("div");return Ln(u,"tox-image-selector-loading-spinner"),{dom:{tag:n.tag,attributes:(i=n.attributes)!==null&&i!==void 0?i:{},classes:n.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:r},classes:["tox-image-selector-image-img"]}}]},...n.checkMark.toArray()],behaviours:He([...(l=n.behaviours)!==null&&l!==void 0?l:[],It("render-image-events",[gn((m=>{var p;p=m.element,Ln(p,"tox-image-selector-loading-spinner-wrapper"),zs(p,u),Qo(m.element,"img").each((x=>{Qu(x).catch((v=>{console.error(v)})).finally((()=>{(v=>{fn(v,"tox-image-selector-loading-spinner-wrapper"),dc(u)})(m.element)}))}))}))])])}},P_=n=>{const r=Eh.os.isMacOS()||Eh.os.isiOS(),i=r?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},l=n.split("+"),u=Ke(l,(m=>{const p=m.toLowerCase().trim();return $o(i,p)?i[p]:m}));return r?u.join(""):u.join("+")},nk=(n,r,i=[L6])=>Zi(n,{tag:"div",classes:i},r),FA=n=>({dom:{tag:"div",classes:[R0]},components:[Hn(ya.translate(n))]}),zA=(n,r)=>({dom:{tag:"div",classes:r,innerHtml:n}}),dB=(n,r)=>({dom:{tag:"div",classes:[R0]},components:[{dom:{tag:n.tag,styles:n.styles},components:[Hn(ya.translate(r))]}]}),uB=n=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Hn(P_(n))]}),sk=n=>nk("checkmark",n,["tox-collection__item-checkmark"]),L_=(n,r)=>{const i=n.map((l=>({attributes:{id:ge("menu-item"),"aria-label":ya.translate(l)}}))).getOr({});return{tag:"div",classes:[E3,m_].concat(r),...i}},Jl=n=>({dom:{tag:"label"},components:[Hn(n)]}),$0=(n,r,i,l=E.none())=>n.presets==="color"?((u,m,p)=>{const x=u.value,v=u.iconContent.map((S=>((k,A,M)=>{const B=A();return w3(k,B).or(M).getOrThunk(y3(B))})(S,m.icons,p))),w=u.ariaLabel.map((S=>({"aria-label":m.translate(S),"data-mce-name":S}))).getOr({});return{dom:(()=>{const S=B6,k=v.getOr(""),A={tag:"div",attributes:w,classes:[S]};return x==="custom"?{...A,tag:"button",classes:[...A.classes,"tox-swatches__picker-btn"],innerHtml:k}:x==="remove"?{...A,classes:[...A.classes,"tox-swatch--remove"],innerHtml:k}:ot(x)?{...A,attributes:{...A.attributes,"data-mce-color":x},styles:{"background-color":x},innerHtml:k}:A})(),optComponents:[]}})(n,r,l):n.presets==="img"?(u=>{var m,p;return{dom:L_(u.ariaLabel,["tox-collection__item-image-selector"]),optComponents:[E.some((m=u.iconContent.getOrDie(),p={tag:"div",classes:["tox-collection__item-image"],checkMark:u.checkMark},ok(p,m))),u.labelContent.map(Jl)]}})(n):((u,m,p,x)=>{const v={tag:"div",classes:[L6]},w=p?u.iconContent.map((M=>Zi(M,v,m.icons,x))).orThunk((()=>E.some({dom:v}))):E.none(),S=u.checkMark,k=E.from(u.meta).fold((()=>FA),(M=>$o(M,"style")?eo(dB,M.style):FA)),A=u.htmlContent.fold((()=>u.textContent.map(k)),(M=>E.some(zA(M,[R0]))));return{dom:L_(u.ariaLabel,[]),optComponents:[w,A,u.shortcutContent.map(uB),S,u.caret,u.labelContent.map(Jl)]}})(n,r,i,l),I_=(n,r,i)=>Dt(n,"tooltipWorker").map((l=>[Dn.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:u=>({type:"submenu",item:u,overrides:{maxHeightFunction:wm}}),mode:"follow-highlight",onShow:(u,m)=>{l((p=>{Dn.setComponents(u,[Q2({element:at(p)})])}))}})])).getOrThunk((()=>i.map((l=>[Dn.config({...r.providers.tooltips.getConfig({tooltipText:l}),mode:"follow-highlight"})])).getOr([]))),rk=(n,r)=>{const i=(l=>Vx.DOM.encode(l))(ya.translate(n));if(r.length>0){const l=new RegExp((u=>u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(r),"gi");return i.replace(l,(u=>`<span class="tox-autocompleter-highlight">${u}</span>`))}return i},ak=(n,r)=>Ke(n,(i=>{switch(i.type){case"cardcontainer":return((m,p)=>{const x=m.direction==="vertical"?"tox-collection__item-container--column":z6,v=m.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[F6,x,v,(()=>{switch(m.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:p}})(i,ak(i.items,r));case"cardimage":return((m,p,x)=>({dom:{tag:"img",classes:p,attributes:{src:m,alt:x.getOr("")}}}))(i.src,i.classes,i.alt);case"cardtext":const l=i.name.exists((m=>Ge(r.cardText.highlightOn,m))),u=l?E.from(r.cardText.matchText).getOr(""):"";return zA(rk(i.text,u),i.classes)}})),HA=(n,r,i,l,u,m,p,x=!0)=>{const v=$0({presets:i,textContent:r?n.text:E.none(),htmlContent:E.none(),labelContent:n.label,ariaLabel:n.text,iconContent:n.icon,shortcutContent:r?n.shortcut:E.none(),checkMark:r?E.some(sk(p.icons)):E.none(),caret:E.none(),value:n.value},p,x),w=n.text.filter(ae(!r)).map((S=>Dn.config(p.tooltips.getConfig({tooltipText:p.translate(S)}))));return as(Ag({context:n.context,data:Og(n),enabled:n.enabled,getApi:S=>({setActive:k=>{bo.set(S,k)},isActive:()=>bo.isOn(S),isEnabled:()=>!wt.isDisabled(S),setEnabled:k=>wt.set(S,!k)}),onAction:S=>l(n.value),onSetup:S=>(S.setActive(u),Me),triggersSubmenu:!1,itemBehaviours:[...w.toArray()]},v,m,p),{toggling:{toggleClass:tv,toggleOnExecute:!1,selected:n.active,exclusive:!0}})},ik=n=>({value:VA(n)}),lk=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,ck=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,$A=n=>lk.test(n)||ck.test(n),VA=n=>Pn(n,"#").toUpperCase(),dk=n=>{const r=n.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},gv=n=>{const r=dk(n.red)+dk(n.green)+dk(n.blue);return ik(r)},pv=(n,r,i)=>({hue:n,saturation:r,value:i}),uk=n=>{let r=0,i=0,l=0;const u=n.red/255,m=n.green/255,p=n.blue/255,x=Math.min(u,Math.min(m,p)),v=Math.max(u,Math.max(m,p));return x===v?(l=x,pv(0,0,100*l)):(r=u===x?3:p===x?1:5,r=60*(r-(u===x?m-p:p===x?u-m:p-u)/(v-x)),i=(v-x)/v,l=v,pv(Math.round(r),Math.round(100*i),Math.round(100*l)))},UA=Math.min,mk=Math.max,hv=Math.round,ZA=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,WA=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Ih=(n,r,i,l)=>({red:n,green:r,blue:i,alpha:l}),fk=n=>{const r=parseInt(n,10);return r.toString()===n&&r>=0&&r<=255},jA=n=>{let r,i,l;const u=(n.hue||0)%360;let m=n.saturation/100,p=n.value/100;if(m=mk(0,UA(m,1)),p=mk(0,UA(p,1)),m===0)return r=i=l=hv(255*p),Ih(r,i,l,1);const x=u/60,v=p*m,w=v*(1-Math.abs(x%2-1)),S=p-v;switch(Math.floor(x)){case 0:r=v,i=w,l=0;break;case 1:r=w,i=v,l=0;break;case 2:r=0,i=v,l=w;break;case 3:r=0,i=w,l=v;break;case 4:r=w,i=0,l=v;break;case 5:r=v,i=0,l=w;break;default:r=i=l=0}return r=hv(255*(r+S)),i=hv(255*(i+S)),l=hv(255*(l+S)),Ih(r,i,l,1)},Nu=n=>{const r=(m=>{const p=(v=>({value:v.value.replace(lk,((S,k,A,M)=>k+k+A+A+M+M))}))(m),x=ck.exec(p.value);return x===null?["FFFFFF","FF","FF","FF"]:x})(n),i=parseInt(r[1],16),l=parseInt(r[2],16),u=parseInt(r[3],16);return Ih(i,l,u,1)},bv=(n,r,i,l)=>{const u=parseInt(n,10),m=parseInt(r,10),p=parseInt(i,10),x=parseFloat(l);return Ih(u,m,p,x)},gk=n=>{const r=ZA.exec(n);if(r!==null)return E.some(bv(r[1],r[2],r[3],"1"));const i=WA.exec(n);return i!==null?E.some(bv(i[1],i[2],i[3],i[4])):E.none()},pk=n=>`rgba(${n.red},${n.green},${n.blue},${n.alpha})`,hk=Ih(255,0,0,1),bk=n=>gv(jA(n)),F_=(n,r)=>{n.dispatch("ResizeContent",r)},z_=(n,r)=>{n.dispatch("TextColorChange",r)},xk=(n,r)=>n.dispatch("ResolveName",{name:r.nodeName.toLowerCase(),target:r}),qA=n=>{n.dispatch("ContextToolbarClose")},H_=(n,r)=>()=>{n(),r()},za=(n,r=Ut)=>Dg(n,"NodeChange",(i=>{i.setEnabled(n.selection.isEditable()&&r())})),xv=(n,r)=>i=>{const l=za(n)(i),u=((m,p)=>x=>{const v=Yr(),w=()=>{x.setActive(m.formatter.match(p));const S=m.formatter.formatChanged(p,x.setActive);v.set(S)};return m.initialized?w():m.once("init",w),()=>{m.off("init",w),v.clear()}})(n,r)(i);return()=>{l(),u()}},Dg=(n,r,i)=>l=>{const u=()=>i(l),m=()=>{i(l),n.on(r,u)};return n.initialized?m():n.once("init",m),()=>{n.off("init",m),n.off(r,u)}},GA=n=>r=>()=>{n.undoManager.transact((()=>{n.focus(),n.execCommand("mceToggleFormat",!1,r.format)}))},Gi=(n,r)=>()=>n.execCommand(r);var Ng=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const KA={},YA=n=>Dt(KA,n).getOrThunk((()=>{const r=`tinymce-custom-colors-${n}`,i=Ng.getItem(r);if(vo(i)){const u=Ng.getItem("tinymce-custom-colors");Ng.setItem(r,ot(u)?u:"[]")}const l=((u,m=10)=>{const p=Ng.getItem(u),x=Le(p)?JSON.parse(p):[],v=m-(w=x).length<0?w.slice(0,m):w;var w;const S=k=>{v.splice(k,1)};return{add:k=>{((A,M)=>{const B=ki(A,M);return B===-1?E.none():E.some(B)})(v,k).each(S),v.unshift(k),v.length>m&&v.pop(),Ng.setItem(u,JSON.stringify(v))},state:()=>v.slice(0)}})(r,10);return KA[n]=l,l})),XA=(n,r)=>{YA(n).add(r)},vk="forecolor",yk="hilitecolor",JA=n=>{const r=[];for(let i=0;i<n.length;i+=2)r.push({text:n[i+1],value:n[i],icon:"checkmark",type:"choiceitem"});return r},Bd=n=>r=>r.options.get(n),$_="#000000",vv=(n,r)=>r===vk&&n.options.isSet("color_map_foreground")?Bd("color_map_foreground")(n):r===yk&&n.options.isSet("color_map_background")?Bd("color_map_background")(n):n.options.isSet("color_map_raw")?Bd("color_map_raw")(n):Bd("color_map")(n),_k=(n,r="default")=>Math.max(5,Math.ceil(Math.sqrt(vv(n,r).length))),QA=(n,r)=>{const i=Bd("color_cols")(n),l=_k(n,r);return i===_k(n)?l:i},eO=(n,r="default")=>Math.round(r===vk?Bd("color_cols_foreground")(n):r===yk?Bd("color_cols_background")(n):Bd("color_cols")(n)),wk=Bd("custom_colors"),mB=Bd("color_default_foreground"),fB=Bd("color_default_background"),tO=(n,r)=>{const i=at(n.selection.getStart()),l=r==="hilitecolor"?bp(i,(u=>{if($r(u)){const m=kr(u,"background-color");return gs((p=>gk(p).exists((x=>x.alpha!==0)))(m),m)}return E.none()})).getOr("rgba(0, 0, 0, 0)"):kr(i,"color");return gk(l).map((u=>"#"+gv(u).value))},yv=n=>{const r="choiceitem",i={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return n?[i,{type:r,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},Ck=(n,r,i,l)=>{i==="custom"?iO(n)((u=>{u.each((m=>{XA(r,m),n.execCommand("mceApplyTextcolor",r,m),l(m)}))}),tO(n,r).getOr($_)):i==="remove"?(l(""),n.execCommand("mceRemoveTextcolor",r)):(l(i),n.execCommand("mceApplyTextcolor",r,i))},kk=(n,r,i)=>n.concat((l=>Ke(YA(l).state(),(u=>({type:"choiceitem",text:u,icon:"checkmark",value:u}))))(r).concat(yv(i))),oO=(n,r,i)=>l=>{l(kk(n,r,i))},Sk=(n,r,i)=>{const l=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";n.setIconFill(l,i)},nO=(n,r)=>{n.setTooltip(r)},sO=(n,r)=>i=>{const l=tO(n,r);return Bn(l,i.toUpperCase())},Ek=(n,r,i)=>{if(Gd(i))return r==="forecolor"?"Text color":"Background color";const l=r==="forecolor"?"Text color {0}":"Background color {0}",u=kk(vv(n,r),r,!1),m=P(u,(p=>p.value===i)).getOr({text:""}).text;return n.translate([l,n.translate(m)])},rO=(n,r,i,l)=>{n.ui.registry.addSplitButton(r,{tooltip:Ek(n,i,l.get()),chevronTooltip:r==="forecolor"?"Text color menu":"Background color menu",presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:sO(n,i),columns:eO(n,i),fetch:oO(vv(n,i),i,wk(n)),onAction:u=>{Ck(n,i,l.get(),Me)},onItemAction:(u,m)=>{Ck(n,i,m,(p=>{l.set(p),z_(n,{name:r,color:p})}))},onSetup:u=>{Sk(u,r,l.get());const m=p=>{p.name===r&&(Sk(u,p.name,p.color),nO(u,Ek(n,i,p.color)))};return n.on("TextColorChange",m),H_(za(n)(u),(()=>{n.off("TextColorChange",m)}))}})},aO=(n,r,i,l,u)=>{n.ui.registry.addNestedMenuItem(r,{text:l,icon:r==="forecolor"?"text-color":"highlight-bg-color",onSetup:m=>(nO(m,Ek(n,i,u.get())),Sk(m,r,u.get()),za(n)(m)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:sO(n,i),initData:{storageKey:i},onAction:m=>{Ck(n,i,m.value,(p=>{u.set(p),z_(n,{name:r,color:p})}))}}]})},iO=n=>(r,i)=>{let l=!1;const u={colorpicker:i};n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:u,onAction:(m,p)=>{p.name==="hex-valid"&&(l=p.value)},onSubmit:m=>{const p=m.getData().colorpicker;l?(r(E.from(p)),m.close()):n.windowManager.alert(n.translate(["Invalid hex color code: {0}",p]))},onClose:Me,onCancel:()=>{r(E.none())}})},V_=(n,r,i,l,u,m,p,x)=>{const v=yg(r),w=gB(r,i,l,u!=="color"?"normal":"color",m,p,x);return nv(n,v,w,l,{menuType:u})},gB=(n,r,i,l,u,m,p)=>rc(Ke(n,(x=>{return x.type==="choiceitem"?(v=x,An("choicemenuitem",MA,v)).fold(Lc,(w=>E.some(HA(w,i===1,l,r,m(w.value),u,p,yg(n))))):x.type==="imageitem"?(w=>An("imagemenuitem",dv,w))(x).fold(Lc,(w=>E.some(((S,k,A,M,B)=>{const U=$0({presets:"img",textContent:E.none(),htmlContent:E.none(),ariaLabel:S.tooltip,iconContent:E.some(S.url),labelContent:S.label,shortcutContent:E.none(),checkMark:E.some(sk(B.icons)),caret:E.none(),value:S.value},B,!0),$=S.tooltip.map((V=>Dn.config(B.tooltips.getConfig({tooltipText:B.translate(V)}))));return as(Ag({context:S.context,data:Og(S),enabled:S.enabled,getApi:V=>({setActive:z=>{bo.set(V,z)},isActive:()=>bo.isOn(V),isEnabled:()=>!wt.isDisabled(V),setEnabled:z=>wt.set(V,!z)}),onAction:V=>{k(S.value),V.setActive(!0)},onSetup:V=>(V.setActive(A),Me),triggersSubmenu:!1,itemBehaviours:[...$.toArray()]},U,M,B),{toggling:{toggleClass:tv,toggleOnExecute:!1,selected:S.active,exclusive:!0}})})(w,r,m(w.value),u,p)))):x.type==="resetimage"?(w=>An("resetimageitem",qi,w))(x).fold(Lc,(w=>E.some(HA({...w,text:w.tooltip,icon:E.some(w.icon),label:E.some(w.label)},i===1,l,r,m(w.value),u,p,yg(n))))):E.none();var v}))),_v=(n,r)=>{const i=vg(r);return n===1?{mode:"menu",moveOnTab:!0}:n==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[r],previousSelector:l=>r==="color"?Qo(l.element,"[aria-checked=true]"):E.none()}},U_=ge("cell-over"),lO=ge("cell-execute"),pB=(n,r,i)=>{const l=m=>Ct(m,lO,{row:n,col:r}),u=(m,p)=>{p.stop(),l(m)};return ba({dom:{tag:"div",attributes:{role:"button","aria-label":i}},behaviours:He([It("insert-table-picker-cell",[Ne(Da(),Zt.focus),Ne(qs(),l),Ne(iu(),u),Ne(Pf(),u)]),bo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Zt.config({onFocus:m=>Ct(m,U_,{row:n,col:r})})])})},hB=n=>yn(n,(r=>Ke(r,pl))),Tk=(n,r)=>Hn(`${r}x${n}`),bB={inserttable:(n,r)=>{const i=(p=>(x,v)=>p.shared.providers.translate(["{0} columns, {1} rows",v,x]))(r),l=(p=>{const x=[];for(let v=0;v<10;v++){const w=[];for(let S=0;S<10;S++){const k=p(v+1,S+1);w.push(pB(v,S,k))}x.push(w)}return x})(i),u=Tk(0,0),m=Zo({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[u],behaviours:He([Kt.config({})])});return{type:"widget",data:{value:ge("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[T4.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:hB(l).concat(m.asSpec()),behaviours:He([It("insert-table-picker",[gn((p=>{Kt.set(m.get(p),[u])})),qp(U_,((p,x,v)=>{const{row:w,col:S}=v.event;((k,A,M)=>{for(let B=0;B<10;B++)for(let U=0;U<10;U++)bo.set(k[B][U],B<=A&&U<=M)})(l,w,S),Kt.set(m.get(p),[Tk(w+1,S+1)])})),qp(lO,((p,x,v)=>{const{row:w,col:S}=v.event;no(p,Ap()),n.onAction({numRows:w+1,numColumns:S+1})}))]),ht.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(n,r)=>{const i=((x,v)=>{const w=x.initData.allowCustomColors&&v.colorinput.hasCustomColors();return x.initData.colors.fold((()=>kk(v.colorinput.getColors(x.initData.storageKey),x.initData.storageKey,w)),(S=>S.concat(yv(w))))})(n,r),l=r.colorinput.getColorCols(n.initData.storageKey),u="color",m=V_(ge("menu-value"),i,(x=>{n.onAction({value:x})}),l,u,Pc.CLOSE_ON_EXECUTE,n.select.getOr(Ee),r.shared.providers),p={...m,markers:vg(u),movement:_v(l,u),showMenuRole:!1};return{type:"widget",data:{value:ge("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[T4.widget(Su.sketch(p))]}},imageselect:(n,r)=>{const i="imageselector",l=n.initData.columns,u=V_(ge("menu-value"),n.initData.items,(p=>{n.onAction({value:p})}),l,i,Pc.CLOSE_ON_EXECUTE,n.select.getOr(Ee),r.shared.providers),m={...u,markers:vg(i),movement:_v(l,i),showMenuRole:!1};return{type:"widget",data:{value:ge("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[T4.widget(Su.sketch(m))]}}},cO=n=>({type:"separator",dom:{tag:"div",classes:[m_,"tox-collection__group-heading"]},components:n.text.map(Hn).toArray()}),dO=(n,r,i)=>{U6(n).each((l=>{var u;((m,p)=>{$s(p.element,"id").each((x=>Vt(m.element,"aria-activedescendant",x)))})(l,i),(xs((u=r).element,p_)?E.some(u.element):Qo(u.element,"."+p_)).each((m=>{$s(m,"id").each((p=>Vt(l.element,"aria-controls",p)))}))})),Vt(i.element,"aria-selected","true")},xB=(n,r,i)=>{Vt(i.element,"aria-selected","false")},vB=n=>_s.getExistingCoupled(n,"sandbox").bind(ov).map(M0).map((r=>r.fetchPattern)).getOr("");var Z_;(function(n){n[n.ContentFocus=0]="ContentFocus",n[n.UiFocus=1]="UiFocus"})(Z_||(Z_={}));const Ak=(n,r,i,l,u)=>{const m=i.shared.providers,p=v=>u?{...v,shortcut:E.none(),icon:v.text.isSome()?E.none():v.icon}:v;switch(n.type){case"menuitem":return(x=n,An("menuitem",sB,x)).fold(Lc,(v=>E.some(((w,S,k,A=!0)=>{const M=$0({presets:"normal",iconContent:w.icon,textContent:w.text,htmlContent:E.none(),labelContent:E.none(),ariaLabel:w.text,caret:E.none(),checkMark:E.none(),shortcutContent:w.shortcut},k,A);return Ag({context:w.context,data:Og(w),getApi:B=>({isEnabled:()=>!wt.isDisabled(B),setEnabled:U=>wt.set(B,!U)}),enabled:w.enabled,onAction:w.onAction,onSetup:w.onSetup,triggersSubmenu:!1,itemBehaviours:[]},M,S,k)})(p(v),r,m,l))));case"nestedmenuitem":return(v=>An("nestedmenuitem",kn,v))(n).fold(Lc,(v=>E.some(((w,S,k,A=!0,M=!1)=>{const B=M?(U=k.icons,nk("chevron-down",U,[I6])):(V=>nk("chevron-right",V,[I6]))(k.icons);var U;const $=$0({presets:"normal",iconContent:w.icon,textContent:w.text,htmlContent:E.none(),ariaLabel:w.text,labelContent:E.none(),caret:E.some(B),checkMark:E.none(),shortcutContent:w.shortcut},k,A);return Ag({context:w.context,data:Og(w),getApi:V=>({isEnabled:()=>!wt.isDisabled(V),setEnabled:z=>wt.set(V,!z),setIconFill:(z,H)=>{Qo(V.element,`svg path[class="${z}"], rect[class="${z}"]`).each((j=>{Vt(j,"fill",H)}))},setTooltip:z=>{const H=k.translate(z);Vt(V.element,"aria-label",H)}}),enabled:w.enabled,onAction:Me,onSetup:w.onSetup,triggersSubmenu:!0,itemBehaviours:[]},$,S,k)})(p(v),r,m,l,u))));case"togglemenuitem":return(v=>An("togglemenuitem",rB,v))(n).fold(Lc,(v=>E.some(((w,S,k,A=!0)=>{const M=$0({iconContent:w.icon,textContent:w.text,htmlContent:E.none(),labelContent:E.none(),ariaLabel:w.text,checkMark:E.some(sk(k.icons)),caret:E.none(),shortcutContent:w.shortcut,presets:"normal",meta:w.meta},k,A);return as(Ag({context:w.context,data:Og(w),enabled:w.enabled,getApi:B=>({setActive:U=>{bo.set(B,U)},isActive:()=>bo.isOn(B),isEnabled:()=>!wt.isDisabled(B),setEnabled:U=>wt.set(B,!U)}),onAction:w.onAction,onSetup:w.onSetup,triggersSubmenu:!1,itemBehaviours:[]},M,S,k),{toggling:{toggleClass:tv,toggleOnExecute:!1,selected:w.active},role:w.role.getOrUndefined()})})(p(v),r,m,l))));case"separator":return(v=>An("separatormenuitem",SA,v))(n).fold(Lc,(v=>E.some(cO(v))));case"fancymenuitem":return(v=>An("fancymenuitem",ji,v))(n).fold(Lc,(v=>((w,S)=>Dt(bB,w.fancytype).map((k=>k(w,S))))(v,i)));default:return console.error("Unknown item in general menu",n),E.none()}var x},yB=(n,r,i,l,u,m,p)=>{const x=l===1,v=!x||yg(n);return rc(Ke(n,(w=>{switch(w.type){case"separator":return(S=w,An("Autocompleter.Separator",SA,S)).fold(Lc,(k=>E.some(cO(k))));case"cardmenuitem":return(k=>An("cardmenuitem",Q3,k))(w).fold(Lc,(k=>E.some(((A,M,B,U)=>{const $={dom:L_(A.label,[]),optComponents:[E.some({dom:{tag:"div",classes:[F6,z6]},components:ak(A.items,U)})]};return Ag({context:"mode:design",data:Og({text:E.none(),...A}),enabled:A.enabled,getApi:V=>({isEnabled:()=>!wt.isDisabled(V),setEnabled:z=>{wt.set(V,!z),vt(Sr(V.element,"*"),(H=>{V.getSystem().getByDom(H).each((j=>{j.hasConfigured(wt)&&wt.set(j,!z)}))}))}}),onAction:A.onAction,onSetup:A.onSetup,triggersSubmenu:!1,itemBehaviours:E.from(U.itemBehaviours).getOr([])},$,M,B.providers)})({...k,onAction:A=>{k.onAction(A),i(k.value,k.meta)}},u,m,{itemBehaviours:I_(k.meta,m,E.none()),cardText:{matchText:r,highlightOn:p}}))));default:return(k=>An("Autocompleter.Item",KM,k))(w).fold(Lc,(k=>E.some(((A,M,B,U,$,V,z,H=!0)=>{const j=$0({presets:U,textContent:E.none(),htmlContent:B?A.text.map((oe=>rk(oe,M))):E.none(),ariaLabel:A.text,labelContent:E.none(),iconContent:A.icon,shortcutContent:E.none(),checkMark:E.none(),caret:E.none(),value:A.value},z.providers,H,A.icon),K=A.text.filter((oe=>!B&&oe!==""));return Ag({context:"mode:design",data:Og(A),enabled:A.enabled,getApi:ae({}),onAction:oe=>$(A.value,A.meta),onSetup:ae(Me),triggersSubmenu:!1,itemBehaviours:I_(A,z,K)},j,V,z.providers)})(k,r,x,"normal",i,u,m,v))))}var S})))},uO=(n,r,i,l,u,m)=>{const p=yg(r),x=rc(Ke(r,(w=>{const S=k=>Ak(k,i,l,(A=>u?!$o(A,"text"):p)(k),u);return w.type==="nestedmenuitem"&&w.getSubmenuItems().length<=0?S({...w,enabled:!1}):S(w)}))),v=(w=>w.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:w})(m);return(u?Yl:nv)(n,p,x,1,v)},Ok=n=>fh.singleData(n.value,n),_B=n=>b1(at(n.startContainer),n.startOffset,at(n.endContainer),n.endOffset),wB=(n,r)=>{const i=ge("autocompleter"),l=mt(!1),u=mt(!1),m=mn(),p=ba(qn.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:i}},components:[],fireDismissalEventInstead:{},inlineBehaviours:He([It("dismissAutocompleter",[Ne(fm(),(()=>k())),Ne(Bb(),((B,U)=>{$s(U.event.target,"id").each(($=>Vt(at(n.getBody()),"aria-activedescendant",$)))}))])]),lazySink:r.getSink})),x=()=>qn.isOpen(p),v=u.get,w=()=>{if(x()){qn.hide(p),n.dom.remove(i,!1);const B=at(n.getBody());$s(B,"aria-owns").filter((U=>U===i)).each((()=>{ts(B,"aria-owns"),ts(B,"aria-activedescendant")}))}},S=()=>qn.getContent(p).bind((B=>Uu(B.components(),0))),k=()=>n.execCommand("mceAutocompleterClose"),A=B=>{const U=($=>{const V=wa($,(z=>E.from(z.columns))).getOr(1);return yn($,(z=>{const H=z.items;return yB(H,z.matchText,((j,K)=>{const oe={hide:()=>k(),reload:te=>{w(),n.execCommand("mceAutocompleterReload",!1,{fetchOptions:te})}};n.execCommand("mceAutocompleterRefreshActiveRange"),m.get().each((te=>{l.set(!0),z.onAction(oe,te,j,K),l.set(!1)}))}),V,Pc.BUBBLE_TO_SANDBOX,r,z.highlightOn)}))})(B);U.length>0?((($,V)=>{const z=wa($,(H=>E.from(H.columns))).getOr(1);qn.showMenuAt(p,{anchor:{type:"selection",getSelection:()=>m.get().map(_B),root:at(n.getBody())}},((H,j,K,oe)=>{const te=_v(j,oe),re=vg(oe);return{data:Ok({...H,movement:te,menuBehaviours:L0(j!=="auto"?[]:[gn(((pe,Ce)=>{M_(pe,4,re.item).each((({numColumns:we,numRows:Oe})=>{ht.setGridSize(pe,Oe,we)}))}))])}),menu:{markers:vg(oe),fakeFocus:K===Z_.ContentFocus}}})(nv("autocompleter-value",!0,V,z,{menuType:"normal"}),z,Z_.ContentFocus,"normal")),S().each(So.highlightFirst)})(B,U),Vt(at(n.getBody()),"aria-owns",i),n.inline||M()):w()},M=()=>{n.dom.get(i)&&n.dom.remove(i,!1);const B=n.getDoc().documentElement,U=n.selection.getNode(),$=(V=>m1(V,!0))(p.element);Qd($,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${U.offsetTop}px`,left:`${U.offsetLeft}px`}),n.dom.add(B,$.dom),Qo($,'[role="menu"]').each((V=>{_o(V,"position"),_o(V,"max-height")}))};n.on("AutocompleterStart",(({lookupData:B})=>{u.set(!0),l.set(!1),A(B)})),n.on("AutocompleterUpdate",(({lookupData:B})=>A(B))),n.on("AutocompleterUpdateActiveRange",(({range:B})=>m.set(B))),n.on("AutocompleterEnd",(()=>{w(),u.set(!1),l.set(!1),m.clear()})),((B,U)=>{const $=(z,H)=>{Ct(z,Fl(),{raw:H})},V=()=>B.getMenu().bind(So.getHighlighted);U.on("keydown",(z=>{const H=z.which;B.isActive()&&(B.isMenuOpen()?H===13?(V().each(Vp),z.preventDefault()):H===40?(V().fold((()=>{B.getMenu().each(So.highlightFirst)}),(j=>{$(j,z)})),z.preventDefault(),z.stopImmediatePropagation()):H!==37&&H!==38&&H!==39||V().each((j=>{$(j,z),z.preventDefault(),z.stopImmediatePropagation()})):H!==13&&H!==38&&H!==40||B.cancelIfNecessary())})),U.on("NodeChange",(()=>{!B.isActive()||B.isProcessingAction()||U.queryCommandState("mceAutoCompleterInRange")||B.cancelIfNecessary()}))})({cancelIfNecessary:k,isMenuOpen:x,isActive:v,isProcessingAction:l.get,getMenu:S},n)};var CB=tinymce.util.Tools.resolve("tinymce.html.Entities");const wv=(n,r,i,l)=>{const u=kB(n,r,i,l);return uo.sketch(u)},kB=(n,r,i,l)=>({dom:mO(i),components:n.toArray().concat([r]),fieldBehaviours:He(l)}),mO=n=>({tag:"div",classes:["tox-form__group"].concat(n)}),Rg=(n,r)=>uo.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Hn(r.translate(n))]}),vi=ge("form-component-change"),fO=ge("form-component-input"),Cv=ge("form-close"),Mg=ge("form-cancel"),Ru=ge("form-action"),Fh=ge("form-submit"),Dk=ge("form-block"),Nk=ge("form-unblock"),gO=ge("form-tabchange"),V0=ge("form-resize"),pO=(n,r,i)=>{const l=n.label.map((k=>Rg(k,r))),u=r.icons(),m=k=>(A,M)=>{Vs(M.event.target,"[data-collection-item-value]").each((B=>{k(A,M,B,Hs(B,"data-collection-item-value"))}))},p=m(((k,A,M,B)=>{A.stop(),r.checkUiComponentContext("mode:design").shouldDisable||r.isDisabled()||Ct(k,Ru,{name:n.name,value:B})})),x=[Ne(Da(),m(((k,A,M)=>{_n(M,!0)}))),Ne(iu(),p),Ne(Pf(),p),Ne(Bi(),m(((k,A,M)=>{Qo(k.element,"."+Oh).each((B=>{fn(B,Oh)})),Ln(M,Oh)}))),Ne(E1(),m((k=>{Qo(k.element,"."+Oh).each((A=>{fn(A,Oh),ip(A)}))}))),kc(m(((k,A,M,B)=>{Ct(k,Ru,{name:n.name,value:B})})))],v=(k,A)=>Ke(Sr(k.element,".tox-collection__item"),A),w=uo.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(n.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:dt},behaviours:He([wt.config({disabled:()=>r.checkUiComponentContext(n.context).shouldDisable,onDisabled:k=>{v(k,(A=>{Ln(A,"tox-collection__item--state-disabled"),Vt(A,"aria-disabled",!0)}))},onEnabled:k=>{v(k,(A=>{fn(A,"tox-collection__item--state-disabled"),ts(A,"aria-disabled")}))}}),ws((()=>r.checkUiComponentContext(n.context))),Kt.config({}),Dn.config({...r.tooltips.getConfig({tooltipText:"",onShow:k=>{Qo(k.element,"."+Oh+"[data-mce-tooltip]").each((A=>{$s(A,"data-mce-tooltip").each((M=>{Dn.setComponents(k,r.tooltips.getComponents({tooltipText:M}))}))}))}}),mode:"children-keyboard-focus",anchor:k=>({type:"node",node:Qo(k.element,"."+Oh).orThunk((()=>zr(".tox-collection__item"))),root:k.element,layouts:{onLtr:ae([ls,lr,Bs,Or,Ps,ir]),onRtl:ae([ls,lr,Bs,Or,Ps,ir])},bubble:Ya(0,-2,{})})}),lt.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(k,A)=>{((M,B)=>{const U=r.checkUiComponentContext("mode:design").shouldDisable||r.isDisabled()?" tox-collection__item--state-disabled":"",$=Ke(B,(H=>{const j=ya.translate(H.text),K=n.columns===1?`<div class="tox-collection__item-label">${j}</div>`:"",oe=`<div class="tox-collection__item-icon">${(pe=>{var Ce;return(Ce=u[pe])!==null&&Ce!==void 0?Ce:pe})(H.icon)}</div>`,te={_:" "," - ":" ","-":" "},re=j.replace(/\_| \- |\-/g,(pe=>te[pe]));return`<div data-mce-tooltip="${re}" class="tox-collection__item${U}" tabindex="-1" data-collection-item-value="${CB.encodeAllRaw(H.value)}" aria-label="${re}">${oe}${K}</div>`})),V=n.columns!=="auto"&&n.columns>1?bt($,n.columns):[$],z=Ke(V,(H=>`<div class="tox-collection__group">${H.join("")}</div>`));Ju(M.element,z.join(""))})(k,A),n.columns==="auto"&&M_(k,5,"tox-collection__item").each((({numRows:M,numColumns:B})=>{ht.setGridSize(k,M,B)})),no(k,V0)}}),Lo.config({}),ht.config((S=n.columns,S===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:S==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${m_}`}})),It("collection-events",x)]),eventOrder:{[qs()]:["disabling","alloy.base.behaviour","collection-events"],[Bi()]:["collection-events","tooltipping"]}});var S;return wv(l,w,["tox-form__group--collection"],[])},hO=ge("color-input-change"),bO=ge("color-swatch-change"),Rk=ge("color-picker-cancel"),Bg=()=>Bo.config({find:E.some}),Mk=n=>Bo.config({find:r=>lc(r.element,n).bind((i=>r.getSystem().getByDom(i).toOptional()))}),SB=Ht([xe("preprocess",dt),xe("postprocess",dt)]),EB=(n,r)=>{const i=ea("RepresentingConfigs.memento processors",SB,r);return lt.config({store:{mode:"manual",getValue:l=>{const u=n.get(l),m=lt.getValue(u);return i.postprocess(m)},setValue:(l,u)=>{const m=i.preprocess(u),p=n.get(l);lt.setValue(p,m)}}})},zh=(n,r,i)=>lt.config({store:{mode:"manual",...n.map((l=>({initialValue:l}))).getOr({}),getValue:r,setValue:i}}),xO=(n,r,i)=>zh(n,(l=>r(l.element)),((l,u)=>i(l.element,u))),W_=n=>lt.config({store:{mode:"memory",initialValue:n}}),Bk=ge("rgb-hex-update"),Pk=ge("slider-update"),Lk=ge("palette-update"),vO=ge("valid-input"),Ik=ge("invalid-input"),Fk=ge("validating-input"),j_="colorcustom.rgb.",yO={isEnabled:Ut,setEnabled:Me,immediatelyShow:Me,immediatelyHide:Me},TB=(n,r,i,l,u,m)=>{const p=(M,B)=>{const U=B.get();M!==U.isEnabled()&&(U.setEnabled(M),M?U.immediatelyShow():U.immediatelyHide())},x=(M,B,U)=>Sd.config({invalidClass:r("invalid"),notify:{onValidate:$=>{Ct($,Fk,{type:M})},onValid:$=>{p(!1,U),Ct($,vO,{type:M,value:lt.getValue($)})},onInvalid:$=>{p(!0,U),Ct($,Ik,{type:M,value:lt.getValue($)})}},validator:{validate:$=>{const V=lt.getValue($),z=B(V)?yo.value(!0):yo.error(n("aria.input.invalid"));return si(z)},validateOnLoad:!1}}),v=(M,B,U,$,V)=>{const z=mt(yO),H=n(j_+"range"),j=uo.parts.label({dom:{tag:"label"},components:[Hn(U)]}),K=uo.parts.field({data:V,factory:Zm,inputAttributes:{type:"text","aria-label":$,...B==="hex"?{"aria-live":"polite"}:{}},inputClasses:[r("textfield")],inputBehaviours:He([x(B,M,z),Lo.config({}),Dn.config({...u({tooltipText:"",onSetup:we=>{z.set({isEnabled:()=>Dn.isEnabled(we),setEnabled:Oe=>Dn.setEnabled(we,Oe),immediatelyShow:()=>Dn.immediateOpenClose(we,!0),immediatelyHide:()=>Dn.immediateOpenClose(we,!1)}),Dn.setEnabled(we,!1)},onShow:(we,Oe)=>{Dn.setComponents(we,[{dom:{tag:"p",classes:[r("rgb-warning-note")]},components:[Hn(n(B==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:we=>{Sd.isInvalid(we)&&Sd.run(we).get(Me)}}),oe=ge("aria-invalid"),te=Zo(m("invalid",E.some(oe),"warning")),re=[j,K,Zo({dom:{tag:"div",classes:[r("invalid-icon")]},components:[te.asSpec()]}).asSpec()],pe=B!=="hex"?[uo.parts["aria-descriptor"]({text:H})]:[],Ce=re.concat(pe);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[r("rgb-container")]},components:Ce}},w=(M,B)=>{const U=B.red,$=B.green,V=B.blue;lt.setValue(M,{red:U,green:$,blue:V})},S=Zo({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),k=(M,B)=>{S.getOpt(M).each((U=>{Z(U.element,"background-color","#"+B.value)}))};return hl({factory:()=>{const M={red:mt(E.some(255)),green:mt(E.some(255)),blue:mt(E.some(255)),hex:mt(E.some("ffffff"))},B=re=>M[re].get(),U=(re,pe)=>{M[re].set(pe)},$=re=>{const pe=re.red,Ce=re.green,we=re.blue;U("red",E.some(pe)),U("green",E.some(Ce)),U("blue",E.some(we))},V=(re,pe)=>{const Ce=pe.event;Ce.type!=="hex"?U(Ce.type,E.none()):l(re)},z=(re,pe)=>{const Ce=pe.event;(we=>we.type==="hex")(Ce)?((we,Oe)=>{i(we);const ze=ik(Oe);U("hex",E.some(ze.value));const pt=Nu(ze);w(we,pt),$(pt),Ct(we,Bk,{hex:ze}),k(we,ze)})(re,Ce.value):((we,Oe,ze)=>{const pt=parseInt(ze,10);U(Oe,E.some(pt)),B("red").bind((St=>B("green").bind((At=>B("blue").map((ro=>Ih(St,At,ro,1))))))).each((St=>{const At=((ro,Ho)=>{const nn=gv(Ho);return ph.getField(ro,"hex").each((Rt=>{Zt.isFocused(Rt)||lt.setValue(ro,{hex:nn.value})})),nn})(we,St);Ct(we,Bk,{hex:At}),k(we,At)}))})(re,Ce.type,Ce.value)},H=re=>({label:n(j_+re+".label"),description:n(j_+re+".description")}),j=H("red"),K=H("green"),oe=H("blue"),te=H("hex");return as(ph.sketch((re=>({dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":n("aria.color.picker")}},components:[re.field("red",uo.sketch(v(fk,"red",j.label,j.description,255))),re.field("green",uo.sketch(v(fk,"green",K.label,K.description,255))),re.field("blue",uo.sketch(v(fk,"blue",oe.label,oe.description,255))),re.field("hex",uo.sketch(v($A,"hex",te.label,te.description,"ffffff"))),S.asSpec()],formBehaviours:He([Sd.config({invalidClass:r("form-invalid")}),It("rgb-form-events",[Ne(vO,z),Ne(Ik,V),Ne(Fk,V)])])}))),{apis:{updateHex:(re,pe)=>{lt.setValue(re,{hex:pe.value}),((Ce,we)=>{const Oe=Nu(we);w(Ce,Oe),$(Oe)})(re,pe),k(re,pe)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(M,B,U)=>{M.updateHex(B,U)}},extraApis:{}})},AB=(n,r,i,l)=>hl({name:"ColourPicker",configFields:[Fe("dom"),xe("onValidHex",Me),xe("onInvalidHex",Me)],factory:m=>{const p=TB(n,r,m.onValidHex,m.onInvalidHex,i,l),x=((V,z)=>{const H=Gl.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[z("sv-palette-spectrum")]}}),j=Gl.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[z("sv-palette-thumb")],innerHtml:`<div class=${z("sv-palette-inner-thumb")} role="presentation"></div>`}}),K=(te,re)=>{const{width:pe,height:Ce}=te,we=te.getContext("2d");if(we===null)return;we.fillStyle=re,we.fillRect(0,0,pe,Ce);const Oe=we.createLinearGradient(0,0,pe,0);Oe.addColorStop(0,"rgba(255,255,255,1)"),Oe.addColorStop(1,"rgba(255,255,255,0)"),we.fillStyle=Oe,we.fillRect(0,0,pe,Ce);const ze=we.createLinearGradient(0,0,0,Ce);ze.addColorStop(0,"rgba(0,0,0,0)"),ze.addColorStop(1,"rgba(0,0,0,1)"),we.fillStyle=ze,we.fillRect(0,0,pe,Ce)};return hl({factory:te=>{const re=ae({x:0,y:0}),pe=He([Bo.config({find:E.some}),Zt.config({})]);return Gl.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":V(["Saturation {0}%, Brightness {1}%",0,0])},classes:[z("sv-palette")]},model:{mode:"xy",getInitialValue:re},rounded:!1,components:[H,j],onChange:(Ce,we,Oe)=>{zt(Oe)||Vt(Ce.element,"aria-valuetext",V(["Saturation {0}%, Brightness {1}%",Math.floor(Oe.x),Math.floor(100-Oe.y)])),Ct(Ce,Lk,{value:Oe})},onInit:(Ce,we,Oe,ze)=>{K(Oe.element.dom,pk(hk))},sliderBehaviours:pe})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(te,re,pe)=>{((Ce,we)=>{const Oe=Ce.components()[0].element.dom,ze=pv(we,100,100),pt=jA(ze);K(Oe,pk(pt))})(re,pe)},setThumb:(te,re,pe)=>{((Ce,we)=>{const Oe=uk(Nu(we));Gl.setValue(Ce,{x:Oe.saturation,y:100-Oe.value}),Vt(Ce.element,"aria-valuetext",V(["Saturation {0}%, Brightness {1}%",Oe.saturation,Oe.value]))})(re,pe)}},extraApis:{}})})(n,r),v={paletteRgba:mt(hk),paletteHue:mt(0)},w=Zo(((V,z)=>{const H=Gl.parts.spectrum({dom:{tag:"div",classes:[z("hue-slider-spectrum")],attributes:{role:"presentation"}}}),j=Gl.parts.thumb({dom:{tag:"div",classes:[z("hue-slider-thumb")],attributes:{role:"presentation"}}});return Gl.sketch({dom:{tag:"div",classes:[z("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ae(0)},components:[H,j],sliderBehaviours:He([Zt.config({})]),onChange:(K,oe,te)=>{Vt(K.element,"aria-valuenow",Math.floor(360-3.6*te)),Ct(K,Pk,{value:te})}})})(0,r)),S=Zo(x.sketch({})),k=Zo(p.sketch({})),A=(V,z,H)=>{S.getOpt(V).each((j=>{x.setHue(j,H)}))},M=(V,z)=>{k.getOpt(V).each((H=>{p.updateHex(H,z)}))},B=(V,z,H)=>{w.getOpt(V).each((j=>{Gl.setValue(j,(K=>100-K/360*100)(H))}))},U=(V,z)=>{S.getOpt(V).each((H=>{x.setThumb(H,z)}))},$=(V,z,H,j)=>{((K,oe)=>{const te=Nu(K);v.paletteRgba.set(te),v.paletteHue.set(oe)})(z,H),vt(j,(K=>{K(V,z,H)}))};return{uid:m.uid,dom:m.dom,components:[S.asSpec(),w.asSpec(),k.asSpec()],behaviours:He([It("colour-picker-events",[Ne(Bk,(()=>{const V=[A,B,U];return(z,H)=>{const j=H.event.hex,K=(oe=>uk(Nu(oe)))(j);$(z,j,K.hue,V)}})()),Ne(Lk,(()=>{const V=[M];return(z,H)=>{const j=H.event.value,K=v.paletteHue.get(),oe=pv(K,j.x,100-j.y),te=bk(oe);$(z,te,K,V)}})()),Ne(Pk,(()=>{const V=[A,M];return(z,H)=>{const j=(pe=>(100-pe)/100*360)(H.event.value),K=v.paletteRgba.get(),oe=uk(K),te=pv(j,oe.saturation,oe.value),re=bk(te);$(z,re,j,V)}})())]),Bo.config({find:V=>k.getOpt(V)}),ht.config({mode:"acyclic"})])}}}),OB={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var DB=tinymce.util.Tools.resolve("tinymce.Resource");const q_=n=>$o(n,"init");var Mu=tinymce.util.Tools.resolve("tinymce.util.Tools");const zk=ge("browse.files.event"),_O=(n,r,i)=>{const l=(w,S)=>{S.stop()},u=w=>(S,k)=>{vt(w,(A=>{A(S,k)}))},m=Zo({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:He([It("input-file-events",[gd(iu()),gd(Pf())])])}),p=n.label.map((w=>Rg(w,r))),x=uo.parts.field({factory:Xs,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Hn(r.translate("Browse for an image")),m.asSpec()],action:w=>{m.get(w).element.dom.click()},buttonBehaviours:He([Bg(),W_(i.getOr([])),Lo.config({}),I0((()=>r.checkUiComponentContext(n.context).shouldDisable)),ws((()=>r.checkUiComponentContext(n.context)))])}),v={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:He([wt.config({disabled:()=>r.checkUiComponentContext(n.context).shouldDisable}),ws((()=>r.checkUiComponentContext(n.context))),bo.config({toggleClass:"dragenter",toggleOnExecute:!1}),It("dropzone-events",[Ne("dragenter",u([l,bo.toggle])),Ne("dragleave",u([l,bo.toggle])),Ne("dragover",l),Ne("drop",u([l,(w,S)=>{var k;if(!wt.isDisabled(w)){const A=S.event.raw;Ct(w,zk,{files:(k=A.dataTransfer)===null||k===void 0?void 0:k.files})}}])),Ne(au(),((w,S)=>{const k=S.event.raw.target;Ct(w,zk,{files:k.files})}))])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Hn(r.translate("Drop an image here"))]},x]}]};return wv(p,v,["tox-form__group--stretched"],[It("handle-files",[Ne(zk,((w,S)=>{uo.getField(w).each((k=>{var A,M;A=k,(M=S.event.files)&&(lt.setValue(A,((B,U)=>{const $=Mu.explode(U.getOption("images_file_types"));return sn(bb(B),(V=>dn($,(z=>Qg(V.name.toLowerCase(),`.${z.toLowerCase()}`)))))})(M,r)),Ct(A,vi,{name:n.name}))}))}))])])},Hk=ge("alloy-fake-before-tabstop"),$k=ge("alloy-fake-after-tabstop"),wO=n=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:n},behaviours:He([Zt.config({ignore:!0}),Lo.config({})])}),Vk=(n,r)=>({dom:{tag:"div",classes:["tox-navobj",...n.getOr([])]},components:[wO([Hk]),r,wO([$k])],behaviours:He([Mk(1)])}),Uk=(n,r)=>{Ct(n,Fl(),{raw:{which:9,shiftKey:r}})},CO=(n,r)=>{const i=r.element;xs(i,Hk)?Uk(n,!0):xs(i,$k)&&Uk(n,!1)},kv=n=>hp(n,["."+Hk,"."+$k].join(","),Ee),G_=ge("update-dialog"),kO=ge("update-title"),SO=ge("update-body"),EO=ge("update-footer"),TO=ge("body-send-message"),K_=ge("dialog-focus-shifted"),Zk=ol().browser,Sv=Zk.isSafari(),NB=Zk.isFirefox(),AO=Sv||NB,OO=Zk.isChromium(),RB=({scrollTop:n,scrollHeight:r,clientHeight:i})=>Math.ceil(n)+i>=r,DO=(n,r)=>n.scrollTo(0,r==="bottom"?99999999:r),NO=(n,r,i)=>{const l=n.dom;E.from(l.contentDocument).fold(i,(u=>{let m=0;const p=((v,w)=>{const S=v.body;return E.from(!/^<!DOCTYPE (html|HTML)/.test(w)&&(!OO&&!Sv||ot(S)&&(S.scrollTop!==0||Math.abs(S.scrollHeight-S.clientHeight)>1))?S:v.documentElement)})(u,r).map((v=>(m=v.scrollTop,v))).forall(RB),x=()=>{const v=l.contentWindow;ot(v)&&(p?DO(v,"bottom"):!p&&AO&&m!==0&&DO(v,m))};Sv&&l.addEventListener("load",x,{once:!0}),u.open(),u.write(r),u.close(),Sv||x()}))},MB=gs(AO,Sv?500:200).map((n=>((r,i)=>{let l=null,u=null;return{cancel:()=>{Bt(l)||(clearTimeout(l),l=null,u=null)},throttle:(...m)=>{u=m,Bt(l)&&(l=setTimeout((()=>{const p=u;l=null,u=null,r.apply(null,p)}),i))}}})(NO,n))),Wk=ge("toolbar.button.execute"),Pd=ge("common-button-display-events"),jk={[qs()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[cl()]:["toolbar-button-events",Pd],[bc()]:["toolbar-button-events","dropdown-events","tooltipping"],[In()]:["focusing","alloy.base.behaviour",Pd]},qk=n=>Z(n.element,"width",kr(n.element,"width")),RO=(n,r,i)=>Zi(n,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},r),Gk=(n,r)=>RO(n,r,[]),Pg=(n,r)=>RO(n,r,[Kt.config({})]),MO=(n,r,i)=>({dom:{tag:"span",classes:[`${r}__select-label`]},components:[Hn(i.translate(n))],behaviours:He([Kt.config({})])}),Ql=ge("update-menu-text"),Qm=ge("update-menu-icon"),Kk=ge("update-tooltip-text"),Y_=(n,r,i,l)=>{const u=mt(Me),m=mt(n.tooltip),p=n.text.map(($=>Zo(MO($,r,i.providers)))),x=n.icon.map(($=>Zo(Pg($,i.providers.icons)))),v=($,V)=>{const z=lt.getValue($);return Zt.focus(z),Ct(z,"keydown",{raw:V.event.raw}),bi.close(z),E.some(!0)},w=n.role.fold((()=>({})),($=>({role:$}))),S=E.from(n.listRole).map(($=>({listRole:$}))).getOr({}),k=n.ariaLabel.fold((()=>({})),($=>({"aria-label":i.providers.translate($)}))),A=Zi("chevron-down",{tag:"div",classes:[`${r}__select-chevron`]},i.providers.icons),M=ge("common-button-display-events"),B="dropdown-events";return Zo(bi.sketch({...n.uid?{uid:n.uid}:{},...w,...S,dom:{tag:"button",classes:[r,`${r}--select`].concat(Ke(n.classes,($=>`${r}--${$}`))),attributes:{...k,...ot(l)?{"data-mce-name":l}:{}}},components:H0([x.map(($=>$.asSpec())),p.map(($=>$.asSpec())),E.some(A)]),matchWidth:!0,useMinWidth:!0,onOpen:($,V,z)=>{n.searchable&&(H=>{U6(H).each((j=>Zt.focus(j)))})(z)},dropdownBehaviours:He([...n.dropdownBehaviours,I0((()=>n.disabled||i.providers.checkUiComponentContext(n.context).shouldDisable)),ws((()=>i.providers.checkUiComponentContext(n.context))),Nx.config({}),Kt.config({}),...n.tooltip.map(($=>Dn.config(i.providers.tooltips.getConfig({tooltipText:i.providers.translate($),onShow:V=>{if(ju(m.get(),n.tooltip,((z,H)=>H!==z)).getOr(!1)){const z=i.providers.translate(m.get().getOr(""));Dn.setComponents(V,i.providers.tooltips.getComponents({tooltipText:z}))}}})))).toArray(),It(B,[Md(n,u),Lh(n,u)]),It(M,[gn((($,V)=>{n.listRole!=="listbox"&&qk($)}))]),It("update-dropdown-width-variable",[Ne(cu(),(($,V)=>bi.close($)))]),It("menubutton-update-display-text",[Ne(Ql,(($,V)=>{p.bind((z=>z.getOpt($))).each((z=>{Kt.set(z,[Hn(i.providers.translate(V.event.text))])}))})),Ne(Qm,(($,V)=>{x.bind((z=>z.getOpt($))).each((z=>{Kt.set(z,[Pg(V.event.icon,i.providers.icons)])}))})),Ne(Kk,(($,V)=>{const z=i.providers.translate(V.event.text);Vt($.element,"aria-label",z),m.set(E.some(V.event.text))}))])]),eventOrder:as(jk,{[In()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[cl()]:["toolbar-button-events",Dn.name(),B,M]}),sandboxBehaviours:He([ht.config({mode:"special",onLeft:v,onRight:v}),It("dropdown-sandbox-events",[Ne($6,(($,V)=>{(z=>{const H=lt.getValue(z),j=ov(z).map(M0);bi.refetch(H).get((()=>{const K=_s.getCoupled(H,"sandbox");j.each((oe=>ov(K).each((te=>((re,pe)=>{lt.setValue(re,pe.fetchPattern),re.element.dom.selectionStart=pe.selectionStart,re.element.dom.selectionEnd=pe.selectionEnd})(te,oe)))))}))})($),V.stop()})),Ne(V6,(($,V)=>{((z,H)=>{(j=>Ro.getState(j).bind(So.getHighlighted).bind(So.getHighlighted))(z).each((j=>{((K,oe,te,re)=>{const pe={...re,target:oe};K.getSystem().triggerEvent(te,oe,pe)})(z,j.element,H.event.eventType,H.event.interactionEvent)}))})($,V),V.stop()}))])]),lazySink:i.getSink,toggleClass:`${r}--active`,parts:{menu:{...Nd(0,n.columns,n.presets),fakeFocus:n.searchable,...n.listRole==="listbox"?{}:{onHighlightItem:dO,onCollapseMenu:($,V,z)=>{So.getHighlighted(z).each((H=>{dO($,z,H)}))},onDehighlightItem:xB}}},getAnchorOverrides:()=>({maxHeightFunction:($,V)=>{nx()($,V-10)}}),fetch:$=>Mo(eo(n.fetch,$))})).asSpec()},BO=n=>n.type==="separator",PO={type:"separator"},LO=(n,r)=>{const i=((l,u)=>{const m=qo(l,((p,x)=>(v=>Le(v))(x)?x===""?p:x==="|"?p.length>0&&!BO(p[p.length-1])?p.concat([PO]):p:$o(u,x.toLowerCase())?p.concat([u[x.toLowerCase()]]):p:p.concat([x])),[]);return m.length>0&&BO(m[m.length-1])&&m.pop(),m})(Le(n)?n.split(" "):n,r);return un(i,((l,u)=>{if((m=>$o(m,"getSubmenuItems"))(u)){const m=(x=>{const v=Dt(x,"value").getOrThunk((()=>ge("generated-menu-item")));return as({value:v},x)})(u),p=((x,v)=>{const w=x.getSubmenuItems(),S=LO(w,v);return{item:x,menus:as(S.menus,{[x.value]:S.items}),expansions:as(S.expansions,{[x.value]:x.value})}})(m,r);return{menus:as(l.menus,p.menus),items:[p.item,...l.items],expansions:as(l.expansions,p.expansions)}}return{...l,items:[u,...l.items]}}),{menus:{},expansions:{},items:[]})},U0=(n,r,i,l)=>{const u=ge("primary-menu"),m=LO(n,i.shared.providers.menuItems());if(m.items.length===0)return E.none();const p=(k=>k.search.fold((()=>({searchMode:"no-search"})),(A=>({searchMode:"search-with-field",placeholder:A.placeholder}))))(l),x=uO(u,m.items,r,i,l.isHorizontalMenu,p),v=(k=>k.search.fold((()=>({searchMode:"no-search"})),(A=>({searchMode:"search-with-results"}))))(l),w=ss(m.menus,((k,A)=>uO(A,k,r,i,!1,v))),S=as(w,Ga(u,x));return E.from(fh.tieredData(u,S,m.expansions))},X_=n=>!$o(n,"items"),IO="data-value",FO=(n,r,i,l,u)=>Ke(i,(m=>X_(m)?{type:"togglemenuitem",...u?{}:{role:"option"},text:m.text,value:m.value,active:m.value===l,onAction:()=>{lt.setValue(n,m.value),Ct(n,vi,{name:r}),Zt.focus(n)}}:{type:"nestedmenuitem",text:m.text,getSubmenuItems:()=>FO(n,r,m.items,l,u)})),Yk=(n,r)=>wa(n,(i=>X_(i)?gs(i.value===r,i):Yk(i.items,r))),zO=n=>{const r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let i=n.value.toFixed((l=n.unit)in r?r[l]:1);var l;return i.indexOf(".")!==-1&&(i=i.replace(/\.?0*$/,"")),i+n.unit},J_=n=>{const r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(n);if(r!==null){const i=parseFloat(r[1]),l=r[2];return yo.value({value:i,unit:l})}return yo.error(n)},HO=(n,r)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=u=>$o(i,u);return n.unit===r?E.some(n.value):l(n.unit)&&l(r)?i[n.unit]===i[r]?E.some(n.value):E.some(n.value/i[n.unit]*i[r]):E.none()},Q_=n=>E.none(),Ev=(n,r)=>{const i=J_(n).toOptional(),l=J_(r).toOptional();return ju(i,l,((u,m)=>HO(u,m.unit).map((p=>m.value/p)).map((p=>{return x=p,v=m.unit,w=>HO(w,v).map((S=>({value:S*x,unit:v})));var x,v})).getOr(Q_))).getOr(Q_)},ew=(n,r)=>{const i=n.label.map((A=>Rg(A,r))),l=[wt.config({disabled:()=>n.disabled||r.checkUiComponentContext(n.context).shouldDisable}),ws((()=>r.checkUiComponentContext(n.context))),ht.config({mode:"execution",useEnter:n.multiline!==!0,useControlEnter:n.multiline===!0,execute:A=>(no(A,Fh),E.some(!0))}),It("textfield-change",[Ne(ad(),((A,M)=>{Ct(A,vi,{name:n.name})})),Ne(Rb(),((A,M)=>{Ct(A,vi,{name:n.name})}))]),Lo.config({})],u=n.validation.map((A=>Sd.config({getRoot:M=>Ai(M.element),invalidClass:"tox-invalid",validator:{validate:M=>{const B=lt.getValue(M),U=A.validator(B);return si(U===!0?yo.value(B):yo.error(U))},validateOnLoad:A.validateOnLoad}}))).toArray(),m=n.placeholder.fold(ae({}),(A=>({placeholder:r.translate(A)}))),p=n.inputMode.fold(ae({}),(A=>({inputmode:A}))),x={...n.spellcheck.fold(ae({}),(A=>({spellcheck:A}))),...m,...p,"data-mce-name":n.name},v=uo.parts.field({tag:n.multiline===!0?"textarea":"input",...n.data.map((A=>({data:A}))).getOr({}),inputAttributes:x,inputClasses:[n.classname],inputBehaviours:He(fr([l,u])),selectOnFocus:!1,factory:Zm}),w=n.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[v]}:v,S=(n.flex?["tox-form__group--stretched"]:[]).concat(n.maximized?["tox-form-group--maximize"]:[]),k=[wt.config({disabled:()=>n.disabled||r.checkUiComponentContext(n.context).shouldDisable,onDisabled:A=>{uo.getField(A).each(wt.disable)},onEnabled:A=>{uo.getField(A).each(wt.enable)}}),ws((()=>r.checkUiComponentContext(n.context)))];return wv(i,w,S,k)},tw=n=>({isEnabled:()=>!wt.isDisabled(n),setEnabled:r=>wt.set(n,!r),setActive:r=>{const i=n.element;r?(Ln(i,"tox-tbtn--enabled"),Vt(i,"aria-pressed",!0)):(fn(i,"tox-tbtn--enabled"),ts(i,"aria-pressed"))},isActive:()=>xs(n.element,"tox-tbtn--enabled"),setTooltip:r=>{Ct(n,Kk,{text:r})},setText:r=>{Ct(n,Ql,{text:r})},setIcon:r=>Ct(n,Qm,{icon:r})}),Z0=(n,r,i,l,u=!0,m)=>{const p=n.buttonType==="bordered"?["bordered"]:[];return Y_({text:n.text,icon:n.icon,tooltip:n.tooltip,ariaLabel:n.tooltip,searchable:n.search.isSome(),role:l,fetch:(x,v)=>{const w={pattern:n.search.isSome()?vB(x):""};n.fetch((S=>{v(U0(S,Pc.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:n.search}))}),w,tw(x))},onSetup:n.onSetup,getApi:x=>tw(x),columns:1,presets:"normal",classes:p,dropdownBehaviours:[...u?[Lo.config({})]:[]],context:n.context},r,i.shared,m)},BB=(n,r,i)=>{const l=m=>p=>{const x=!p.isActive();p.setActive(x),m.storage.set(x),i.shared.getSink().each((v=>{r().getOpt(v).each((w=>{_n(w.element),Ct(w,Ru,{name:m.name,value:m.storage.get()})}))}))},u=m=>p=>{p.setActive(m.storage.get())};return m=>{m(Ke(n,(p=>{const x=p.text.fold((()=>({})),(v=>({text:v})));return{type:p.type,active:!1,...x,context:p.context,onAction:l(p),onSetup:u(p)}})))}},$O=n=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":n}},components:[Hn(n)]}),ow=(n,r,i)=>{n.customStateIcon.each((l=>r.push(Xk(l,i.shared.providers.icons,n.customStateIconTooltip.fold((()=>[]),(u=>[Dn.config(i.shared.providers.tooltips.getConfig({tooltipText:u}))])),["tox-icon-custom-state"]))))},nw=ge("leaf-label-event-id"),W0=({leaf:n,onLeafAction:r,visible:i,treeId:l,selectedId:u,backstage:m})=>{const p=n.menu.map((v=>Z0(v,"tox-mbtn",m,E.none(),i))),x=[$O(n.title)];return ow(n,x,m),p.each((v=>x.push(v))),Xs.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:x,role:"treeitem",action:v=>{r(n.id),v.getSystem().broadcastOn([`update-active-item-${l}`],{value:n.id})},eventOrder:{[Fl()]:[nw,"keying"]},buttonBehaviours:He([...i?[Lo.config({})]:[],bo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),pi.config({channels:{[`update-active-item-${l}`]:{onReceive:(v,w)=>{(w.value===n.id?bo.on:bo.off)(v)}}}}),It(nw,[gn(((v,w)=>{u.each((S=>{(S===n.id?bo.on:bo.off)(v)}))})),Ne(Fl(),((v,w)=>{const S=w.event.raw.code==="ArrowLeft",k=w.event.raw.code==="ArrowRight";S?(Ua(v.element,".tox-tree--directory").each((A=>{v.getSystem().getByDom(A).each((M=>{f1(A,".tox-tree--directory__label").each((B=>{M.getSystem().getByDom(B).each(Zt.focus)}))}))})),w.stop()):k&&w.stop()}))])])})},Xk=(n,r,i,l,u)=>Zi(n,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(l||[]),behaviours:i,attributes:u},r),VO=ge("directory-label-event-id"),PB=({directory:n,visible:r,noChildren:i,backstage:l})=>{const u=n.menu.map((v=>Z0(v,"tox-mbtn",l,E.none()))),m=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(p=l.shared.providers.icons,Xk("chevron-right",p,[]))]},$O(n.title)];var p;ow(n,m,l),u.each((v=>{m.push(v)}));const x=v=>{Ua(v.element,".tox-tree--directory").each((w=>{v.getSystem().getByDom(w).each((S=>{const k=!bo.isOn(S);bo.toggle(S),Ct(v,"expand-tree-node",{expanded:k,node:n.id})}))}))};return Xs.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(r?["tox-tree--directory__label--visible"]:[])},components:m,action:x,eventOrder:{[Fl()]:[VO,"keying"]},buttonBehaviours:He([...r?[Lo.config({})]:[],It(VO,[Ne(Fl(),((v,w)=>{const S=w.event.raw.code==="ArrowRight",k=w.event.raw.code==="ArrowLeft";S&&i&&w.stop(),(S||k)&&Ua(v.element,".tox-tree--directory").each((A=>{v.getSystem().getByDom(A).each((M=>{!bo.isOn(M)&&S||bo.isOn(M)&&k?(x(v),w.stop()):k&&!bo.isOn(M)&&(Ua(M.element,".tox-tree--directory").each((B=>{f1(B,".tox-tree--directory__label").each((U=>{M.getSystem().getByDom(U).each(Zt.focus)}))})),w.stop())}))}))}))])])})},LB=({children:n,onLeafAction:r,visible:i,treeId:l,expandedIds:u,selectedId:m,backstage:p})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:n.map((x=>x.type==="leaf"?W0({leaf:x,selectedId:m,onLeafAction:r,visible:i,treeId:l,backstage:p}):Jk({directory:x,expandedIds:u,selectedId:m,onLeafAction:r,labelTabstopping:i,treeId:l,backstage:p}))),behaviours:He([hi.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:i}),Kt.config({})])}),IB=ge("directory-event-id"),Jk=({directory:n,onLeafAction:r,labelTabstopping:i,treeId:l,backstage:u,expandedIds:m,selectedId:p})=>{const{children:x}=n,v=mt(m),w=m.includes(n.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[PB({directory:n,visible:i,noChildren:n.children.length===0,backstage:u}),LB({children:x,expandedIds:m,selectedId:p,onLeafAction:r,visible:w,treeId:l,backstage:u})],behaviours:He([It(IB,[gn(((S,k)=>{bo.set(S,w)})),Ne("expand-tree-node",((S,k)=>{const{expanded:A,node:M}=k.event;v.set(A?[...v.get(),M]:v.get().filter((B=>B!==M)))}))]),bo.config({...n.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(S,k)=>{const A=S.components()[1],M=(B=k,x.map((U=>U.type==="leaf"?W0({leaf:U,selectedId:p,onLeafAction:r,visible:B,treeId:l,backstage:u}):Jk({directory:U,expandedIds:v.get(),selectedId:p,onLeafAction:r,labelTabstopping:B,treeId:l,backstage:u}))));var B;k?hi.grow(A):hi.shrink(A),Kt.set(A,M)}})])}},FB=ge("tree-event-id"),sw=(n,r,i=[],l,u,m,p)=>{const x=r.fold((()=>({})),(S=>({action:S}))),v={buttonBehaviours:He([B_((()=>!n.enabled||p.checkUiComponentContext(n.context).shouldDisable)),ws((()=>p.checkUiComponentContext(n.context))),Lo.config({}),...m.map((S=>Dn.config(p.tooltips.getConfig({tooltipText:p.translate(S)})))).toArray(),It("button press",[Zp("click")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...x},w=as(v,{dom:l});return as(w,{components:u})},zB=(n,r,i,l=[],u)=>{const m={tag:"button",classes:["tox-tbtn"],attributes:{...n.tooltip.map((v=>({"aria-label":i.translate(v)}))).getOr({}),"data-mce-name":u}},p=n.icon.map((v=>Gk(v,i.icons))),x=H0([p]);return sw(n,r,l,m,x,n.tooltip,i)},Qk=n=>{switch(n){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},UO=(n,r,i,l=[],u=[])=>{const m=i.translate(n.text),p=n.icon.map((k=>Gk(k,i.icons))),x=[p.getOrThunk((()=>Hn(m)))],v=n.buttonType.getOr(n.primary||n.borderless?"primary":"secondary"),w={tag:"button",classes:[...Qk(v),...p.isSome()?["tox-button--icon"]:[],...n.borderless?["tox-button--naked"]:[],...u],attributes:{"aria-label":m,"data-mce-name":n.text}},S=n.icon.map(ae(m));return sw(n,r,l,w,x,S,i)},ZO=(n,r,i,l=[],u=[])=>{const m=UO(n,E.some(r),i,l,u);return Xs.sketch(m)},WO=(n,r)=>i=>{r==="custom"?Ct(i,Ru,{name:n,value:{}}):r==="submit"?no(i,Fh):r==="cancel"?no(i,Mg):console.error("Unknown button type: ",r)},rw=(n,r,i)=>{if(((l,u)=>u==="menu")(0,r)){const l=()=>p,u=n,m={...n,buttonType:"default",type:"menubutton",search:E.none(),onSetup:x=>(x.setEnabled(n.enabled),Me),fetch:BB(u.items,l,i)},p=Zo(Z0(m,"tox-tbtn",i,E.none(),!0,n.text.or(n.tooltip).getOrUndefined()));return p.asSpec()}if(((l,u)=>u==="custom"||u==="cancel"||u==="submit")(0,r)){const l=WO(n.name,r),u={...n,context:r==="cancel"?"any":n.context,borderless:!1};return ZO(u,l,i.shared.providers,[])}if(((l,u)=>u==="togglebutton")(0,r))return((l,u,m)=>{var p,x;const v=l.icon.map((H=>Pg(H,u.icons))).map(Zo),w=l.buttonType.getOr(l.primary?"primary":"secondary"),S={...l,name:(p=l.name)!==null&&p!==void 0?p:"",tooltip:l.tooltip,enabled:(x=l.enabled)!==null&&x!==void 0&&x},k=S.tooltip.or(l.text).map((H=>({"aria-label":u.translate(H)}))).getOr({}),A=Qk(w??"secondary"),M=l.icon.isSome()&&l.text.isSome(),B={tag:"button",classes:[...A.concat(l.icon.isSome()?["tox-button--icon"]:[]),...l.active?["tox-button--enabled"]:[],...M?["tox-button--icon-and-text"]:[]],attributes:{...k,...ot(m)?{"data-mce-name":m}:{}}},U=u.translate(l.text.getOr("")),$=Hn(U),V=[...H0([v.map((H=>H.asSpec()))]),...l.text.isSome()?[$]:[]],z=sw(S,E.some((H=>{Ct(H,Ru,{name:l.name,value:{setIcon:j=>{v.map((K=>K.getOpt(H).each((oe=>{Kt.set(oe,[Pg(j,u.icons)])}))))}}})})),[],B,V,l.tooltip,u);return Xs.sketch(z)})(n,i.shared.providers,n.text.or(n.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",r),new Error("Unknown footer button type")},jO={type:"separator"},HB=n=>({type:"menuitem",value:n.url,text:n.title,meta:{attach:n.attach},onAction:Me}),eS=(n,r)=>({type:"menuitem",value:r,text:n,meta:{attach:void 0},onAction:Me}),Ld=(n,r)=>(i=>Ke(i,HB))(((i,l)=>sn(l,(u=>u.type===i)))(n,r)),$B=n=>Ld("header",n.targets),VB=n=>Ld("anchor",n.targets),tS=n=>E.from(n.anchorTop).map((r=>eS("<top>",r))).toArray(),vr=n=>E.from(n.anchorBottom).map((r=>eS("<bottom>",r))).toArray(),oS=(n,r)=>{const i=n.toLowerCase();return sn(r,(l=>{var u;const m=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,p=(u=l.value)!==null&&u!==void 0?u:"";return Qs(m.toLowerCase(),i)||Qs(p.toLowerCase(),i)}))},qO=ge("aria-invalid"),dr=n=>(r,i,l,u,m)=>Dt(i,"name").fold((()=>n(i,u,E.none(),m)),(p=>r.field(p,n(i,u,Dt(l,p),m)))),UB={bar:dr(((n,r)=>((i,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ke(i.items,l.interpreter)}))(n,r.shared))),collection:dr(((n,r,i)=>pO(n,r.shared.providers,i))),alertbanner:dr(((n,r)=>((i,l)=>{const u=N6(i.icon,l.icons);return kd.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${i.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:i.url?void 0:u},components:i.url?[Xs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:u,attributes:{title:l.translate(i.iconTooltip)}},action:m=>Ct(m,Ru,{name:"alert-banner",value:i.url}),buttonBehaviours:He([R6()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(i.text)}}]})})(n,r.shared.providers))),input:dr(((n,r,i)=>((l,u,m)=>ew({name:l.name,multiline:!1,label:l.label,inputMode:l.inputMode,placeholder:l.placeholder,flex:!1,disabled:!l.enabled,classname:"tox-textfield",validation:E.none(),maximized:l.maximized,data:m,context:l.context,spellcheck:E.none()},u))(n,r.shared.providers,i))),textarea:dr(((n,r,i)=>((l,u,m)=>ew({name:l.name,multiline:!0,label:l.label,inputMode:E.none(),placeholder:l.placeholder,flex:!0,disabled:!l.enabled,classname:"tox-textarea",validation:E.none(),maximized:l.maximized,data:m,context:l.context,spellcheck:l.spellcheck},u))(n,r.shared.providers,i))),label:dr(((n,r,i,l)=>((u,m,p)=>{const x="tox-label",v=u.align==="center"?[`${x}--center`]:[],w=u.align==="end"?[`${x}--end`]:[],S=Zo({dom:{tag:"label",classes:[x,...v,...w]},components:[Hn(m.providers.translate(u.label))]}),k=Ke(u.items,m.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[S.asSpec(),...k],behaviours:He([Bg(),Kt.config({}),(A=E.none(),xO(A,yf,Ju)),ht.config({mode:"acyclic"}),It("label",[gn((M=>{u.for.each((B=>{p(B).each((U=>{S.getOpt(M).each(($=>{var V;const z=(V=Hs(U.element,"id"))!==null&&V!==void 0?V:ge("form-field");Vt(U.element,"id",z),Vt($.element,"for",z)}))}))}))}))])])};var A})(n,r.shared,l))),iframe:(m7=(n,r,i)=>((l,u,m)=>{const p="tox-dialog__iframe",x=l.transparent?[]:[`${p}--opaque`],v=l.border?["tox-navobj-bordered"]:[],w={...l.label.map((M=>({title:M}))).getOr({}),...m.map((M=>({srcdoc:M}))).getOr({}),...l.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},S=((M,B)=>{const U=mt(M.getOr(""));return{getValue:$=>U.get(),setValue:($,V)=>{if(U.get()!==V){const z=$.element,H=()=>Vt(z,"srcdoc",V);B?MB.fold(ae(NO),(j=>j.throttle))(z,V,H):H()}U.set(V)}}})(m,l.streamContent),k=l.label.map((M=>Rg(M,u))),A=uo.parts.field({factory:{sketch:M=>Vk(E.from(v),{uid:M.uid,dom:{tag:"iframe",attributes:w,classes:[p,...x]},behaviours:He([Lo.config({}),Zt.config({}),zh(m,S.getValue,S.setValue),pi.config({channels:{[K_]:{onReceive:(B,U)=>{U.newFocus.each(($=>{Ai(B.element).each((V=>{(lo(B.element,$)?Ln:fn)(V,"tox-navobj-bordered-focus")}))}))}}}})])})}});return wv(k,A,["tox-form__group--stretched"],[])})(n,r.shared.providers,i),(n,r,i,l,u)=>{const m=as(r,{source:"dynamic"});return dr(m7)(n,m,i,l,u)}),button:dr(((n,r)=>((i,l)=>{const u=WO(i.name,"custom");return m=E.none(),p=uo.parts.field({factory:Xs,...UO(i,E.some(u),l,[W_(""),Bg()])}),wv(m,p,[],[]);var m,p})(n,r.shared.providers))),checkbox:dr(((n,r,i)=>((l,u,m)=>{const p=k=>(k.element.dom.click(),E.some(!0)),x=uo.parts.field({factory:{sketch:dt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:He([Bg(),wt.config({disabled:()=>!l.enabled||u.checkUiComponentContext(l.context).shouldDisable,onDisabled:k=>{Ai(k.element).each((A=>Ln(A,"tox-checkbox--disabled")))},onEnabled:k=>{Ai(k.element).each((A=>fn(A,"tox-checkbox--disabled")))}}),Lo.config({}),Zt.config({}),xO(m,am,rm),ht.config({mode:"special",onEnter:p,onSpace:p,stopSpaceKeyup:!0}),It("checkbox-events",[Ne(au(),((k,A)=>{Ct(k,vi,{name:l.name})}))])])}),v=uo.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Hn(u.translate(l.label))],behaviours:He([Nx.config({})])}),w=k=>Zi(k==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+k]},u.icons),S=Zo({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[w("checked"),w("unchecked")]});return uo.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[x,S.asSpec(),v],fieldBehaviours:He([wt.config({disabled:()=>!l.enabled||u.checkUiComponentContext(l.context).shouldDisable}),ws((()=>u.checkUiComponentContext(l.context)))])})})(n,r.shared.providers,i))),colorinput:dr(((n,r,i)=>((l,u,m,p)=>{const x=uo.parts.field({factory:Zm,inputClasses:["tox-textfield"],data:p,onSetValue:k=>Sd.run(k).get(Me),inputBehaviours:He([wt.config({disabled:()=>u.providers.isDisabled()||u.providers.checkUiComponentContext(l.context).shouldDisable}),ws((()=>u.providers.checkUiComponentContext(l.context))),Lo.config({}),Sd.config({invalidClass:"tox-textbox-field-invalid",getRoot:k=>Ai(k.element),notify:{onValid:k=>{const A=lt.getValue(k);Ct(k,hO,{color:A})}},validator:{validateOnLoad:!1,validate:k=>{const A=lt.getValue(k);if(A.length===0)return si(yo.value(!0));{const M=Qn("span");Z(M,"background-color",A);const B=os(M,"background-color").fold((()=>yo.error("blah")),(U=>yo.value(A)));return si(B)}}}})]),selectOnFocus:!1}),v=l.label.map((k=>Rg(k,u.providers))),w=(k,A)=>{Ct(k,bO,{value:A})},S=Zo(((k,A)=>bi.sketch({dom:k.dom,components:k.components,toggleClass:"mce-active",dropdownBehaviours:He([I0((()=>A.providers.isDisabled()||A.providers.checkUiComponentContext(k.context).shouldDisable)),ws((()=>A.providers.checkUiComponentContext(k.context))),Nx.config({}),Lo.config({})]),layouts:k.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:A.getSink,fetch:M=>Mo((B=>k.fetch(B))).map((B=>E.from(Ok(as(V_(ge("menu-value"),B,(U=>{k.onItemAction(M,U)}),k.columns,k.presets,Pc.CLOSE_ON_EXECUTE,Ee,A.providers),{movement:_v(k.columns,k.presets)}))))),parts:{menu:Nd(0,0,k.presets)}}))({dom:{tag:"span",attributes:{"aria-label":u.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Ps,Bs,ls],onLtr:()=>[Bs,Ps,ls]},components:[],fetch:oO(m.getColors(l.storageKey),l.storageKey,m.hasCustomColors()),columns:m.getColorCols(l.storageKey),presets:"color",onItemAction:(k,A)=>{S.getOpt(k).each((M=>{A==="custom"?m.colorPicker((B=>{B.fold((()=>no(M,Rk)),(U=>{w(M,U),XA(l.storageKey,U)}))}),"#ffffff"):w(M,A==="remove"?"":A)}))},context:l.context},u));return uo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:v.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[x,S.asSpec()]}]),fieldBehaviours:He([It("form-field-events",[Ne(hO,((k,A)=>{S.getOpt(k).each((M=>{Z(M.element,"background-color",A.event.color)})),Ct(k,vi,{name:l.name})})),Ne(bO,((k,A)=>{uo.getField(k).each((M=>{lt.setValue(M,A.event.value),Bo.getCurrent(k).each(Zt.focus)}))})),Ne(Rk,((k,A)=>{uo.getField(k).each((M=>{Bo.getCurrent(k).each(Zt.focus)}))}))])])})})(n,r.shared,r.colorinput,i))),colorpicker:dr(((n,r,i)=>((l,u,m)=>{const p=w=>"tox-"+w,x=AB((w=>S=>Le(S)?w.translate(OB[S]):w.translate(S))(u),p,u.tooltips.getConfig,((w,S,k=w,A=w)=>Zi(k,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+w],attributes:{title:u.translate(A),"aria-live":"polite",...S.fold((()=>({})),(M=>({id:M})))}},u.icons))),v=Zo(x.sketch({dom:{tag:"div",classes:[p("color-picker-container")],attributes:{role:"presentation"}},onValidHex:w=>{Ct(w,Ru,{name:"hex-valid",value:!0})},onInvalidHex:w=>{Ct(w,Ru,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[v.asSpec()],behaviours:He([zh(m,(w=>{const S=v.get(w);return Bo.getCurrent(S).bind((k=>lt.getValue(k).hex)).map((k=>"#"+Pn(k,"#"))).getOr("")}),((w,S)=>{const k=E.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(S)).bind((M=>Uu(M,1))),A=v.get(w);Bo.getCurrent(A).fold((()=>{console.log("Can not find form")}),(M=>{lt.setValue(M,{hex:k.getOr("")}),ph.getField(M,"hex").each((B=>{no(B,ad())}))}))})),Bg()])}})(0,r.shared.providers,i))),dropzone:dr(((n,r,i)=>_O(n,r.shared.providers,i))),grid:dr(((n,r)=>((i,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${i.columns}col`]},components:Ke(i.items,l.interpreter)}))(n,r.shared))),listbox:dr(((n,r,i)=>((l,u,m)=>{const p=dn(l.items,(A=>!X_(A))),x=u.shared.providers,v=m.bind((A=>Yk(l.items,A))).orThunk((()=>Lr(l.items).filter(X_))),w=l.label.map((A=>Rg(A,x))),S=uo.parts.field({dom:{},factory:{sketch:A=>Y_({context:l.context,uid:A.uid,text:v.map((M=>M.text)),icon:E.none(),tooltip:E.none(),role:gs(!p,"combobox"),...p?{}:{listRole:"listbox"},ariaLabel:l.label,fetch:(M,B)=>{const U=FO(M,l.name,l.items,lt.getValue(M),p);B(U0(U,Pc.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:E.none()}))},onSetup:ae(Me),getApi:ae({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Lo.config({}),zh(v.map((M=>M.value)),(M=>Hs(M.element,IO)),((M,B)=>{Yk(l.items,B).each((U=>{Vt(M.element,IO,U.value),Ct(M,Ql,{text:U.text})}))}))]},"tox-listbox",u.shared)}}),k={dom:{tag:"div",classes:["tox-listboxfield"]},components:[S]};return uo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:fr([w.toArray(),[k]]),fieldBehaviours:He([wt.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable,onDisabled:A=>{uo.getField(A).each(wt.disable)},onEnabled:A=>{uo.getField(A).each(wt.enable)}})])})})(n,r,i))),selectbox:dr(((n,r,i)=>((l,u,m)=>{const p=Ke(l.items,(k=>({text:u.translate(k.text),value:k.value}))),x=l.label.map((k=>Rg(k,u))),v=uo.parts.field({dom:{},...m.map((k=>({data:k}))).getOr({}),selectAttributes:{size:l.size},options:p,factory:uT,selectBehaviours:He([wt.config({disabled:()=>!l.enabled||u.checkUiComponentContext(l.context).shouldDisable}),Lo.config({}),It("selectbox-change",[Ne(au(),((k,A)=>{Ct(k,vi,{name:l.name})}))])])}),w=l.size>1?E.none():E.some(Zi("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},u.icons)),S={dom:{tag:"div",classes:["tox-selectfield"]},components:fr([[v],w.toArray()])};return uo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:fr([x.toArray(),[S]]),fieldBehaviours:He([wt.config({disabled:()=>!l.enabled||u.checkUiComponentContext(l.context).shouldDisable,onDisabled:k=>{uo.getField(k).each(wt.disable)},onEnabled:k=>{uo.getField(k).each(wt.enable)}}),ws((()=>u.checkUiComponentContext(l.context)))])})})(n,r.shared.providers,i))),sizeinput:dr(((n,r)=>((i,l)=>{let u=Q_;const m=ge("ratio-event"),p=V=>Zi(V,{tag:"span",classes:["tox-icon","tox-lock-icon__"+V]},l.icons),x=()=>!i.enabled||l.checkUiComponentContext(i.context).shouldDisable,v=ws((()=>l.checkUiComponentContext(i.context))),w=i.label.getOr("Constrain proportions"),S=l.translate(w),k=jn.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":S,"data-mce-name":w}},components:[p("lock"),p("unlock")],buttonBehaviours:He([wt.config({disabled:x}),v,Lo.config({}),Dn.config(l.tooltips.getConfig({tooltipText:S}))])}),A=V=>({dom:{tag:"div",classes:["tox-form__group"]},components:V}),M=V=>uo.parts.field({factory:Zm,inputClasses:["tox-textfield"],inputBehaviours:He([wt.config({disabled:x}),v,Lo.config({}),It("size-input-events",[Ne(Bi(),((z,H)=>{Ct(z,m,{isField1:V})})),Ne(au(),((z,H)=>{Ct(z,vi,{name:i.name})}))])]),selectOnFocus:!1}),B=V=>({dom:{tag:"label",classes:["tox-label"]},components:[Hn(l.translate(V))]}),U=jn.parts.field1(A([uo.parts.label(B("Width")),M(!0)])),$=jn.parts.field2(A([uo.parts.label(B("Height")),M(!1)]));return jn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[U,$,A([B(" "),k])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(V,z,H)=>{J_(lt.getValue(V)).each((j=>{u(j).each((K=>{lt.setValue(z,zO(K))}))}))},coupledFieldBehaviours:He([wt.config({disabled:x,onDisabled:V=>{jn.getField1(V).bind(uo.getField).each(wt.disable),jn.getField2(V).bind(uo.getField).each(wt.disable),jn.getLock(V).each(wt.disable)},onEnabled:V=>{jn.getField1(V).bind(uo.getField).each(wt.enable),jn.getField2(V).bind(uo.getField).each(wt.enable),jn.getLock(V).each(wt.enable)}}),ws((()=>l.checkUiComponentContext("mode:design"))),It("size-input-events2",[Ne(m,((V,z)=>{const H=z.event.isField1,j=H?jn.getField1(V):jn.getField2(V),K=H?jn.getField2(V):jn.getField1(V),oe=j.map(lt.getValue).getOr(""),te=K.map(lt.getValue).getOr("");u=Ev(oe,te)}))])])})})(n,r.shared.providers))),slider:dr(((n,r,i)=>((l,u,m)=>{const p=Gl.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Hn(u.translate(l.label))]}),x=Gl.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),v=Gl.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Gl.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:l.min,maxX:l.max,getInitialValue:ae(m.getOrThunk((()=>(Math.abs(l.max)-Math.abs(l.min))/2)))},components:[p,x,v],sliderBehaviours:He([Bg(),Zt.config({})]),onChoose:(w,S,k)=>{Ct(w,vi,{name:l.name,value:k})},onChange:(w,S,k)=>{Ct(w,vi,{name:l.name,value:k})}})})(n,r.shared.providers,i))),urlinput:dr(((n,r,i)=>((l,u,m,p)=>{const x=u.shared.providers,v=z=>{const H=lt.getValue(z);m.addToHistory(H.value,l.filetype)},w={...p.map((z=>({initialData:z}))).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":qO,type:"url"},minChars:0,responseTime:0,fetch:z=>{const H=((K,oe,te)=>{var re,pe;const Ce=lt.getValue(oe),we=(pe=(re=Ce?.meta)===null||re===void 0?void 0:re.text)!==null&&pe!==void 0?pe:Ce.value;return te.getLinkInformation().fold((()=>[]),(Oe=>{const ze=oS(we,(St=>Ke(St,(At=>eS(At,At))))(te.getHistory(K)));return K==="file"?(pt=[ze,oS(we,$B(Oe)),oS(we,fr([tS(Oe),VB(Oe),vr(Oe)]))],qo(pt,((St,At)=>St.length===0||At.length===0?St.concat(At):St.concat(jO,At)),[])):ze;var pt}))})(l.filetype,z,m),j=U0(H,Pc.BUBBLE_TO_SANDBOX,u,{isHorizontalMenu:!1,search:E.none()});return si(j)},getHotspot:z=>$.getOpt(z),onSetValue:(z,H)=>{z.hasConfigured(Sd)&&Sd.run(z).get(Me)},typeaheadBehaviours:He([...m.getValidationHandler().map((z=>Sd.config({getRoot:H=>Ai(H.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(H,j)=>{A.getOpt(H).each((K=>{Vt(K.element,"title",x.translate(j))}))}},validator:{validate:H=>{const j=lt.getValue(H);return Fr((K=>{z({type:l.filetype,url:j.value},(oe=>{if(oe.status==="invalid"){const te=yo.error(oe.message);K(te)}else{const te=yo.value(oe.message);K(te)}}))}))},validateOnLoad:!1}}))).toArray(),wt.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable}),Lo.config({}),It("urlinput-events",[Ne(ad(),(z=>{const H=Ds(z.element),j=H.trim();j!==H&&Wa(z.element,j),l.filetype==="file"&&Ct(z,vi,{name:l.name})})),Ne(au(),(z=>{Ct(z,vi,{name:l.name}),v(z)})),Ne(Rb(),(z=>{Ct(z,vi,{name:l.name}),v(z)}))])]),eventOrder:{[ad()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:z=>z.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:u.shared.getSink,parts:{menu:Nd(0,0,"normal")},onExecute:(z,H,j)=>{Ct(H,Fh,{})},onItemExecute:(z,H,j,K)=>{v(z),Ct(z,vi,{name:l.name})}},S=uo.parts.field({...w,factory:VR}),k=l.label.map((z=>Rg(z,x))),A=Zo(((z,H,j=z,K=z)=>Zi(j,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+z],attributes:{title:x.translate(K),"aria-live":"polite",...H.fold((()=>({})),(oe=>({id:oe})))}},x.icons))("invalid",E.some(qO),"warning")),M=Zo({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[A.asSpec()]}),B=m.getUrlPicker(l.filetype),U=ge("browser.url.event"),$=Zo({dom:{tag:"div",classes:["tox-control-wrap"]},components:[S,M.asSpec()],behaviours:He([wt.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable})])}),V=Zo(ZO({context:l.context,name:l.name,icon:E.some("browse"),text:l.picker_text.or(l.label).getOr(""),enabled:l.enabled,primary:!1,buttonType:E.none(),borderless:!0},(z=>no(z,U)),x,[],["tox-browse-url"]));return uo.sketch({dom:mO([]),components:k.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:fr([[$.asSpec()],B.map((()=>V.asSpec())).toArray()])}]),fieldBehaviours:He([wt.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable,onDisabled:z=>{uo.getField(z).each(wt.disable),V.getOpt(z).each(wt.disable)},onEnabled:z=>{uo.getField(z).each(wt.enable),V.getOpt(z).each(wt.enable)}}),ws((()=>x.checkUiComponentContext(l.context))),It("url-input-events",[Ne(U,(z=>{Bo.getCurrent(z).each((H=>{const j=lt.getValue(H),K={fieldname:l.name,...j};B.each((oe=>{oe(K).get((te=>{lt.setValue(H,te),Ct(z,vi,{name:l.name})}))}))}))}))])])})})(n,r,r.urlinput,i))),customeditor:dr((n=>{const r=mn(),i=Zo({dom:{tag:n.tag}}),l=mn(),u=!q_(n)&&n.onFocus.isSome()?[Zt.config({onFocus:m=>{n.onFocus.each((p=>{p(m.element.dom)}))}}),Lo.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:He([It("custom-editor-events",[gn((m=>{i.getOpt(m).each((p=>{(q_(n)?n.init(p.element.dom):DB.load(n.scriptId,n.scriptUrl).then((x=>x(p.element.dom,n.settings)))).then((x=>{l.on((v=>{x.setValue(v)})),l.clear(),r.set(x)}))}))}))]),zh(E.none(),(()=>r.get().fold((()=>l.get().getOr("")),(m=>m.getValue()))),((m,p)=>{r.get().fold((()=>l.set(p)),(x=>x.setValue(p)))})),Bg()].concat(u)),components:[i.asSpec()]}})),htmlpanel:dr(((n,r)=>((i,l)=>{const u=["tox-form__group",...i.stretched?["tox-form__group--stretched"]:[]],m=It("htmlpanel",[gn((p=>{i.onInit(p.element.dom)}))]);return i.presets==="presentation"?kd.sketch({dom:{tag:"div",classes:u,innerHtml:i.html},containerBehaviours:He([Dn.config({...l.tooltips.getConfig({tooltipText:"",onShow:p=>{Qo(p.element,"[data-mce-tooltip]:hover").orThunk((()=>Vr(p.element))).each((x=>{$s(x,"data-mce-tooltip").each((v=>{Dn.setComponents(p,l.tooltips.getComponents({tooltipText:v}))}))}))}}),mode:"children-normal",anchor:p=>({type:"node",node:Qo(p.element,"[data-mce-tooltip]:hover").orThunk((()=>Vr(p.element).filter((x=>$s(x,"data-mce-tooltip").isSome())))),root:p.element,layouts:{onLtr:ae([ls,lr,Bs,Or,Ps,ir]),onRtl:ae([ls,lr,Bs,Or,Ps,ir])},bubble:Ya(0,-2,{})})}),m])}):kd.sketch({dom:{tag:"div",classes:u,innerHtml:i.html,attributes:{role:"document"}},containerBehaviours:He([Lo.config({}),Zt.config({}),m])})})(n,r.shared.providers))),imagepreview:dr(((n,r,i)=>((l,u)=>{const m=mt(u.getOr({url:""})),p=Zo({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:u.map((S=>({src:S.url}))).getOr({})}}),x=Zo({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[p.asSpec()]}),v={};l.height.each((S=>v.height=S));const w=u.map((S=>({url:S.url,zoom:E.from(S.zoom),cachedWidth:E.from(S.cachedWidth),cachedHeight:E.from(S.cachedHeight)})));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:v,attributes:{role:"presentation"}},components:[x.asSpec()],behaviours:He([Bg(),zh(w,(()=>m.get()),((S,k)=>{const A={url:k.url};k.zoom.each((B=>A.zoom=B)),k.cachedWidth.each((B=>A.cachedWidth=B)),k.cachedHeight.each((B=>A.cachedHeight=B)),m.set(A);const M=()=>{const{cachedWidth:B,cachedHeight:U,zoom:$}=A;if(!ao(B)&&!ao(U)){if(ao($)){const z=((H,j,K)=>{const oe=Fn(H),te=Os(H);return Math.min(oe/j,te/K,1)})(S.element,B,U);A.zoom=z}const V=((z,H,j,K,oe)=>{const te=j*oe,re=K*oe,pe=Math.max(0,z/2-te/2),Ce=Math.max(0,H/2-re/2);return{left:pe.toString()+"px",top:Ce.toString()+"px",width:te.toString()+"px",height:re.toString()+"px"}})(Fn(S.element),Os(S.element),B,U,A.zoom);x.getOpt(S).each((z=>{Qd(z.element,V)}))}};p.getOpt(S).each((B=>{const U=B.element;k.url!==Hs(U,"src")&&(Vt(U,"src",k.url),fn(S.element,"tox-imagepreview__loaded")),M(),Qu(U).then(($=>{S.getSystem().isConnected()&&(Ln(S.element,"tox-imagepreview__loaded"),A.cachedWidth=$.dom.naturalWidth,A.cachedHeight=$.dom.naturalHeight,M())}))}))}))])}})(n,i))),table:dr(((n,r)=>((i,l)=>{const u=x=>({dom:{tag:"td",innerHtml:l.translate(x)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(p=i.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ke(p,(x=>({dom:{tag:"th",innerHtml:l.translate(x)}})))}]}),(m=i.cells,{dom:{tag:"tbody"},components:Ke(m,(x=>({dom:{tag:"tr"},components:Ke(x,u)})))})],behaviours:He([Lo.config({}),Zt.config({})])};var m,p})(n,r.shared.providers))),tree:dr(((n,r)=>((i,l)=>{const u=i.onLeafAction.getOr(Me),m=i.onToggleExpand.getOr(Me),p=i.defaultExpandedIds,x=mt(p),v=mt(i.defaultSelectedId),w=ge("tree-id"),S=(k,A)=>i.items.map((M=>M.type==="leaf"?W0({leaf:M,selectedId:k,onLeafAction:u,visible:!0,treeId:w,backstage:l}):Jk({directory:M,selectedId:k,onLeafAction:u,expandedIds:A,labelTabstopping:!0,treeId:w,backstage:l})));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:S(v.get(),x.get()),behaviours:He([ht.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),It(FB,[Ne("expand-tree-node",((k,A)=>{const{expanded:M,node:B}=A.event;x.set(M?[...x.get(),B]:x.get().filter((U=>U!==B))),m(x.get(),{expanded:M,node:B})}))]),pi.config({channels:{[`update-active-item-${w}`]:{onReceive:(k,A)=>{v.set(E.some(A.value)),Kt.set(k,S(E.some(A.value),x.get()))}}}}),Kt.config({})])}})(n,r))),panel:dr(((n,r)=>((i,l)=>({dom:{tag:"div",classes:i.classes},components:Ke(i.items,l.shared.interpreter)}))(n,r)))},ZB={field:(n,r)=>r,record:ae([])},GO=(n,r,i,l,u)=>{const m=as(l,{shared:{interpreter:p=>nS(n,p,i,m,u)}});return nS(n,r,i,m,u)},nS=(n,r,i,l,u)=>Dt(UB,r.type).fold((()=>(console.error(`Unknown factory type "${r.type}", defaulting to container: `,r),r)),(m=>m(n,r,i,l,u))),KO=(n,r,i,l)=>nS(ZB,n,r,i,l),Tv={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},WB=(n,r,i)=>{const l={maxHeightFunction:wm()};return()=>i()?{type:"node",root:Xu(er(n())),node:E.from(n()),bubble:Ya(12,12,Tv),layouts:{onRtl:()=>[_m],onLtr:()=>[$f]},overrides:l}:{type:"hotspot",hotspot:r(),bubble:Ya(-12,12,Tv),layouts:{onRtl:()=>[Bs,Ps,ls],onLtr:()=>[Ps,Bs,ls]},overrides:l}},jB=(n,r,i,l)=>{const u={maxHeightFunction:wm()};return()=>l()?{type:"node",root:Xu(er(r())),node:E.from(r()),bubble:Ya(12,12,Tv),layouts:{onRtl:()=>[ui],onLtr:()=>[ui]},overrides:u}:n?{type:"node",root:Xu(er(r())),node:E.from(r()),bubble:Ya(0,-sl(r()),Tv),layouts:{onRtl:()=>[lr],onLtr:()=>[lr]},overrides:u}:{type:"hotspot",hotspot:i(),bubble:Ya(0,0,Tv),layouts:{onRtl:()=>[lr],onLtr:()=>[lr]},overrides:u}},qB=(n,r,i)=>()=>i()?{type:"node",root:Xu(er(n())),node:E.from(n()),layouts:{onRtl:()=>[ui],onLtr:()=>[ui]}}:{type:"hotspot",hotspot:r(),layouts:{onRtl:()=>[ls],onLtr:()=>[ls]}},GB=(n,r)=>()=>({type:"selection",root:r(),getSelection:()=>{const i=n.selection.getRng(),l=n.model.table.getSelectedCells();if(l.length>1){const u=l[0],m=l[l.length-1],p={firstCell:at(u),lastCell:at(m)};return E.some(p)}return E.some(Pl.range(at(i.startContainer),i.startOffset,at(i.endContainer),i.endOffset))}}),KB=n=>r=>({type:"node",root:n(),node:r}),YB=(n,r,i,l)=>{const u=Th(n),m=()=>at(n.getBody()),p=()=>at(n.getContentAreaContainer()),x=()=>u||!l();return{inlineDialog:WB(p,r,x),inlineBottomDialog:jB(n.inline,p,i,x),banner:qB(p,r,x),cursor:GB(n,m),node:KB(m)}},XB=n=>(r,i)=>{iO(n)(r,i)},JB=n=>()=>wk(n),QB=n=>r=>vv(n,r),eP=n=>r=>eO(n,r),tP=n=>()=>l6(n),YO=n=>$n(n,"items"),XO=n=>$n(n,"format"),JO=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],QO=n=>qo(n,((r,i)=>{if($o(i,"items")){const l=QO(i.items);return{customFormats:r.customFormats.concat(l.customFormats),formats:r.formats.concat([{title:i.title,items:l.formats}])}}if($o(i,"inline")||(l=>$o(l,"block"))(i)||(l=>$o(l,"selector"))(i)){const l=`custom-${Le(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:r.customFormats.concat([{name:l,format:i}]),formats:r.formats.concat([{title:i.title,format:l,icon:i.icon}])}}return{...r,formats:r.formats.concat(i)}}),{customFormats:[],formats:[]}),e7=n=>Y4(n).map((r=>{const i=((l,u)=>{const m=QO(u),p=x=>{vt(x,(v=>{l.formatter.has(v.name)||l.formatter.register(v.name,v.format)}))};return l.formatter?p(m.customFormats):l.on("init",(()=>{p(m.customFormats)})),m.formats})(n,r);return Ou(n)?JO.concat(i):i})).getOr(JO),sS=(n,r,i)=>({...n,type:"formatter",isSelected:r(n.format),getStylePreview:i(n.format)}),t7=(n,r,i,l)=>{const u=m=>Ke(m,(p=>YO(p)?(x=>{const v=u(x.items);return{...x,type:"submenu",getStyleItems:ae(v)}})(p):XO(p)?(x=>sS(x,i,l))(p):(x=>{const v=Go(x);return v.length===1&&Ge(v,"title")})(p)?{...p,type:"separator"}:(x=>{const v=Le(x.name)?x.name:ge(x.title),w=`custom-${v}`,S={...x,type:"formatter",format:w,isSelected:i(w),getStylePreview:l(w)};return n.formatter.register(v,S),S})(p)));return u(r)},o7=n=>{let r=0;const i=l=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Hn(l.tooltipText)]}];return{getConfig:l=>({delayForShow:()=>r>0?60:300,delayForHide:ae(300),exclusive:!0,lazySink:n,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:i(l),onShow:(u,m)=>{r++,l.onShow&&l.onShow(u,m)},onHide:(u,m)=>{r--,l.onHide&&l.onHide(u,m)},onSetup:l.onSetup}),getComponents:i}},oP=Mu.trim,rS=n=>r=>!!((i=>ot(i)&&i.nodeType===1)(r)&&(r.contentEditable===n||r.getAttribute("data-mce-contenteditable")===n)),nP=rS("true"),n7=rS("false"),s7=(n,r,i,l,u)=>({type:n,title:r,url:i,level:l,attach:u}),r7=n=>n.innerText||n.textContent,sP=n=>(r=>r&&r.nodeName==="A"&&(r.id||r.name)!==void 0)(n)&&i7(n),a7=n=>n&&/^(H[1-6])$/.test(n.nodeName),i7=n=>(r=>{let i=r;for(;i=i.parentNode;){const l=i.contentEditable;if(l&&l!=="inherit")return nP(i)}return!1})(n)&&!n7(n),rP=n=>a7(n)&&i7(n),aP=n=>{var r;const i=(l=>l.id?l.id:ge("h"))(n);return s7("header",(r=r7(n))!==null&&r!==void 0?r:"","#"+i,(l=>a7(l)?parseInt(l.nodeName.substr(1),10):0)(n),(()=>{n.id=i}))},iP=n=>{const r=n.id||n.name,i=r7(n);return s7("anchor",i||"#"+r,"#"+r,0,Me)},lP=n=>oP(n.title).length>0,cP=n=>{const r=(i=>Ke(Sr(at(i),"h1,h2,h3,h4,h5,h6,a:not([href])"),(u=>u.dom)))(n);return sn((i=>Ke(sn(i,rP),aP))(r).concat((i=>Ke(sn(i,sP),iP))(r)),lP)},aw="tinymce-url-history",l7=n=>Le(n)&&/^https?/.test(n),c7=n=>Ot(n)&&Wu(n,(r=>{return!(io(i=r)&&i.length<=5&&Uc(i,l7));var i})).isNone(),aS=()=>{const n=Ng.getItem(aw);if(n===null)return{};let r;try{r=JSON.parse(n)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+aw+" was not valid JSON",i),{};throw i}return c7(r)?r:(console.log("Local storage "+aw+" was not valid format",r),{})},dP=n=>{const r=aS();return Dt(r,n).getOr([])},uP=(n,r)=>{if(!l7(n))return;const i=aS(),l=Dt(i,r).getOr([]),u=sn(l,(m=>m!==n));i[r]=[n].concat(u).slice(0,5),(m=>{if(!c7(m))throw new Error(`Bad format for history:
`+JSON.stringify(m));Ng.setItem(aw,JSON.stringify(m))})(i)},d7=n=>!!n,mP=n=>ss(Mu.makeMap(n,/[, ]/),d7),iS=n=>E.from(qx(n)),iw=n=>E.from(n).filter(Le).getOrUndefined(),lw=n=>({getHistory:dP,addToHistory:uP,getLinkInformation:()=>(r=>t3(r)?E.some({targets:cP(r.getBody()),anchorTop:iw(o3(r)),anchorBottom:iw(n3(r))}):E.none())(n),getValidationHandler:()=>(r=>E.from(Q4(r)))(n),getUrlPicker:r=>((i,l)=>((u,m)=>{const p=(x=>{const v=E.from(e3(x)).filter(d7).map(mP);return iS(x).fold(Ee,(w=>v.fold(Ut,(S=>Go(S).length>0&&S))))})(u);return Ao(p)?p?iS(u):E.none():p[m]?iS(u):E.none()})(i,l).map((u=>m=>Mo((p=>{const x={filetype:l,fieldname:m.fieldname,...E.from(m.meta).getOr({})};u.call(i,((v,w)=>{if(!Le(v))throw new Error("Expected value to be string");if(w!==void 0&&!Ot(w))throw new Error("Expected meta to be a object");p({value:v,meta:w})}),m.value,x)})))))(n,r)}),fP={skipFocus:"ToggleToolbarDrawer skipFocus is deprecated see migration guide: https://www.tiny.cloud/docs/tinymce/latest/migration-from-7x/"},cw=Me,gP=Ee,u7=ae([]);var m7,pP=Object.freeze({__proto__:null,setup:cw,isDocked:gP,getBehaviours:u7});const f7=ae(ge("toolbar-height-change")),ec={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},Hh="tox-tinymce--toolbar-sticky-on",lS="tox-tinymce--toolbar-sticky-off",Av=(n,r)=>Ge(Wn.getModes(n),r),cS=n=>{const r=n.element;Ai(r).each((i=>{const l="padding-"+Wn.getModes(n)[0];if(Wn.isDocked(n)){const u=Fn(i);Z(r,"width",u+"px"),Z(i,l,(m=>sl(m)+(parseInt(kr(m,"margin-top"),10)||0)+(parseInt(kr(m,"margin-bottom"),10)||0))(r)+"px")}else _o(r,"width"),_o(i,l)}))},g7=(n,r)=>{r?(fn(n,ec.fadeOutClass),Di(n,[ec.transitionClass,ec.fadeInClass])):(fn(n,ec.fadeInClass),Di(n,[ec.fadeOutClass,ec.transitionClass]))},p7=(n,r)=>{const i=at(n.getContainer());r?(Ln(i,Hh),fn(i,lS)):(Ln(i,lS),fn(i,Hh))},h7=(n,r)=>{const i=mn(),l=r.getSink,u=x=>{l().each((v=>x(v.element)))},m=x=>{n.inline||cS(x),p7(n,Wn.isDocked(x)),x.getSystem().broadcastOn([hu()],{}),l().each((v=>v.getSystem().broadcastOn([hu()],{})))},p=n.inline?[]:[pi.config({channels:{[f7()]:{onReceive:cS}}})];return[Zt.config({}),Wn.config({contextual:{lazyContext:x=>{const v=sl(x.element),w=n.inline?n.getContentAreaContainer():n.getContainer();return E.from(w).map((S=>{const k=Us(at(S));return qm(n,x.element).fold((()=>{const A=k.height-v,M=k.y+(Av(x,"top")?0:v);return Ns(k.x,M,k.width,A)}),(A=>{const M=ai(k,xg(A)),B=Av(x,"top")?M.y:M.y+v;return Ns(M.x,B,M.width,M.height-v)}))}))},onShow:()=>{u((x=>g7(x,!0)))},onShown:x=>{u((v=>Zr(v,[ec.transitionClass,ec.fadeInClass]))),i.get().each((v=>{((w,S)=>{const k=Dl(S);Ml(k).filter((A=>!lo(S,A))).filter((A=>lo(A,at(k.dom.body))||pf(w,A))).each((()=>_n(S)))})(x.element,v),i.clear()}))},onHide:x=>{((v,w)=>Vr(v).orThunk((()=>w().toOptional().bind((S=>Vr(S.element))))))(x.element,l).fold(i.clear,i.set),u((v=>g7(v,!1)))},onHidden:()=>{u((x=>Zr(x,[ec.transitionClass])))},...ec},lazyViewport:x=>qm(n,x.element).fold((()=>{const v=Tr(),w=a6(n),S=v.y+(Av(x,"top")&&!b6(n)?w:0),k=v.height-(Av(x,"bottom")?w:0);return{bounds:Ns(v.x,S,v.width,k),optScrollEnv:E.none()}}),(v=>({bounds:xg(v),optScrollEnv:E.some({currentScrollTop:v.element.dom.scrollTop,scrollElmTop:Va(v.element).top})}))),modes:[r.header.getDockingMode()],onDocked:m,onUndocked:m}),...p]};var hP=Object.freeze({__proto__:null,setup:(n,r,i)=>{n.inline||(r.header.isPositionedAtTop()||n.on("ResizeEditor",(()=>{i().each(Wn.reset)})),n.on("ResizeWindow ResizeEditor",(()=>{i().each(cS)})),n.on("SkinLoaded",(()=>{i().each((l=>{Wn.isDocked(l)?Wn.reset(l):Wn.refresh(l)}))})),n.on("FullscreenStateChanged",(()=>{i().each(Wn.reset)}))),n.on("AfterScrollIntoView",(l=>{i().each((u=>{Wn.refresh(u);const m=u.element;tm(m)&&((p,x)=>{const v=Dl(x),w=Yu(x).dom.innerHeight,S=Gt(v),k=at(p.elm),A=pc(k),M=Os(k),B=A.y,U=B+M,$=Va(x),V=Os(x),z=$.top,H=z+V,j=Math.abs(z-S.top)<2,K=Math.abs(H-(S.top+w))<2;if(j&&B<H)mp(S.left,B-V,v);else if(K&&U>z){const oe=B-w+M+V;mp(S.left,oe,v)}})(l,m)}))})),n.on("PostRender",(()=>{p7(n,!1)}))},isDocked:n=>n().map(Wn.isDocked).getOr(!1),getBehaviours:h7}),dS=hl({factory:(n,r)=>{const i={focus:ht.focusIn,setMenus:(l,u)=>{const m=Ke(u,(p=>{const x={type:"menubutton",text:p.text,fetch:w=>{w(p.getItems())},context:"any"},v=S_(x).mapError((w=>od(w))).getOrDie();return Z0(v,"tox-mbtn",r.backstage,E.some("menuitem"))}));Kt.set(l,m)}};return{uid:n.uid,dom:n.dom,components:[],behaviours:He([Kt.config({}),It("menubar-events",[gn((l=>{n.onSetup(l)})),Ne(Da(),((l,u)=>{Qo(l.element,".tox-mbtn--active").each((m=>{Vs(u.event.target,".tox-mbtn").each((p=>{lo(m,p)||l.getSystem().getByDom(m).each((x=>{l.getSystem().getByDom(p).each((v=>{bi.expand(v),bi.close(x),Zt.focus(v)}))}))}))}))})),Ne(A1(),((l,u)=>{u.event.prevFocus.bind((m=>l.getSystem().getByDom(m).toOptional())).each((m=>{u.event.newFocus.bind((p=>l.getSystem().getByDom(p).toOptional())).each((p=>{bi.isOpen(m)&&(bi.expand(p),bi.close(m))}))}))}))]),ht.config({mode:"flow",selector:".tox-mbtn",onEscape:l=>(n.onEscape(l),E.some(!0))}),Lo.config({})]),apis:i,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Fe("dom"),Fe("uid"),Fe("onEscape"),Fe("backstage"),xe("onSetup",Me)],apis:{focus:(n,r)=>{n.focus(r)},setMenus:(n,r,i)=>{n.setMenus(r,i)}}});const bP=n=>({element:()=>n.element.dom}),xP=(n,r)=>{const i=Ke(Go(r),(l=>{const u=r[l],m=Aa((p=>An("sidebar",Jm,p))(u));return{name:l,getApi:bP,onSetup:m.onSetup,onShow:m.onShow,onHide:m.onHide}}));return Ke(i,(l=>{const u=mt(Me);return n.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:L0([Md(l,u),Lh(l,u),Ne(Dp(),((m,p)=>{const x=p.event;P(i,(w=>w.name===x.name)).each((w=>{(x.visible?w.onShow:w.onHide)(w.getApi(m))}))}))])})}))},vP=n=>va.sketch((r=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:xP(r,n),slotBehaviours:L0([gn((i=>va.hideAllSlots(i)))])}))),dw=(n,r)=>{Vt(n,"role",r)},yP=n=>Bo.getCurrent(n).bind((r=>hi.isGrowing(r)||hi.hasGrown(r)?Bo.getCurrent(r).bind((i=>P(va.getSlotNames(i),(l=>va.isShowing(i,l))))):E.none())),uw=ge("FixSizeEvent"),Lg=ge("AutoSizeEvent"),Ig=n=>Bo.getCurrent(n).each((r=>_n(r.element,!0))),_P=(n,r,i)=>{const l=mt(!1),u=mn(),m=x=>{var v;l.get()&&(!(w=>w.type==="focusin")(v=x)||!(v.composed?Lr(v.composedPath()):E.from(v.target)).map(at).filter($r).exists((w=>xs(w,"mce-pastebin"))))&&(x.preventDefault(),Ig(r()),n.editorManager.setActive(n))};n.inline||n.on("PreInit",(()=>{n.dom.bind(n.getWin(),"focusin",m),n.on("BeforeExecCommand",(x=>{x.command.toLowerCase()==="mcefocus"&&x.value!==!0&&m(x)}))}));const p=x=>{x!==l.get()&&(l.set(x),((v,w,S,k)=>{const A=w.element;if(((M,B)=>{const U="tabindex",$=`data-mce-${U}`;E.from(M.iframeElement).map(at).each((V=>{B?($s(V,U).each((z=>Vt(V,$,z))),Vt(V,U,-1)):(ts(V,U),$s(V,$).each((z=>{Vt(V,U,z),ts(V,$)})))}))})(v,S),S)Cd.block(w,(M=>(B,U)=>({dom:{tag:"div",attributes:{"aria-label":M.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:$m('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(k)),_o(A,"display"),ts(A,"aria-hidden"),v.hasFocus()&&Ig(w);else{const M=Bo.getCurrent(w).exists((B=>cc(B.element)));Cd.unblock(w),Z(A,"display","none"),Vt(A,"aria-hidden","true"),M&&v.focus()}})(n,r(),x,i.providers),((v,w)=>{v.dispatch("AfterProgressState",{state:w})})(n,x))};n.on("ProgressState",(x=>{if(u.on(clearTimeout),zt(x.time)){const v=T0.setEditorTimeout(n,(()=>p(x.state)),x.time);u.set(v)}else p(x.state),u.clear()}))},uS=n=>{const r=n.label.isNone()?n.title.fold((()=>({})),(i=>({attributes:{"aria-label":i}}))):n.label.fold((()=>({})),(i=>({attributes:{"aria-label":i}})));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(n.label.isSome()?["tox-toolbar__group_with_label"]:[]),...r},components:[...n.label.map((i=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[Hn(i)]}))).toArray(),Wy.parts.items({})],items:n.items,markers:{itemSelector:".tox-tbtn:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:He([Lo.config({}),Zt.config({ignore:!0})])}},Ov=n=>Wy.sketch(uS(n)),Dv=(n,r)=>{const i=gn((l=>{const u=Ke(n.initGroups,Ov);xl.setGroups(l,u)}));return He([Tg((()=>n.providers.checkUiComponentContext("any").shouldDisable)),ws((()=>n.providers.checkUiComponentContext("any"))),ht.config({mode:r,onEscape:n.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),It("toolbar-events",[i])])},b7=n=>{const r=n.cyclicKeying?"cyclic":"acyclic";return{uid:n.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":uS({title:E.none(),label:E.none(),items:[]}),"overflow-button":zB({context:"any",icon:E.some("more-drawer"),enabled:!0,tooltip:E.some("Reveal or hide additional toolbar items")},E.none(),n.providers,[],"overflow-button")},splitToolbarBehaviours:Dv(n,r)}},j0=n=>{const r=b7(n),i=jT.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return jT.sketch({...r,lazySink:n.getSink,getOverflowBounds:()=>{const l=n.moreDrawerData.lazyHeader().element,u=pc(l),m=Ti(l),p=pc(m),x=Math.max(m.dom.scrollHeight,p.height);return Ns(u.x+4,p.y,u.width-8,x)},parts:{...r.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n.attributes}}},components:[i],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:l=>n.onToggled(l,!0),onClosed:l=>n.onToggled(l,!1)})},q0=n=>{const r=qy.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=qy.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=b7(n);return qy.sketch({...l,components:[r,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:u=>{u.getSystem().broadcastOn([f7()],{type:"opened"}),n.onToggled(u,!0)},onClosed:u=>{u.getSystem().broadcastOn([f7()],{type:"closed"}),n.onToggled(u,!1)}})},mS=n=>{const r=n.cyclicKeying?"cyclic":"acyclic";return xl.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(n.type===_l.scrolling?["tox-toolbar--scrolling"]:[])},components:[xl.parts.groups({})],toolbarBehaviours:Dv(n,r)})},x7=(n,r)=>((i,l)=>{var u,m;const p=i.type==="togglebutton",x=i.icon.map((z=>Pg(z,l.icons))).map(Zo),v={...i,name:p?i.text.getOr(i.icon.getOr("")):(u=i.text)!==null&&u!==void 0?u:i.icon.getOr(""),primary:i.buttonType==="primary",buttonType:E.from(i.buttonType),tooltip:i.tooltip,icon:i.icon,enabled:!0,borderless:i.borderless},w=Qk((m=i.buttonType)!==null&&m!==void 0?m:"secondary"),S=p?i.text.map(l.translate):E.some(l.translate(i.text)),k=S.map(Hn),A=v.tooltip.or(S).map((z=>({"aria-label":l.translate(z)}))).getOr({}),M=x.map((z=>z.asSpec())),B=H0([M,k]),U=i.icon.isSome()&&k.isSome(),$={tag:"button",classes:w.concat(...i.icon.isSome()&&!U?["tox-button--icon"]:[]).concat(...U?["tox-button--icon-and-text"]:[]).concat(...i.borderless?["tox-button--naked"]:[]).concat(...i.type==="togglebutton"&&i.active?["tox-button--enabled"]:[]),attributes:A},V=sw(v,E.some((z=>{const H=j=>{x.map((K=>K.getOpt(z).each((oe=>{Kt.set(oe,[Pg(j,l.icons)])}))))};return p?i.onAction({setIcon:H,setActive:j=>{const K=z.element;j?(Ln(K,"tox-button--enabled"),Vt(K,"aria-pressed",!0)):(fn(K,"tox-button--enabled"),ts(K,"aria-pressed"))},isActive:()=>xs(z.element,"tox-button--enabled"),focus:()=>_n(z.element)}):i.type==="button"?i.onAction({setIcon:H}):void 0})),[],$,B,i.tooltip,l);return Xs.sketch(V)})(n,r),v7=ol().deviceType,wP=v7.isPhone(),CP=v7.isTablet();var G0=Ja({name:"silver.View",configFields:[Fe("viewConfig")],partFields:[ul({factory:{sketch:n=>{let r=!1;const i=Ke(n.buttons,(l=>l.type==="group"?(r=!0,((u,m)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Ke(u.buttons,(p=>x7(p,m)))}))(l,n.providers)):x7(l,n.providers)));return{uid:n.uid,dom:{tag:"div",classes:[r?"tox-view__toolbar":"tox-view__header",...wP||CP?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:He([Zt.config({}),ht.config({mode:"flow",selector:"button, .tox-button",focusInside:cd.OnEnterOrSpaceMode})]),components:r?i:[kd.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),kd.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}}},schema:[Fe("buttons"),Fe("providers")],name:"header"}),ul({factory:{sketch:n=>({uid:n.uid,behaviours:He([Zt.config({}),Lo.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(n,r,i,l)=>{const u={getPane:m=>br.getPart(m,n,"pane"),getOnShow:m=>n.viewConfig.onShow,getOnHide:m=>n.viewConfig.onHide};return{uid:n.uid,dom:n.dom,components:r,behaviours:He([Zt.config({}),ht.config({mode:"cyclic",focusInside:cd.OnEnterOrSpaceMode})]),apis:u}},apis:{getPane:(n,r)=>n.getPane(r),getOnShow:(n,r)=>n.getOnShow(r),getOnHide:(n,r)=>n.getOnHide(r)}});const kP=(n,r,i)=>Si(r,((l,u)=>{const m=Aa(An("view",iB,l));return n.slot(u,G0.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:m,components:[...m.buttons.length>0?[G0.parts.header({buttons:m.buttons,providers:i})]:[],G0.parts.pane({})]}))})),mw=(n,r)=>va.sketch((i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:kP(i,n,r),slotBehaviours:L0([gn((l=>va.hideAllSlots(l)))])}))),fS=n=>P(va.getSlotNames(n),(r=>va.isShowing(n,r))),y7=(n,r,i)=>{va.getSlot(n,r).each((l=>{G0.getPane(l).each((u=>{var m;i(l)((m=u.element.dom,{getContainer:ae(m)}))}))}))};var Nv=hl({factory:(n,r)=>{const i={setViews:(l,u)=>{Kt.set(l,[mw(u,r.backstage.shared.providers)])},whichView:l=>Bo.getCurrent(l).bind(fS),toggleView:(l,u,m,p)=>Bo.getCurrent(l).exists((x=>{const v=fS(x),w=v.exists((k=>p===k)),S=va.getSlot(x,p).isSome();return S&&(va.hideAllSlots(x),w?((k=>{const A=k.element;Z(A,"display","none"),Vt(A,"aria-hidden","true")})(l),u()):(m(),(k=>{const A=k.element;_o(A,"display"),ts(A,"aria-hidden")})(l),va.showSlot(x,p),((k,A)=>{y7(k,A,G0.getOnShow)})(x,p)),v.each((k=>((A,M)=>y7(A,M,G0.getOnHide))(x,k)))),S}))};return{uid:n.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:He([Kt.config({}),Bo.config({find:l=>{const u=Kt.contents(l);return Lr(u)}})]),apis:i}},name:"silver.ViewWrapper",configFields:[Fe("backstage")],apis:{setViews:(n,r,i)=>n.setViews(r,i),toggleView:(n,r,i,l,u)=>n.toggleView(r,i,l,u),whichView:(n,r)=>n.whichView(r)}});const SP=Rr.optional({factory:dS,name:"menubar",schema:[Fe("backstage")]}),EP=Rr.optional({factory:{sketch:n=>d4.sketch({uid:n.uid,dom:n.dom,listBehaviours:He([ht.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>mS({type:n.type,uid:ge("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:n.providers,onEscape:()=>(n.onEscape(),E.some(!0))}),setupItem:(r,i,l,u)=>{xl.setGroups(i,l)},shell:!0})},name:"multiple-toolbar",schema:[Fe("dom"),Fe("onEscape")]}),gS=Rr.optional({factory:{sketch:n=>(i=>i.type===_l.sliding?q0:i.type===_l.floating?j0:mS)(n)({type:n.type,uid:n.uid,onEscape:()=>(n.onEscape(),E.some(!0)),onToggled:(i,l)=>n.onToolbarToggled(l),cyclicKeying:!1,initGroups:[],getSink:n.getSink,providers:n.providers,moreDrawerData:{lazyToolbar:n.lazyToolbar,lazyMoreButton:n.lazyMoreButton,lazyHeader:n.lazyHeader},attributes:n.attributes})},name:"toolbar",schema:[Fe("dom"),Fe("onEscape"),Fe("getSink")]}),HI=Rr.optional({factory:{sketch:n=>{const r=n.editor,i=n.sticky?h7:u7;return{uid:n.uid,dom:n.dom,components:n.components,behaviours:He(i(r,n.sharedBackstage))}}},name:"header",schema:[Fe("dom")]}),pS=Rr.optional({factory:{sketch:n=>{const r=n.promotionLink?[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"💝 Get all features"}}]:[];return{uid:n.uid,dom:n.dom,components:r}}},name:"promotion",schema:[Fe("dom"),Fe("promotionLink")]}),TP=Rr.optional({name:"socket",schema:[Fe("dom")]}),AP=Rr.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:He([Lo.config({}),Zt.config({}),hi.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:r=>{Bo.getCurrent(r).each(va.hideAllSlots),no(r,Lg)},onGrown:r=>{no(r,Lg)},onStartGrow:r=>{Ct(r,uw,{width:os(r.element,"width").getOr("")})},onStartShrink:r=>{Ct(r,uw,{width:Fn(r.element)+"px"})}}),Kt.config({}),Bo.config({find:r=>{const i=Kt.contents(r);return Lr(i)}})])}],behaviours:He([Mk(0),It("sidebar-sliding-events",[Ne(uw,((r,i)=>{Z(r.element,"width",i.event.width)})),Ne(Lg,((r,i)=>{_o(r.element,"width")}))])])})},name:"sidebar",schema:[Fe("dom")]}),OP=Rr.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:He([Kt.config({}),Cd.config({focus:!1}),Bo.config({find:r=>Lr(r.components())})]),components:[]})},name:"throbber",schema:[Fe("dom")]}),_7=Rr.optional({factory:Nv,name:"viewWrapper",schema:[Fe("backstage")]}),w7=Rr.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:n.components})},name:"editorContainer",schema:[]});var ln=Ja({name:"OuterContainer",factory:(n,r,i)=>{let l=!1;const u=p=>{fc(p,".tox-statusbar").each((x=>{kr(x,"display")==="none"&&Hs(x,"aria-hidden")==="true"?(_o(x,"display"),ts(x,"aria-hidden")):(Z(x,"display","none"),Vt(x,"aria-hidden","true"))}))},m={getSocket:p=>br.getPart(p,n,"socket"),setSidebar:(p,x,v)=>{br.getPart(p,n,"sidebar").each((w=>((S,k,A)=>{Bo.getCurrent(S).each((M=>{Kt.set(M,[vP(k)]);const B=A?.toLowerCase();Le(B)&&$o(k,B)&&Bo.getCurrent(M).each((U=>{va.showSlot(U,B),hi.immediateGrow(M),_o(M.element,"width"),dw(S.element,"region")}))}))})(w,x,v)))},toggleSidebar:(p,x)=>{br.getPart(p,n,"sidebar").each((v=>((w,S)=>{Bo.getCurrent(w).each((k=>{Bo.getCurrent(k).each((A=>{hi.hasGrown(k)?va.isShowing(A,S)?(hi.shrink(k),dw(w.element,"presentation")):(va.hideAllSlots(A),va.showSlot(A,S),dw(w.element,"region")):(va.hideAllSlots(A),va.showSlot(A,S),hi.grow(k),dw(w.element,"region"))}))}))})(v,x)))},whichSidebar:p=>br.getPart(p,n,"sidebar").bind(yP).getOrNull(),getHeader:p=>br.getPart(p,n,"header"),getToolbar:p=>br.getPart(p,n,"toolbar"),setToolbar:(p,x)=>{br.getPart(p,n,"toolbar").each((v=>{const w=Ke(x,Ov);v.getApis().setGroups(v,w)}))},setToolbars:(p,x)=>{br.getPart(p,n,"multiple-toolbar").each((v=>{const w=Ke(x,(S=>Ke(S,Ov)));d4.setItems(v,w)}))},refreshToolbar:p=>{br.getPart(p,n,"toolbar").each((x=>x.getApis().refresh(x)))},toggleToolbarDrawer:p=>{br.getPart(p,n,"toolbar").each((x=>{Yg(x.getApis().toggle,(v=>v(x)))}))},toggleToolbarDrawerWithoutFocusing:p=>{br.getPart(p,n,"toolbar").each((x=>{Yg(x.getApis().toggleWithoutFocusing,(v=>v(x)))}))},isToolbarDrawerToggled:p=>br.getPart(p,n,"toolbar").bind((x=>E.from(x.getApis().isOpen).map((v=>v(x))))).getOr(!1),getThrobber:p=>br.getPart(p,n,"throbber"),focusToolbar:p=>{br.getPart(p,n,"toolbar").orThunk((()=>br.getPart(p,n,"multiple-toolbar"))).each((x=>{ht.focusIn(x)}))},setMenubar:(p,x)=>{br.getPart(p,n,"menubar").each((v=>{dS.setMenus(v,x)}))},focusMenubar:p=>{br.getPart(p,n,"menubar").each((x=>{dS.focus(x)}))},setViews:(p,x)=>{br.getPart(p,n,"viewWrapper").each((v=>{Nv.setViews(v,x)}))},toggleView:(p,x)=>br.getPart(p,n,"viewWrapper").exists((v=>Nv.toggleView(v,(()=>m.showMainView(p)),(()=>m.hideMainView(p)),x))),whichView:p=>br.getPart(p,n,"viewWrapper").bind(Nv.whichView).getOrNull(),hideMainView:p=>{l=m.isToolbarDrawerToggled(p),l&&m.toggleToolbarDrawer(p),br.getPart(p,n,"editorContainer").each((x=>{const v=x.element;u(v),Z(v,"display","none"),Vt(v,"aria-hidden","true")}))},showMainView:p=>{l&&m.toggleToolbarDrawer(p),br.getPart(p,n,"editorContainer").each((x=>{const v=x.element;u(v),_o(v,"display"),ts(v,"aria-hidden")}))}};return{uid:n.uid,dom:n.dom,components:r,apis:m,behaviours:n.behaviours}},configFields:[Fe("dom"),Fe("behaviours")],partFields:[HI,SP,gS,EP,TP,AP,pS,OP,_7,w7],apis:{getSocket:(n,r)=>n.getSocket(r),setSidebar:(n,r,i,l)=>{n.setSidebar(r,i,l)},toggleSidebar:(n,r,i)=>{n.toggleSidebar(r,i)},whichSidebar:(n,r)=>n.whichSidebar(r),getHeader:(n,r)=>n.getHeader(r),getToolbar:(n,r)=>n.getToolbar(r),setToolbar:(n,r,i)=>{n.setToolbar(r,i)},setToolbars:(n,r,i)=>{n.setToolbars(r,i)},refreshToolbar:(n,r)=>n.refreshToolbar(r),toggleToolbarDrawer:(n,r)=>{n.toggleToolbarDrawer(r)},toggleToolbarDrawerWithoutFocusing:(n,r)=>{n.toggleToolbarDrawerWithoutFocusing(r)},isToolbarDrawerToggled:(n,r)=>n.isToolbarDrawerToggled(r),getThrobber:(n,r)=>n.getThrobber(r),setMenubar:(n,r,i)=>{n.setMenubar(r,i)},focusMenubar:(n,r)=>{n.focusMenubar(r)},focusToolbar:(n,r)=>{n.focusToolbar(r)},setViews:(n,r,i)=>{n.setViews(r,i)},toggleView:(n,r,i)=>n.toggleView(r,i),whichView:(n,r)=>n.whichView(r)}});const C7={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code suggestededits revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},fw=n=>n.split(" "),k7=(n,r)=>{const i={...C7,...r.menus},l=Go(r.menus).length>0,u=r.menubar===void 0||r.menubar===!0?fw("file edit view insert format tools table help"):fw(r.menubar===!1?"":r.menubar),m=sn(u,(x=>{const v=$o(C7,x);return l?v||Dt(r.menus,x).exists((w=>$o(w,"items"))):v})),p=Ke(m,(x=>{const v=i[x];return((w,S,k)=>{const A=X4(k).split(/[ ,]/);return{text:w.title,getItems:()=>yn(w.items,(M=>{const B=M.toLowerCase();return B.trim().length===0||dn(A,(U=>U===B))?[]:B==="separator"||B==="|"?[{type:"separator"}]:S.menuItems[B]?[S.menuItems[B]]:[]}))}})({title:v.title,items:fw(v.items)},r,n)}));return sn(p,(x=>x.getItems().length>0&&dn(x.getItems(),(v=>Le(v)||v.type!=="separator"))))},S7=(n,r,i)=>(n.on("remove",(()=>i.unload(r))),i.load(r)),$h=(n,r,i,l)=>(n.on("remove",(()=>l.unloadRawCss(r))),l.loadRawCss(r,i)),DP=n=>E.from(tinymce.Resource.get(n)).filter(Le),E7=(n,r,i="")=>{const l=(m=>{const p=D0(m);return p?E.from(p):E.none()})(n).map((m=>((p,x)=>"ui/"+p+"/"+x)(m,`${r}.css`))),u=l.bind(DP);return ju(l,u,((m,p)=>({_kind:"load-raw",key:m,css:p}))).getOrThunk((()=>{const m=n.editorManager.suffix;return{_kind:"load-stylesheet",url:i+`/${r}${m}.css`}}))},hS=(n,r)=>{const i=n.ui.styleSheetLoader,l=E7(n,"skin",r);switch(l._kind){case"load-raw":const{key:u,css:m}=l;return $h(n,u,m,i),Promise.resolve();case"load-stylesheet":const{url:p}=l;return S7(n,p,i);default:return Promise.resolve()}},NP=(n,r)=>{var i;if(i=at(n.getElement()),!Jd(i).isSome())return Promise.resolve();{const l=Vx.DOM.styleSheetLoader,u=E7(n,"skin.shadowdom",r);switch(u._kind){case"load-raw":const{key:m,css:p}=u;return $h(n,m,p,l),Promise.resolve();case"load-stylesheet":const{url:x}=u;return S7(n,x,l);default:return Promise.resolve()}}},gw=(n,r)=>(async(i,l)=>{const u=Qy(l);if(await((m,p,x)=>{const v=E7(m,p?"content.inline":"content",x);switch(v._kind){case"load-raw":const{key:w,css:S}=v;return p?$h(m,w,S,m.ui.styleSheetLoader):m.on("PostRender",(()=>{$h(m,w,S,m.dom.styleSheetLoader)})),Promise.resolve();case"load-stylesheet":const{url:k}=v;return x&&m.contentCSS.push(k),Promise.resolve();default:return Promise.resolve()}})(l,i,u),!i3(l)&&Le(u))return Promise.all([hS(l,u),NP(l,u)]).then()})(n,r).then((i=>{const l=()=>{i._skinLoaded=!0,(u=>{u.dispatch("SkinLoaded")})(i)};return()=>{i.initialized?l():i.on("init",l)}})(r),(i=>()=>((l,u)=>{l.dispatch("SkinLoadError",u)})(i,{message:"Skin could not be loaded"}))(r)),RP=eo(gw,!1),MP=eo(gw,!0),bS=n=>({isEnabled:()=>!wt.isDisabled(n),setEnabled:r=>wt.set(n,!r),setText:r=>Ct(n,Ql,{text:r}),setIcon:r=>Ct(n,Qm,{icon:r})}),T7=n=>({setActive:r=>{bo.set(n,r)},isActive:()=>bo.isOn(n),isEnabled:()=>!wt.isDisabled(n),setEnabled:r=>wt.set(n,!r),setText:r=>Ct(n,Ql,{text:r}),setIcon:r=>Ct(n,Qm,{icon:r})}),A7=(n,r)=>n.map((i=>({"aria-label":r.translate(i)}))).getOr({}),ef=ge("focus-button"),Bu=(n,r,i,l,u,m,p)=>{const x=r.map((w=>Zo(MO(w,"tox-tbtn",u)))),v=n.map((w=>Zo(Pg(w,u.icons))));return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:{...A7(i,u),...ot(p)?{"data-mce-name":p}:{}}},components:H0([v.map((w=>w.asSpec())),x.map((w=>w.asSpec()))]),eventOrder:{[In()]:["focusing","alloy.base.behaviour",Pd],[cl()]:[Pd,"toolbar-group-button-events"],[bc()]:[Pd,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:He([Tg((()=>u.checkUiComponentContext(m).shouldDisable)),ws((()=>u.checkUiComponentContext(m))),It(Pd,[gn(((w,S)=>qk(w))),Ne(Ql,((w,S)=>{x.bind((k=>k.getOpt(w))).each((k=>{Kt.set(k,[Hn(u.translate(S.event.text))])}))})),Ne(Qm,((w,S)=>{v.bind((k=>k.getOpt(w))).each((k=>{Kt.set(k,[Pg(S.event.icon,u.icons)])}))})),Ne(In(),((w,S)=>{S.event.prevent(),no(w,ef)}))])].concat(l.getOr([])))}},O7=(n,r,i,l)=>{var u;const m=mt(Me),p=Bu(n.icon,n.text,n.tooltip,E.none(),i,n.context,l);return Xs.sketch({dom:p.dom,components:p.components,eventOrder:jk,buttonBehaviours:{...He([It("toolbar-button-events",[(x={onAction:n.onAction,getApi:r.getApi},kc(((v,w)=>{mv(x,v)((S=>{Ct(v,Wk,{buttonApi:S}),x.onAction(S)}))}))),Md(r,m),Lh(r,m)]),...n.tooltip.map((v=>Dn.config(i.tooltips.getConfig({tooltipText:i.translate(v)+n.shortcut.map((w=>` (${P_(w)})`)).getOr("")})))).toArray(),Tg((()=>!n.enabled||i.checkUiComponentContext(n.context).shouldDisable)),ws((()=>i.checkUiComponentContext(n.context)))].concat(r.toolbarButtonBehaviours)),[Pd]:(u=p.buttonBehaviours)===null||u===void 0?void 0:u[Pd]}});var x},xS=(n,r,i,l)=>O7(n,{toolbarButtonBehaviours:i.length>0?[It("toolbarButtonWith",i)]:[],getApi:bS,onSetup:n.onSetup},r,l),vS=(n,r,i,l)=>O7(n,{toolbarButtonBehaviours:[Kt.config({}),bo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[It("toolbarToggleButtonWith",i)]:[]),getApi:T7,onSetup:n.onSetup},r,l),BP=(n,r,i)=>l=>Mo((u=>r.fetch(u))).map((u=>E.from(Ok(as(V_(ge("menu-value"),u,(m=>{r.onItemAction(n(l),m)}),r.columns,r.presets,Pc.CLOSE_ON_EXECUTE,r.select.getOr(Ee),i),{movement:_v(r.columns,r.presets),menuBehaviours:L0(r.columns!=="auto"?[]:[gn(((m,p)=>{M_(m,4,H6(r.presets)).each((({numRows:x,numColumns:v})=>{ht.setGridSize(m,x,v)}))}))])}))))),yS=n=>{qn.getContent(n).each((r=>{Qo(r.element,".tox-toolbar-slider__input,.tox-toolbar-textfield").fold((()=>ht.focusIn(r)),_n)}))},D7=ge("forward-slide"),pw=ge("backward-slide"),_S=ge("change-slide-event"),wS="tox-pop--resizing",K0=(n,r,i)=>Gd(i)?n.translate(r):n.translate([r,n.translate(i)]),PP=(n,r)=>{const i=(m,p,x,v)=>{const w=n.shared.providers.translate(m.title);if(m.type==="separator")return E.some({type:"separator",text:w});if(m.type==="submenu"){const S=yn(m.getStyleItems(),(k=>l(k,p,v)));return p===0&&S.length<=0?E.none():E.some({type:"nestedmenuitem",text:w,enabled:S.length>0,getSubmenuItems:()=>yn(m.getStyleItems(),(k=>l(k,p,v)))})}return E.some({type:"togglemenuitem",text:w,icon:m.icon,active:m.isSelected(v),enabled:!x,onAction:r.onAction(m),...m.getStylePreview().fold((()=>({})),(S=>({meta:{style:S}})))})},l=(m,p,x)=>{const v=m.type==="formatter"&&r.isInvalid(m);return p===0?v?[]:i(m,p,!1,x).toArray():i(m,p,v,x).toArray()},u=m=>{const p=r.getCurrentValue(),x=r.shouldHide?0:1;return yn(m,(v=>l(v,x,p)))};return{validateItems:u,getFetch:(m,p)=>(x,v)=>{const w=p(),S=u(w);v(U0(S,Pc.CLOSE_ON_EXECUTE,m,{isHorizontalMenu:!1,search:E.none()}))}}},Y0=(n,r)=>{const i=r.dataset,l=i.type==="basic"?()=>Ke(i.data,(u=>sS(u,r.isSelectedFor,r.getPreviewFor))):i.getData;return{items:PP(n,r),getStyleItems:l}},Rv=(n,r,i,l,u,m)=>{const{items:p,getStyleItems:x}=Y0(r,i),v=mt(i.tooltip);return Y_({context:"mode:design",text:i.icon.isSome()?E.none():i.text,icon:i.icon,ariaLabel:E.some(i.tooltip),tooltip:E.none(),role:E.none(),fetch:p.getFetch(r,x),onSetup:w=>{const S=k=>w.setTooltip(K0(n,l(k.value),k.value));return n.on(u,S),H_(Dg(n,"NodeChange",(k=>{const A=k.getComponent();i.updateText(A),wt.set(k.getComponent(),!n.selection.isEditable()||x().length===0)}))(w),(()=>n.off(u,S)))},getApi:w=>({getComponent:ae(w),setTooltip:S=>{const k=r.shared.providers.translate(S);Vt(w.element,"aria-label",k),v.set(S)}}),columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Dn.config({...r.shared.providers.tooltips.getConfig({tooltipText:r.shared.providers.translate(i.tooltip),onShow:w=>{if(i.tooltip!==v.get()){const S=r.shared.providers.translate(v.get());Dn.setComponents(w,r.shared.providers.tooltips.getComponents({tooltipText:S}))}}})})]},"tox-tbtn",r.shared,m)};var Fg;(function(n){n[n.SemiColon=0]="SemiColon",n[n.Space=1]="Space"})(Fg||(Fg={}));const CS=(n,r,i)=>{const l=(u=((m,p)=>p===Fg.SemiColon?m.replace(/;$/,"").split(";"):m.split(" "))(n.options.get(r),i),Ke(u,(m=>{let p=m,x=m;const v=m.split("=");return v.length>1&&(p=v[0],x=v[1]),{title:p,format:x}})));var u;return{type:"basic",data:l}},N7=ae("Alignment {0}"),R7="left",hw=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],M7=n=>{const r={type:"basic",data:hw};return{tooltip:K0(n,N7(),R7),text:E.none(),icon:E.some("align-left"),isSelectedFor:i=>()=>n.formatter.match(i),getCurrentValue:E.none,getPreviewFor:i=>E.none,onAction:i=>()=>P(hw,(l=>l.format===i.format)).each((l=>n.execCommand(l.command))),updateText:i=>{const l=P(hw,(u=>n.formatter.match(u.format))).fold(ae(R7),(u=>u.title.toLowerCase()));Ct(i,Qm,{icon:`align-${l}`}),((u,m)=>{u.dispatch("AlignTextUpdate",m)})(n,{value:l})},dataset:r,shouldHide:!1,isInvalid:i=>!n.formatter.canApply(i.format)}},B7=(n,r)=>{const i=r(),l=Ke(i,(u=>u.format));return E.from(n.formatter.closest(l)).bind((u=>P(i,(m=>m.format===u))))},P7=ae("Block {0}"),bw="Paragraph",L7=n=>{const r=CS(n,"block_formats",Fg.SemiColon);return{tooltip:K0(n,P7(),bw),text:E.some(bw),icon:E.none(),isSelectedFor:i=>()=>n.formatter.match(i),getCurrentValue:E.none,getPreviewFor:i=>()=>{const l=n.formatter.get(i);return l?E.some({tag:l.length>0&&(l[0].inline||l[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(i))}):E.none()},onAction:GA(n),updateText:i=>{const l=B7(n,(()=>r.data)).fold(ae(bw),(u=>u.title));Ct(i,Ql,{text:l}),((u,m)=>{u.dispatch("BlocksTextUpdate",m)})(n,{value:l})},dataset:r,shouldHide:!1,isInvalid:i=>!n.formatter.canApply(i.format)}},I7=ae("Font {0}"),kS="System Font",LP=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],F7=n=>{const r=n.split(/\s*,\s*/);return Ke(r,(i=>i.replace(/^['"]+|['"]+$/g,"")))},SS=(n,r)=>r.length>0&&Uc(r,(i=>n.indexOf(i.toLowerCase())>-1)),ES=n=>{const r=()=>{const l=w=>w?F7(w)[0]:"",u=n.queryCommandValue("FontName"),m=i.data,p=u?u.toLowerCase():"",x=a3(n);return{matchOpt:P(m,(w=>{const S=w.format;return S.toLowerCase()===p||l(S).toLowerCase()===l(p).toLowerCase()})).orThunk((()=>gs(((w,S)=>{if(w.indexOf("-apple-system")===0||S.length>0){const k=F7(w.toLowerCase());return SS(k,LP)||SS(k,S)}return!1})(p,x),{title:kS,format:p}))),font:u}},i=CS(n,"font_family_formats",Fg.SemiColon);return{tooltip:K0(n,I7(),kS),text:E.some(kS),icon:E.none(),isSelectedFor:l=>u=>u.exists((m=>m.format===l)),getCurrentValue:()=>{const{matchOpt:l}=r();return l},getPreviewFor:l=>()=>E.some({tag:"div",styles:l.indexOf("dings")===-1?{"font-family":l}:{}}),onAction:l=>()=>{n.undoManager.transact((()=>{n.focus(),n.execCommand("FontName",!1,l.format)}))},updateText:l=>{const{matchOpt:u,font:m}=r(),p=u.fold(ae(m),(x=>x.title));Ct(l,Ql,{text:p}),((x,v)=>{x.dispatch("FontFamilyTextUpdate",v)})(n,{value:p})},dataset:i,shouldHide:!1,isInvalid:Ee}};var xw=tinymce.util.Tools.resolve("tinymce.util.VK");const z7=ae("Font size {0}"),H7="12pt",IP={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},FP={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},$7=(n,r)=>/[0-9.]+px$/.test(n)?((i,l)=>{const u=Math.pow(10,l);return Math.round(i*u)/u})(72*parseInt(n,10)/96,r||0)+"pt":Dt(FP,n).getOr(n),X0=n=>Dt(IP,n).getOr(""),V7=n=>{const r=()=>{let u=E.none();const m=l.data,p=n.queryCommandValue("FontSize");if(p)for(let x=3;u.isNone()&&x>=0;x--){const v=$7(p,x),w=X0(v);u=P(m,(S=>S.format===p||S.format===v||S.format===w))}return{matchOpt:u,size:p}},i=ae(E.none),l=CS(n,"font_size_formats",Fg.Space);return{tooltip:K0(n,z7(),H7),text:E.some(H7),icon:E.none(),isSelectedFor:u=>m=>m.exists((p=>p.format===u)),getPreviewFor:i,getCurrentValue:()=>{const{matchOpt:u}=r();return u},onAction:u=>()=>{n.undoManager.transact((()=>{n.focus(),n.execCommand("FontSize",!1,u.format)}))},updateText:u=>{const{matchOpt:m,size:p}=r(),x=m.fold(ae(p),(v=>v.title));Ct(u,Ql,{text:x}),((v,w)=>{v.dispatch("FontSizeTextUpdate",w)})(n,{value:x})},dataset:l,shouldHide:!1,isInvalid:Ee}},U7=n=>Gd(n)?"Formats":"Format {0}",Z7=(n,r)=>{const i="Formats";return{tooltip:K0(n,U7(""),""),text:E.some(i),icon:E.none(),isSelectedFor:l=>()=>n.formatter.match(l),getCurrentValue:E.none,getPreviewFor:l=>()=>{const u=n.formatter.get(l);return u!==void 0?E.some({tag:u.length>0&&(u[0].inline||u[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(l))}):E.none()},onAction:GA(n),updateText:l=>{const u=x=>YO(x)?yn(x.items,u):XO(x)?[{title:x.title,format:x.format}]:[],m=yn(e7(n),u),p=B7(n,ae(m)).fold(ae({title:i,tooltipLabel:""}),(x=>({title:x.title,tooltipLabel:x.title})));Ct(l,Ql,{text:p.title}),((x,v)=>{x.dispatch("StylesTextUpdate",v)})(n,{value:p.tooltipLabel})},shouldHide:Xy(n),isInvalid:l=>!n.formatter.canApply(l.format),dataset:r}},vw=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Qa=(n,r)=>(i,l,u,m)=>{const p=n(i).mapError((x=>od(x))).getOrDie();return r(p,l,u,m)},TS={button:Qa(lv,((n,r,i,l)=>((u,m,p)=>xS(u,m,[],p))(n,r.shared.providers,l))),togglebutton:Qa(TA,((n,r,i,l)=>((u,m,p)=>vS(u,m,[],p))(n,r.shared.providers,l))),menubutton:Qa(S_,((n,r,i,l)=>Z0(n,"tox-tbtn",r,E.none(),!1,l))),splitbutton:Qa((n=>An("SplitButton",BA,n)),((n,r,i,l)=>((u,m,p)=>{const x=mt(Me),v=mt(u.tooltip.getOr("")),w=((V,z,H)=>j=>{const K=j.getSystem(),oe=j.element,te=()=>{const pe=xs(oe,"tox-split-button__chevron");return{mainOpt:pe?Gc(oe).bind((Ce=>K.getByDom(Ce).toOptional())):E.some(j),chevronOpt:pe?E.some(j):As(oe).bind((Ce=>K.getByDom(Ce).toOptional().filter((we=>xs(we.element,"tox-split-button__chevron")))))}},re=pe=>{const{mainOpt:Ce,chevronOpt:we}=te();Ce.each(pe),we.each(pe)};return{isEnabled:()=>{const{mainOpt:pe}=te();return pe.exists((Ce=>!wt.isDisabled(Ce)))},setEnabled:pe=>re((Ce=>wt.set(Ce,!pe))),setText:pe=>{const{mainOpt:Ce}=te();Ce.each((we=>Ct(we,Ql,{text:pe})))},setIcon:pe=>{const{mainOpt:Ce}=te();Ce.each((we=>Ct(we,Qm,{icon:pe})))},setIconFill:(pe,Ce)=>re((we=>{Qo(we.element,`svg path[class="${pe}"], rect[class="${pe}"]`).each((Oe=>{Vt(Oe,"fill",Ce)}))})),isActive:()=>{const{mainOpt:pe}=te();return pe.exists((Ce=>bo.isOn(Ce)))},setActive:pe=>{const{mainOpt:Ce}=te();Ce.each((we=>bo.set(we,pe)))},setTooltip:pe=>{V.set(pe);const{mainOpt:Ce,chevronOpt:we}=te();Ce.each((ze=>Vt(ze.element,"aria-label",z.providers.translate(pe))));const Oe=H.chevronTooltip.map((ze=>z.providers.translate(ze))).getOr(z.providers.translate(`${pe} menu`));we.each((ze=>Vt(ze.element,"aria-label",Oe)))}}})(v,m,u),S=ge("tox-split-menu"),k=mt(!1),A=()=>u.tooltip.map((V=>m.providers.translate(V))).getOr(m.providers.translate("Text color")),M=()=>u.chevronTooltip.map((V=>m.providers.translate(V))).getOrThunk((()=>{const V=A();return m.providers.translate(["{0} menu",V])})),B=(V,z)=>{k.set(V),Vt(z.element,"aria-expanded",String(V))},U=bi.sketch({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:N6("chevron-down",m.providers.icons),attributes:{"aria-label":M(),...ot(p)?{"data-mce-name":p+"-chevron"}:{},"aria-haspopup":"menu","aria-expanded":String(k.get()),"aria-controls":S}},components:[],toggleClass:"tox-tbtn--enabled",dropdownBehaviours:He([It("split-dropdown-events",[gn(((V,z)=>qk(V))),Md({getApi:w,onSetup:u.onSetup},x),Ne("alloy-dropdown-open",(V=>B(!0,V))),Ne("alloy-dropdown-close",(V=>B(!1,V)))]),Tg((()=>m.providers.checkUiComponentContext(u.context).shouldDisable)),ws((()=>m.providers.checkUiComponentContext(u.context))),Nx.config({}),Dn.config(m.providers.tooltips.getConfig({tooltipText:M(),onShow:V=>{if(v.get()!==u.tooltip.getOr("")){const z=u.chevronTooltip.map((H=>m.providers.translate(H))).getOr(`${m.providers.translate(v.get())} menu`);Dn.setComponents(V,m.providers.tooltips.getComponents({tooltipText:z}))}}}))]),lazySink:m.getSink,fetch:BP(w,u,m.providers),getHotspot:V=>Gc(V.element).bind((z=>V.getSystem().getByDom(z).toOptional())),onOpen:(V,z,H)=>{So.highlightBy(H,(j=>xs(j.element,"tox-collection__item--active"))),So.getHighlighted(H).each(ht.focusIn)},parts:{menu:{...Nd(0,u.columns,u.presets),dom:{...Nd(0,u.columns,u.presets).dom,tag:"div",attributes:{id:S}}}}});return[Xs.sketch({...Bu(u.icon,u.text,E.none(),E.some([bo.config({toggleClass:"tox-tbtn--enabled",aria:u.presets==="color"?{mode:"none"}:{mode:"pressed"},toggleOnExecute:!1}),Tg((()=>m.providers.checkUiComponentContext(u.context).shouldDisable)),ws((()=>m.providers.checkUiComponentContext(u.context))),It("split-main-aria-events",[]),...u.tooltip.isSome()?[Dn.config(m.providers.tooltips.getConfig({tooltipText:m.providers.translate(u.tooltip.getOr("")),onShow:V=>{if(v.get()!==u.tooltip.getOr("")){const z=m.providers.translate(v.get());Dn.setComponents(V,m.providers.tooltips.getComponents({tooltipText:z}))}}}))]:[]]),m.providers,u.context,p),dom:{...Bu(u.icon,u.text,E.none(),E.none(),m.providers,u.context,p).dom,classes:["tox-tbtn","tox-split-button__main"],attributes:{"aria-label":A(),...ot(p)?{"data-mce-name":p}:{}}},action:V=>{if(u.onAction){const z=w(V);z.isEnabled()&&u.onAction(z)}}}),U]})(n,r.shared,l))),grouptoolbarbutton:Qa((n=>An("GroupToolbarButton",uv,n)),((n,r,i,l)=>{const u=i.ui.registry.getAll().buttons,m={[fd]:r.shared.header.isPositionedAtTop()?Ii.TopToBottom:Ii.BottomToTop};if(hg(i)===_l.floating)return((p,x,v,w,S)=>{const k=x.shared,A=mt(Me),M={toolbarButtonBehaviours:[],getApi:bS,onSetup:p.onSetup},B=[It("toolbar-group-button-events",[Md(M,A),Lh(M,A)]),...p.tooltip.map((U=>Dn.config(x.shared.providers.tooltips.getConfig({tooltipText:x.shared.providers.translate(U)})))).toArray()];return cg.sketch({lazySink:k.getSink,fetch:()=>Mo((U=>{U(Ke(v(p.items),Ov))})),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:Bu(p.icon,p.text,p.tooltip,E.some(B),k.providers,p.context,S),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:w}}}})})(n,r,(p=>yw(i,{buttons:u,toolbar:p,allowToolbarGroups:!1},r,E.none())),m,l);throw new Error("Toolbar groups are only supported when using floating toolbar mode")}))},AS={styles:(n,r)=>{const i={type:"advanced",...r.styles};return Rv(n,r,Z7(n,i),U7,"StylesTextUpdate","styles")},fontsize:(n,r)=>Rv(n,r,V7(n),z7,"FontSizeTextUpdate","fontsize"),fontsizeinput:(n,r)=>((i,l,u,m)=>{let p=E.none();const x=Dg(i,"NodeChange SwitchMode DisabledStateChange",(j=>{const K=j.getComponent();p=E.some(K),u.updateInputValue(K),wt.set(K,!i.selection.isEditable()||pg(i))})),v=j=>({getComponent:ae(j)}),w=mt(Me),S=ge("custom-number-input-events"),k=(j,K,oe)=>{const te=p.map((Oe=>lt.getValue(Oe))).getOr(""),re=u.getNewValue(te,j),pe=te.length-`${re}`.length,Ce=p.map((Oe=>Oe.element.dom.selectionStart-pe)),we=p.map((Oe=>Oe.element.dom.selectionEnd-pe));u.onAction(re,oe),p.each((Oe=>{lt.setValue(Oe,re),K&&(Ce.each((ze=>Oe.element.dom.selectionStart=ze)),we.each((ze=>Oe.element.dom.selectionEnd=ze)))}))},A=(j,K)=>k(((oe,te)=>oe-te),j,K),M=(j,K)=>k(((oe,te)=>oe+te),j,K),B=j=>Ai(j.element).fold(E.none,(K=>(_n(K),E.some(!0)))),U=j=>cc(j.element)?(Xr(j.element).each((K=>_n(K))),E.some(!0)):E.none(),$=(j,K,oe,te)=>{const re=mt(Me),pe=l.shared.providers.translate(oe),Ce=ge("altExecuting"),we=Dg(i,"NodeChange SwitchMode DisabledStateChange",(ze=>{wt.set(ze.getComponent(),!i.selection.isEditable()||pg(i))})),Oe=ze=>{wt.isDisabled(ze)||j(!0)};return Xs.sketch({dom:{tag:"button",attributes:{"aria-label":pe,"data-mce-name":K},classes:te.concat(K)},components:[Gk(K,l.shared.providers.icons)],buttonBehaviours:He([wt.config({}),Dn.config(l.shared.providers.tooltips.getConfig({tooltipText:pe})),It(Ce,[Md({onSetup:we,getApi:v},re),Lh({getApi:v},re),Ne(Fl(),((ze,pt)=>{pt.event.raw.keyCode!==xw.SPACEBAR&&pt.event.raw.keyCode!==xw.ENTER||wt.isDisabled(ze)||j(!1)})),Ne(iu(),Oe),Ne(Il(),Oe)])]),eventOrder:{[Fl()]:[Ce,"keying"],[iu()]:[Ce,"alloy.base.behaviour"],[Il()]:[Ce,"alloy.base.behaviour"],[cl()]:["alloy.base.behaviour",Ce,"tooltipping"],[bc()]:[Ce,"tooltipping"]}})},V=Zo($((j=>A(!1,j)),"minus","Decrease font size",[])),z=Zo($((j=>M(!1,j)),"plus","Increase font size",[])),H=Zo({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Zm.sketch({inputBehaviours:He([wt.config({}),It(S,[Md({onSetup:x,getApi:v},w),Lh({getApi:v},w)]),It("input-update-display-text",[Ne(Ql,((j,K)=>{lt.setValue(j,K.event.text)})),Ne(E1(),(j=>{u.onAction(lt.getValue(j))})),Ne(au(),(j=>{u.onAction(lt.getValue(j))}))]),ht.config({mode:"special",onEnter:j=>(k(dt,!0,!0),E.some(!0)),onEscape:B,onUp:j=>(M(!0,!1),E.some(!0)),onDown:j=>(A(!0,!1),E.some(!0)),onLeft:(j,K)=>(K.cut(),E.none()),onRight:(j,K)=>(K.cut(),E.none())})])})],behaviours:He([Zt.config({}),ht.config({mode:"special",onEnter:U,onSpace:U,onEscape:B}),It("input-wrapper-events",[Ne(Da(),(j=>{vt([V,z],(K=>{const oe=at(K.get(j).element.dom);cc(oe)&&ip(oe)}))}))])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...ot(m)?{"data-mce-name":m}:{}}},components:[V.asSpec(),H.asSpec(),z.asSpec()],behaviours:He([Zt.config({}),ht.config({mode:"flow",focusInside:cd.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:j=>cc(j.element)?E.none():(_n(j.element),E.some(!0))})])}})(n,r,(i=>{const l=()=>i.queryCommandValue("FontSize");return{updateInputValue:u=>Ct(u,Ql,{text:l()}),onAction:(u,m)=>i.execCommand("FontSize",!1,u,{skip_focus:!m}),getNewValue:(u,m)=>{Ea(u,["unsupportedLength","empty"]);const p=l(),x=Ea(u,["unsupportedLength","empty"]).or(Ea(p,["unsupportedLength","empty"])),v=x.map((M=>M.value)).getOr(16),w=i6(i),S=x.map((M=>M.unit)).filter((M=>M!=="")).getOr(w),k=m(v,(M=>{var B;return(B={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[M])!==null&&B!==void 0?B:{step:1}})(S).step),A=`${(M=>M>=0)(k)?k:v}${S}`;return A!==p&&((M,B)=>{M.dispatch("FontSizeInputTextUpdate",B)})(i,{value:A}),A}}})(n),"fontsizeinput"),fontfamily:(n,r)=>Rv(n,r,ES(n),I7,"FontFamilyTextUpdate","fontfamily"),blocks:(n,r)=>Rv(n,r,L7(n),P7,"BlocksTextUpdate","blocks"),align:(n,r)=>Rv(n,r,M7(n),N7,"AlignTextUpdate","align"),navigateback:(n,r)=>{const i=Aa(lv({type:"button",icon:"chevron-left",tooltip:"Back",onAction:Me}));return xS(i,r.shared.providers,[Ne(Wk,(l=>{no(l,pw)}))])}},yw=(n,r,i,l)=>{const u=(p=>{const x=p.toolbar,v=p.buttons;return x===!1?[]:x===void 0||x===!0?(w=>{const S=Ke(vw,(k=>{const A=sn(k.items,(M=>$o(w,M)||$o(AS,M)));return{name:k.name,items:A}}));return sn(S,(k=>k.items.length>0))})(v):Le(x)?(w=>{const S=w.split("|");return Ke(S,(k=>({items:k.trim().split(" ")})))})(x):(w=>fs(w,(S=>($o(S,"name")||$o(S,"label"))&&$o(S,"items"))))(x)?x:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(r),m=Ke(u,(p=>{const x=yn(p.items,(v=>v.trim().length===0?[]:((w,S,k,A,M,B)=>Dt(S,k.toLowerCase()).orThunk((()=>B.bind((U=>wa(U,($=>Dt(S,$+k.toLowerCase()))))))).fold((()=>Dt(AS,k.toLowerCase()).map((U=>U(w,M)))),(U=>U.type!=="grouptoolbarbutton"||A?(($,V,z,H)=>Dt(TS,$.type).fold((()=>(console.error("skipping button defined by",$),E.none())),(j=>E.some(j($,V,z,H)))))(U,M,w,k.toLowerCase()):(console.warn(`Ignoring the '${k}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),E.none()))))(n,r.buttons,v,r.allowToolbarGroups,i,l).map((w=>Array.isArray(w)?w:[w])).getOr([])));return{title:E.from(n.translate(p.name)),label:gs(p.label!==void 0,n.translate(p.label)),items:x}}));return sn(m,(p=>p.items.length>0))},W7=(n,r,i,l)=>{const u=r.mainUi.outerContainer,m=i.toolbar,p=i.buttons;if(fs(m,Le)){const x=m.map((v=>{const w={toolbar:v,buttons:p,allowToolbarGroups:i.allowToolbarGroups};return yw(n,w,l,E.none())}));ln.setToolbars(u,x)}else ln.setToolbar(u,yw(n,i,l,E.none()))},j7=ol(),zP=j7.os.isiOS()&&j7.os.version.major<=12;var q7=Object.freeze({__proto__:null,render:(n,r,i,l,u)=>{const{mainUi:m,uiMotherships:p}=r,x=mt(0),v=m.outerContainer;RP(n);const w=at(u.targetNode),S=Xu(er(w));Ae(w,m.mothership),((B,U,$)=>{Dd(B)&&Ae($.mainUi.mothership.element,$.popupUi.mothership),yC(U,$.dialogUi.mothership)})(n,S,r),n.on("PostRender",(()=>{ln.setSidebar(v,i.sidebar,r3(n))})),n.on("SkinLoaded",(()=>{W7(n,r,i,l),x.set(n.getWin().innerWidth),ln.setMenubar(v,k7(n,i)),ln.setViews(v,i.views),((B,U)=>{const{uiMotherships:$}=U,V=B.dom;let z=B.getWin();const H=B.getDoc().documentElement,j=mt(Lt(z.innerWidth,z.innerHeight)),K=mt(Lt(H.offsetWidth,H.offsetHeight)),oe=()=>{const Ce=j.get();Ce.left===z.innerWidth&&Ce.top===z.innerHeight||(j.set(Lt(z.innerWidth,z.innerHeight)),F_(B))},te=()=>{const Ce=B.getDoc().documentElement,we=K.get();we.left===Ce.offsetWidth&&we.top===Ce.offsetHeight||(K.set(Lt(Ce.offsetWidth,Ce.offsetHeight)),F_(B))},re=Ce=>{((we,Oe)=>{we.dispatch("ScrollContent",Oe)})(B,Ce)};V.bind(z,"resize",oe),V.bind(z,"scroll",re);const pe=ap(at(B.getBody()),"load",te);B.on("hide",(()=>{vt($,(Ce=>{Z(Ce.element,"display","none")}))})),B.on("show",(()=>{vt($,(Ce=>{_o(Ce.element,"display")}))})),B.on("NodeChange",te),B.on("remove",(()=>{pe.unbind(),V.unbind(z,"resize",oe),V.unbind(z,"scroll",re),z=null}))})(n,r)}));const k=ln.getSocket(v).getOrDie("Could not find expected socket element");if(zP){Qd(k.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const B=($=>{let V=null;return{cancel:()=>{Bt(V)||(clearTimeout(V),V=null)},throttle:(...z)=>{Bt(V)&&(V=setTimeout((()=>{V=null,$.apply(null,z)}),20))}}})((()=>{n.dispatch("ScrollContent")})),U=da(k.element,"scroll",B.throttle);n.on("remove",U.unbind)}IA(n,r),n.addCommand("ToggleSidebar",((B,U)=>{ln.toggleSidebar(v,U),($=>{$.dispatch("ToggleSidebar")})(n)})),n.addQueryValueHandler("ToggleSidebar",(()=>{var B;return(B=ln.whichSidebar(v))!==null&&B!==void 0?B:""})),n.addCommand("ToggleView",((B,U)=>{if(ln.toggleView(v,U)){const $=v.element;m.mothership.broadcastOn([Ec()],{target:$}),vt(p,(V=>{V.broadcastOn([Ec()],{target:$})})),Bt(ln.whichView(v))&&(n.focus(),n.nodeChanged(),ln.refreshToolbar(v)),(V=>{V.dispatch("ToggleView")})(n)}})),n.addQueryValueHandler("ToggleView",(()=>{var B;return(B=ln.whichView(v))!==null&&B!==void 0?B:""}));const A=hg(n);A!==_l.sliding&&A!==_l.floating||n.on("ResizeWindow ResizeEditor ResizeContent",(()=>{const B=n.getWin().innerWidth;B!==x.get()&&(ln.refreshToolbar(r.mainUi.outerContainer),x.set(B))}));const M={setEnabled:B=>{z0(r,B?"setEnabled":"setDisabled")},isEnabled:()=>!wt.isDisabled(v)};return{iframeContainer:k.element.dom,editorContainer:v.element.dom,api:M}}});const _w=n=>zt(n)?n+"px":n,ww=(n,r,i)=>{const l=r.filter((m=>n<m)),u=i.filter((m=>n>m));return l.or(u).getOr(n)},G7=n=>{const r=Zx(n),i=Tu(n),l=Yy(n);return(u=r,/^[0-9\.]+(|px)$/i.test(""+u)?E.some(parseInt(""+u,10)):E.none()).map((m=>ww(m,i,l)));var u},{ToolbarLocation:Cw,ToolbarMode:K7}=m3,Y7=(n,r,i,l,u)=>{const{mainUi:m,uiMotherships:p}=i,x=Vx.DOM,v=Th(n),w=Ah(n),S=Yy(n).or(G7(n)),k=l.shared.header,A=k.isPositionedAtTop,M=hg(n),B=M===K7.sliding||M===K7.floating,U=mt(!1),$=()=>U.get()&&!n.removed,V=K=>B?K.fold(ae(0),(oe=>oe.components().length>1?Os(oe.components()[1].element):0)):0,z=()=>{vt(p,(K=>{K.broadcastOn([hu()],{})}))},H=K=>{if(!$())return;v||u.on((re=>{const pe=S.getOrThunk((()=>tr().width-nm(r).left-10));Z(re.element,"max-width",pe+"px")}));const oe=Gt(),te=!(v||v||!(Va(m.outerContainer.element).left+Yc(m.outerContainer.element)>=window.innerWidth-40||os(m.outerContainer.element,"width").isSome())||(Z(m.outerContainer.element,"position","absolute"),Z(m.outerContainer.element,"left","0px"),_o(m.outerContainer.element,"width"),0));if(B&&ln.refreshToolbar(m.outerContainer),!v){const re=Gt(),pe=gs(oe.left!==re.left,oe);((Ce,we)=>{u.on((Oe=>{const ze=ln.getToolbar(m.outerContainer),pt=V(ze),St=Us(r),At=((Rt,Xo)=>Dd(Rt)?Ta(Xo):E.none())(n,m.outerContainer.element),ro=At.fold((()=>St.x),(Rt=>{const Xo=Us(Rt);return lo(Rt,ps())?St.x:St.x-Xo.x})),Ho=gs(Ce,Math.ceil(m.outerContainer.element.dom.getBoundingClientRect().width)).filter((Rt=>Rt>150)).map((Rt=>{const Xo=we.getOr(Gt()),Ft=window.innerWidth-(ro-Xo.left),Nn=Math.max(Math.min(Rt,Ft),150);return Ft<Rt&&Z(m.outerContainer.element,"width",Nn+"px"),{width:Nn+"px"}})).getOr({width:"max-content"}),nn={position:"absolute",left:Math.round(ro)+"px",top:At.fold((()=>A()?Math.max(St.y-Os(Oe.element)+pt,0):St.bottom),(Rt=>{var Xo;const Ft=Us(Rt),Nn=(Xo=Rt.dom.scrollTop)!==null&&Xo!==void 0?Xo:0,Io=lo(Rt,ps())?Math.max(St.y-Os(Oe.element)+pt,0):St.y-Ft.y+Nn-Os(Oe.element)+pt;return A()?Io:St.bottom}))+"px"};Qd(m.outerContainer.element,{...nn,...Ho})}))})(te,pe),pe.each((Ce=>{mp(Ce.left,re.top)}))}w&&u.on(K),z()},j=()=>!(v||!w||!$())&&u.get().exists((K=>{const oe=k.getDockingMode(),te=(pe=>{switch(Wx(n)){case Cw.auto:const Ce=ln.getToolbar(m.outerContainer),we=V(Ce),Oe=Os(pe.element)-we,ze=Us(r);if(ze.y>Oe)return"top";{const pt=Ti(r),St=Math.max(pt.dom.scrollHeight,Os(pt));return ze.bottom<St-Oe||Tr().bottom<ze.bottom-Oe?"bottom":"top"}case Cw.bottom:return"bottom";case Cw.top:default:return"top"}})(K);return te!==oe&&(re=te,u.on((pe=>{Wn.setModes(pe,[re]),k.setDockingMode(re);const Ce=A()?Ii.TopToBottom:Ii.BottomToTop;Vt(pe.element,fd,Ce)})),!0);var re}));return{isVisible:$,isPositionedAtTop:A,show:()=>{U.set(!0),Z(m.outerContainer.element,"display","flex"),x.addClass(n.getBody(),"mce-edit-focus"),vt(p,(K=>{_o(K.element,"display")})),j(),Dd(n)?H((K=>Wn.isDocked(K)?Wn.reset(K):Wn.refresh(K))):H(Wn.refresh)},hide:()=>{U.set(!1),Z(m.outerContainer.element,"display","none"),x.removeClass(n.getBody(),"mce-edit-focus"),vt(p,(K=>{Z(K.element,"display","none")}))},update:H,updateMode:()=>{j()&&H(Wn.reset)},repositionPopups:z}},OS=(n,r)=>{const i=Us(n);return{pos:r?i.y:i.bottom,bounds:i}};var X7=Object.freeze({__proto__:null,render:(n,r,i,l,u)=>{const{mainUi:m}=r,p=mn(),x=at(u.targetNode),v=Y7(n,x,r,l,p),w=r6(n);MP(n);const S=()=>{if(p.isSet())return void v.show();p.set(ln.getHeader(m.outerContainer).getOrDie());const A=d3(n);Dd(n)?(Ae(x,m.mothership),Ae(x,r.popupUi.mothership)):yC(A,m.mothership),yC(A,r.dialogUi.mothership);const M=()=>{W7(n,r,i,l),ln.setMenubar(m.outerContainer,k7(n,i)),v.show(),((B,U,$,V)=>{const z=mt(OS(U,$.isPositionedAtTop())),H=te=>{const{pos:re,bounds:pe}=OS(U,$.isPositionedAtTop()),{pos:Ce,bounds:we}=z.get(),Oe=pe.height!==we.height||pe.width!==we.width;z.set({pos:re,bounds:pe}),Oe&&F_(B,te),$.isVisible()&&(Ce!==re?$.update(Wn.reset):Oe&&($.updateMode(),$.repositionPopups()))};V||(B.on("activate",$.show),B.on("deactivate",$.hide)),B.on("SkinLoaded ResizeWindow",(()=>$.update(Wn.reset))),B.on("NodeChange keydown",(te=>{requestAnimationFrame((()=>H(te)))}));let j=0;const K=mf((()=>$.update(Wn.refresh)),33);B.on("ScrollWindow",(()=>{const te=Gt().left;te!==j&&(j=te,K.throttle()),$.updateMode()})),Dd(B)&&B.on("ElementScroll",(te=>{$.update(Wn.refresh)}));const oe=Yr();oe.set(ap(at(B.getBody()),"load",(te=>H(te.raw)))),B.on("remove",(()=>{oe.clear()}))})(n,x,v,w),n.nodeChanged()};w?n.once("SkinLoaded",M):M()};n.on("show",S),n.on("hide",v.hide),w||(n.on("focus",S),n.on("blur",v.hide)),n.on("init",(()=>{(n.hasFocus()||w)&&S()})),IA(n,r);const k={show:S,hide:v.hide,setEnabled:A=>{z0(r,A?"setEnabled":"setDisabled")},isEnabled:()=>!wt.isDisabled(m.outerContainer)};return{editorContainer:m.outerContainer.element.dom,api:k}}});const J7="contexttoolbar-hide",DS=(n,r,i)=>({setInputEnabled:l=>{!l&&i&&_n(i),wt.set(n,!l)},isInputEnabled:()=>!wt.isDisabled(n),hide:()=>{no(n,Ap())},back:()=>{no(n,pw)},getValue:()=>r.get().getOrThunk((()=>lt.getValue(n))),setValue:l=>{n.getSystem().isConnected()?lt.setValue(n,l):r.set(l)}}),kw=(n,r,i)=>{const l=Vn(n.element).bind((u=>n.getSystem().getByDom(u).toOptional()));return DS(l.getOr(n),r,i)},Q7=(n,r,i)=>Ne(Wk,((l,u)=>{const m=n.get(l),p=DS(m,i,l.element);r.onAction(p,u.event.buttonApi)})),e8=(n,r,i,l)=>{const u=Ke(r,(m=>Zo(((p,x,v,w)=>(S=>S.type==="contextformtogglebutton")(x)?((S,k,A,M)=>{const{primary:B,...U}=k.original,$=Aa(TA({...U,type:"togglebutton",onAction:Me}));return vS($,A,[Q7(S,k,M)])})(p,x,v,w):((S,k,A,M)=>{const{primary:B,...U}=k.original,$=Aa(lv({...U,type:"button",onAction:Me}));return xS($,A,[Q7(S,k,M)])})(p,x,v,w))(n,m,i,l))));return{asSpecs:()=>Ke(u,(m=>m.asSpec())),findPrimary:m=>wa(r,((p,x)=>p.primary?E.from(u[x]).bind((v=>v.getOpt(m))).filter(ns(wt.isDisabled)):E.none()))}},Sw=(n,r,i,l)=>{const{width:u,height:m}=n.initValue();let p=Q_;const x=ge("ratio-event"),v=te=>DS(te,l),w=te=>Zi(te,{tag:"span",classes:["tox-icon","tox-lock-icon__"+te]},r.icons),S=()=>!1,k=n.label.getOr("Constrain proportions"),A=r.translate(k),M=jn.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":A,"data-mce-name":k}},components:[w("lock"),w("unlock")],buttonBehaviours:He([wt.config({disabled:S}),Lo.config({}),Dn.config(r.tooltips.getConfig({tooltipText:A}))])}),B=te=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:te}),U=te=>Ua(te.element,"div.tox-focusable-wrapper").fold(E.none,(re=>(_n(re),E.some(!0)))),$=te=>uo.parts.field({factory:Zm,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:te?u:m,inputBehaviours:He([wt.config({disabled:S}),Lo.config({}),It("size-input-toolbar-events",[Ne(Bi(),((re,pe)=>{Ct(re,x,{isField1:te})}))]),ht.config({mode:"special",onEnter:i,onEscape:U})]),selectOnFocus:!1}),V=te=>({dom:{tag:"label",classes:["tox-label"]},components:[Hn(r.translate(te))]}),z=te=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[te],behaviours:He([Lo.config({}),Zt.config({}),ht.config({mode:"special",onEnter:re=>Qo(re.element,"input").fold(E.none,(pe=>(_n(pe),E.some(!0))))})])}),H=z(jn.parts.field1(B([uo.parts.label(V("Width:")),$(!0)]))),j=z(jn.parts.field2(B([uo.parts.label(V("Height:")),$(!1)]))),K=mt(Me),oe=[Md({onBeforeSetup:te=>Qo(te.element,"input").each(_n),onSetup:n.onSetup,getApi:v},K),tk({getApi:v},K,l)];return jn.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[H,B([M]),j],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(te,re,pe)=>{J_(lt.getValue(te)).each((Ce=>{p(Ce).each((we=>{lt.setValue(re,zO(we))}))}))},onInput:te=>no(te,fO),coupledFieldBehaviours:He([Zt.config({}),ht.config({mode:"flow",focusInside:cd.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),wt.config({disabled:S,onDisabled:te=>{jn.getField1(te).bind(uo.getField).each(wt.disable),jn.getField2(te).bind(uo.getField).each(wt.disable),jn.getLock(te).each(wt.disable)},onEnabled:te=>{jn.getField1(te).bind(uo.getField).each(wt.enable),jn.getField2(te).bind(uo.getField).each(wt.enable),jn.getLock(te).each(wt.enable)}}),ws((()=>r.checkUiComponentContext("mode:design"))),It("size-input-toolbar-events2",[Ne(x,((te,re)=>{const pe=re.event.isField1,Ce=pe?jn.getField1(te):jn.getField2(te),we=pe?jn.getField2(te):jn.getField1(te),Oe=Ce.map(lt.getValue).getOr(""),ze=we.map(lt.getValue).getOr("");p=Ev(Oe,ze)})),Ne(fO,(te=>n.onInput(v(te)))),...oe])])})},Id=(n,r,i)=>uo.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...n.toArray(),r],fieldBehaviours:He([wt.config({disabled:()=>i.checkUiComponentContext("mode:design").shouldDisable,onDisabled:l=>{(u=>{Vr(u.element).each((m=>{Ua(m,'[tabindex="-1"]').each((p=>{_n(p)}))}))})(l),uo.getField(l).each(wt.disable)},onEnabled:l=>{uo.getField(l).each(wt.enable)}})])}),Mv=(n,r,i,l)=>{const u=mt(Me),m=v=>kw(v,l),p=n.label.map((v=>uo.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Hn(r.translate(v))]}))),x=uo.parts.field({factory:Zm,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(n.min()),max:String(n.max())},data:n.initValue().toString(),fromInputValue:v=>(w=>{const S=parseFloat(w);return isNaN(S)?E.none():E.some(S)})(v).getOr(n.min()),toInputValue:v=>String(v),inputBehaviours:He([wt.config({disabled:()=>r.checkUiComponentContext("mode:design").shouldDisable}),ws((()=>r.checkUiComponentContext("mode:design"))),ht.config({mode:"special",onEnter:i,onLeft:(v,w)=>(w.cut(),E.none()),onRight:(v,w)=>(w.cut(),E.none())}),It("slider-events",[Md({onSetup:n.onSetup,getApi:m,onBeforeSetup:ht.focusIn},u),tk({getApi:m},u,l),Ne(ad(),(v=>{n.onInput(m(v))}))])])});return Id(p,x,r)},tc=(n,r,i,l)=>{const u=mt(Me),m=w=>kw(w,l),p=n.label.map((w=>uo.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Hn(r.translate(w))]}))),x={...n.placeholder.map((w=>({placeholder:r.translate(w)}))).getOr({})},v=uo.parts.field({factory:Zm,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:x,data:n.initValue(),selectOnFocus:!0,inputBehaviours:He([wt.config({disabled:()=>r.checkUiComponentContext("mode:design").shouldDisable}),ws((()=>r.checkUiComponentContext("mode:design"))),ht.config({mode:"special",onEnter:i,onLeft:(w,S)=>(S.cut(),E.none()),onRight:(w,S)=>(S.cut(),E.none())}),It("input-events",[Md({onSetup:n.onSetup,getApi:w=>Ua(w.element,".tox-toolbar").bind((S=>Qo(S,"button:enabled"))).fold((()=>kw(w,l)),(S=>kw(w,l,S))),onBeforeSetup:ht.focusIn},u),tk({getApi:m},u,l),Ne(ad(),(w=>{n.onInput(m(w))}))])])});return Id(p,v,r)},NS=(n,r,i)=>{const l=mn(),u=Zo(n(i,(v=>p.findPrimary(v).orThunk((()=>x.findPrimary(v))).map((w=>(Vp(w),!0)))),l)),m=Vu(r.commands,(v=>v.align==="start")),p=e8(u,m.pass,i,l),x=e8(u,m.fail,i,l);return sn([{title:E.none(),label:E.none(),items:p.asSpecs()},{title:E.none(),label:E.none(),items:[u.asSpec()]},{title:E.none(),label:E.none(),items:x.asSpecs()}],(v=>v.items.length>0))},Ew=(n,r)=>{switch(n.type){case"contextform":return NS(eo(tc,n),n,r);case"contextsliderform":return NS(eo(Mv,n),n,r);case"contextsizeinputform":return NS(eo(Sw,n),n,r)}},t8=(n,r,i)=>r.bottom-n.y>=i&&n.bottom-r.y>=i,tf=n=>{const r=(i=>{const l=i.getBoundingClientRect();if(l.height<=0&&l.width<=0){const u=Sb(at(i.startContainer),i.startOffset).element;return(ic(u)?Vn(u):E.some(u)).filter($r).map((m=>m.dom.getBoundingClientRect())).getOr(l)}return l})(n.selection.getRng());if(n.inline){const i=Gt();return Ns(i.left+r.left,i.top+r.top,r.width,r.height)}{const i=pc(at(n.getBody()));return Ns(i.x+r.left,i.y+r.top,r.width,r.height)}},o8=(n,r,i,l=0)=>{const u=tr(window),m=Us(at(n.getContentAreaContainer())),p=bg(n)||Gx(n)||Kx(n),{x,width:v}=((w,S,k)=>{const A=Math.max(w.x+k,S.x);return{x:A,width:Math.min(w.right-k,S.right)-A}})(m,u,l);if(n.inline&&!p)return Ns(x,u.y,v,u.height);{const w=r.header.isPositionedAtTop(),{y:S,bottom:k}=((A,M,B,U,$,V)=>{const z=at(A.getContainer()),H=Qo(z,".tox-editor-header").getOr(z),j=Us(H),K=j.y>=M.bottom,oe=U&&!K;if(A.inline&&oe)return{y:Math.max(j.bottom+V,B.y),bottom:B.bottom};if(A.inline&&!oe)return{y:B.y,bottom:Math.min(j.y-V,B.bottom)};const te=$==="line"?Us(z):M;return oe?{y:Math.max(j.bottom+V,B.y),bottom:Math.min(te.bottom-V,B.bottom)}:{y:Math.max(te.y+V,B.y),bottom:Math.min(j.y-V,B.bottom)}})(n,m,u,w,i,l);return Ns(x,S,v,k-S)}},Tw={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},Aw={maxHeightFunction:wm(),maxWidthFunction:G1()},n8=n=>n==="node",HP=(n,r,i,l,u)=>{const m=tf(n),p=l.lastElement().exists((x=>lo(i,x)));return((x,v)=>{const w=x.selection.getRng(),S=Sb(at(w.startContainer),w.startOffset);return w.startContainer===w.endContainer&&w.startOffset===w.endOffset-1&&lo(S.element,v)})(n,i)?p?F2:ui:p?((x,v)=>{const w=os(x,"position");Z(x,"position",v);const S=t8(m,Us(r),-20)&&!l.isReposition()?ox:F2;return w.each((k=>Z(x,"position",k))),S})(r,l.getMode()):(l.getMode()==="fixed"?u.y+Gt().top:u.y)+(Os(r)+12)<=m.y?ui:Vf},Vh=(n,r,i,l)=>{const u=p=>(x,v,w,S,k)=>({...HP(n,S,p,i,k)({...x,y:k.y,height:k.height},v,w,S,k),alwaysFit:!0}),m=p=>n8(l)?[u(p)]:[];return r?{onLtr:p=>[ls,Bs,Ps,Or,ir,lr].concat(m(p)),onRtl:p=>[ls,Ps,Bs,ir,Or,lr].concat(m(p))}:{onLtr:p=>[lr,ls,Or,Bs,ir,Ps].concat(m(p)),onRtl:p=>[lr,ls,ir,Ps,Or,Bs].concat(m(p))}},Ow=(n,r)=>{const i=sn(r,(m=>m.predicate(n.dom))),{pass:l,fail:u}=Vu(i,(m=>m.type==="contexttoolbar"));return{contextToolbars:l,contextForms:u}},s8=(n,r)=>{const i={},l=[],u=[],m={},p={},x=Go(n);return vt(x,(v=>{const w=n[v];w.type==="contextform"||w.type==="contextsliderform"||w.type==="contextsizeinputform"?((S,k)=>{const A=Aa(An("ContextForm",Fc,k));i[S]=A,A.launch.map((M=>{m["form:"+S]={...k.launch,type:M.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{r(A)}}})),A.scope==="editor"?u.push(A):l.push(A),p[S]=A})(v,w):w.type==="contexttoolbar"&&((S,k)=>{var A;(A=k,An("ContextToolbar",X3,A)).each((M=>{M.launch.isSome()&&(m["toolbar:"+S]={...k.launch,type:"button",onAction:()=>{r(M)}}),k.scope==="editor"?u.push(M):l.push(M),p[S]=M}))})(v,w)})),{forms:i,inNodeScope:l,inEditorScope:u,lookupTable:p,formNavigators:m}},J0="tox-pop--transition",Q0=(n,r,i,l)=>{const u=l.backstage,m=u.shared,p=ol().deviceType.isTouch,x=mn(),v=mn(),w=mn(),S=(re=>{const pe=mt([]);return{sketch:qn.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:we=>{pe.set([]),qn.getContent(we).each((Oe=>{_o(Oe.element,"visibility")})),fn(we.element,wS),_o(we.element,"width")},onHide:()=>{pe.set([]),re.onHide()},inlineBehaviours:He([It("context-toolbar-events",[pd(Bf(),((we,Oe)=>{Oe.event.raw.propertyName==="width"&&(fn(we.element,wS),_o(we.element,"width"))})),Ne(_S,((we,Oe)=>{const ze=we.element;_o(ze,"width");const pt=Fn(ze),St=Vr(we.element).isSome();_o(ze,"left"),_o(ze,"right"),_o(ze,"max-width"),qn.setContent(we,Oe.event.contents),Ln(ze,wS);const At=Fn(ze);Z(ze,"transition","none"),qn.reposition(we),_o(ze,"transition"),Z(ze,"width",pt+"px"),Oe.event.focus.fold((()=>{St&&yS(we)}),(ro=>{Ml(er(we.element)).fold((()=>_n(ro)),(Ho=>{lo(Ho,ro)||re.focusElement(ro)}))})),setTimeout((()=>{Z(we.element,"width",At+"px")}),0)})),Ne(D7,((we,Oe)=>{qn.getContent(we).each((ze=>{pe.set(pe.get().concat([{bar:ze,focus:Ml(er(we.element))}]))})),Ct(we,_S,{contents:Oe.event.forwardContents,focus:E.none()})})),Ne(pw,((we,Oe)=>{re.onBack(),Pt(pe.get()).each((ze=>{pe.set(pe.get().slice(0,pe.get().length-1)),Ct(we,_S,{contents:pl(ze.bar),focus:ze.focus})}))}))]),ht.config({mode:"special",onEscape:we=>Pt(pe.get()).fold((()=>re.onEscape()),(Oe=>(no(we,pw),E.some(!0))))})]),lazySink:()=>yo.value(re.sink)}),inSubtoolbar:()=>pe.get().length>0}})({sink:i,onEscape:()=>(n.focus(),qA(n),E.some(!0)),onHide:()=>{qA(n)},onBack:()=>{(re=>{re.dispatch("ContextFormSlideBack")})(n)},focusElement:re=>{n.getBody().contains(re.dom)?n.focus():_n(re)}}),k=ba(S.sketch),A=()=>{const re=w.get().getOr("node"),pe=n8(re)?1:0;return o8(n,m,re,pe)},M=()=>!(n.removed||p()&&u.isContextMenuOpen()),B=()=>{if(M()){const re=A(),pe=Bn(w.get(),"node")?((Ce,we)=>we.filter((Oe=>ma(Oe)&&Ku(Oe))).map(pc).getOrThunk((()=>tf(Ce))))(n,x.get()):tf(n);return re.height<=0||!t8(pe,re,.01)}return!0},U=()=>{x.clear(),v.clear(),w.clear(),qn.hide(k)},$=()=>{if(qn.isOpen(k)){const re=k.element;_o(re,"display"),B()?Z(re,"display","none"):(v.set(0),qn.reposition(k))}},V=re=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[re],behaviours:He([ht.config({mode:"acyclic"}),It("pop-dialog-wrap-events",[gn((pe=>{n.shortcuts.add("ctrl+F9","focus statusbar",(()=>ht.focusIn(pe)))})),Fi((pe=>{n.shortcuts.remove("ctrl+F9")}))])])}),z=re=>{const pe=j([re]);Ct(k,D7,{forwardContents:V(pe)})},H=gr((()=>s8(r,z))),j=re=>{const{buttons:pe}=n.ui.registry.getAll(),Ce={...pe,...H().formNavigators},we=hg(n)===_l.scrolling?_l.scrolling:_l.default,Oe=fr(Ke(re,(ze=>{return ze.type==="contexttoolbar"?((St,At)=>yw(n,{buttons:St,toolbar:At.items,allowToolbarGroups:!1},l.backstage,E.some(["form:","toolbar:"])))(Ce,(pt=ze,{...pt,launch:pt.launch.getOrUndefined(),items:Le(pt.items)?pt.items:Ke(pt.items,J3)})):((St,At)=>Ew(St,At))(ze,m.providers);var pt})));return mS({type:we,uid:ge("context-toolbar"),initGroups:Oe,onEscape:E.none,cyclicKeying:!0,providers:m.providers})},K=(re,pe)=>{if(te.cancel(),!M())return;const Ce=j(re),we=re[0].position,Oe=((pt,St)=>{const At=pt==="node"?m.anchors.node(St):m.anchors.cursor(),ro=((Ho,nn,Rt,Xo)=>nn==="line"?{bubble:Ya(12,0,Tw),layouts:{onLtr:()=>[vm],onRtl:()=>[W1]},overrides:Aw}:{bubble:Ya(0,12,Tw,1/12),layouts:Vh(Ho,Rt,Xo,nn),overrides:Aw})(n,pt,p(),{lastElement:x.get,isReposition:()=>Bn(v.get(),0),getMode:()=>Ls.getMode(i)});return as(At,ro)})(we,pe);w.set(we),v.set(1);const ze=k.element;_o(ze,"display"),(pt=>Bn(ju(pt,x.get(),lo),!0))(pe)||(fn(ze,J0),Ls.reset(i,k)),qn.showWithinBounds(k,V(Ce),{anchor:Oe,transition:{classes:[J0],mode:"placement"}},(()=>E.some(A()))),pe.fold(x.clear,x.set),B()&&Z(ze,"display","none")};let oe=!1;const te=mf((()=>{!n.hasFocus()||n.removed||oe||(xs(k.element,J0)?te.throttle():((re,pe)=>{const Ce=at(pe.getBody()),we=ze=>lo(ze,Ce),Oe=at(pe.selection.getNode());return(ze=>!we(ze)&&!pf(Ce,ze))(Oe)?E.none():((ze,pt,St)=>{const At=Ow(ze,pt);if(At.contextForms.length>0)return E.some({elem:ze,toolbars:[At.contextForms[0]]});{const ro=Ow(ze,St);if(ro.contextForms.length>0)return E.some({elem:ze,toolbars:[ro.contextForms[0]]});if(At.contextToolbars.length>0||ro.contextToolbars.length>0){const Ho=(nn=>{if(nn.length<=1)return nn;{const Rt=Io=>dn(nn,(Js=>Js.position===Io)),Xo=Io=>sn(nn,(Js=>Js.position===Io)),Ft=Rt("selection"),Nn=Rt("node");if(Ft||Nn){if(Nn&&Ft){const Io=Xo("node"),Js=Ke(Xo("selection"),(cn=>({...cn,position:"node"})));return Io.concat(Js)}return Xo(Ft?"selection":"node")}return Xo("line")}})(At.contextToolbars.concat(ro.contextToolbars));return E.some({elem:ze,toolbars:Ho})}return E.none()}})(Oe,re.inNodeScope,re.inEditorScope).orThunk((()=>((ze,pt,St)=>ze(pt)?E.none():h1(pt,(At=>{if($r(At)){const{contextToolbars:ro,contextForms:Ho}=Ow(At,St.inNodeScope),nn=Ho.length>0?Ho:(Rt=>{if(Rt.length<=1)return Rt;{const Xo=Ft=>P(Rt,(Nn=>Nn.position===Ft));return Xo("selection").orThunk((()=>Xo("node"))).orThunk((()=>Xo("line"))).map((Ft=>Ft.position)).fold((()=>[]),(Ft=>sn(Rt,(Nn=>Nn.position===Ft))))}})(ro);return nn.length>0?E.some({elem:At,toolbars:nn}):E.none()}return E.none()}),ze))(we,Oe,re)))})(H(),n).fold(U,(re=>{K(re.toolbars,E.some(re.elem))})))}),17);n.on("init",(()=>{n.on("remove",U),n.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",$),n.on("click focus SetContent",te.throttle),n.on("keyup",(re=>{var pe;((pe=re.keyCode)!==xw.ENTER&&pe!==xw.SPACEBAR||!S.inSubtoolbar())&&te.throttle()})),n.on(J7,U),n.on("contexttoolbar-show",(re=>{const pe=H();Dt(pe.lookupTable,re.toolbarKey).each((Ce=>{K([Ce],gs(re.target!==n,re.target)),yS(k)}))})),n.on("focusout",(re=>{T0.setEditorTimeout(n,(()=>{Vr(i.element).isNone()&&Vr(k.element).isNone()&&!n.hasFocus()&&U()}),0)})),n.on("SwitchMode",(()=>{n.mode.isReadOnly()&&U()})),n.on("DisabledStateChange",(re=>{re.state&&U()})),n.on("ExecCommand",(({command:re})=>{re.toLowerCase()==="toggleview"&&U()})),n.on("AfterProgressState",(re=>{re.state?U():n.hasFocus()&&te.throttle()})),n.on("dragstart",(()=>{oe=!0})),n.on("dragend drop",(()=>{oe=!1})),n.on("NodeChange",(re=>{S.inSubtoolbar()?(Z(k.element,"transition","none"),$(),_o(k.element,"transition")):Vr(k.element).fold(te.throttle,Me)}))}))},Uh=(n,r)=>{const i=()=>{const l=r.getOptions(n),u=r.getCurrent(n).map(r.hash),m=mn();return Ke(l,(p=>({type:"togglemenuitem",text:r.display(p),onSetup:x=>{const v=S=>{S&&(m.on((k=>k.setActive(!1))),m.set(x)),x.setActive(S)};v(Bn(u,r.hash(p)));const w=r.watcher(n,p,v);return()=>{m.clear(),w()}},onAction:()=>r.setCurrent(n,p)})))};n.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:l=>l(i()),onSetup:r.onToolbarSetup}),n.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:i,onSetup:r.onMenuSetup})},eb=n=>{Uh(n,(r=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:l3,hash:i=>(l=>Ea(l,["fixed","relative","empty"]).map((({value:u,unit:m})=>u+m)))(i).getOr(i),display:dt,watcher:(i,l,u)=>i.formatter.formatChanged("lineheight",u,!1,{value:l}).unbind,getCurrent:i=>E.from(i.queryCommandValue("LineHeight")),setCurrent:(i,l)=>i.execCommand("LineHeight",!1,l),onToolbarSetup:za(r),onMenuSetup:za(r)}))(n)),(r=>E.from(n6(r)).map((i=>({name:"language",text:"Language",icon:"language",getOptions:ae(i),hash:l=>ao(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,u,m)=>{var p;return l.formatter.formatChanged("lang",m,!1,{value:u.code,customValue:(p=u.customCode)!==null&&p!==void 0?p:null}).unbind},getCurrent:l=>{const u=at(l.selection.getNode());return bp(u,(m=>E.some(m).filter($r).bind((p=>$s(p,"lang").map((x=>({code:x,customCode:$s(p,"data-mce-lang").getOrUndefined(),title:""})))))))},setCurrent:(l,u)=>l.execCommand("Lang",!1,u),onToolbarSetup:l=>{const u=Yr();return l.setActive(r.formatter.match("lang",{},void 0,!0)),u.set(r.formatter.formatChanged("lang",l.setActive,!0)),H_(u.clear,za(r)(l))},onMenuSetup:za(r)}))))(n).each((r=>Uh(n,r)))},r8=n=>Dg(n,"NodeChange",(r=>{r.setEnabled(n.queryCommandState("outdent")&&n.selection.isEditable())})),a8=(n,r)=>i=>{i.setActive(r.get());const l=u=>{r.set(u.state),i.setActive(u.state)};return n.on("PastePlainTextToggle",l),H_((()=>n.off("PastePlainTextToggle",l)),za(n)(i))},Bv=(n,r)=>()=>{n.execCommand("mceToggleFormat",!1,r)},i8=n=>{(r=>{(i=>{Mu.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],((l,u)=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:xv(i,l.name),onAction:Bv(i,l.name),shortcut:l.shortcut})}));for(let l=1;l<=6;l++){const u="h"+l,m=`Access+${l}`;i.ui.registry.addToggleButton(u,{text:u.toUpperCase(),tooltip:"Heading "+l,onSetup:xv(i,u),onAction:Bv(i,u),shortcut:m})}})(r),(i=>{Mu.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],(l=>{i.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Gi(i,l.action),shortcut:l.shortcut,context:l.context})})),Mu.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(l=>{i.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:za(i),onAction:Gi(i,l.action)})}))})(r),(i=>{Mu.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(l=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Gi(i,l.action),onSetup:xv(i,l.name)})}))})(r)})(n),(r=>{Mu.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],(i=>{r.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onAction:Gi(r,i.action),context:i.context})})),Mu.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(i=>{r.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onSetup:za(r),onAction:Gi(r,i.action)})})),r.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:za(r),onAction:Bv(r,"code")})})(n)},Pv=(n,r)=>Dg(n,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(i=>{i.setEnabled(!n.mode.isReadOnly()&&n.undoManager[r]())})),Lv=n=>Dg(n,"VisualAid",(r=>{r.setActive(n.hasVisual)})),$P=(n,r)=>{(i=>{vt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(l=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Gi(i,l.cmd),onSetup:xv(i,l.name)})})),i.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:za(i),onAction:Gi(i,"JustifyNone")})})(n),i8(n),((i,l)=>{((u,m)=>{const p=Y0(m,M7(u));u.ui.registry.addNestedMenuItem("align",{text:m.shared.providers.translate("Align"),onSetup:za(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,m)=>{const p=Y0(m,ES(u));u.ui.registry.addNestedMenuItem("fontfamily",{text:m.shared.providers.translate("Fonts"),onSetup:za(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,m)=>{const p={type:"advanced",...m.styles},x=Y0(m,Z7(u,p));u.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:za(u,(()=>x.getStyleItems().length>0)),getSubmenuItems:()=>x.items.validateItems(x.getStyleItems())})})(i,l),((u,m)=>{const p=Y0(m,L7(u));u.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:za(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,m)=>{const p=Y0(m,V7(u));u.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:za(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l)})(n,r),(i=>{(l=>{l.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:Pv(l,"hasUndo"),onAction:Gi(l,"undo")}),l.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:Pv(l,"hasRedo"),onAction:Gi(l,"redo")})})(i),(l=>{l.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:Pv(l,"hasUndo"),onAction:Gi(l,"undo"),shortcut:"Meta+Z"}),l.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:Pv(l,"hasRedo"),onAction:Gi(l,"redo"),shortcut:"Meta+Y"})})(i)})(n),(i=>{(x=>{x.addCommand("mceApplyTextcolor",((v,w)=>{((S,k,A)=>{S.undoManager.transact((()=>{S.focus(),S.formatter.apply(k,{value:A}),S.nodeChanged()}))})(x,v,w)})),x.addCommand("mceRemoveTextcolor",(v=>{((w,S)=>{w.undoManager.transact((()=>{w.focus(),w.formatter.remove(S,{value:null},void 0,!0),w.nodeChanged()}))})(x,v)}))})(i);const l=mB(i),u=fB(i),m=mt(l),p=mt(u);rO(i,"forecolor","forecolor",m),rO(i,"backcolor","hilitecolor",p),aO(i,"forecolor","forecolor","Text color",m),aO(i,"backcolor","hilitecolor","Background color",p)})(n),(i=>{(l=>{l.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Gi(l,"mceToggleVisualAid"),context:"any"})})(i),(l=>{l.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:Lv(l),onAction:Gi(l,"mceToggleVisualAid"),context:"any"})})(i)})(n),(i=>{(l=>{l.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:r8(l),onAction:Gi(l,"outdent")}),l.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:za(l,(()=>l.queryCommandState("indent"))),onAction:Gi(l,"indent")})})(i)})(n),eb(n),(i=>{const l=mt(u6(i)),u=()=>i.execCommand("mceTogglePlainTextPaste");i.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:u,onSetup:a8(i,l)}),i.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:u,onSetup:a8(i,l)})})(n),(i=>{i.ui.registry.addContext("editable",(()=>i.selection.isEditable())),i.ui.registry.addContext("mode",(l=>i.mode.get()===l)),i.ui.registry.addContext("any",Ut),i.ui.registry.addContext("formatting",(l=>i.formatter.canApply(l))),i.ui.registry.addContext("insert",(l=>i.schema.isValidChild(i.selection.getNode().tagName,l)))})(n)},VP=n=>Le(n)?n.split(/[ ,]/):n,l8=n=>r=>r.options.get(n),c8=l8("contextmenu_never_use_native"),RS=l8("contextmenu_avoid_overlap"),d8=n=>{const r=n.ui.registry.getAll().contextMenus,i=n.options.get("contextmenu");return n.options.isSet("contextmenu")?i:sn(i,(l=>$o(r,l)))},Zh=(n,r)=>({type:"makeshift",x:n,y:r}),u8=n=>n.type==="longpress"||n.type.indexOf("touch")===0,Iv=(n,r)=>r.type==="contextmenu"||r.type==="longpress"?n.inline?(i=>{if(u8(i)){const l=i.touches[0];return Zh(l.pageX,l.pageY)}return Zh(i.pageX,i.pageY)})(r):((i,l)=>{const u=Vx.DOM.getPos(i);return((m,p,x)=>Zh(m.x+p,m.y+x))(l,u.x,u.y)})(n.getContentAreaContainer(),(i=>{if(u8(i)){const l=i.touches[0];return Zh(l.clientX,l.clientY)}return Zh(i.clientX,i.clientY)})(r)):m8(n),m8=n=>({type:"selection",root:at(n.selection.getNode())}),MS=(n,r,i)=>{switch(i){case"node":return(l=>({type:"node",node:E.some(at(l.selection.getNode())),root:at(l.getBody())}))(n);case"point":return Iv(n,r);case"selection":return m8(n)}},UP=(n,r,i,l,u,m)=>{const p=i(),x=MS(n,r,m);U0(p,Pc.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:E.none()}).map((v=>{r.preventDefault(),qn.showMenuAt(u,{anchor:x},{menu:{markers:vg("normal")},data:v})}))},ZP={onLtr:()=>[ls,Bs,Ps,Or,ir,lr,ui,Vf,_m,$p,$f,ym],onRtl:()=>[ls,Ps,Bs,ir,Or,lr,ui,Vf,$f,ym,_m,$p]},WP={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},jP=(n,r,i,l,u,m)=>{const p=ol(),x=p.os.isiOS(),v=p.os.isMacOS(),w=p.os.isAndroid(),S=p.deviceType.isTouch(),k=()=>{const A=i();((M,B,U,$,V,z,H)=>{const j=((K,oe,te)=>{const re=MS(K,oe,te);return{bubble:Ya(0,te==="point"?12:0,WP),layouts:ZP,overrides:{maxWidthFunction:G1(),maxHeightFunction:wm()},...re}})(M,B,z);U0(U,Pc.CLOSE_ON_EXECUTE,$,{isHorizontalMenu:!0,search:E.none()}).map((K=>{B.preventDefault();const oe=H?aa.HighlightMenuAndItem:aa.HighlightNone;qn.showMenuWithinBounds(V,{anchor:j},{menu:{markers:vg("normal"),highlightOnOpen:oe},data:K,type:"horizontal"},(()=>E.some(o8(M,$.shared,z==="node"?"node":"selection")))),M.dispatch(J7)}))})(n,r,A,l,u,m,!(w||x||v&&S))};if((v||x)&&m!=="node"){const A=()=>{(M=>{const B=M.selection.getRng(),U=()=>{T0.setEditorTimeout(M,(()=>{M.selection.setRng(B)}),10),z()};M.once("touchend",U);const $=H=>{H.preventDefault(),H.stopImmediatePropagation()};M.on("mousedown",$,!0);const V=()=>z();M.once("longpresscancel",V);const z=()=>{M.off("touchend",U),M.off("longpresscancel",V),M.off("mousedown",$)}})(n),k()};((M,B)=>{const U=M.selection;if(U.isCollapsed()||B.touches.length<1)return!1;{const $=B.touches[0],V=U.getRng();return w1(M.getWin(),Pl.domRange(V)).exists((z=>z.left<=$.clientX&&z.right>=$.clientX&&z.top<=$.clientY&&z.bottom>=$.clientY))}})(n,r)?A():(n.once("selectionchange",A),n.once("touchend",(()=>n.off("selectionchange",A))))}else k()},Fv=n=>Le(n)?n==="|":n.type==="separator",Dw={type:"separator"},f8=n=>{const r=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(Le(n))return n;switch(n.type){case"separator":return Dw;case"submenu":return{type:"nestedmenuitem",...r(n),getSubmenuItems:()=>{const l=n.getSubmenuItems();return Le(l)?l:Ke(l,f8)}};default:const i=n;return{type:"menuitem",...r(i),onAction:No(i.onAction)}}},Nw=(n,r)=>{if(r.length===0)return n;const i=Pt(n).filter((l=>!Fv(l))).fold((()=>[]),(l=>[Dw]));return n.concat(i).concat(r).concat([Dw])},zg=(n,r)=>!(i=>i.type==="longpress"||$o(i,"touches"))(r)&&(r.button!==2||r.target===n.getBody()&&r.pointerType===""),BS=(n,r)=>zg(n,r)?n.selection.getStart(!0):r.target,zv=(n,r,i)=>{const l=ol().deviceType.isTouch,u=ba(qn.sketch({dom:{tag:"div"},lazySink:r,onEscape:()=>n.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:He([It("dismissContextMenu",[Ne(fm(),((x,v)=>{Ro.close(x),n.focus()}))])])})),m=()=>qn.hide(u),p=x=>{if(c8(n)&&x.preventDefault(),((w,S)=>S.ctrlKey&&!c8(w))(n,x)||(w=>d8(w).length===0)(n))return;const v=((w,S)=>{const k=RS(w),A=zg(w,S)?"selection":"point";if(Wc(k)){const M=BS(w,S);return hp(at(M),k)?"node":A}return A})(n,x);(l()?jP:UP)(n,x,(()=>{const w=BS(n,x),S=n.ui.registry.getAll(),k=d8(n);return((A,M,B)=>{const U=qo(M,(($,V)=>Dt(A,V.toLowerCase()).map((z=>{const H=z.update(B);if(Le(H)&&Wc(ep(H)))return Nw($,H.split(" "));if(io(H)&&H.length>0){const j=Ke(H,f8);return Nw($,j)}return $})).getOrThunk((()=>$.concat([V])))),[]);return U.length>0&&Fv(U[U.length-1])&&U.pop(),U})(S.contextMenus,k,w)}),i,u,v)};n.on("init",(()=>{const x="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(l()?"":" ResizeWindow");n.on(x,m),n.on("longpress contextmenu",p)}))},g8=(n,r,i,l,u,m)=>n.fold((()=>ih.snap({sensor:sg(i-20,l-20),range:Lt(u,m),output:sg(E.some(i),E.some(l)),extra:{td:r}})),(p=>{const x=i-20,v=l-20,w=p.element.dom.getBoundingClientRect();return ih.snap({sensor:sg(x,v),range:Lt(40,40),output:sg(E.some(i-w.width/2),E.some(l-w.height/2)),extra:{td:r}})})),PS=(n,r,i)=>({getSnapPoints:n,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(l,u)=>{const m=u.td;((p,x)=>p.exists((v=>lo(v,x))))(r.get(),m)||(r.set(m),i(m))},mustSnap:!0}),p8=n=>Zo(Xs.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:He([ih.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:n}),Nx.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),qP=(n,r)=>{const i=mt([]),l=mt([]),u=mt(!1),m=mn(),p=mn(),x=z=>{const H=pc(z);return g8(k.getOpt(r),z,H.x,H.y,H.width,H.height)},v=z=>{const H=pc(z);return g8(A.getOpt(r),z,H.right,H.bottom,H.width,H.height)},w=PS((()=>Ke(i.get(),(z=>x(z)))),m,(z=>{p.get().each((H=>{n.dispatch("TableSelectorChange",{start:z,finish:H})}))})),S=PS((()=>Ke(l.get(),(z=>v(z)))),p,(z=>{m.get().each((H=>{n.dispatch("TableSelectorChange",{start:H,finish:z})}))})),k=p8(w),A=p8(S),M=ba(k.asSpec()),B=ba(A.asSpec()),U=(z,H,j,K)=>{const oe=j(H);ih.snapTo(z,oe),((te,re)=>{const pe=re.dom.getBoundingClientRect();_o(te.element,"display");const Ce=Yu(at(n.getBody())).dom.innerHeight,we=pe[K]<0,Oe=((ze,pt)=>ze[K]>pt)(pe,Ce);(we||Oe)&&Z(te.element,"display","none")})(z,H)},$=z=>U(M,z,x,"top"),V=z=>U(B,z,v,"bottom");if(ol().deviceType.isTouch()){const z=H=>Ke(H,at);n.on("TableSelectionChange",(H=>{u.get()||(oh(r,M),oh(r,B),u.set(!0));const j=at(H.start),K=at(H.finish);m.set(j),p.set(K),E.from(H.otherCells).each((oe=>{i.set(z(oe.upOrLeftCells)),l.set(z(oe.downOrRightCells)),$(j),V(K)}))})),n.on("ResizeEditor ResizeWindow ScrollContent",(()=>{m.get().each($),p.get().each(V)})),n.on("TableSelectionClear",(()=>{u.get()&&(gi(M),gi(B),u.set(!1)),m.clear(),p.clear()}))}},Wh=(n,r,i)=>{var l;const u=(l=r.delimiter)!==null&&l!==void 0?l:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:He([ht.config({mode:"flow",selector:"div[role=button]"}),wt.config({disabled:i.isDisabled}),ws((()=>i.checkUiComponentContext("any"))),Lo.config({}),Kt.config({}),It("elementPathEvents",[gn(((m,p)=>{n.shortcuts.add("alt+F11","focus statusbar elementpath",(()=>ht.focusIn(m))),n.on("NodeChange",(x=>{const v=(S=>{const k=[];let A=S.length;for(;A-- >0;){const B=S[A];if(B.nodeType===1&&(M=B).nodeName!=="BR"&&!M.getAttribute("data-mce-bogus")&&M.getAttribute("data-mce-type")!=="bookmark"){const U=xk(n,B);if(U.isDefaultPrevented()||k.push({name:U.name,element:B}),U.isPropagationStopped())break}}var M;return k})(x.parents),w=v.length>0?qo(v,((S,k,A)=>{const M=((B,U,$)=>Xs.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":$}},components:[Hn(B)],action:V=>{n.focus(),n.selection.select(U),n.nodeChanged()},buttonBehaviours:He([Dn.config({...i.tooltips.getConfig({tooltipText:i.translate(["Select the {0} element",U.nodeName.toLowerCase()]),onShow:(V,z)=>{((H,j)=>{const K=E.from(Hs(H,"id")).getOrThunk((()=>{const oe=ge("aria");return Vt(j,"id",oe),oe}));Vt(H,"aria-describedby",K)})(V.element,z.element)},onHide:V=>{var z;z=V.element,ts(z,"aria-describedby")}})}),I0(i.isDisabled),ws((()=>i.checkUiComponentContext("any")))])}))(k.name,k.element,A);return A===0?S.concat([M]):S.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Hn(` ${u} `)]},M])}),[]):[];Kt.set(m,w)}))}))])]),components:[]}};var Fd;(function(n){n[n.None=0]="None",n[n.Both=1]="Both",n[n.Vertical=2]="Vertical"})(Fd||(Fd={}));const h8=n=>{const r=at(n.getContainer());return{height:Os(r),width:Fn(r)}},LS=(n,r,i)=>{const l=at(n.getContainer()),u=((m,p,x,v)=>({height:ww(v.height+p.top,Au(m),K4(m)),width:x===Fd.Both?ww(v.width+p.left,Tu(m),Yy(m)):v.width}))(n,r,i,h8(n));return Ko(u,((m,p)=>{zt(m)&&Z(l,p,_w(m))})),(m=>{m.dispatch("ResizeEditor")})(n),u},IS=(n,r,i)=>{Vt(n.element,"aria-valuetext",((l,u)=>u===Fd.Both?ya.translate(["Editor's height: {0} pixels, Editor's width: {1} pixels",l.height,l.width]):ya.translate(["Editor's height: {0} pixels",l.height]))(r,i))},Rw=(n,r,i,l,u)=>{const m=Lt(20*l,20*u),p=LS(n,m,i);return IS(r,p,i),E.some(!0)},GP=(n,r)=>{const i=()=>{const l=[],u=f6(n),m=c6(n),p=s3(n)||n.hasPlugin("wordcount");return m&&l.push(Wh(n,{},r)),u&&l.push((()=>{const x=P_("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Hn(ya.translate(["Press {0} for help",x]))]}})()),p&&l.push((()=>{const x=[];return n.hasPlugin("wordcount")&&x.push(((v,w)=>{const S=(k,A,M)=>Kt.set(k,[Hn(w.translate(["{0} "+M,A[M]]))]);return Xs.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:He([I0(w.isDisabled),ws((()=>w.checkUiComponentContext("any"))),Lo.config({}),Kt.config({}),lt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),It("wordcount-events",[kc((k=>{const A=lt.getValue(k),M=A.mode==="words"?"characters":"words";lt.setValue(k,{mode:M,count:A.count}),S(k,A.count,M)})),gn((k=>{v.on("wordCountUpdate",(A=>{const{mode:M}=lt.getValue(k);lt.setValue(k,{mode:M,count:A.wordCount}),S(k,A.wordCount,M)}))}))])]),eventOrder:{[qs()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(n,r)),s3(n)&&x.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":n.translate(["Build with {0}","TinyMCE"])},innerHtml:n.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:He([Zt.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:x}})()),l.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const x="tox-statusbar__text-container--flex-start",v="tox-statusbar__text-container--flex-end";if(u){const w="tox-statusbar__text-container-3-cols";return p||m?p&&!m?[w,v]:[w,x]:[w,"tox-statusbar__text-container--space-around"]}return[p&&!m?v:x]})()]},components:l}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const l=i(),u=((m,p)=>{const x=(S=>{const k=d6(S);return k===!1?Fd.None:k==="both"?Fd.Both:Fd.Vertical})(m);if(x===Fd.None)return E.none();const v=x===Fd.Both?ya.translate("Press the arrow keys to resize the editor."):ya.translate("Press the Up and Down arrow keys to resize the editor."),w=x===Fd.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return E.some(Zi("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",w],attributes:{"aria-label":p.translate(v),"data-mce-name":"resize-handle",role:"separator"},behaviours:[ih.config({mode:"mouse",repositionTarget:!1,onDrag:(S,k,A)=>{const M=LS(m,A,x);IS(S,M,x)},blockerClass:"tox-blocker"}),ht.config({mode:"special",onLeft:S=>Rw(m,S,x,-1,0),onRight:S=>Rw(m,S,x,1,0),onUp:S=>Rw(m,S,x,0,-1),onDown:S=>Rw(m,S,x,0,1)}),Lo.config({}),Zt.config({}),Dn.config(p.tooltips.getConfig({tooltipText:p.translate("Resize")})),It("set-aria-valuetext",[gn((S=>{const k=()=>{IS(S,h8(m),x)};m._skinLoaded?k():m.once("SkinLoaded",k)}))])],eventOrder:{[cl()]:["add-focusable","set-aria-valuetext"]}},p.icons))})(n,r);return l.concat(u.toArray())})()}},FS=(n,r)=>r.get().getOrDie(`UI for ${n} has not been rendered`),KP=(n,r)=>{const i=n.inline,l=i?X7:q7,u=Ah(n)?hP:pP,m=(()=>{const te=mn(),re=mn(),pe=mn();return{dialogUi:te,popupUi:re,mainUi:pe,getUiMotherships:()=>{const Ce=te.get().map((Oe=>Oe.mothership)),we=re.get().map((Oe=>Oe.mothership));return Ce.fold((()=>we.toArray()),(Oe=>we.fold((()=>[Oe]),(ze=>lo(Oe.element,ze.element)?[Oe]:[Oe,ze]))))},lazyGetInOuterOrDie:(Ce,we)=>()=>pe.get().bind((Oe=>we(Oe.outerContainer))).getOrDie(`Could not find ${Ce} element in OuterContainer`)}})(),p=mn(),x=mn(),v=mn(),w=ol().deviceType.isTouch()?["tox-platform-touch"]:[],S=e_(n),k=hg(n),A=Zo({dom:{tag:"div",classes:["tox-anchorbar"]}}),M=Zo({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),B=()=>m.mainUi.get().map((te=>te.outerContainer)).bind(ln.getHeader),U=m.lazyGetInOuterOrDie("anchor bar",A.getOpt),$=m.lazyGetInOuterOrDie("bottom anchor bar",M.getOpt),V=m.lazyGetInOuterOrDie("toolbar",ln.getToolbar),z=m.lazyGetInOuterOrDie("throbber",ln.getThrobber),H=((te,re,pe,Ce)=>{const we=mt(!1),Oe=(Ft=>{const Nn=mt(e_(Ft)?"bottom":"top");return{isPositionedAtTop:()=>Nn.get()==="top",getDockingMode:Nn.get,setDockingMode:Nn.set}})(re),ze={icons:()=>re.ui.registry.getAll().icons,menuItems:()=>re.ui.registry.getAll().menuItems,translate:ya.translate,isDisabled:()=>!re.ui.isEnabled(),getOption:re.options.get,tooltips:o7(te.dialog),checkUiComponentContext:Ft=>{if(pg(re))return{contextType:"disabled",shouldDisable:!0};const[Nn,Io=""]=Ft.split(":"),Js=re.ui.registry.getAll().contexts;return{contextType:Nn,shouldDisable:!Dt(Js,Nn).fold((()=>Dt(Js,"mode").map((cn=>cn("design"))).getOr(!1)),(cn=>Io.charAt(0)==="!"?!cn(Io.slice(1)):cn(Io)))}}},pt=lw(re),St=(Ft=>{const Nn=_a=>()=>Ft.formatter.match(_a),Io=_a=>()=>{const ei=Ft.formatter.get(_a);return ei!==void 0?E.some({tag:ei.length>0&&(ei[0].inline||ei[0].block)||"div",styles:Ft.dom.parseStyle(Ft.formatter.getCssText(_a))}):E.none()},Js=mt([]),cn=mt([]),yi=mt(!1);return Ft.on("PreInit",(_a=>{const ei=e7(Ft),of=t7(Ft,ei,Nn,Io);Js.set(of)})),Ft.on("addStyleModifications",(_a=>{const ei=t7(Ft,_a.items,Nn,Io);cn.set(ei),yi.set(_a.replace)})),{getData:()=>{const _a=yi.get()?[]:Js.get(),ei=cn.get();return _a.concat(ei)}}})(re),At=(Ft=>({colorPicker:XB(Ft),hasCustomColors:JB(Ft),getColors:QB(Ft),getColorCols:eP(Ft)}))(re),ro=(Ft=>({isDraggableModal:tP(Ft)}))(re),Ho={shared:{providers:ze,anchors:YB(re,pe,Ce,Oe.isPositionedAtTop),header:Oe},urlinput:pt,styles:St,colorinput:At,dialog:ro,isContextMenuOpen:()=>we.get(),setContextMenuState:Ft=>we.set(Ft)},nn=Ft=>E.none(),Rt={...Ho,shared:{...Ho.shared,interpreter:Ft=>KO(Ft,{},Rt,nn),getSink:te.popup}},Xo={...Ho,shared:{...Ho.shared,interpreter:Ft=>KO(Ft,{},Xo,nn),getSink:te.dialog}};return{popup:Rt,dialog:Xo}})({popup:()=>yo.fromOption(m.popupUi.get().map((te=>te.sink)),"(popup) UI has not been rendered"),dialog:()=>yo.fromOption(m.dialogUi.get().map((te=>te.sink)),"UI has not been rendered")},n,U,$),j=()=>{const te=(()=>{const Ho={attributes:{[fd]:S?Ii.BottomToTop:Ii.TopToBottom}},nn=ln.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:H.popup,onEscape:()=>{n.focus()}}),Rt=ln.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:H.popup.shared.getSink,providers:H.popup.shared.providers,onEscape:()=>{n.focus()},onToolbarToggled:ei=>{((of,tb)=>{of.dispatch("ToggleToolbarDrawer",{state:tb})})(n,ei)},type:k,lazyToolbar:V,lazyHeader:()=>B().getOrDie("Could not find header element"),...Ho}),Xo=ln.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:H.popup.shared.providers,onEscape:()=>{n.focus()},type:k}),Ft=Kx(n),Nn=Gx(n),Io=bg(n),Js=m6(n),cn=Ft||Nn||Io,yi=[(_a=Js,ln.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:_a})),nn];var _a;return ln.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(cn?[]:["tox-editor-header--empty"]),...Ho},components:fr([Io?yi:[],Ft?[Xo]:Nn?[Rt]:[],Th(n)?[]:[A.asSpec()]]),sticky:Ah(n),editor:n,sharedBackstage:H.popup.shared})})(),re={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[ln.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),ln.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},pe=ln.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:H.popup}),Ce=ln.parts.viewWrapper({backstage:H.popup}),we=Jy(n)&&!i?E.some(GP(n,H.popup.shared.providers)):E.none(),Oe=fr([S?[]:[te],i?[]:[re],S?[te]:[]]),ze=ln.parts.editorContainer({components:fr([Oe,i?[]:[M.asSpec()]])}),pt=u3(n),St={role:"application",...ya.isRtl()?{dir:"rtl"}:{},...pt?{"aria-hidden":"true"}:{}},At=ba(ln.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(S?["tox-tinymce--toolbar-bottom"]:[]).concat(w),styles:{visibility:"hidden",...pt?{opacity:"0",border:"0"}:{}},attributes:St},components:[ze,...i?[]:[Ce,...we.toArray()],pe],behaviours:He([ws((()=>H.popup.shared.providers.checkUiComponentContext("any"))),wt.config({disableClass:"tox-tinymce--disabled"}),ht.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),ro=c4(At);return p.set(ro),{mothership:ro,outerContainer:At}},K=te=>{const re=_w((Ce=>(we=>{const Oe=((St,At)=>{if(typeof At=="number")return E.from(At);const ro=/^([0-9.]+)(pt|em|px)$/.exec(At.trim());if(ro){const Ho=ro[2],nn=Number.parseFloat(ro[1]);if(Number.isNaN(nn)||nn<0)return E.none();if(Ho==="em")return E.from(nn*Number.parseFloat(window.getComputedStyle(St.dom).fontSize));if(Ho==="pt")return E.from(.75*nn);if(Ho==="px")return E.from(nn)}return E.none()})(at(we.targetElm),Ky(we)),ze=Au(we),pt=K4(we);return Oe.map((St=>ww(St,ze,pt)))})(Ce).getOr(Ky(Ce)))(n)),pe=_w((Ce=>G7(Ce).getOr(Zx(Ce)))(n));return n.inline||(uc("div","width",pe)&&Z(te.element,"width",pe),uc("div","height",re)?Z(te.element,"height",re):Z(te.element,"height","400px")),re},oe=te=>{const{mainUi:re,popupUi:pe,uiMotherships:Ce}=te;ss(J4(n),((Rt,Xo)=>{n.ui.registry.addGroupToolbarButton(Xo,Rt)}));const{buttons:we,menuItems:Oe,contextToolbars:ze,sidebars:pt,views:St}=n.ui.registry.getAll(),At=c3(n),ro={menuItems:Oe,menus:t_(n),menubar:jx(n),toolbar:At.getOrThunk((()=>O0(n))),allowToolbarGroups:k===_l.floating,buttons:we,sidebar:pt,views:St};var Ho;Ho=re.outerContainer,n.addShortcut("alt+F9","focus menubar",(()=>{ln.focusMenubar(Ho)})),n.addShortcut("alt+F10","focus toolbar",(()=>{ln.focusToolbar(Ho)})),n.addCommand("ToggleToolbarDrawer",((Rt,Xo,Ft)=>{Xo?.skipFocus?(console.warn(fP.skipFocus,new Error().stack),ln.toggleToolbarDrawerWithoutFocusing(Ho)):Ft?.skip_focus?ln.toggleToolbarDrawerWithoutFocusing(Ho):ln.toggleToolbarDrawer(Ho)})),n.addQueryStateHandler("ToggleToolbarDrawer",(()=>ln.isToolbarDrawerToggled(Ho))),n.on("blur",(()=>{hg(n)===_l.floating&&ln.isToolbarDrawerToggled(Ho)&&ln.toggleToolbarDrawerWithoutFocusing(Ho)})),((Rt,Xo,Ft)=>{const Nn=(Eo,wi)=>{vt([Xo,...Ft],($d=>{$d.broadcastEvent(Eo,wi)}))},Io=(Eo,wi)=>{vt([Xo,...Ft],($d=>{$d.broadcastOn([Eo],wi)}))},Js=Eo=>Io(Ec(),{target:Eo.target}),cn=Eo=>{Io(Sc(),{closedTooltip:()=>{Eo.preventDefault()}})},yi=d1(),_a=da(yi,"touchstart",Js),ei=da(yi,"touchmove",(Eo=>Nn(S2(),Eo))),of=da(yi,"touchend",(Eo=>Nn(E2(),Eo))),tb=da(yi,"mousedown",Js),Iw=da(yi,"mouseup",(Eo=>{Eo.raw.button===0&&Io(xd(),{target:Eo.target})})),zc=Eo=>Io(Ec(),{target:at(Eo.target)}),Hg=Eo=>{Eo.button===0&&Io(xd(),{target:at(Eo.target)})},Hd=()=>{vt(Rt.editorManager.get(),(Eo=>{Rt!==Eo&&Eo.dispatch("DismissPopups",{relatedTarget:Rt})}))},$g=Eo=>Nn(ld(),Rl(Eo)),ob=Eo=>{Io(hu(),{}),Nn(cu(),Rl(Eo))},nf=er(at(Rt.getElement())),nb=ap(nf,"scroll",(Eo=>{requestAnimationFrame((()=>{if(Rt.getContainer()!=null){const wi=qm(Rt,Xo.element).map(($d=>[$d.element,...$d.others])).getOr([]);dn(wi,($d=>lo($d,Eo.target)))&&(Rt.dispatch("ElementScroll",{target:Eo.target.dom}),Nn(O1(),Eo))}}))})),Kh=()=>Io(hu(),{}),Vv=Eo=>{Eo.state&&Io(Ec(),{target:at(Rt.getContainer())})},Uv=Eo=>{Io(Ec(),{target:at(Eo.relatedTarget.getContainer())})},Vg=Eo=>Rt.dispatch("focusin",Eo),_i=Eo=>Rt.dispatch("focusout",Eo);Rt.on("PostRender",(()=>{Rt.on("click",zc),Rt.on("tap",zc),Rt.on("mouseup",Hg),Rt.on("mousedown",Hd),Rt.on("ScrollWindow",$g),Rt.on("ResizeWindow",ob),Rt.on("ResizeEditor",Kh),Rt.on("AfterProgressState",Vv),Rt.on("DismissPopups",Uv),Rt.on("CloseActiveTooltips",cn),vt([Xo,...Ft],(Eo=>{Eo.element.dom.addEventListener("focusin",Vg),Eo.element.dom.addEventListener("focusout",_i)}))})),Rt.on("remove",(()=>{Rt.off("click",zc),Rt.off("tap",zc),Rt.off("mouseup",Hg),Rt.off("mousedown",Hd),Rt.off("ScrollWindow",$g),Rt.off("ResizeWindow",ob),Rt.off("ResizeEditor",Kh),Rt.off("AfterProgressState",Vv),Rt.off("DismissPopups",Uv),Rt.off("CloseActiveTooltips",cn),vt([Xo,...Ft],(Eo=>{Eo.element.dom.removeEventListener("focusin",Vg),Eo.element.dom.removeEventListener("focusout",_i)})),tb.unbind(),_a.unbind(),ei.unbind(),of.unbind(),Iw.unbind(),nb.unbind()})),Rt.on("detach",(()=>{vt([Xo,...Ft],KD),vt([Xo,...Ft],(Eo=>Eo.destroy()))}))})(n,re.mothership,Ce),u.setup(n,H.popup.shared,B),$P(n,H.popup),zv(n,H.popup.shared.getSink,H.popup),(Rt=>{const{sidebars:Xo}=Rt.ui.registry.getAll();vt(Go(Xo),(Ft=>{const Nn=Xo[Ft],Io=()=>Bn(E.from(Rt.queryCommandValue("ToggleSidebar")),Ft);Rt.ui.registry.addToggleButton(Ft,{icon:Nn.icon,tooltip:Nn.tooltip,onAction:Js=>{Rt.execCommand("ToggleSidebar",!1,Ft),Js.setActive(Io())},onSetup:Js=>{Js.setActive(Io());const cn=()=>Js.setActive(Io());return Rt.on("ToggleSidebar",cn),()=>{Rt.off("ToggleSidebar",cn)}},context:"any"})}))})(n),_P(n,z,H.popup.shared),Q0(n,ze,pe.sink,{backstage:H.popup}),qP(n,pe.sink);const nn={targetNode:n.getElement(),height:K(re.outerContainer)};return l.render(n,te,ro,H.popup,nn)};return{popups:{backstage:H.popup,getMothership:()=>FS("popups",v)},dialogs:{backstage:H.dialog,getMothership:()=>FS("dialogs",x)},renderUI:()=>{const te=j(),re=(()=>{const we=d3(n),Oe=lo(ps(),we)&&kr(we,"display")==="grid",ze={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(w),attributes:{...ya.isRtl()?{dir:"rtl"}:{}}},behaviours:He([Ls.config({useFixed:()=>u.isDocked(B)})])},pt={dom:{styles:{width:document.body.clientWidth+"px"}},events:en([Ne(cu(),(ro=>{Z(ro.element,"width",document.body.clientWidth+"px")}))])},St=ba(as(ze,Oe?pt:{})),At=c4(St);return x.set(At),{sink:St,mothership:At}})(),pe=Dd(n)?(()=>{const we={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(w),attributes:{...ya.isRtl()?{dir:"rtl"}:{}}},behaviours:He([Ls.config({useFixed:()=>u.isDocked(B),getBounds:()=>r.getPopupSinkBounds()})])},Oe=ba(we),ze=c4(Oe);return v.set(ze),{sink:Oe,mothership:ze}})():(we=>(v.set(we.mothership),we))(re);m.dialogUi.set(re),m.popupUi.set(pe),m.mainUi.set(te);const Ce={popupUi:pe,dialogUi:re,mainUi:te,uiMotherships:m.getUiMotherships()};return oe(Ce)}}},b8=n=>{const r=[],i={};return Ko(n,((l,u)=>{l.fold((()=>{r.push(u)}),(m=>{i[u]=m}))})),r.length>0?yo.error(r):yo.value(i)},YP=(n,r,i,l)=>{const u=Zo(ph.sketch((p=>({dom:{tag:"div",classes:["tox-form"].concat(n.classes)},components:Ke(n.items,(x=>GO(p,x,r,i,l)))}))));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[u.asSpec()]}],behaviours:He([ht.config({mode:"acyclic",useTabstopAt:ns(kv)}),(m=u,Bo.config({find:m.getOpt})),EB(u,{postprocess:p=>b8(p).fold((x=>(console.error(x),{})),dt)}),It("dialog-body-panel",[Ne(Bi(),((p,x)=>{p.getSystem().broadcastOn([K_],{newFocus:E.some(x.event.target)})}))])])};var m},x8=(n,r)=>{Z(n,"height",r+"px"),Z(n,"flex-basis",r+"px")},Mw=(n,r,i)=>{Ua(n,'[role="dialog"]').each((l=>{Qo(l,'[role="tablist"]').each((u=>{i.get().map((m=>(Z(r,"height","0"),Z(r,"flex-basis","0"),Math.min(m,((p,x,v)=>{const w=Ti(p).dom,S=Ua(p,".tox-dialog-wrap").getOr(p);let k;k=kr(S,"position")==="fixed"?Math.max(w.clientHeight,window.innerHeight):Math.max(w.offsetHeight,w.scrollHeight);const A=Os(x),M=x.dom.offsetLeft>=v.dom.offsetLeft+Fn(v)?Math.max(Os(v),A):A,B=parseInt(kr(p,"margin-top"),10)||0,U=parseInt(kr(p,"margin-bottom"),10)||0;return k-(Os(p)+B+U-M)})(l,r,u))))).each((m=>{x8(r,m)}))}))}))},zS=n=>Qo(n,'[role="tabpanel"]'),v8="send-data-to-section",y8="send-data-to-view",_8=(n,r,i,l)=>{const u=mt({}),m=S=>{const k=lt.getValue(S),A=b8(k).getOr({}),M=u.get(),B=as(M,A);u.set(B)},p=S=>{const k=u.get();lt.setValue(S,k)},x=mt(null),v=Ke(n.tabs,(S=>({value:S.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Hn(i.shared.providers.translate(S.title))],view:()=>[ph.sketch((k=>({dom:{tag:"div",classes:["tox-form"]},components:Ke(S.items,(A=>GO(k,A,r,i,l))),formBehaviours:He([ht.config({mode:"acyclic",useTabstopAt:ns(kv)}),It("TabView.form.events",[gn(p),Fi(m)]),pi.config({channels:um([{key:v8,value:{onReceive:m}},{key:y8,value:{onReceive:p}}])})])})))]}))),w=(S=>{const k=mn();return{extraEvents:[gn((M=>{const B=M.element;zS(B).each((U=>{Z(U,"visibility","hidden"),M.getSystem().getByDom(U).toOptional().each(($=>{const V=((H,j,K)=>Ke(H,((oe,te)=>{Kt.set(K,H[te].view());const re=j.dom.getBoundingClientRect();return Kt.set(K,[]),re.height})))(S,U,$);(H=>Lr(Te(H,((j,K)=>j>K?-1:j<K?1:0))))(V).fold(k.clear,k.set)})),Mw(B,U,k),_o(U,"visibility"),(($,V)=>{Lr($).each((z=>kh.showTab(V,z.value)))})(S,M),requestAnimationFrame((()=>{Mw(B,U,k)}))}))})),Ne(cu(),(M=>{const B=M.element;zS(B).each((U=>{Mw(B,U,k)}))})),Ne(V0,((M,B)=>{const U=M.element;zS(U).each(($=>{const V=Ml(er($));Z($,"visibility","hidden");const z=os($,"height").map((j=>parseInt(j,10)));_o($,"height"),_o($,"flex-basis");const H=$.dom.getBoundingClientRect().height;z.forall((j=>H>j))?(k.set(H),Mw(U,$,k)):z.each((j=>{x8($,j)})),_o($,"visibility"),V.each(_n)}))}))],selectFirst:!1}})(v);return kh.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(S,k,A)=>{const M=lt.getValue(k);Ct(S,gO,{name:M,oldName:x.get()}),x.set(M)},tabs:v,components:[kh.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[KT.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:He([Lo.config({})])}),kh.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:w.selectFirst,tabSectionBehaviours:He([It("tabpanel",w.extraEvents),ht.config({mode:"acyclic"}),Bo.config({find:S=>Lr(kh.getViewItems(S))}),zh(E.none(),(S=>(S.getSystem().broadcastOn([v8],{}),u.get())),((S,k)=>{u.set(k),S.getSystem().broadcastOn([y8],{})}))])})},w8=(n,r,i,l,u,m)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map((p=>({id:p}))).getOr({}),...u?{"aria-live":"polite"}:{}}},components:[],behaviours:He([Mk(0),xa.config({channel:`${SO}-${r}`,updateState:(p,x)=>E.some({isTabPanel:()=>x.body.type==="tabpanel"}),renderComponents:p=>{const x=p.body;return x.type==="tabpanel"?[_8(x,p.initialData,l,m)]:[YP(x,p.initialData,l,m)]},initialData:n})])}),XP=Eh.deviceType.isTouch(),C8=(n,r)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[n,r]}),k8=(n,r)=>Ss.parts.close(Xs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:n,buttonBehaviours:He([Lo.config({})])})),S8=()=>Ss.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),E8=(n,r)=>Ss.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:$m(`<p>${d_(r.translate(n))}</p>`)}]}]}),HS=n=>Ss.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:n}),$S=(n,r)=>[kd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:n}),kd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})],VS=n=>{const r="tox-dialog",i=r+"-wrap",l=i+"__backdrop",u=r+"__disable-scroll";return Ss.sketch({lazySink:n.lazySink,onEscape:m=>(n.onEscape(m),E.some(!0)),useTabstopAt:m=>!kv(m),firstTabstop:n.firstTabstop,dom:{tag:"div",classes:[r].concat(n.extraClasses),styles:{position:"relative",...n.extraStyles}},components:[n.header,n.body,...n.footer.toArray()],parts:{blocker:{dom:$m(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:XP?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:i,modalBehaviours:He([Zt.config({}),It("dialog-events",n.dialogEvents.concat([pd(Bi(),((m,p)=>{Cd.isBlocked(m)||ht.focusIn(m)})),Ne(A1(),((m,p)=>{m.getSystem().broadcastOn([K_],{newFocus:p.event.newFocus})}))])),It("scroll-lock",[gn((()=>{Ln(ps(),u)})),Fi((()=>{fn(ps(),u)}))]),...n.extraBehaviours]),eventOrder:{[qs()]:["dialog-events"],[cl()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[bc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...n.eventOrder}})},Hv=n=>Xs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:He([Lo.config({}),Dn.config(n.tooltips.getConfig({tooltipText:n.translate("Close")}))]),components:[Zi("close",{tag:"span",classes:["tox-icon"]},n.icons)],action:r=>{no(r,Mg)}}),T8=(n,r,i,l)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...i.map((u=>({id:u}))).getOr({})}},components:[],behaviours:He([xa.config({channel:`${kO}-${r}`,initialData:n,renderComponents:u=>[Hn(l.translate(u.title))]})])}),A8=()=>({dom:$m('<div class="tox-dialog__draghandle"></div>')}),O8=(n,r,i)=>((l,u,m)=>{const p=Ss.parts.title(T8(l,u,E.none(),m)),x=Ss.parts.draghandle(A8()),v=Ss.parts.close(Hv(m)),w=[p].concat(l.draggable?[x]:[]).concat([v]);return kd.sketch({dom:$m('<div class="tox-dialog__header"></div>'),components:w})})({title:i.shared.providers.translate(n),draggable:i.dialog.isDraggableModal()},r,i.shared.providers),D8=(n,r,i,l)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(n)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${l.getOr(0)}px`,position:"absolute"}},behaviours:r,components:[{dom:$m('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),N8=(n,r,i)=>({onClose:()=>i.closeWindow(),onBlock:l=>{const u=Qo(n().element,".tox-dialog__header").map((m=>Os(m)));Ss.setBusy(n(),((m,p)=>D8(l.message,p,r,u)))},onUnblock:()=>{Ss.setIdle(n())}}),R8="tox-dialog--fullscreen",US="tox-dialog--width-lg",ZS="tox-dialog--width-md",zd=n=>{switch(n){case"large":return E.some(US);case"medium":return E.some(ZS);default:return E.none()}},M8=(n,r)=>{const i=at(r.element.dom);xs(i,R8)||(Zr(i,[US,ZS]),zd(n).each((l=>Ln(i,l))))},B8=(n,r)=>{const i=at(n.element.dom),l=g1(i),u=P(l,(m=>m===US||m===ZS)).or(zd(r));((m,p)=>{vt(p,(x=>{((v,w)=>{Za(v)?v.dom.classList.toggle(w):((S,k)=>Ge(ri(S),k)?Sf(S,k):gc(S,k))(v,w),bs(v)})(m,x)}))})(i,[R8,...u.toArray()])},WS=(n,r,i)=>ba(VS({...n,firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[W_({}),...n.extraBehaviours],onEscape:l=>{no(l,Mg)},dialogEvents:r,eventOrder:{[lu()]:[xa.name(),pi.name()],[cl()]:["scroll-lock",xa.name(),"messages","dialog-events","alloy.base.behaviour"],[bc()]:["alloy.base.behaviour","dialog-events","messages",xa.name(),"scroll-lock"]}})),jS=(n,r={})=>Ke(n,(i=>i.type==="menu"?(l=>{const u=Ke(l.items,(m=>{const p=Dt(r,m.name).getOr(mt(!1));return{...m,storage:p}}));return{...l,items:u}})(i):i)),P8=n=>qo(n,((r,i)=>i.type==="menu"?qo(i.items,((l,u)=>(l[u.name]=u.storage,l)),r):r),{}),L8=(n,r)=>[qp(Bi(),CO),n(Cv,((i,l,u,m)=>{cc(m.element)&&Ml(er(m.element)).each(ip),r.onClose(),l.onClose()})),n(Mg,((i,l,u,m)=>{l.onCancel(i),no(m,Cv)})),Ne(Nk,((i,l)=>r.onUnblock())),Ne(Dk,((i,l)=>r.onBlock(l.event)))],I8=(n,r,i)=>{const l=(m,p)=>Ne(m,((x,v)=>{u(x,((w,S)=>{p(n(),w,v.event,x)}))})),u=(m,p)=>{xa.getState(m).get().each((x=>{p(x.internalDialog,m)}))};return[...L8(l,r),l(Fh,((m,p)=>p.onSubmit(m))),l(vi,((m,p,x)=>{p.onChange(m,{name:x.name})})),l(Ru,((m,p,x,v)=>{const w=()=>v.getSystem().isConnected()?ht.focusIn(v):void 0,S=M=>Ab(M,"disabled")||$s(M,"aria-disabled").exists((B=>B==="true")),k=er(v.element),A=Ml(k);p.onAction(m,{name:x.name,value:x.value}),Ml(k).fold(w,(M=>{S(M)||A.exists((B=>pf(M,B)&&S(B)))?w():i().toOptional().filter((B=>!pf(B.element,M))).each(w)}))})),l(gO,((m,p,x)=>{p.onTabChange(m,{newTabName:x.name,oldTabName:x.oldName})})),Fi((m=>{const p=n();lt.setValue(m,p.getData())}))]},qS=(n,r)=>{const i=r.map((m=>m.footerButtons)).getOr([]),l=Vu(i,(m=>m.align==="start")),u=(m,p)=>kd.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${m}`]},components:Ke(p,(x=>x.memento.asSpec()))});return[u("start",l.pass),u("end",l.fail)]},GS=(n,r,i)=>({dom:$m('<div class="tox-dialog__footer"></div>'),components:[],behaviours:He([xa.config({channel:`${EO}-${r}`,initialData:n,updateState:(l,u)=>{const m=Ke(u.buttons,(p=>{const x=Zo(((v,w)=>rw(v,v.type,w))(p,i));return{name:p.name,align:p.align,memento:x}}));return E.some({lookupByName:p=>((x,v,w)=>P(v,(S=>S.name===w)).bind((S=>S.memento.getOpt(x))))(l,m,p),footerButtons:m})},renderComponents:qS})])}),Bw=(n,r,i)=>Ss.parts.footer(GS(n,r,i)),jh=(n,r)=>{if(n.getRoot().getSystem().isConnected()){const i=Bo.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());return ph.getField(i,r).orThunk((()=>n.getFooter().bind((u=>xa.getState(u).get())).bind((u=>u.lookupByName(r)))))}return E.none()},qh=(n,r,i)=>{const l=m=>{const p=n.getRoot();p.getSystem().isConnected()&&m(p)},u={getData:()=>{const m=n.getRoot(),p=m.getSystem().isConnected()?n.getFormWrapper():m;return{...lt.getValue(p),...ss(i,(x=>x.get()))}},setData:m=>{l((p=>{const x=u.getData(),v=as(x,m),w=((k,A)=>{const M=k.getRoot();return xa.getState(M).get().map((B=>Aa(An("data",B.dataValidator,A)))).getOr(A)})(n,v),S=n.getFormWrapper();lt.setValue(S,w),Ko(i,((k,A)=>{$o(v,A)&&k.set(v[A])}))}))},setEnabled:(m,p)=>{jh(n,m).each(p?wt.enable:wt.disable)},focus:m=>{jh(n,m).each(Zt.focus)},block:m=>{if(!Le(m))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l((p=>{Ct(p,Dk,{message:m})}))},unblock:()=>{l((m=>{no(m,Nk)}))},showTab:m=>{l((p=>{const x=n.getBody();xa.getState(x).get().exists((v=>v.isTabPanel()))&&Bo.getCurrent(x).each((v=>{kh.showTab(v,m)}))}))},redial:m=>{l((p=>{const x=n.getId(),v=r(m),w=jS(v.internalDialog.buttons,i);p.getSystem().broadcastOn([`${G_}-${x}`],v),p.getSystem().broadcastOn([`${kO}-${x}`],v.internalDialog),p.getSystem().broadcastOn([`${SO}-${x}`],v.internalDialog),p.getSystem().broadcastOn([`${EO}-${x}`],{...v.internalDialog,buttons:w}),u.setData(v.initialData)}))},close:()=>{l((m=>{no(m,Cv)}))},toggleFullscreen:n.toggleFullscreen};return u},F8=(n,r,i,l=!1,u)=>{const m=ge("dialog"),p=ge("dialog-label"),x=ge("dialog-content"),v=n.internalDialog,w=mt(v.size),S=zd(w.get()).toArray(),k=Zo(((K,oe,te,re)=>kd.sketch({dom:$m('<div class="tox-dialog__header"></div>'),components:[T8(K,oe,E.some(te),re),A8(),Hv(re)],containerBehaviours:He([ih.config({mode:"mouse",blockerClass:"blocker",getTarget:pe=>Vs(pe,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(pe,Ce)=>{pe.getSystem().broadcastOn([hu()],{target:Ce})}})])}))({title:v.title,draggable:!0},m,p,i.shared.providers)),A=Zo(((K,oe,te,re,pe,Ce)=>w8(K,oe,E.some(te),re,pe,Ce))({body:v.body,initialData:v.initialData},m,x,i,l,(K=>jh(H,K)))),M=jS(v.buttons),B=P8(M),U=gs(M.length!==0,Zo(((K,oe,te)=>GS(K,oe,te))({buttons:M},m,i))),$=I8((()=>j),{onBlock:K=>{Cd.block(z,((oe,te)=>{const re=k.getOpt(z).map((pe=>Os(pe.element)));return D8(K.message,te,i.shared.providers,re)}))},onUnblock:()=>{Cd.unblock(z)},onClose:()=>r.closeWindow()},i.shared.getSink),V=ol().os,z=ba({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...S],attributes:{role:"dialog",...V.isMacOS()?{"aria-label":v.title}:{"aria-labelledby":p}}},eventOrder:{[lu()]:[xa.name(),pi.name()],[qs()]:["execute-on-form"],[cl()]:["reflecting","execute-on-form"]},behaviours:He([ht.config({mode:"cyclic",onEscape:K=>(no(K,Cv),E.some(!0)),useTabstopAt:K=>!kv(K)&&(Ol(K)!=="button"||Hs(K,"disabled")!=="disabled"),firstTabstop:1}),xa.config({channel:`${G_}-${m}`,updateState:(K,oe)=>(w.set(oe.internalDialog.size),M8(oe.internalDialog.size,K),u(),E.some(oe)),initialData:n}),Zt.config({}),It("execute-on-form",$.concat([pd(Bi(),((K,oe)=>{ht.focusIn(K)})),Ne(A1(),((K,oe)=>{K.getSystem().broadcastOn([K_],{newFocus:oe.event.newFocus})}))])),Cd.config({getRoot:()=>E.some(z)}),Kt.config({}),W_({})]),components:[k.asSpec(),A.asSpec(),...U.map((K=>K.asSpec())).toArray()]}),H={getId:ae(m),getRoot:ae(z),getFooter:()=>U.map((K=>K.get(z))),getBody:()=>A.get(z),getFormWrapper:()=>{const K=A.get(z);return Bo.getCurrent(K).getOr(K)},toggleFullscreen:()=>{B8(z,w.get())}},j=qh(H,r.redial,B);return{dialog:z,instanceApi:j}};var Pw=tinymce.util.Tools.resolve("tinymce.util.URI");const JP=["insertContent","setContent","execCommand","close","block","unblock"],Gh=n=>Ot(n)&&JP.indexOf(n.mceAction)!==-1,QP=(n,r,i,l)=>{const u=ge("dialog"),m=O8(n.title,u,l),p=(V=>{const z={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[Vk(E.none(),{dom:{tag:"iframe",attributes:{src:V.url}},behaviours:He([Lo.config({}),Zt.config({})])})]}],behaviours:He([ht.config({mode:"acyclic",useTabstopAt:ns(kv)})])};return Ss.parts.body(z)})(n),x=n.buttons.bind((V=>V.length===0?E.none():E.some(Bw({buttons:V},u,l)))),v=((V,z)=>{const H=(K,oe)=>Ne(K,((te,re)=>{j(te,((pe,Ce)=>{oe($,pe,re.event,te)}))})),j=(K,oe)=>{xa.getState(K).get().each((te=>{oe(te,K)}))};return[...L8(H,z),H(Ru,((K,oe,te)=>{oe.onAction(K,{name:te.name})}))]})(0,N8((()=>U),l.shared.providers,r)),w={...n.height.fold((()=>({})),(V=>({height:V+"px","max-height":V+"px"}))),...n.width.fold((()=>({})),(V=>({width:V+"px","max-width":V+"px"})))},S=n.width.isNone()&&n.height.isNone()?["tox-dialog--width-lg"]:[],k=new Pw(n.url,{base_uri:new Pw(window.location.href)}),A=`${k.protocol}://${k.host}${k.port?":"+k.port:""}`,M=Yr(),B=[xa.config({channel:`${G_}-${u}`,updateState:(V,z)=>E.some(z),initialData:n}),It("messages",[gn((()=>{const V=da(at(window),"message",(z=>{if(k.isSameOrigin(new Pw(z.raw.origin))){const H=z.raw.data;Gh(H)?((j,K,oe)=>{switch(oe.mceAction){case"insertContent":j.insertContent(oe.content);break;case"setContent":j.setContent(oe.content);break;case"execCommand":const te=!!Ao(oe.ui)&&oe.ui;j.execCommand(oe.cmd,te,oe.value);break;case"close":K.close();break;case"block":K.block(oe.message);break;case"unblock":K.unblock()}})(i,$,H):(j=>!Gh(j)&&Ot(j)&&$o(j,"mceAction"))(H)&&n.onMessage($,H)}}));M.set(V)})),Fi(M.clear)]),pi.config({channels:{[TO]:{onReceive:(V,z)=>{Qo(V.element,"iframe").each((H=>{const j=H.dom.contentWindow;ot(j)&&j.postMessage(z,A)}))}}}})],U=WS({id:u,header:m,body:p,footer:x,extraClasses:S,extraBehaviours:B,extraStyles:w},v,l),$=(V=>{const z=H=>{V.getSystem().isConnected()&&H(V)};return{block:H=>{if(!Le(H))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");z((j=>{Ct(j,Dk,{message:H})}))},unblock:()=>{z((H=>{no(H,Nk)}))},close:()=>{z((H=>{no(H,Cv)}))},sendMessage:H=>{z((j=>{j.getSystem().broadcastOn([TO],H)}))}}})(U);return{dialog:U,instanceApi:$}},$v=(n,r)=>Aa(An("data",r,n)),Lw=n=>hp(n,".tox-alert-dialog")||hp(n,".tox-confirm-dialog"),eL=(n,r,i,l)=>r&&i?[]:[Wn.config({contextual:{lazyContext:()=>E.some(Us(at(n.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:l},modes:["top"],lazyViewport:u=>qm(n,u.element).map((m=>({bounds:xg(m),optScrollEnv:E.some({currentScrollTop:m.element.dom.scrollTop,scrollElmTop:Va(m.element).top})}))).getOrThunk((()=>({bounds:Tr(),optScrollEnv:E.none()})))})],tL=n=>{const r=n.editor,i=Ah(r),l=(v=>{const w=v.shared;return{open:(S,k)=>{const A=()=>{Ss.hide($),k()},M=Zo(rw({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:E.some("primary"),align:"end",enabled:!0,icon:E.none()},"cancel",v)),B=S8(),U=k8(A,w.providers),$=ba(VS({lazySink:()=>w.getSink(),header:C8(B,U),body:E8(S,w.providers),footer:E.some(HS($S([],[M.asSpec()]))),onEscape:A,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ne(Mg,A)],eventOrder:{}}));Ss.show($);const V=M.get($);Zt.focus(V)}}})(n.backstages.dialog),u=(v=>{const w=v.shared;return{open:(S,k)=>{const A=H=>{Ss.hide(V),k(H)},M=Zo(rw({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:E.some("primary"),align:"end",enabled:!0,icon:E.none()},"submit",v)),B=rw({context:"any",name:"no",text:"No",primary:!1,buttonType:E.some("secondary"),align:"end",enabled:!0,icon:E.none()},"cancel",v),U=S8(),$=k8((()=>A(!1)),w.providers),V=ba(VS({lazySink:()=>w.getSink(),header:C8(U,$),body:E8(S,w.providers),footer:E.some(HS($S([],[B,M.asSpec()]))),onEscape:()=>A(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ne(Mg,(()=>A(!1))),Ne(Fh,(()=>A(!0)))],eventOrder:{}}));Ss.show(V);const z=M.get(V);Zt.focus(z)}}})(n.backstages.dialog),m=(v,w)=>Eg.open(((S,k,A)=>{const M=k,B=((U,$,V)=>{const z=ge("dialog"),H=U.internalDialog,j=O8(H.title,z,V),K=mt(H.size),oe=zd(K.get()).toArray(),te=((At,ro,Ho,nn)=>{const Rt=w8(At,ro,E.none(),Ho,!1,nn);return Ss.parts.body(Rt)})({body:H.body,initialData:H.initialData},z,V,(At=>jh(pt,At))),re=jS(H.buttons),pe=P8(re),Ce=gs(re.length!==0,Bw({buttons:re},z,V)),we=I8((()=>St),N8((()=>ze),V.shared.providers,$),V.shared.getSink),Oe={id:z,header:j,body:te,footer:Ce,extraClasses:oe,extraBehaviours:[xa.config({channel:`${G_}-${z}`,updateState:(At,ro)=>(K.set(ro.internalDialog.size),M8(ro.internalDialog.size,At),E.some(ro)),initialData:U})],extraStyles:{}},ze=WS(Oe,we,V),pt={getId:ae(z),getRoot:ae(ze),getBody:()=>Ss.getBody(ze),getFooter:()=>Ss.getFooter(ze),getFormWrapper:()=>{const At=Ss.getBody(ze);return Bo.getCurrent(At).getOr(At)},toggleFullscreen:()=>{B8(ze,K.get())}},St=qh(pt,$.redial,pe);return{dialog:ze,instanceApi:St}})({dataValidator:A,initialData:M,internalDialog:S},{redial:Eg.redial,closeWindow:()=>{Ss.hide(B.dialog),w(B.instanceApi)}},n.backstages.dialog);return Ss.show(B.dialog),B.instanceApi.setData(M),B.instanceApi}),v),p=(v,w,S,k)=>Eg.open(((A,M,B)=>{const U=$v(M,B),$=mn(),V=n.backstages.popup.shared.header.isPositionedAtTop(),z=()=>$.on((oe=>{qn.reposition(oe),i&&V||Wn.refresh(oe)})),H=F8({dataValidator:B,initialData:U,internalDialog:A},{redial:Eg.redial,closeWindow:()=>{$.on(qn.hide),r.off("ResizeEditor",z),r.off("ScrollWindow",j),$.clear(),S(H.instanceApi)}},n.backstages.popup,k.ariaAttrs,z),j=()=>H.dialog.getSystem().broadcastOn([hu()],{target:H.dialog.element}),K=ba(qn.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:k.persistent?{event:"doNotDismissYet"}:{},...V?{}:{fireRepositionEventInstead:{}},inlineBehaviours:He([It("window-manager-inline-events",[Ne(fm(),((oe,te)=>{no(H.dialog,Mg)}))]),...eL(r,i,V,(()=>H.dialog.getSystem().broadcastOn([Ec()],{target:H.dialog.element})))]),isExtraPart:(oe,te)=>Lw(te)}));return $.set(K),qn.showWithinBounds(K,pl(H.dialog),{anchor:w},(()=>{const oe=r.inline?ps():at(r.getContainer()),te=Us(oe);return E.some(te)})),i&&V||(Wn.refresh(K),r.on("ResizeEditor",z)),r.on("ScrollWindow",j),H.instanceApi.setData(U),ht.focusIn(H.dialog),H.instanceApi}),v),x=(v,w,S,k)=>Eg.open(((A,M,B)=>{const U=$v(M,B),$=mn(),V=n.backstages.popup.shared.header.isPositionedAtTop(),z=()=>$.on((K=>{qn.reposition(K),Wn.refresh(K)})),H=F8({dataValidator:B,initialData:U,internalDialog:A},{redial:Eg.redial,closeWindow:()=>{$.on(qn.hide),r.off("ResizeEditor ScrollWindow ElementScroll",z),$.clear(),S(H.instanceApi)}},n.backstages.popup,k.ariaAttrs,z),j=ba(qn.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:k.persistent?{event:"doNotDismissYet"}:{},...V?{}:{fireRepositionEventInstead:{}},inlineBehaviours:He([It("window-manager-inline-events",[Ne(fm(),((K,oe)=>{no(H.dialog,Mg)}))]),Wn.config({contextual:{lazyContext:()=>E.some(Us(at(r.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:K=>qm(r,K.element).map((oe=>({bounds:xg(oe),optScrollEnv:E.some({currentScrollTop:oe.element.dom.scrollTop,scrollElmTop:Va(oe.element).top})}))).getOrThunk((()=>({bounds:Tr(),optScrollEnv:E.none()})))})]),isExtraPart:(K,oe)=>Lw(oe)}));return $.set(j),qn.showWithinBounds(j,pl(H.dialog),{anchor:w},(()=>n.backstages.popup.shared.getSink().toOptional().bind((K=>{const oe=qm(r,K.element).map((pe=>xg(pe))).getOr(Tr()),te=Us(at(r.getContentAreaContainer())),re=ai(te,oe);return E.some(Ns(re.x,re.y,re.width,re.height-15))})))),Wn.refresh(j),r.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",z),H.instanceApi.setData(U),ht.focusIn(H.dialog),H.instanceApi}),v);return{open:(v,w,S)=>{if(!ao(w)){if(w.inline==="toolbar")return p(v,n.backstages.popup.shared.anchors.inlineDialog(),S,w);if(w.inline==="bottom")return x(v,n.backstages.popup.shared.anchors.inlineBottomDialog(),S,w);if(w.inline==="cursor")return p(v,n.backstages.popup.shared.anchors.cursor(),S,w)}return m(v,S)},openUrl:(v,w)=>((S,k)=>Eg.openUrl((A=>{const M=QP(A,{closeWindow:()=>{Ss.hide(M.dialog),k(M.instanceApi)}},r,n.backstages.dialog);return Ss.show(M.dialog),M.instanceApi}),S))(v,w),alert:(v,w)=>{l.open(v,w)},close:v=>{v.close()},confirm:(v,w)=>{u.open(v,w)}}},oL=n=>{o6(n),(r=>{const i=r.options.register,l=m=>{return fs(m,Le)?{value:(p=m,JA(p.map(((x,v)=>v%2==0?"#"+(w=>{return(S=w,$A(S)?E.some({value:VA(S)}):E.none()).orThunk((()=>gk(w).map(gv))).getOrThunk((()=>{const k=document.createElement("canvas");k.height=1,k.width=1;const A=k.getContext("2d");A.clearRect(0,0,k.width,k.height),A.fillStyle="#FFFFFF",A.fillStyle=w,A.fillRect(0,0,1,1);const M=A.getImageData(0,0,1,1).data,B=M[0],U=M[1],$=M[2],V=M[3];return gv(Ih(B,U,$,V))}));var S})(x).value:x)))),valid:!0}:{valid:!1,message:"Must be an array of strings."};var p},u=m=>zt(m)&&m>0?{value:m,valid:!0}:{valid:!1,message:"Must be a positive number."};i("color_map",{processor:l,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),i("color_map_raw",{processor:m=>fs(m,Le)?{value:JA(m),valid:!0}:{valid:!1,message:"Must be an array of strings."}}),i("color_map_background",{processor:l}),i("color_map_foreground",{processor:l}),i("color_cols",{processor:u,default:_k(r)}),i("color_cols_foreground",{processor:u,default:QA(r,vk)}),i("color_cols_background",{processor:u,default:QA(r,yk)}),i("custom_colors",{processor:"boolean",default:!0}),i("color_default_foreground",{processor:"string",default:$_}),i("color_default_background",{processor:"string",default:$_})})(n),(r=>{const i=r.options.register;i("contextmenu_avoid_overlap",{processor:"string",default:""}),i("contextmenu_never_use_native",{processor:"boolean",default:!1}),i("contextmenu",{processor:l=>l===!1?{value:[],valid:!0}:Le(l)||fs(l,Le)?{value:VP(l),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(n)};G4.add("silver",(n=>{oL(n);let r=()=>Tr();const{dialogs:i,popups:l,renderUI:u}=KP(n,{getPopupSinkBounds:()=>r()});wB(n,l.backstage.shared);const m=tL({editor:n,backstages:{popup:l.backstage,dialog:i.backstage}}),p=mn();return{renderUI:()=>{const x=u();return qm(n,l.getMothership().element).each((v=>{r=()=>xg(v)})),x},getWindowManagerImpl:ae(m),getNotificationManagerImpl:()=>k3(n,{backstage:l.backstage},l.getMothership(),p),getPromotionElement:()=>Qo(at(n.getContainer()),".tox-promotion").map((x=>x.dom)).getOrNull()}}))})();(function(){var X=tinymce.util.Tools.resolve("tinymce.ModelManager");const de=f=>h=>(y=>{const C=typeof y;return y===null?"null":C==="object"&&Array.isArray(y)?"array":C==="object"&&(O=D=y,(L=String).prototype.isPrototypeOf(O)||((F=D.constructor)===null||F===void 0?void 0:F.name)===L.name)?"string":C;var O,D,L,F})(h)===f,ye=f=>h=>typeof h===f,Xe=f=>h=>f===h,Ue=de("string"),Le=de("object"),Ot=de("array"),Qt=Xe(null),io=ye("boolean"),Bt=Xe(void 0),Ao=f=>!(h=>h==null)(f),ao=ye("function"),vo=ye("number"),ot=()=>{},yt=f=>()=>f,zt=f=>f,fs=(f,h)=>f===h;function Me(f,...h){return(...y)=>{const C=h.concat(y);return f.apply(null,C)}}const No=f=>h=>!f(h),Je=f=>f(),ae=yt(!1),dt=yt(!0);class ie{constructor(h,y){this.tag=h,this.value=y}static some(h){return new ie(!0,h)}static none(){return ie.singletonNone}fold(h,y){return this.tag?y(this.value):h()}isSome(){return this.tag}isNone(){return!this.tag}map(h){return this.tag?ie.some(h(this.value)):ie.none()}bind(h){return this.tag?h(this.value):ie.none()}exists(h){return this.tag&&h(this.value)}forall(h){return!this.tag||h(this.value)}filter(h){return!this.tag||h(this.value)?this:ie.none()}getOr(h){return this.tag?this.value:h}or(h){return this.tag?this:h}getOrThunk(h){return this.tag?this.value:h()}orThunk(h){return this.tag?this:h()}getOrDie(h){if(this.tag)return this.value;throw new Error(h??"Called getOrDie on None")}static from(h){return Ao(h)?ie.some(h):ie.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(h){this.tag&&h(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ie.singletonNone=new ie(!1);const eo=Array.prototype.slice,ns=Array.prototype.indexOf,Cs=Array.prototype.push,zo=(f,h)=>{return y=f,C=h,ns.call(y,C)>-1;var y,C},Ee=(f,h)=>{for(let y=0,C=f.length;y<C;y++)if(h(f[y],y))return!0;return!1},Ut=(f,h)=>{const y=[];for(let C=0;C<f;C++)y.push(h(C));return y},E=(f,h)=>{const y=f.length,C=new Array(y);for(let O=0;O<y;O++){const D=f[O];C[O]=h(D,O)}return C},mo=(f,h)=>{for(let y=0,C=f.length;y<C;y++)h(f[y],y)},fo=(f,h)=>{const y=[],C=[];for(let O=0,D=f.length;O<D;O++){const L=f[O];(h(L,O)?y:C).push(L)}return{pass:y,fail:C}},Yn=(f,h)=>{const y=[];for(let C=0,O=f.length;C<O;C++){const D=f[C];h(D,C)&&y.push(D)}return y},ki=(f,h,y)=>(((C,O)=>{for(let D=C.length-1;D>=0;D--)O(C[D],D)})(f,((C,O)=>{y=h(y,C,O)})),y),Ge=(f,h,y)=>(mo(f,((C,O)=>{y=h(y,C,O)})),y),dn=(f,h)=>((y,C,O)=>{for(let D=0,L=y.length;D<L;D++){const F=y[D];if(C(F,D))return ie.some(F);if(O(F,D))break}return ie.none()})(f,h,ae),df=(f,h)=>{for(let y=0,C=f.length;y<C;y++)if(h(f[y],y))return ie.some(y);return ie.none()},bt=f=>{const h=[];for(let y=0,C=f.length;y<C;++y){if(!Ot(f[y]))throw new Error("Arr.flatten item "+y+" was not an array, input: "+f);Cs.apply(h,f[y])}return h},Ke=(f,h)=>bt(E(f,h)),vt=(f,h)=>{for(let y=0,C=f.length;y<C;++y)if(h(f[y],y)!==!0)return!1;return!0},Vu=(f,h)=>{const y={};for(let C=0,O=f.length;C<O;C++){const D=f[C];y[String(D)]=h(D,C)}return y},sn=(f,h)=>h>=0&&h<f.length?ie.some(f[h]):ie.none(),un=f=>sn(f,0),qo=f=>sn(f,f.length-1),P=(f,h)=>{for(let y=0;y<f.length;y++){const C=h(f[y],y);if(C.isSome())return C}return ie.none()},el=Object.keys,fr=Object.hasOwnProperty,yn=(f,h)=>{const y=el(f);for(let C=0,O=y.length;C<O;C++){const D=y[C];h(f[D],D)}},Uc=(f,h)=>Gg(f,((y,C)=>({k:C,v:h(y,C)}))),Gg=(f,h)=>{const y={};return yn(f,((C,O)=>{const D=h(C,O);y[D.k]=D.v})),y},wo=(f,h)=>{const y=[];return yn(f,((C,O)=>{y.push(h(C,O))})),y},Sn=f=>wo(f,zt),go=(f,h)=>fr.call(f,h),Te=f=>{if(!Ot(f))throw new Error("cases must be an array");if(f.length===0)throw new Error("there must be at least one case");const h=[],y={};return mo(f,((C,O)=>{const D=el(C);if(D.length!==1)throw new Error("one and only one name per case");const L=D[0],F=C[L];if(y[L]!==void 0)throw new Error("duplicate key detected:"+L);if(L==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ot(F))throw new Error("case arguments must be an array");h.push(L),y[L]=(...q)=>{const J=q.length;if(J!==F.length)throw new Error("Wrong number of arguments to case "+L+". Expected "+F.length+" ("+F+"), got "+J);return{fold:(...se)=>{if(se.length!==f.length)throw new Error("Wrong number of arguments to fold. Expected "+f.length+", got "+se.length);return se[O].apply(null,q)},match:se=>{const Q=el(se);if(h.length!==Q.length)throw new Error("Wrong number of arguments to match. Expected: "+h.join(",")+`
Actual: `+Q.join(","));if(!vt(h,(ne=>zo(Q,ne))))throw new Error("Not all branches were specified when using match. Specified: "+Q.join(", ")+`
Required: `+h.join(", "));return se[L].apply(null,q)},log:se=>{console.log(se,{constructors:h,constructor:L,params:q})}}}})),y},Uu=f=>{let h=f;return{get:()=>h,set:y=>{h=y}}},Lr=f=>f.slice(0).sort(),Pt=(f,h)=>{const y=Yn(h,(C=>!zo(f,C)));y.length>0&&(C=>{throw new Error("Unsupported keys for object: "+Lr(C).join(", "))})(y)},bb=f=>((h,y)=>((C,O,D)=>{if(O.length===0)throw new Error("You must specify at least one required field.");return((L,F)=>{if(!Ot(F))throw new Error("The "+L+" fields must be an array. Was: "+F+".");mo(F,(q=>{if(!Ue(q))throw new Error("The value "+q+" in the "+L+" fields was not a string.")}))})("required",O),(L=>{const F=Lr(L);dn(F,((q,J)=>J<F.length-1&&q===F[J+1])).each((q=>{throw new Error("The field: "+q+" occurs more than once in the combined fields: ["+F.join(", ")+"].")}))})(O),L=>{const F=el(L);vt(O,(J=>zo(F,J)))||((J,se)=>{throw new Error("All required keys ("+Lr(J).join(", ")+") were not specified. Specified keys were: "+Lr(se).join(", ")+".")})(O,F),C(O,F);const q=Yn(O,(J=>!D.validate(L[J],J)));return q.length>0&&((J,se)=>{throw new Error("All values need to be of type: "+se+". Keys ("+Lr(J).join(", ")+") were not.")})(q,D.label),L}})(h,y,{validate:ao,label:"function"}))(Pt,f),wa=f=>{const h=D=>D(f),y=yt(f),C=()=>O,O={tag:!0,inner:f,fold:(D,L)=>L(f),isValue:dt,isError:ae,map:D=>Zu.value(D(f)),mapError:C,bind:h,exists:h,forall:h,getOr:y,or:C,getOrThunk:y,orThunk:C,getOrDie:y,each:D=>{D(f)},toOptional:()=>ie.some(f)};return O},Go=f=>{const h=()=>y,y={tag:!1,inner:f,fold:(O,D)=>O(f),isValue:ae,isError:dt,map:h,mapError:O=>Zu.error(O(f)),bind:h,exists:ae,forall:dt,getOr:zt,or:zt,getOrThunk:Je,orThunk:Je,getOrDie:(C=String(f),()=>{throw new Error(C)}),each:ot,toOptional:ie.none};var C;return y},Zu={value:wa,error:Go,fromOption:(f,h)=>f.fold((()=>Go(h)),wa)},Ko=typeof window<"u"?window:Function("return this;")(),ss=f=>{const h=f.replace(/\./g,"-");return{resolve:y=>h+"-"+y}},n1=(f,h,y=fs)=>f.exists((C=>y(C,h))),Kg=f=>{const h=[],y=C=>{h.push(C)};for(let C=0;C<f.length;C++)f[C].each(y);return h},_r=(f,h)=>f?ie.some(h):ie.none(),Tl=(f,h)=>((y,C)=>{let O=C??Ko;for(let D=0;D<y.length&&O!=null;++D)O=O[y[D]];return O})(f.split("."),h),Si=()=>{const f=(h=>{const y=Uu(ie.none()),C=()=>y.get().each(h);return{clear:()=>{C(),y.set(ie.none())},isSet:()=>y.get().isSome(),get:()=>y.get(),set:O=>{C(),y.set(ie.some(O))}}})(ot);return{...f,on:h=>f.get().each(h)}},Wu=(f,h,y)=>h===""||f.length>=h.length&&f.substr(y,y+h.length)===h,Ir=(f,h,y=0,C)=>{const O=f.indexOf(h,y);return O!==-1&&(!!Bt(C)||O+h.length<=C)},Dt=(f,h)=>Wu(f,h,0),$o=(f,h)=>Wu(f,h,f.length-h.length),$n=(f=>h=>h.replace(f,""))(/^\s+|\s+$/g),Is=f=>f.length>0,mt=f=>{let h,y=!1;return(...C)=>(y||(y=!0,h=f.apply(null,C)),h)},Zc=["tfoot","thead","tbody","colgroup"],uf=(f,h,y)=>({element:f,rowspan:h,colspan:y}),Ca=(f,h,y)=>({element:f,cells:h,section:y}),wr=(f,h,y)=>({element:f,isNew:h,isLocked:y}),Mo=(f,h,y,C)=>({element:f,cells:h,section:y,isNew:C}),si=(f,h,y)=>{const C=f.cells,O=C.slice(0,h),D=C.slice(h),L=O.concat(y).concat(D);return yo(f,L)},xb=(f,h,y)=>si(f,h,[y]),qd=(f,h,y)=>{f.cells[h]=y},yo=(f,h)=>Mo(f.element,h,f.section,f.isNew),Kr=(f,h)=>f.cells[h],Fr=(f,h)=>Kr(f,h).element,$a=f=>f.cells.length,rs=f=>{const h=fo(f,(y=>y.section==="colgroup"));return{rows:h.fail,cols:h.pass}},Jo=(f,h,y)=>{const C=E(f.cells,y);return Mo(h(f.element),C,f.section,!0)},Xt=f=>{if(f==null)throw new Error("Node cannot be null or undefined");return{dom:f}},ge={fromHtml:(f,h)=>{const y=(h||document).createElement("div");if(y.innerHTML=f,!y.hasChildNodes()||y.childNodes.length>1){const C="HTML does not have a single root node";throw console.error(C,f),new Error(C)}return Xt(y.childNodes[0])},fromTag:(f,h)=>{const y=(h||document).createElement(f);return Xt(y)},fromText:(f,h)=>{const y=(h||document).createTextNode(f);return Xt(y)},fromDom:Xt,fromPoint:(f,h,y)=>ie.from(f.dom.elementFromPoint(h,y)).map(Xt)},s2=(f,h)=>{const y=f.document.createRange();return y.selectNode(h.dom),y},as=(f,h)=>{const y=f.document.createRange();return sc(y,h),y},sc=(f,h)=>f.selectNodeContents(h.dom),Bn=(f,h,y)=>{const C=f.document.createRange();var O;return O=C,h.fold((D=>{O.setStartBefore(D.dom)}),((D,L)=>{O.setStart(D.dom,L)}),(D=>{O.setStartAfter(D.dom)})),((D,L)=>{L.fold((F=>{D.setEndBefore(F.dom)}),((F,q)=>{D.setEnd(F.dom,q)}),(F=>{D.setEndAfter(F.dom)}))})(C,y),C},rc=(f,h,y,C,O)=>{const D=f.document.createRange();return D.setStart(h.dom,y),D.setEnd(C.dom,O),D},ju=f=>({left:f.left,top:f.top,right:f.right,bottom:f.bottom,width:f.width,height:f.height}),Yg=Te([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),gs=(f,h,y)=>h(ge.fromDom(y.startContainer),y.startOffset,ge.fromDom(y.endContainer),y.endOffset),vb=(f,h)=>{const y=((C,O)=>O.match({domRange:D=>({ltr:yt(D),rtl:ie.none}),relative:(D,L)=>({ltr:mt((()=>Bn(C,D,L))),rtl:mt((()=>ie.some(Bn(C,L,D))))}),exact:(D,L,F,q)=>({ltr:mt((()=>rc(C,D,L,F,q))),rtl:mt((()=>ie.some(rc(C,F,q,D,L))))})}))(f,h);return((C,O)=>{const D=O.ltr();return D.collapsed?O.rtl().filter((L=>L.collapsed===!1)).map((L=>Yg.rtl(ge.fromDom(L.endContainer),L.endOffset,ge.fromDom(L.startContainer),L.startOffset))).getOrThunk((()=>gs(0,Yg.ltr,D))):gs(0,Yg.ltr,D)})(0,y)},Xg=(f,h)=>vb(f,h).match({ltr:(y,C,O,D)=>{const L=f.document.createRange();return L.setStart(y.dom,C),L.setEnd(O.dom,D),L},rtl:(y,C,O,D)=>{const L=f.document.createRange();return L.setStart(O.dom,D),L.setEnd(y.dom,C),L}});Yg.ltr,Yg.rtl;const Yr=(f,h)=>{const y=f.dom;if(y.nodeType!==1)return!1;{const C=y;if(C.matches!==void 0)return C.matches(h);if(C.msMatchesSelector!==void 0)return C.msMatchesSelector(h);if(C.webkitMatchesSelector!==void 0)return C.webkitMatchesSelector(h);if(C.mozMatchesSelector!==void 0)return C.mozMatchesSelector(h);throw new Error("Browser lacks native selectors")}},mn=f=>f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11||f.childElementCount===0,Jg=(f,h)=>{const y=h===void 0?document:h.dom;return mn(y)?ie.none():ie.from(y.querySelector(f)).map(ge.fromDom)},Pn=(f,h)=>f.dom===h.dom,Qs=(f,h)=>{const y=f.dom,C=h.dom;return y!==C&&y.contains(C)},r2=Yr,Qg=()=>ep(0,0),ep=(f,h)=>({major:f,minor:h}),Wc={nu:ep,detect:(f,h)=>{const y=String(h).toLowerCase();return f.length===0?Qg():((C,O)=>{const D=((F,q)=>{for(let J=0;J<F.length;J++){const se=F[J];if(se.test(q))return se}})(C,O);if(!D)return{major:0,minor:0};const L=F=>Number(O.replace(D,"$"+F));return ep(L(1),L(2))})(f,y)},unknown:Qg},Gd=(f,h)=>{const y=String(h).toLowerCase();return dn(f,(C=>C.search(y)))},mf=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,gr=f=>h=>Ir(h,f),ff=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:f=>Ir(f,"edge/")&&Ir(f,"chrome")&&Ir(f,"safari")&&Ir(f,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,mf],search:f=>Ir(f,"chrome")&&!Ir(f,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:f=>Ir(f,"msie")||Ir(f,"trident")},{name:"Opera",versionRegexes:[mf,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:gr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:gr("firefox")},{name:"Safari",versionRegexes:[mf,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:f=>(Ir(f,"safari")||Ir(f,"mobile/"))&&Ir(f,"applewebkit")}],uC=[{name:"Windows",search:gr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:f=>Ir(f,"iphone")||Ir(f,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:gr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:gr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:gr("linux"),versionRegexes:[]},{name:"Solaris",search:gr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:gr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:gr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Qn={browsers:yt(ff),oses:yt(uC)},a2="Edge",at="Chromium",i2="Opera",yb="Firefox",_b="Safari",gf=f=>{const h=f.current,y=f.version,C=O=>()=>h===O;return{current:h,version:y,isEdge:C(a2),isChromium:C(at),isIE:C("IE"),isOpera:C(i2),isFirefox:C(yb),isSafari:C(_b)}},l2=()=>gf({current:void 0,version:Wc.unknown()}),ac=gf,c2="Windows",qu="Android",wb="Linux",zr="macOS",lo="Solaris",pf="FreeBSD",s1="ChromeOS",jc=f=>{const h=f.current,y=f.version,C=O=>()=>h===O;return{current:h,version:y,isWindows:C(c2),isiOS:C("iOS"),isAndroid:C(qu),isMacOS:C(zr),isLinux:C(wb),isSolaris:C(lo),isFreeBSD:C(pf),isChromeOS:C(s1)}},tp=()=>jc({current:void 0,version:Wc.unknown()}),Cb=jc,tl=(f=>window.matchMedia(f).matches);let Ei=mt((()=>((f,h,y)=>{const C=Qn.browsers(),O=Qn.oses(),D=h.bind((q=>((J,se)=>P(se.brands,(Q=>{const ne=Q.brand.toLowerCase();return dn(J,(ee=>{var me;return ne===((me=ee.brand)===null||me===void 0?void 0:me.toLowerCase())})).map((ee=>({current:ee.name,version:Wc.nu(parseInt(Q.version,10),0)})))})))(C,q))).orThunk((()=>((q,J)=>Gd(q,J).map((se=>{const Q=Wc.detect(se.versionRegexes,J);return{current:se.name,version:Q}})))(C,f))).fold(l2,ac),L=((q,J)=>Gd(q,J).map((se=>{const Q=Wc.detect(se.versionRegexes,J);return{current:se.name,version:Q}})))(O,f).fold(tp,Cb),F=((q,J,se,Q)=>{const ne=q.isiOS()&&/ipad/i.test(se)===!0,ee=q.isiOS()&&!ne,me=q.isiOS()||q.isAndroid(),ue=me||Q("(pointer:coarse)"),Re=ne||!ee&&me&&Q("(min-device-width:768px)"),Be=ee||me&&!Re,Ve=J.isSafari()&&q.isiOS()&&/safari/i.test(se)===!1,Ze=!Be&&!Re&&!Ve;return{isiPad:yt(ne),isiPhone:yt(ee),isTablet:yt(Re),isPhone:yt(Be),isTouch:yt(ue),isAndroid:q.isAndroid,isiOS:q.isiOS,isWebView:yt(Ve),isDesktop:yt(Ze)}})(L,D,f,y);return{browser:D,os:L,deviceType:F}})(window.navigator.userAgent,ie.from(window.navigator.userAgentData),tl)));const d2=()=>Ei(),r1=Object.getPrototypeOf,op=f=>{const h=Tl("ownerDocument.defaultView",f);return Le(f)&&((y=>((C,O)=>{const D=((L,F)=>Tl(L,F))(C,O);if(D==null)throw new Error(C+" not available on this browser");return D})("HTMLElement",y))(h).prototype.isPrototypeOf(f)||/^HTML\w*Element$/.test(r1(f).constructor.name))},es=f=>f.dom.nodeName.toLowerCase(),Al=f=>f.dom.nodeType,Kd=f=>h=>Al(h)===f,Fs=f=>Al(f)===8||es(f)==="#comment",u2=f=>ka(f)&&op(f.dom),ka=Kd(1),Gu=Kd(3),m2=Kd(9),f2=Kd(11),Sa=f=>h=>ka(h)&&es(h)===f,a1=f=>ge.fromDom(f.dom.ownerDocument),hf=f=>m2(f)?f:a1(f),qc=f=>ie.from(f.dom.parentNode).map(ge.fromDom),bf=f=>ie.from(f.dom.parentElement).map(ge.fromDom),g2=(f,h)=>{const y=ao(h)?h:ae;let C=f.dom;const O=[];for(;C.parentNode!==null&&C.parentNode!==void 0;){const D=C.parentNode,L=ge.fromDom(D);if(O.push(L),y(L)===!0)break;C=D}return O},xf=f=>ie.from(f.dom.previousSibling).map(ge.fromDom),np=f=>ie.from(f.dom.nextSibling).map(ge.fromDom),Hr=f=>E(f.dom.childNodes,ge.fromDom),i1=(f,h)=>{const y=f.dom.childNodes;return ie.from(y[h]).map(ge.fromDom)},p2=f=>f2(f)&&Ao(f.dom.host),ol=f=>ge.fromDom(f.dom.getRootNode()),mC=f=>ge.fromDom(f.dom.host),kb=f=>{const h=ge.fromDom((F=>{if(Ao(F.target)){const q=ge.fromDom(F.target);if(ka(q)&&Ao(q.dom.shadowRoot)&&F.composed&&F.composedPath){const J=F.composedPath();if(J)return un(J)}}return ie.from(F.target)})(f).getOr(f.target)),y=()=>f.stopPropagation(),C=()=>f.preventDefault(),O=(D=C,L=y,(...F)=>D(L.apply(null,F)));var D,L;return((F,q,J,se,Q,ne,ee)=>({target:F,x:q,y:J,stop:se,prevent:Q,kill:ne,raw:ee}))(h,f.clientX,f.clientY,y,C,O,f)},Ol=(f,h,y,C)=>{f.dom.removeEventListener(h,y,C)},Yd=dt,Ku=(f,h,y)=>((C,O,D,L)=>((F,q,J,se,Q)=>{const ne=((ee,me)=>ue=>{ee(ue)&&me(kb(ue))})(J,se);return F.dom.addEventListener(q,ne,Q),{unbind:Me(Ol,F,q,ne,Q)}})(C,O,D,L,!1))(f,h,Yd,y),$r=kb,ic=(f,h)=>{qc(f).each((y=>{y.dom.insertBefore(h.dom,f.dom)}))},sp=(f,h)=>{np(f).fold((()=>{qc(f).each((y=>{En(y,h)}))}),(y=>{ic(y,h)}))},rp=(f,h)=>{(C=>i1(C,0))(f).fold((()=>{En(f,h)}),(C=>{f.dom.insertBefore(h.dom,C.dom)}))},En=(f,h)=>{f.dom.appendChild(h.dom)},Dl=(f,h)=>{ic(f,h),En(h,f)},l1=(f,h)=>{mo(h,((y,C)=>{const O=C===0?f:h[C-1];sp(O,y)}))},Ti=(f,h)=>{mo(h,(y=>{En(f,y)}))},Yu=(f,h,y)=>{if(!(Ue(y)||io(y)||vo(y)))throw console.error("Invalid call to Attribute.set. Key ",h,":: Value ",y,":: Element ",f),new Error("Attribute value was not simple");f.setAttribute(h,y+"")},Vn=(f,h,y)=>{Yu(f.dom,h,y)},Ai=(f,h)=>{const y=f.dom;yn(h,((C,O)=>{Yu(y,O,C)}))},Xd=(f,h)=>{const y=f.dom.getAttribute(h);return y===null?void 0:y},Gc=(f,h)=>ie.from(Xd(f,h)),As=(f,h)=>{f.dom.removeAttribute(h)},nl=f=>Ge(f.dom.attributes,((h,y)=>(h[y.name]=y.value,h)),{}),lc=f=>{f.dom.textContent="",mo(Hr(f),(h=>{Xr(h)}))},Xr=f=>{const h=f.dom;h.parentNode!==null&&h.parentNode.removeChild(h)},h2=f=>{const h=Hr(f);h.length>0&&l1(f,h),Xr(f)},Sb=(f,h)=>ge.fromDom(f.dom.cloneNode(h)),c1=f=>Sb(f,!1),er=f=>Sb(f,!0),Xu=(f,h)=>{const y=ge.fromTag(h),C=nl(f);return Ai(y,C),y},Jd=f=>f.style!==void 0&&ao(f.style.getPropertyValue),Nl=f=>{const h=Gu(f)?f.dom.parentNode:f.dom;if(h==null||h.ownerDocument===null)return!1;const y=h.ownerDocument;return(D=>{const L=ol(D);return p2(L)?ie.some(L):ie.none()})(ge.fromDom(h)).fold((()=>y.body.contains(h)),(C=Nl,O=mC,D=>C(O(D))));var C,O},Eb=(f,h,y)=>{if(!Ue(y))throw console.error("Invalid call to CSS.set. Property ",h,":: Value ",y,":: Element ",f),new Error("CSS value must be a string: "+y);Jd(f)&&f.style.setProperty(h,y)},Cr=(f,h,y)=>{const C=f.dom;Eb(C,h,y)},vf=(f,h)=>{const y=f.dom;yn(h,((C,O)=>{Eb(y,O,C)}))},Kc=(f,h)=>{const y=f.dom,C=window.getComputedStyle(y).getPropertyValue(h);return C!==""||Nl(f)?C:da(y,h)},da=(f,h)=>Jd(f)?f.style.getPropertyValue(h):"",ap=(f,h)=>{const y=f.dom,C=da(y,h);return ie.from(C).filter((O=>O.length>0))},Rl=(f,h)=>{((y,C)=>{Jd(y)&&y.style.removeProperty(C)})(f.dom,h),n1(Gc(f,"style").map($n),"")&&As(f,"style")},d1=(f,h)=>{const y=O=>{const D=h(O);if(D<=0||D===null){const L=Kc(O,f);return parseFloat(L)||0}return D},C=(O,D)=>Ge(D,((L,F)=>{const q=Kc(O,F),J=q===void 0?0:parseInt(q,10);return isNaN(J)?L:L+J}),0);return{set:(O,D)=>{if(!vo(D)&&!D.match(/^[0-9]+$/))throw new Error(f+".set accepts only positive integer values. Value was "+D);const L=O.dom;Jd(L)&&(L.style[f]=D+"px")},get:y,getOuter:y,aggregate:C,max:(O,D,L)=>{const F=C(O,L);return D>F?D-F:0}}},_n=(f,h,y)=>((C,O)=>(D=>{const L=parseFloat(D);return isNaN(L)?ie.none():ie.some(L)})(C).getOr(O))(Kc(f,h),y),ip=d1("height",(f=>{const h=f.dom;return Nl(f)?h.getBoundingClientRect().height:h.offsetHeight})),cc=f=>ip.get(f),Ml=f=>ip.getOuter(f),Vr=d1("width",(f=>{const h=f.dom;return Nl(f)?h.getBoundingClientRect().width:h.offsetWidth})),Oi=f=>Vr.get(f),Tb=f=>Vr.getOuter(f),lp=f=>((h,y)=>{const C=h.dom,O=C.getBoundingClientRect().width||C.offsetWidth;return((D,L,F,q)=>L-_n(D,`padding-${F}`,0)-_n(D,`padding-${q}`,0)-_n(D,`border-${F}-width`,0)-_n(D,`border-${q}-width`,0))(h,O,"left","right")})(f),zs=(f,h)=>({left:f,top:h,translate:(y,C)=>zs(f+y,h+C)}),ua=zs,Bl=(f,h)=>f!==void 0?f:h!==void 0?h:0,Vt=f=>{const h=f.dom.ownerDocument,y=h.body,C=h.defaultView,O=h.documentElement;if(y===f.dom)return ua(y.offsetLeft,y.offsetTop);const D=Bl(C?.pageYOffset,O.scrollTop),L=Bl(C?.pageXOffset,O.scrollLeft),F=Bl(O.clientTop,y.clientTop),q=Bl(O.clientLeft,y.clientLeft);return Vo(f).translate(L-q,D-F)},Vo=f=>{const h=f.dom,y=h.ownerDocument.body;return y===h?ua(y.offsetLeft,y.offsetTop):Nl(f)?(C=>{const O=C.getBoundingClientRect();return ua(O.left,O.top)})(h):ua(0,0)},Hs=(f=>{const h=y=>f(y)?ie.from(y.dom.nodeValue):ie.none();return{get:y=>{if(!f(y))throw new Error("Can only get text value of a text node");return h(y).getOr("")},getOption:h,set:(y,C)=>{if(!f(y))throw new Error("Can only set raw text value of a text node");y.dom.nodeValue=C}}})(Gu),$s=f=>Hs.get(f),Ab=f=>Hs.getOption(f),ts=(f,h)=>Hs.set(f,h),u1=(f,h)=>y=>dc(y)==="rtl"?h:f,dc=f=>Kc(f,"direction")==="rtl"?"rtl":"ltr";var m1=(f,h,y,C,O)=>f(y,C)?ie.some(y):ao(O)&&O(y)?ie.none():h(y,C,O);const yf=(f,h,y)=>{let C=f.dom;const O=ao(y)?y:ae;for(;C.parentNode;){C=C.parentNode;const D=ge.fromDom(C);if(h(D))return ie.some(D);if(O(D))break}return ie.none()},Ju=(f,h,y)=>m1(((C,O)=>O(C)),yf,f,h,y),Qu=(f,h,y)=>yf(f,(C=>Yr(C,h)),y),$e=(f,h)=>(y=>dn(y.dom.childNodes,(C=>{return O=ge.fromDom(C),Yr(O,h);var O})).map(ge.fromDom))(f),ma=(f,h)=>Jg(h,f),ps=(f,h,y)=>m1(((C,O)=>Yr(C,O)),Qu,f,h,y),b2=f=>f.dom.classList!==void 0,em=(f,h)=>((y,C,O)=>{const D=((L,F)=>{const q=Xd(L,F);return q===void 0||q===""?[]:q.split(" ")})(y,C).concat([O]);return Vn(y,C,D.join(" ")),!0})(f,"class",h),_f=(f,h)=>{b2(f)?f.dom.classList.add(h):em(f,h)},Z=(f,h)=>b2(f)&&f.dom.classList.contains(h),Qd=f=>ps(f,"[contenteditable]"),eu=(f,h=!1)=>Nl(f)?f.dom.isContentEditable:Qd(f).fold(yt(h),(y=>kr(y)==="true")),kr=f=>f.dom.contentEditable,cp=(f,h)=>{let y=[];return mo(Hr(f),(C=>{h(C)&&(y=y.concat([C])),y=y.concat(cp(C,h))})),y},os=(f,h,y)=>((C,O,D)=>Yn(g2(C,D),(L=>Yr(L,h))))(f,0,y),wf=(f,h)=>(y=>Yn(Hr(y),(C=>Yr(C,h))))(f),uc=(f,h)=>((y,C)=>{const O=C===void 0?document:C.dom;return mn(O)?[]:E(O.querySelectorAll(y),ge.fromDom)})(h,f),_o=f=>es(f)==="img"?1:Ab(f).fold((()=>Hr(f).length),(h=>h.length)),dp=["img","br"],Cf=f=>Ab(f).filter((h=>h.trim().length!==0||h.indexOf(" ")>-1)).isSome()||zo(dp,es(f))||(h=>u2(h)&&Xd(h,"contenteditable")==="false")(f),up=f=>((h,y)=>{const C=O=>{for(let D=0;D<O.childNodes.length;D++){const L=ge.fromDom(O.childNodes[D]);if(y(L))return ie.some(L);const F=C(O.childNodes[D]);if(F.isSome())return F}return ie.none()};return C(h.dom)})(f,Cf),Os=f=>sl(f,Cf),sl=(f,h)=>{const y=C=>{const O=Hr(C);for(let D=O.length-1;D>=0;D--){const L=O[D];if(h(L))return ie.some(L);const F=y(L);if(F.isSome())return F}return ie.none()};return y(f)},tm=(f,h,y,C)=>({start:f,soffset:h,finish:y,foffset:C}),Jr=Te([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Fn={before:Jr.before,on:Jr.on,after:Jr.after,cata:(f,h,y,C)=>f.fold(h,y,C),getStart:f=>f.fold(zt,zt,zt)},Yc=Te([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),om={domRange:Yc.domRange,relative:Yc.relative,exact:Yc.exact,exactFromRange:f=>Yc.exact(f.start,f.soffset,f.finish,f.foffset),getWin:f=>{const h=(y=>y.match({domRange:C=>ge.fromDom(C.startContainer),relative:(C,O)=>Fn.getStart(C),exact:(C,O,D,L)=>C}))(f);return ge.fromDom(hf(h).dom.defaultView)},range:tm},Lt=(f,h)=>{const y=es(f);return y==="input"?Fn.after(f):zo(["br","img"],y)?h===0?Fn.before(f):Fn.after(f):Fn.on(f,h)},Qr=f=>ie.from(f.getSelection()),Va=(f,h)=>{Qr(f).each((y=>{y.removeAllRanges(),y.addRange(h)}))},nm=(f,h,y,C,O)=>{const D=rc(f,h,y,C,O);Va(f,D)},Gt=(f,h)=>vb(f,h).match({ltr:(y,C,O,D)=>{nm(f,y,C,O,D)},rtl:(y,C,O,D)=>{Qr(f).each((L=>{if(L.setBaseAndExtent)L.setBaseAndExtent(y.dom,C,O.dom,D);else if(L.extend)try{((F,q,J,se,Q,ne)=>{q.collapse(J.dom,se),q.extend(Q.dom,ne)})(0,L,y,C,O,D)}catch{nm(f,O,D,y,C)}else nm(f,O,D,y,C)}))}}),mp=(f,h,y,C,O)=>{const D=((L,F,q,J)=>{const se=Lt(L,F),Q=Lt(q,J);return om.relative(se,Q)})(h,y,C,O);Gt(f,D)},fp=(f,h,y)=>{const C=((O,D)=>{const L=O.fold(Fn.before,Lt,Fn.after),F=D.fold(Fn.before,Lt,Fn.after);return om.relative(L,F)})(h,y);Gt(f,C)},kf=f=>{if(f.rangeCount>0){const h=f.getRangeAt(0),y=f.getRangeAt(f.rangeCount-1);return ie.some(tm(ge.fromDom(h.startContainer),h.startOffset,ge.fromDom(y.endContainer),y.endOffset))}return ie.none()},sm=f=>{if(f.anchorNode===null||f.focusNode===null)return kf(f);{const h=ge.fromDom(f.anchorNode),y=ge.fromDom(f.focusNode);return((C,O,D,L)=>{const F=((J,se,Q,ne)=>{const ee=a1(J).dom.createRange();return ee.setStart(J.dom,se),ee.setEnd(Q.dom,ne),ee})(C,O,D,L),q=Pn(C,D)&&O===L;return F.collapsed&&!q})(h,f.anchorOffset,y,f.focusOffset)?ie.some(tm(h,f.anchorOffset,y,f.focusOffset)):kf(f)}},hs=(f,h,y=!0)=>{const C=(y?as:s2)(f,h);Va(f,C)},Ur=f=>(h=>Qr(h).filter((y=>y.rangeCount>0)).bind(sm))(f).map((h=>om.exact(h.start,h.soffset,h.finish,h.foffset))),x2=(f,h,y)=>((C,O,D)=>((L,F,q)=>L.caretPositionFromPoint?((J,se,Q)=>{var ne;return ie.from((ne=J.caretPositionFromPoint)===null||ne===void 0?void 0:ne.call(J,se,Q)).bind((ee=>{if(ee.offsetNode===null)return ie.none();const me=J.createRange();return me.setStart(ee.offsetNode,ee.offset),me.collapse(),ie.some(me)}))})(L,F,q):L.caretRangeFromPoint?((J,se,Q)=>{var ne;return ie.from((ne=J.caretRangeFromPoint)===null||ne===void 0?void 0:ne.call(J,se,Q))})(L,F,q):ie.none())(C.document,O,D).map((L=>tm(ge.fromDom(L.startContainer),L.startOffset,ge.fromDom(L.endContainer),L.endOffset))))(f,h,y),v2={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},mc=(()=>{const f="[0-9]+",h="[eE][+-]?"+f,y=O=>`(?:${O})?`,C=["Infinity",f+"\\."+y(f)+y(h),"\\."+f+y(h),f+y(h)].join("|");return new RegExp(`^([+-]?(?:${C}))(.*)$`)})(),Ua=f=>E(f,yt(0)),fc=(f,h,y,C,O)=>O(f.slice(0,h)).concat(C).concat(O(f.slice(y))),f1=f=>(h,y,C,O)=>{if(f(C)){const D=Math.max(O,h[y]-Math.abs(C)),L=Math.abs(D-h[y]);return C>=0?L:-L}return C},Qo=f1((f=>f<0)),Vs=f1(dt),rm=()=>{const f=(y,C,O,D)=>{const L=(100+O)/100,F=Math.max(D,(y[C]+O)/L);return E(y,((q,J)=>(J===C?F:q/L)-q))},h=(y,C,O,D,L,F)=>F?f(y,C,D,L):((q,J,se,Q,ne)=>{const ee=Qo(q,J,Q,ne);return fc(q,J,se+1,[ee,0],Ua)})(y,C,O,D,L);return{resizeTable:(y,C)=>y(C),clampTableDelta:Qo,calcLeftEdgeDeltas:h,calcMiddleDeltas:(y,C,O,D,L,F,q)=>h(y,O,D,L,F,q),calcRightEdgeDeltas:(y,C,O,D,L,F)=>{if(F)return f(y,O,D,L);{const q=Qo(y,O,D,L);return Ua(y.slice(0,O)).concat([q])}},calcRedestributedWidths:(y,C,O,D)=>{if(D){const L=(C+O)/C,F=E(y,(q=>q/L));return{delta:100*L-100,newSizes:F}}return{delta:O,newSizes:y}}}},am=()=>{const f=(h,y,C,O,D)=>{const L=Vs(h,O>=0?C:y,O,D);return fc(h,y,C+1,[L,-L],Ua)};return{resizeTable:(h,y,C)=>{C&&h(y)},clampTableDelta:(h,y,C,O,D)=>{if(D){if(C>=0)return C;{const L=Ge(h,((F,q)=>F+q-O),0);return Math.max(-L,C)}}return Qo(h,y,C,O)},calcLeftEdgeDeltas:f,calcMiddleDeltas:(h,y,C,O,D,L)=>f(h,C,O,D,L),calcRightEdgeDeltas:(h,y,C,O,D,L)=>{if(L)return Ua(h);{const F=O/h.length;return E(h,yt(F))}},calcRedestributedWidths:(h,y,C,O)=>({delta:0,newSizes:h})}},Za=(f,h,y=0)=>Gc(f,h).map((C=>parseInt(C,10))).getOr(y),ri=(f,h)=>Za(f,h,1),gc=f=>Sa("col")(f)?Za(f,"span",1)>1:ri(f,"colspan")>1,Sf=(f,h)=>parseInt(Kc(f,h),10),Ln=yt(10),bs=yt(10),fn=(f,h)=>xs(f,h,dt),xs=(f,h,y)=>Ke(Hr(f),(C=>Yr(C,h)?y(C)?[C]:[]:xs(C,h,y))),Di=(f,h)=>((y,C,O=ae)=>O(C)?ie.none():zo(y,es(C))?ie.some(C):Qu(C,y.join(","),(D=>Yr(D,"table")||O(D))))(["td","th"],f,h),Zr=f=>fn(f,"th,td"),g1=f=>Yr(f,"colgroup")?wf(f,"col"):Ke(gp(f),(h=>wf(h,"col"))),Ds=(f,h)=>ps(f,"table",h),Wa=f=>fn(f,"tr"),gp=f=>Ds(f).fold(yt([]),(h=>wf(h,"colgroup"))),Sr=Sa("th"),pp=f=>vt(f,(h=>Sr(h.element))),hp=(f,h)=>f&&h?"sectionCells":f?"section":"cells",p1=f=>{const h=f.section==="thead",y=n1(h1(f.cells),"th");return f.section==="tfoot"?{type:"footer"}:h||y?{type:"header",subType:hp(h,y)}:{type:"body"}},h1=f=>{const h=Yn(f,(y=>Sr(y.element)));return h.length===0?ie.some("td"):h.length===f.length?ie.some("th"):ie.none()},bp=(f,h)=>E(f,(y=>{if(es(y)==="colgroup"){const C=E(g1(y),(O=>{const D=Za(O,"span",1);return uf(O,1,D)}));return Ca(y,C,"colgroup")}{const C=E(Zr(y),(O=>{const D=Za(O,"rowspan",1),L=Za(O,"colspan",1);return uf(O,D,L)}));return Ca(y,C,h(y))}})),b1=f=>qc(f).map((h=>{const y=es(h);return(C=>zo(Zc,C))(y)?y:"tbody"})).getOr("tbody"),x1=f=>{const h=Wa(f),y=[...gp(f),...h];return bp(y,b1)},v1="data-snooker-locked-cols",y1=f=>Gc(f,v1).bind((h=>ie.from(h.match(/\d+/g)))).map((h=>Vu(h,dt))),Pl=f=>{const h=Ge(rs(f).rows,((C,O)=>(mo(O.cells,((D,L)=>{D.isLocked&&(C[L]=!0)})),C)),{}),y=wo(h,((C,O)=>parseInt(O,10)));return(C=>{const O=eo.call(C,0);return O.sort(void 0),O})(y)},_1=(f,h)=>f+","+h,y2=(f,h)=>{const y=Ke(f.all,(C=>C.cells));return Yn(y,h)},w1=f=>{const h={},y=[],C=un(f).map((ne=>ne.element)).bind(Ds).bind(y1).getOr({});let O=0,D=0,L=0;const{pass:F,fail:q}=fo(f,(ne=>ne.section==="colgroup"));mo(q,(ne=>{const ee=[];mo(ne.cells,(me=>{let ue=0;for(;h[_1(L,ue)]!==void 0;)ue++;const Re=((Ve,Ze)=>go(Ve,Ze)&&Ve[Ze]!==void 0&&Ve[Ze]!==null)(C,ue.toString()),Be=((Ve,Ze,qe,et,nt,_t)=>({element:Ve,rowspan:Ze,colspan:qe,row:et,column:nt,isLocked:_t}))(me.element,me.rowspan,me.colspan,L,ue,Re);for(let Ve=0;Ve<me.colspan;Ve++)for(let Ze=0;Ze<me.rowspan;Ze++){const qe=ue+Ve,et=_1(L+Ze,qe);h[et]=Be,D=Math.max(D,qe+1)}ee.push(Be)})),O++,y.push(Ca(ne.element,ee,ne.section)),L++}));const{columns:J,colgroups:se}=qo(F).map((ne=>{const ee=(ue=>{const Re={};let Be=0;return mo(ue.cells,(Ve=>{const Ze=Ve.colspan;Ut(Ze,(qe=>{const et=Be+qe;Re[et]=((nt,_t,kt)=>({element:nt,colspan:_t,column:kt}))(Ve.element,Ze,et)})),Be+=Ze})),Re})(ne);return{colgroups:[((ue,Re)=>({element:ue,columns:Re}))(ne.element,Sn(ee))],columns:ee}})).getOrThunk((()=>({colgroups:[],columns:{}})));return{grid:((ne,ee)=>({rows:ne,columns:ee}))(O,D),access:h,all:y,columns:J,colgroups:se}},Er=f=>{const h=x1(f);return w1(h)},xp=w1,Ea=(f,h,y)=>ie.from(f.access[_1(h,y)]),vp=(f,h,y)=>{const C=y2(f,(O=>y(h,O.element)));return C.length>0?ie.some(C[0]):ie.none()},tr=y2,Ni=f=>Ke(f.all,(h=>h.cells)),Xc=f=>Sn(f.columns),rn=f=>el(f.columns).length>0,Ns=(f,h)=>ie.from(f.columns[h]),Us=(f,h,y)=>wr(y(f.element,h),!0,f.isLocked),pc=(f,h)=>f.section!==h?Mo(f.element,f.cells,h,f.isNew):f,ai=()=>({transformRow:pc,transformCell:(f,h,y)=>{const C=y(f.element,h),O=es(C)!=="td"?(D=>{const L=Xu(D,"td");sp(D,L);const F=Hr(D);return Ti(L,F),Xr(D),L})(C):C;return wr(O,f.isNew,f.isLocked)}}),Tr=()=>({transformRow:pc,transformCell:Us}),Zs=()=>({transformRow:(f,h)=>pc(f,h==="thead"?"tbody":h),transformCell:Us}),Ta=ai,fa=Tr,or=Zs,im=()=>({transformRow:zt,transformCell:Us}),ks=(f,h=dt)=>{const y=f.grid,C=Ut(y.columns,zt),O=Ut(y.rows,zt);return E(C,(D=>C1((()=>Ke(O,(L=>Ea(f,L,D).filter((F=>F.column===D)).toArray()))),(L=>L.colspan===1&&h(L.element)),(()=>Ea(f,0,D)))))},C1=(f,h,y)=>{const C=f();return dn(C,h).orThunk((()=>ie.from(C[0]).orThunk(y))).map((O=>O.element))},rl=f=>{const h=f.grid,y=Ut(h.rows,zt),C=Ut(h.columns,zt);return E(y,(O=>C1((()=>Ke(C,(D=>Ea(f,O,D).filter((L=>L.row===O)).fold(yt([]),(L=>[L]))))),(D=>D.rowspan===1),(()=>Ea(f,O,0)))))},ja=(f,h)=>({row:f,y:h}),Tn=(f,h)=>({col:f,x:h}),ii=f=>Vt(f).left+Tb(f),lm=f=>Vt(f).left,qa=(f,h)=>Tn(f,lm(h)),yp=(f,h)=>Tn(f,ii(h)),li=f=>Vt(f).top,cm=(f,h)=>ja(f,li(h)),k1=(f,h)=>ja(f,li(h)+Ml(h)),Un=(f,h,y)=>{if(y.length===0)return[];const C=E(y.slice(1),((D,L)=>D.map((F=>f(L,F))))),O=y[y.length-1].map((D=>h(y.length-1,D)));return C.concat([O])},Jc={delta:zt,positions:f=>Un(cm,k1,f),edge:li},tu=u1({delta:zt,edge:lm,positions:f=>Un(qa,yp,f)},{delta:f=>-f,edge:ii,positions:f=>Un(yp,qa,f)}),_p={delta:(f,h)=>tu(h).delta(f,h),positions:(f,h)=>tu(h).positions(f,h),edge:f=>tu(f).edge(f)},Ef=/(\d+(\.\d+)?)%/,hc=/(\d+(\.\d+)?)px|em/,wp=Sa("col"),Ob=Sa("tr"),Tf=(f,h,y)=>{const C=bf(f).getOrThunk((()=>(O=>{const D=O.dom.body;if(D==null)throw new Error("Body is not available yet");return ge.fromDom(D)})(a1(f))));return h(f)/y(C)*100},dm=(f,h)=>{Cr(f,"width",h+"px")},Ri=(f,h)=>{Cr(f,"width",h+"%")},Cp=(f,h)=>{Cr(f,"height",h+"px")},Af=f=>{const h=(y=>{return _n(C=y,"height",C.dom.offsetHeight)+"px";var C})(f);return h?((y,C,O,D)=>{const L=parseFloat(y);return $o(y,"%")&&es(C)!=="table"?((F,q,J,se)=>{const Q=Ds(F).map((ne=>{const ee=J(ne);return Math.floor(q/100*ee)})).getOr(q);return se(F,Q),Q})(C,L,O,D):L})(h,f,cc,Cp):cc(f)},kp=(f,h)=>ap(f,h).orThunk((()=>Gc(f,h).map((y=>y+"px")))),Qc=f=>kp(f,"width"),ci=f=>Tf(f,Oi,lp),Ht=f=>{return wp(f)?Math.round(Oi(f)):_n(h=f,"width",h.dom.offsetWidth);var h},ed=f=>Ob(f)?cc(f):((h,y,C)=>C(h)/ri(h,"rowspan"))(f,0,Af),Sp=(f,h,y)=>{Cr(f,"width",h+y)},Db=f=>Tf(f,Oi,lp)+"%",td=yt(Ef),Of=Sa("col"),ou=f=>Qc(f).getOrThunk((()=>Ht(f)+"px")),_2=f=>{return(h=f,kp(h,"height")).getOrThunk((()=>ed(f)+"px"));var h},An=(f,h,y,C,O,D)=>f.filter(C).fold((()=>D(((L,F)=>{if(F<0||F>=L.length-1)return ie.none();const q=L[F].fold((()=>{const se=(Q=>{const ne=eo.call(Q,0);return ne.reverse(),ne})(L.slice(0,F));return P(se,((Q,ne)=>Q.map((ee=>({value:ee,delta:ne+1})))))}),(se=>ie.some({value:se,delta:0}))),J=L[F+1].fold((()=>{const se=L.slice(F+1);return P(se,((Q,ne)=>Q.map((ee=>({value:ee,delta:ne+1})))))}),(se=>ie.some({value:se,delta:1})));return q.bind((se=>J.map((Q=>{const ne=Q.delta+se.delta;return Math.abs(Q.value-se.value)/ne}))))})(y,h))),(L=>O(L))),Aa=(f,h,y,C)=>{const O=ks(f),D=rn(f)?(q=>E(Xc(q),(J=>ie.from(J.element))))(f):O,L=[ie.some(_p.edge(h))].concat(E(_p.positions(O,h),(q=>q.map((J=>J.x))))),F=No(gc);return E(D,((q,J)=>An(q,J,L,F,(se=>{if((ne=>{const ee=d2().browser,me=ee.isChromium()||ee.isFirefox();return!Of(ne)||me})(se))return y(se);{const ne=(Q=O[J])!=null?zt(Q):ie.none();return An(ne,J,L,F,(ee=>C(ie.some(Math.round(Oi(ee))))),C)}var Q}),C)))},ea=f=>f.map((h=>h+"px")).getOr(""),od=(f,h,y)=>Aa(f,h,Ht,(C=>C.getOrThunk(y.minCellWidth))),ga=(f,h,y,C)=>{const O=rl(f),D=E(f.all,(F=>ie.some(F.element))),L=[ie.some(Jc.edge(h))].concat(E(Jc.positions(O,h),(F=>F.map((q=>q.y)))));return E(D,((F,q)=>An(F,q,L,dt,y,C)))},nd=(f,h)=>()=>Nl(f)?h(f):parseFloat(ap(f,"width").getOr("0")),Ws=f=>{const h=nd(f,(C=>parseFloat(Db(C)))),y=nd(f,Oi);return{width:h,pixelWidth:y,getWidths:(C,O)=>((D,L,F)=>Aa(D,L,ci,(q=>q.fold((()=>F.minCellWidth()),(J=>J/F.pixelWidth()*100)))))(C,f,O),getCellDelta:C=>C/y()*100,singleColumnWidth:(C,O)=>[100-C],minCellWidth:()=>Ln()/y()*100,setElementWidth:Ri,adjustTableWidth:C=>{const O=h();Ri(f,O+C/100*O)},isRelative:!0,label:"percent"}},js=f=>{const h=nd(f,Oi);return{width:h,pixelWidth:h,getWidths:(y,C)=>od(y,f,C),getCellDelta:zt,singleColumnWidth:(y,C)=>[Math.max(Ln(),y+C)-y],minCellWidth:Ln,setElementWidth:dm,adjustTableWidth:y=>{const C=h()+y;dm(f,C)},isRelative:!1,label:"pixel"}},Df=f=>Qc(f).fold((()=>(h=>{const y=nd(h,Oi),C=yt(0);return{width:y,pixelWidth:y,getWidths:(O,D)=>od(O,h,D),getCellDelta:C,singleColumnWidth:yt([0]),minCellWidth:C,setElementWidth:ot,adjustTableWidth:ot,isRelative:!0,label:"none"}})(f)),(h=>((y,C)=>td().exec(C)!==null?Ws(y):js(y))(f,h))),Fe=js,Oa=Ws,Nf=(f,h,y,C)=>{y===C?As(f,h):Vn(f,h,y)},Rs=(f,h,y)=>{qo(wf(f,h)).fold((()=>rp(f,y)),(C=>sp(C,y)))},Mi=(f,h)=>{const y=[],C=[],O=ne=>E(ne,(ee=>{ee.isNew&&y.push(ee.element);const me=ee.element;return lc(me),mo(ee.cells,(ue=>{ue.isNew&&C.push(ue.element),Nf(ue.element,"colspan",ue.colspan,1),Nf(ue.element,"rowspan",ue.rowspan,1),En(me,ue.element)})),me})),D=ne=>Ke(ne,(ee=>E(ee.cells,(me=>(Nf(me.element,"span",me.colspan,1),me.element))))),L=(ne,ee)=>{const me=((Re,Be)=>{const Ve=$e(Re,Be).getOrThunk((()=>{const Ze=ge.fromTag(Be,a1(Re).dom);return Be==="thead"?Rs(Re,"caption,colgroup",Ze):Be==="colgroup"?Rs(Re,"caption",Ze):En(Re,Ze),Ze}));return lc(Ve),Ve})(f,ee),ue=(ee==="colgroup"?D:O)(ne);Ti(me,ue)},F=(ne,ee)=>{ne.length>0?L(ne,ee):(me=>{$e(f,me).each(Xr)})(ee)},q=[],J=[],se=[],Q=[];return mo(h,(ne=>{switch(ne.section){case"thead":q.push(ne);break;case"tbody":J.push(ne);break;case"tfoot":se.push(ne);break;case"colgroup":Q.push(ne)}})),F(Q,"colgroup"),F(q,"thead"),F(J,"tbody"),F(se,"tfoot"),{newRows:y,newCells:C}},nr=(f,h)=>{if(f.length===0)return 0;const y=f[0];return df(f,(C=>!h(y.element,C.element))).getOr(f.length)},ta=(f,h)=>{const y=E(f,(C=>E(C.cells,ae)));return E(f,((C,O)=>{const D=Ke(C.cells,((L,F)=>{if(y[O][F]===!1){const ne=((ee,me,ue,Re)=>{const Be=((et,nt)=>et[nt])(ee,me),Ve=Be.section==="colgroup",Ze=nr(Be.cells.slice(ue),Re),qe=Ve?1:nr(((et,nt)=>E(et,(_t=>Kr(_t,nt))))(ee.slice(me),ue),Re);return{colspan:Ze,rowspan:qe}})(f,O,F,h);return((ee,me,ue,Re)=>{for(let Be=ee;Be<ee+ue;Be++)for(let Ve=me;Ve<me+Re;Ve++)y[Be][Ve]=!0})(O,F,ne.rowspan,ne.colspan),[(q=L.element,J=ne.rowspan,se=ne.colspan,Q=L.isNew,{element:q,rowspan:J,colspan:se,isNew:Q})]}return[];var q,J,se,Q}));return((L,F,q,J)=>({element:L,cells:F,section:q,isNew:J}))(C.element,D,C.section,C.isNew)}))},Rf=(f,h,y)=>{const C=[];mo(f.colgroups,(O=>{const D=[];for(let L=0;L<f.grid.columns;L++){const F=Ns(f,L).map((q=>wr(q.element,y,!1))).getOrThunk((()=>wr(h.colGap(),!0,!1)));D.push(F)}C.push(Mo(O.element,D,"colgroup",y))}));for(let O=0;O<f.grid.rows;O++){const D=[];for(let q=0;q<f.grid.columns;q++){const J=Ea(f,O,q).map((se=>wr(se.element,y,se.isLocked))).getOrThunk((()=>wr(h.gap(),!0,!1)));D.push(J)}const L=f.all[O],F=Mo(L.element,D,L.section,y);C.push(F)}return C},oa=f=>ta(f,Pn),Po=(f,h)=>P(f.all,(y=>dn(y.cells,(C=>Pn(h,C.element))))),na=(f,h,y)=>{const C=E(h.selection,(D=>Di(D).bind((L=>Po(f,L))).filter(y))),O=Kg(C);return _r(O.length>0,O)},is=(f,h,y,C,O,D,L,F,q)=>{const J=Er(D),se=ie.from(q?.section).getOrThunk(im);return h(J,L).map((Q=>{const ne=((ue,Re)=>Rf(ue,Re,!1))(J,F),ee=f(ne,Q,Pn,O(F),se),me=Pl(ee.grid);return{info:Q,grid:oa(ee.grid),cursor:ee.cursor,lockedColumns:me}})).bind((Q=>{const ne=Mi(D,Q.grid),ee=ie.from(q?.sizing).getOrThunk((()=>Df(D))),me=ie.from(q?.resize).getOrThunk(am);return y(D,Q.grid,Q.info,{sizing:ee,resize:me,section:se}),C(D),As(D,v1),Q.lockedColumns.length>0&&Vn(D,v1,Q.lockedColumns.join(",")),ie.some({cursor:Q.cursor,newRows:ne.newRows,newCells:ne.newCells})}))},On=(f,h)=>Di(h.element).bind((y=>Po(f,y).map((C=>({...C,generators:h.generators,clipboard:h.clipboard}))))),nu=(f,h)=>na(f,h,dt).map((y=>({cells:y,generators:h.generators,clipboard:h.clipboard}))),pr=(f,h)=>na(f,h,dt),su=(f,h)=>na(f,h,(y=>!y.isLocked)),pa=(f,h)=>vt(h,(y=>((C,O)=>Po(C,O).exists((D=>!D.isLocked)))(f,y))),xe=(f,h)=>((y,C)=>C.mergable)(0,h).filter((y=>pa(f,y.cells))),sa=(f,h)=>((y,C)=>C.unmergable)(0,h).filter((y=>pa(f,y))),sd={...Te([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},bn=(f,h,y)=>{const C=((O,D)=>rn(O)?((L,F)=>{const q=Xc(L);return E(q,((J,se)=>({element:J.element,width:F[se],colspan:J.colspan})))})(O,D):((L,F)=>{const q=Ni(L);return E(q,(J=>{const se=((Q,ne,ee)=>{let me=0;for(let ue=Q;ue<ne;ue++)me+=ee[ue]!==void 0?ee[ue]:0;return me})(J.column,J.column+J.colspan,F);return{element:J.element,width:se,colspan:J.colspan}}))})(O,D))(f,h);mo(C,(O=>{y.setElementWidth(O.element,O.width)}))},al=(f,h,y,C,O)=>{const D=Er(f),L=O.getCellDelta(h),F=O.getWidths(D,O),q=y===D.grid.columns-1,J=C.clampTableDelta(F,y,L,O.minCellWidth(),q),se=((ne,ee,me,ue,Re)=>{const Be=ne.slice(0),Ve=((qe,et)=>qe.length===0?sd.none():qe.length===1?sd.only(0):et===0?sd.left(0,1):et===qe.length-1?sd.right(et-1,et):et>0&&et<qe.length-1?sd.middle(et-1,et,et+1):sd.none())(ne,ee),Ze=yt(E(Be,yt(0)));return Ve.fold(Ze,(qe=>ue.singleColumnWidth(Be[qe],me)),((qe,et)=>Re.calcLeftEdgeDeltas(Be,qe,et,me,ue.minCellWidth(),ue.isRelative)),((qe,et,nt)=>Re.calcMiddleDeltas(Be,qe,et,nt,me,ue.minCellWidth(),ue.isRelative)),((qe,et)=>Re.calcRightEdgeDeltas(Be,qe,et,me,ue.minCellWidth(),ue.isRelative)))})(F,y,J,O,C),Q=E(se,((ne,ee)=>ne+F[ee]));bn(D,Q,O),C.resizeTable(O.adjustTableWidth,J,q)},sr=(f,h,y)=>{const C=Er(f),O=((q,J)=>ga(q,J,ed,(se=>se.getOrThunk(bs))))(C,f),D=E(O,((q,J)=>y===J?Math.max(h+q,bs()):q)),L=((q,J)=>E(q.all,((se,Q)=>({element:se.element,height:J[Q]}))))(C,D);mo(L,(q=>{Cp(q.element,q.height)})),mo(Ni(C),(q=>{(J=>{Rl(J,"height")})(q.element)}));const F=ki(D,((q,J)=>q+J),0);Cp(f,F)},wn=(f,h)=>{gc(f)||(C=>Qc(C).bind((O=>{return D=O,L=["fixed","relative","empty"],ie.from(mc.exec(D)).bind((F=>{const q=Number(F[1]),J=F[2];return((se,Q)=>Ee(Q,(ne=>Ee(v2[ne],(ee=>se===ee)))))(J,L)?ie.some({value:q,unit:J}):ie.none()}));var D,L})))(f).each((C=>{const O=C.value/2;Sp(f,O,C.unit),Sp(h,O,C.unit)}))},rd=(f,h,y)=>{const C=Za(f,h,1);y===1||C<=1?As(f,h):Vn(f,h,Math.min(y,C))},S1=(f,h)=>y=>{const C=y.column+y.colspan-1,O=y.column;return C>=f&&O<h},Ga=(f,h,y)=>{const C=f[y].element,O=ge.fromTag("td");En(O,ge.fromTag("br")),(h?En:rp)(C,O)},um=Sa("col"),Ms=Sa("colgroup"),Ll=f=>es(f)==="tr"||Ms(f),Ep=f=>({element:f,colspan:Za(f,"colspan",1),rowspan:Za(f,"rowspan",1)}),Il=f=>Gc(f,"scope").map((h=>h.substr(0,3))),il=(f,h=Ep)=>{const y=O=>{if(Ll(O))return Ms((D={element:O}).element)?f.colgroup(D):f.row(D);{const L=O,F=(q=>um(q.element)?f.col(q):f.cell(q))(h(L));return C=ie.some({item:L,replacement:F}),F}var D};let C=ie.none();return{getOrInit:(O,D)=>C.fold((()=>y(O)),(L=>D(O,L.item)?L.replacement:y(O)))}},In=f=>h=>{const y=[],C=O=>{const D=f==="td"?{scope:null}:{},L=h.replace(O,f,D);return y.push({item:O,sub:L}),L};return{replaceOrInit:(O,D)=>{if(Ll(O)||um(O))return O;{const L=O;return((F,q)=>dn(y,(J=>q(J.item,F))))(L,D).fold((()=>C(L)),(F=>D(O,F.item)?F.sub:C(L)))}}}},mm=f=>({unmerge:h=>{const y=Il(h);return y.each((C=>Vn(h,"scope",C))),()=>{const C=f.cell({element:h,colspan:1,rowspan:1});return Rl(C,"width"),Rl(h,"width"),y.each((O=>Vn(C,"scope",O))),C}},merge:h=>(Rl(h[0],"width"),(()=>{const y=Kg(E(h,Il));if(y.length===0)return ie.none();{const C=y[0],O=["row","col"];return Ee(y,(D=>D!==C&&zo(O,D)))?ie.none():ie.from(C)}})().fold((()=>As(h[0],"scope")),(y=>Vn(h[0],"scope",y+"group"))),yt(h[0]))}),ru=Te([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Mf=(f,h,y)=>{const C=y.substring(0,y.length-f.length),O=parseFloat(C);return C===O.toString()?h(O):ru.invalid(y)},Da={...ru,from:f=>$o(f,"%")?Mf("%",ru.percent,f):$o(f,"px")?Mf("px",ru.pixels,f):ru.invalid(f)},Bi=(f,h,y)=>{const C=Da.from(y),O=vt(f,(D=>D==="0px"))?((D,L)=>{const F=D.fold((()=>yt("")),(q=>yt(q/L+"px")),(()=>yt(100/L+"%")));return Ut(L,F)})(C,f.length):((D,L,F)=>D.fold((()=>L),(q=>((J,se,Q)=>{const ne=Q/se;return E(J,(ee=>Da.from(ee).fold((()=>ee),(me=>me*ne+"px"),(me=>me/100*Q+"px"))))})(L,F,q)),(q=>((J,se)=>E(J,(Q=>Da.from(Q).fold((()=>Q),(ne=>ne/se*100+"%"),(ne=>ne+"%")))))(L,F))))(C,f,h);return Nb(O)},E1=(f,h)=>f.length===0?h:ki(f,((y,C)=>Da.from(C).fold(yt(0),zt,zt)+y),0),Fl=(f,h)=>Da.from(f).fold(yt(f),(y=>y+h+"px"),(y=>y+h+"%")),Nb=f=>{if(f.length===0)return f;const h=ki(f,((C,O)=>{const D=Da.from(O).fold((()=>({value:O,remainder:0})),(L=>(F=>{const q=Math.floor(F);return{value:q+"px",remainder:F-q}})(L)),(L=>({value:L+"%",remainder:0})));return{output:[D.value].concat(C.output),remainder:C.remainder+D.remainder}}),{output:[],remainder:0}),y=h.output;return y.slice(0,y.length-1).concat([Fl(y[y.length-1],Math.round(h.remainder))])},ad=Da.from,au=(f,h,y)=>{const C=Er(f),O=C.all,D=Ni(C),L=Xc(C);h.each((F=>{const q=ad(F).fold(yt("px"),yt("px"),yt("%")),J=Oi(f),se=((ne,ee)=>Aa(ne,ee,ou,ea))(C,f),Q=Bi(se,J,F);rn(C)?((ne,ee,me)=>{mo(ee,((ue,Re)=>{const Be=E1([ne[Re]],Ln());Cr(ue.element,"width",Be+me)}))})(Q,L,q):((ne,ee,me)=>{mo(ee,(ue=>{const Re=ne.slice(ue.column,ue.colspan+ue.column),Be=E1(Re,Ln());Cr(ue.element,"width",Be+me)}))})(Q,D,q),Cr(f,"width",F)})),y.each((F=>{const q=cc(f),J=((se,Q)=>ga(se,Q,_2,ea))(C,f);((se,Q,ne)=>{mo(ne,(ee=>{Rl(ee.element,"height")})),mo(Q,((ee,me)=>{Cr(ee.element,"height",se[me])}))})(Bi(J,q,F),O,D),Cr(f,"height",F)}))},iu=f=>Qc(f).exists((h=>Ef.test(h))),w2=f=>Qc(f).exists((h=>hc.test(h))),Bf=f=>Qc(f).isNone();var TE=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Tp=()=>({up:yt({selector:Qu,closest:ps,predicate:yf,all:g2}),down:yt({selector:uc,predicate:cp}),styles:yt({get:Kc,getRaw:ap,set:Cr,remove:Rl}),attrs:yt({get:Xd,set:Vn,remove:As,copyTo:(f,h)=>{const y=nl(f);Ai(h,y)}}),insert:yt({before:ic,after:sp,afterAll:l1,append:En,appendAll:Ti,prepend:rp,wrap:Dl}),remove:yt({unwrap:h2,remove:Xr}),create:yt({nu:ge.fromTag,clone:f=>ge.fromDom(f.dom.cloneNode(!1)),text:ge.fromText}),query:yt({comparePosition:(f,h)=>f.dom.compareDocumentPosition(h.dom),prevSibling:xf,nextSibling:np}),property:yt({children:Hr,name:es,parent:qc,document:f=>hf(f).dom,isText:Gu,isComment:Fs,isElement:ka,isSpecial:f=>{const h=es(f);return zo(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],h)},getLanguage:f=>ka(f)?Gc(f,"lang"):ie.none(),getText:$s,setText:ts,isBoundary:f=>!!ka(f)&&(es(f)==="body"||zo(TE,es(f))),isEmptyTag:f=>!!ka(f)&&zo(["br","img","hr","input"],es(f)),isNonEditable:f=>ka(f)&&Xd(f,"contenteditable")==="false"}),eq:Pn,is:r2});const Kn=(f,h)=>({item:f,mode:h}),C2=(f,h,y,C=Pi)=>f.property().parent(h).map((O=>Kn(O,C))),Pi=(f,h,y,C=id)=>y.sibling(f,h).map((O=>Kn(O,C))),id=(f,h,y,C=id)=>{const O=f.property().children(h);return y.first(O).map((D=>Kn(D,C)))},Rb=[{current:C2,next:Pi,fallback:ie.none()},{current:Pi,next:id,fallback:ie.some(C2)},{current:id,next:id,fallback:ie.some(Pi)}],lu=(f,h,y,C,O=Rb)=>dn(O,(D=>D.current===y)).bind((D=>D.current(f,h,C,D.next).orThunk((()=>D.fallback.bind((L=>lu(f,h,L,C))))))),qs=(f,h,y,C,O,D)=>lu(f,h,C,O).bind((L=>D(L.item)?ie.none():y(L.item)?ie.some(L.item):qs(f,L.item,y,L.mode,O,D))),ll=(f,h)=>({element:f,offset:h}),Pf=(f,h,y)=>f.property().isText(h)&&f.property().getText(h).trim().length===0||f.property().isComment(h)?y(h).bind((C=>Pf(f,C,y).orThunk((()=>ie.some(C))))):ie.none(),k2=(f,h)=>f.property().isText(h)?f.property().getText(h).length:f.property().children(h).length,Ap=(f,h)=>{const y=Pf(f,h,f.query().prevSibling).getOr(h);if(f.property().isText(y))return ll(y,k2(f,y));const C=f.property().children(y);return C.length>0?Ap(f,C[C.length-1]):ll(y,k2(f,y))},Mb=Ap,T1=Tp(),S2=f=>h=>f.property().children(h).length===0,E2=(f,h,y,C)=>qs(f,h,y,Pi,{sibling:(O,D)=>O.query().prevSibling(D),first:O=>O.length>0?ie.some(O[O.length-1]):ie.none()},C),ld=(f,h,y,C)=>qs(f,h,y,Pi,{sibling:(O,D)=>O.query().nextSibling(D),first:O=>O.length>0?ie.some(O[0]):ie.none()},C),cu=Tp(),cl=(f,h)=>((y,C,O)=>E2(y,C,S2(y),O))(cu,f,h),bc=(f,h)=>((y,C,O)=>ld(y,C,S2(y),O))(cu,f,h),fm=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Op=(f,h,y,C)=>{const O=h(f,y);return ki(C,((D,L)=>{const F=h(f,L);return A1(f,D,F)}),O)},A1=(f,h,y)=>h.bind((C=>y.filter(Me(f.eq,C)))),Dp=Tp(),O1=(f,h)=>((y,C,O)=>O.length>0?((D,L,F,q)=>q(D,L,F[0],F.slice(1)))(y,C,O,Op):ie.none())(Dp,((y,C)=>f(C)),h),D1=Tp(),N1=f=>((h,y)=>{const C=h.property().name(y);return zo(fm,C)})(D1,f),Bb=f=>((h,y)=>{const C=h.property().name(y);return zo(["ol","ul"],C)})(D1,f),R1=f=>{const h=Sa("br"),y=O=>Os(O).bind((D=>{const L=np(D).map((F=>!!N1(F)||!!((q,J)=>zo(["br","img","hr","input"],q.property().name(J)))(D1,F)&&es(F)!=="img")).getOr(!1);return qc(D).map((F=>{return L===!0||es(q=F)==="li"||yf(q,Bb).isSome()||h(D)||N1(F)&&!Pn(O,F)?[]:[ge.fromTag("br")];var q}))})).getOr([]),C=(()=>{const O=Ke(f,(D=>{const L=Hr(D);return(F=>vt(F,(q=>h(q)||Gu(q)&&$s(q).trim().length===0)))(L)?[]:L.concat(y(D))}));return O.length===0?[ge.fromTag("br")]:O})();lc(f[0]),Ti(f[0],C)},di=f=>{As(f,"width"),As(f,"height")},zn=f=>{const h=Db(f);au(f,ie.some(h),ie.none()),di(f)},Np=f=>{const h=(y=>Oi(y)+"px")(f);au(f,ie.some(h),ie.none()),di(f)},gm=f=>{Rl(f,"width");const h=g1(f),y=h.length>0?h:Zr(f);mo(y,(C=>{Rl(C,"width"),di(C)})),di(f)},Pb={scope:["row","col"]},Lb=f=>()=>{const h=ge.fromTag("td",f.dom);return En(h,ge.fromTag("br",f.dom)),h},Rp=f=>()=>ge.fromTag("col",f.dom),M1=f=>()=>ge.fromTag("colgroup",f.dom),Ib=f=>()=>ge.fromTag("tr",f.dom),pm=(f,h,y)=>{const C=((O,D)=>{const L=Xu(O,D),F=Hr(er(O));return Ti(L,F),L})(f,h);return yn(y,((O,D)=>{O===null?As(C,D):Vn(C,D,O)})),C},Lf=f=>f,ft=(f,h,y)=>{const C=(O,D)=>{((L,F)=>{const q=L.dom,J=F.dom;Jd(q)&&Jd(J)&&(J.style.cssText=q.style.cssText)})(O.element,D),Rl(D,"height"),O.colspan!==1&&Rl(D,"width")};return{col:O=>{const D=ge.fromTag(es(O.element),h.dom);return C(O,D),f(O.element,D),D},colgroup:M1(h),row:Ib(h),cell:O=>{const D=ge.fromTag(es(O.element),h.dom),L=y.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),F=L.length>0?((q,J,se)=>up(q).map((Q=>{const ne=se.join(","),ee=os(Q,ne,(me=>Pn(me,q)));return ki(ee,((me,ue)=>{const Re=c1(ue);return En(me,Re),Re}),J)})).getOr(J))(O.element,D,L):D;return En(F,ge.fromTag("br")),C(O,D),((q,J)=>{yn(Pb,((se,Q)=>Gc(q,Q).filter((ne=>zo(se,ne))).each((ne=>Vn(J,Q,ne)))))})(O.element,D),f(O.element,D),D},replace:pm,colGap:Rp(h),gap:Lb(h)}},Ka=f=>({col:Rp(f),colgroup:M1(f),row:Ib(f),cell:Lb(f),replace:Lf,colGap:Rp(f),gap:Lb(f)}),Co=f=>Er(f).grid,rr=(f,h,y,C)=>{const O=rs(f).rows;let D=!0;for(let L=0;L<O.length;L++)for(let F=0;F<$a(O[0]);F++){const q=O[L],J=Kr(q,F),se=y(J.element,h);se&&!D?qd(q,F,wr(C(),!0,J.isLocked)):se&&(D=!1)}return f},Na=(f,h)=>({rowDelta:0,colDelta:$a(f[0])-$a(h[0])}),hm=(f,h)=>({rowDelta:f.length-h.length,colDelta:0}),Cn=(f,h,y,C)=>{const O=h.section==="colgroup"?y.col:y.cell;return Ut(f,(D=>wr(O(),!0,C(D))))},du=(f,h,y,C)=>{const O=f[f.length-1];return f.concat(Ut(h,(()=>{const D=O.section==="colgroup"?y.colgroup:y.row,L=Jo(O,D,zt),F=Cn(L.cells.length,L,y,(q=>go(C,q.toString())));return yo(L,F)})))},T2=(f,h,y,C)=>E(f,(O=>{const D=Cn(h,O,y,ae);return si(O,C,D)})),Ra=(f,h,y)=>{const C=h.colDelta<0?T2:zt,O=h.rowDelta<0?du:zt,D=Pl(f),L=$a(f[0]),F=Ee(D,(se=>se===L-1)),q=C(f,Math.abs(h.colDelta),y,F?L-1:L),J=Pl(q);return O(q,Math.abs(h.rowDelta),y,Vu(J,dt))},B1=(f,h,y,C)=>{const O=Me(C,Kr(f[h],y).element),D=f[h];return f.length>1&&$a(D)>1&&(y>0&&O(Fr(D,y-1))||y<D.cells.length-1&&O(Fr(D,y+1))||h>0&&O(Fr(f[h-1],y))||h<f.length-1&&O(Fr(f[h+1],y)))},Mp=(f,h,y)=>Yn(y,(C=>C>=f.column&&C<=$a(h[0])+f.column)),je=(f,h,y,C,O)=>{((J,se,Q,ne)=>{se>0&&se<J[0].cells.length&&mo(J,(ee=>{const me=ee.cells[se-1];let ue=0;const Re=ne();for(;ee.cells.length>se+ue&&Q(me.element,ee.cells[se+ue].element);)qd(ee,se+ue,wr(Re,!0,ee.cells[se+ue].isLocked)),ue++}))})(h,f,O,C.cell);const D=hm(y,h),L=Ra(y,D,C),F=hm(h,L),q=Ra(h,F,C);return E(q,((J,se)=>si(J,f,L[se].cells)))},cd=(f,h,y,C,O)=>{((Ve,Ze,qe,et)=>{const nt=rs(Ve).rows;if(Ze>0&&Ze<nt.length){const _t=((kt,Do)=>Ge(kt,((Jt,ho)=>Ee(Jt,(to=>Do(to.element,ho.element)))?Jt:Jt.concat([ho])),[]))(nt[Ze-1].cells,qe);mo(_t,(kt=>{let Do=ie.none();for(let Jt=Ze;Jt<nt.length;Jt++)for(let ho=0;ho<$a(nt[0]);ho++){const to=nt[Jt],tn=Kr(to,ho);qe(tn.element,kt.element)&&(Do.isNone()&&(Do=ie.some(et())),Do.each((ys=>{qd(to,ho,wr(ys,!0,tn.isLocked))})))}}))}})(h,f,O,C.cell);const D=Pl(h),L=Na(h,y),F={...L,colDelta:L.colDelta-D.length},q=Ra(h,F,C),{cols:J,rows:se}=rs(q),Q=Pl(q),ne=Na(y,h),ee={...ne,colDelta:ne.colDelta+Q.length},me=(Re=C,Be=Q,E(y,(Ve=>Ge(Be,((Ze,qe)=>{const et=Cn(1,Ve,Re,dt)[0];return xb(Ze,qe,et)}),Ve)))),ue=Ra(me,ee,C);var Re,Be;return[...J,...se.slice(0,f),...ue,...se.slice(f,se.length)]},Fb=(f,h,y,C,O)=>{const{rows:D,cols:L}=rs(f),F=D.slice(0,h),q=D.slice(h);return[...L,...F,((J,se,Q,ne)=>Jo(J,(ee=>ne(ee,Q)),se))(D[y],((J,se)=>h>0&&h<D.length&&C(Fr(D[h-1],se),Fr(D[h],se))?Kr(D[h],se):wr(O(J.element,C),!0,J.isLocked)),C,O),...q]},dl=(f,h,y,C,O)=>E(f,(D=>{const L=h>0&&h<$a(D)&&C(Fr(D,h-1),Fr(D,h)),F=((q,J,se,Q,ne,ee,me)=>{if(se!=="colgroup"&&Q)return Kr(q,J);{const ue=Kr(q,ne);return wr(me(ue.element,ee),!0,!1)}})(D,h,D.section,L,y,C,O);return xb(D,h,F)})),uu=(f,h,y,C)=>((O,D,L,F)=>Fr(O[D],L)!==void 0&&D>0&&F(Fr(O[D-1],L),Fr(O[D],L)))(f,h,y,C)||((O,D,L)=>D>0&&L(Fr(O,D-1),Fr(O,D)))(f[h],y,C),Bp=(f,h,y,C)=>{const O=D=>(L=>L==="row"?(F=>ri(F,"rowspan")>1)(h):gc(h))(D)?`${D}group`:D;return f?Sr(h)?O(y):null:C&&Sr(h)?O(y==="row"?"col":"row"):null},Zn=(f,h,y)=>wr(y(f.element,h),!0,f.isLocked),P1=(f,h,y,C,O,D,L)=>E(f,((F,q)=>(J=>{const se=J.cells,Q=E(se,((ne,ee)=>{if((me=>Ee(h,(ue=>y(me.element,ue.element))))(ne)){const me=L(ne,q,ee)?O(ne,y,C):ne;return D(me,q,ee).each((ue=>{var Re,Be;Re=me.element,Be={scope:ie.from(ue)},yn(Be,((Ve,Ze)=>{Ve.fold((()=>{As(Re,Ze)}),(qe=>{Yu(Re.dom,Ze,qe)}))}))})),me}return ne}));return Mo(J.element,Q,J.section,J.isNew)})(F))),zb=(f,h,y)=>Ke(f,((C,O)=>uu(f,O,h,y)?[]:[Kr(C,h)])),Ma=(f,h,y,C,O)=>{const D=rs(f).rows,L=Ke(h,(se=>zb(D,se,C))),F=E(D,(se=>pp(se.cells))),q=((se,Q)=>vt(Q,zt)&&pp(se)?dt:(ne,ee,me)=>!(es(ne.element)==="th"&&Q[ee]))(L,F);return P1(f,L,C,O,Zn,((se,Q)=>(ne,ee)=>ie.some(Bp(se,ne.element,"row",Q[ee])))(y,F),q)},xn=(f,h,y,C)=>{const O=rs(f).rows,D=E(h,(L=>Kr(O[L.row],L.column)));return P1(f,D,y,C,Zn,ie.none,dt)},xc=f=>Ge(f,((h,y)=>Ee(h,(C=>C.column===y.column))?h:h.concat([y])),[]).sort(((h,y)=>h.column-y.column)),mu=f=>eu(f,!0),L1=f=>{Zr(f).length===0&&Xr(f)},Pp=(f,h)=>({grid:f,cursor:h}),Xn=(f,h,y)=>{const C=((O,D,L)=>{var F,q;const J=rs(O).rows;return ie.from((q=(F=J[D])===null||F===void 0?void 0:F.cells[L])===null||q===void 0?void 0:q.element).filter(mu).orThunk((()=>(se=>P(se,(Q=>P(Q.cells,(ne=>{const ee=ne.element;return _r(mu(ee),ee)})))))(J)))})(f,h,y);return Pp(f,C)},bm=f=>Ge(f,((h,y)=>Ee(h,(C=>C.row===y.row))?h:h.concat([y])),[]).sort(((h,y)=>h.row-y.row)),Hb=(f,h,y,C)=>{const O=h[0].row,D=bm(h),L=ki(D,((F,q)=>({grid:Fb(F.grid,O,q.row+F.delta,y,C.getOrInit),delta:F.delta+1})),{grid:f,delta:0}).grid;return Xn(L,O,h[0].column)},fC=(f,h,y,C)=>{const O=bm(h),D=O[O.length-1],L=D.row+D.rowspan,F=ki(O,((q,J)=>Fb(q,L,J.row,y,C.getOrInit)),f);return Xn(F,L,h[0].column)},A2=(f,h,y,C)=>{const O=h.details,D=xc(O),L=D[0].column,F=ki(D,((q,J)=>({grid:dl(q.grid,L,J.column+q.delta,y,C.getOrInit),delta:q.delta+1})),{grid:f,delta:0}).grid;return Xn(F,O[0].row,L)},gC=(f,h,y,C)=>{const O=h.details,D=O[O.length-1],L=D.column+D.colspan,F=xc(O),q=ki(F,((J,se)=>dl(J,L,se.column,y,C.getOrInit)),f);return Xn(q,O[0].row,L)},O2=(f,h,y,C)=>{const O=xc(h),D=E(O,(F=>F.column)),L=Ma(f,D,!0,y,C.replaceOrInit);return Xn(L,h[0].row,h[0].column)},D2=(f,h,y,C)=>{const O=xn(f,h,y,C.replaceOrInit);return Xn(O,h[0].row,h[0].column)},I1=(f,h,y,C)=>{const O=xc(h),D=E(O,(F=>F.column)),L=Ma(f,D,!1,y,C.replaceOrInit);return Xn(L,h[0].row,h[0].column)},ha=(f,h,y,C)=>{const O=xn(f,h,y,C.replaceOrInit);return Xn(O,h[0].row,h[0].column)},Li=(f,h)=>(y,C,O,D,L)=>{const F=bm(C),q=E(F,(se=>se.row)),J=((se,Q,ne,ee,me,ue,Re)=>{const{cols:Be,rows:Ve}=rs(se),Ze=Ve[Q[0]],qe=Ke(Q,(Jt=>((ho,to,tn)=>{const ys=ho[to];return Ke(ys.cells,((Dr,hr)=>uu(ho,to,hr,tn)?[]:[Dr]))})(Ve,Jt,me))),et=E(Ze.cells,((Jt,ho)=>pp(zb(Ve,ho,me)))),nt=[...Ve];mo(Q,(Jt=>{nt[Jt]=Re.transformRow(Ve[Jt],ne)}));const _t=[...Be,...nt],kt=((Jt,ho)=>vt(ho,zt)&&pp(Jt.cells)?dt:(to,tn,ys)=>!(es(to.element)==="th"&&ho[ys]))(Ze,et),Do=((Jt,ho)=>(to,tn,ys)=>ie.some(Bp(Jt,to.element,"col",ho[ys])))(ee,et);return P1(_t,qe,me,ue,Re.transformCell,Do,kt)})(y,q,f,h,O,D.replaceOrInit,L);return Xn(J,C[0].row,C[0].column)},ul=Li("thead",!0),If=Li("tbody",!1),zl=Li("tfoot",!1),ra=(f,h,y,C)=>{const O=xc(h.details),D=((F,q)=>Ke(F,(J=>{const se=J.cells,Q=ki(q,((ne,ee)=>ee>=0&&ee<ne.length?ne.slice(0,ee).concat(ne.slice(ee+1)):ne),se);return Q.length>0?[Mo(J.element,Q,J.section,J.isNew)]:[]})))(f,E(O,(F=>F.column))),L=D.length>0?D[0].cells.length-1:0;return Xn(D,O[0].row,Math.min(O[0].column,L))},F1=(f,h,y,C)=>{const O=bm(h),D=((F,q,J)=>{const{rows:se,cols:Q}=rs(F);return[...Q,...se.slice(0,q),...se.slice(J+1)]})(f,O[0].row,O[O.length-1].row),L=Math.max(rs(D).rows.length-1,0);return Xn(D,Math.min(h[0].row,L),h[0].column)},z1=(f,h,y,C)=>{const O=h.cells;R1(O);const D=((L,F,q,J)=>{const se=rs(L).rows;if(se.length===0)return L;for(let Q=F.startRow;Q<=F.finishRow;Q++)for(let ne=F.startCol;ne<=F.finishCol;ne++){const ee=se[Q],me=Kr(ee,ne).isLocked;qd(ee,ne,wr(J(),!1,me))}return L})(f,h.bounds,0,C.merge(O));return Pp(D,ie.from(O[0]))},xm=(f,h,y,C)=>{const O=ki(h,((D,L)=>rr(D,L,y,C.unmerge(L))),f);return Pp(O,ie.from(h[0]))},Lp=(f,h,y,C)=>{const O=((F,q)=>{const J=Er(F);return Rf(J,q,!0)})(h.clipboard,h.generators);var D,L;return((F,q,J,se,Q)=>{const ne=Pl(q),ee=((Be,Ve,Ze)=>{const qe=$a(Ve[0]),et=rs(Ve).cols.length+Be.row,nt=Ut(qe-Be.column,(_t=>_t+Be.column));return{row:et,column:dn(nt,(_t=>vt(Ze,(kt=>kt!==_t)))).getOr(qe-1)}})(F,q,ne),me=rs(J).rows,ue=Mp(ee,me,ne);return((Be,Ve,Ze)=>{if(Be.row>=Ve.length||Be.column>$a(Ve[0]))return Zu.error("invalid start address out of table bounds, row: "+Be.row+", column: "+Be.column);const qe=Ve.slice(Be.row),et=qe[0].cells.slice(Be.column),nt=$a(Ze[0]),_t=Ze.length;return Zu.value({rowDelta:qe.length-_t,colDelta:et.length-nt})})(ee,q,me).map((Be=>{const Ve={...Be,colDelta:Be.colDelta-ue.length},Ze=Ra(q,Ve,se),qe=Pl(Ze),et=Mp(ee,me,qe);return((nt,_t,kt,Do,Jt,ho)=>{const to=nt.row,tn=nt.column,ys=to+kt.length,Dr=tn+$a(kt[0])+ho.length,hr=Vu(ho,dt);for(let Xa=to;Xa<ys;Xa++){let ht=0;for(let Ys=tn;Ys<Dr;Ys++){if(hr[Ys]){ht++;continue}B1(_t,Xa,Ys,Jt)&&rr(_t,Fr(_t[Xa],Ys),Jt,Do.cell);const vu=Ys-tn-ht,_d=Kr(kt[Xa-to],vu),wd=_d.element,og=Do.replace(wd);qd(_t[Xa],Ys,wr(og,!0,_d.isLocked))}}return _t})(ee,Ze,me,se,Q,et)}))})((D=h.row,L=h.column,{row:D,column:L}),f,O,h.generators,y).fold((()=>Pp(f,ie.some(h.element))),(F=>Xn(F,h.row,h.column)))},Ff=(f,h,y)=>{const C=((D,L)=>bp(D,(()=>L)))(f,y.section),O=xp(C);return Rf(O,h,!0)},N2=(f,h,y,C)=>{const O=rs(f).rows,D=h.cells[0].column,L=O[h.cells[0].row],F=Ff(h.clipboard,h.generators,L),q=je(D,f,F,h.generators,y);return Xn(q,h.cells[0].row,h.cells[0].column)},$b=(f,h,y,C)=>{const O=rs(f).rows,D=h.cells[h.cells.length-1].column+h.cells[h.cells.length-1].colspan,L=O[h.cells[0].row],F=Ff(h.clipboard,h.generators,L),q=je(D,f,F,h.generators,y);return Xn(q,h.cells[0].row,D)},zf=(f,h,y,C)=>{const O=rs(f).rows,D=h.cells[0].row,L=O[D],F=Ff(h.clipboard,h.generators,L),q=cd(D,f,F,h.generators,y);return Xn(q,h.cells[0].row,h.cells[0].column)},vn=(f,h,y,C)=>{const O=rs(f).rows,D=h.cells[h.cells.length-1].row+h.cells[h.cells.length-1].rowspan,L=O[h.cells[0].row],F=Ff(h.clipboard,h.generators,L),q=cd(D,f,F,h.generators,y);return Xn(q,D,h.cells[0].column)},vc=(f,h,y,C)=>((O,D,L,F)=>{const q=xp(D),J=F.getWidths(q,F);bn(q,J,F)})(0,h,0,C.sizing),Ip=(f,h,y,C)=>((O,D,L,F,q)=>{const J=xp(D),se=F.getWidths(J,F),Q=F.pixelWidth(),{newSizes:ne,delta:ee}=q.calcRedestributedWidths(se,Q,L.pixelDelta,F.isRelative);bn(J,ne,F),F.adjustTableWidth(ee)})(0,h,y,C.sizing,C.resize),H1=(f,h)=>Ee(h,(y=>y.column===0&&y.isLocked)),$1=(f,h)=>Ee(h,(y=>y.column+y.colspan>=f.grid.columns&&y.isLocked)),V1=(f,h)=>{const y=ks(f),C=xc(h);return Ge(C,((O,D)=>O+y[D.column].map(Tb).getOr(0)),0)},Vb=f=>(h,y)=>pr(h,y).filter((C=>!(f?H1:$1)(h,C))).map((C=>({details:C,pixelDelta:V1(h,C)}))),Ub=(f,h)=>su(f,h).map((y=>({details:y,pixelDelta:-V1(f,y)}))),U1=f=>(h,y)=>nu(h,y).filter((C=>!(f?H1:$1)(h,C.cells))),Zb=In("th"),Ya=In("td"),Hf=(f,h,y,C)=>is(Hb,pr,ot,ot,il,f,h,y,C),ar=(f,h,y,C)=>is(fC,pr,ot,ot,il,f,h,y,C),yc=(f,h,y,C)=>is(A2,Vb(!0),Ip,ot,il,f,h,y,C),_c=(f,h,y,C)=>is(gC,Vb(!1),Ip,ot,il,f,h,y,C),Wb=(f,h,y,C)=>is(ra,Ub,Ip,L1,il,f,h,y,C),Fp=(f,h,y,C)=>is(F1,pr,ot,L1,il,f,h,y,C),jb=(f,h,y,C)=>is(O2,su,ot,ot,Zb,f,h,y,C),qb=(f,h,y,C)=>is(I1,su,ot,ot,Ya,f,h,y,C),R2=(f,h,y,C)=>is(ul,pr,ot,ot,Zb,f,h,y,C),Gb=(f,h,y,C)=>is(If,pr,ot,ot,Ya,f,h,y,C),M2=(f,h,y,C)=>is(zl,pr,ot,ot,Ya,f,h,y,C),Ar=(f,h,y,C)=>is(D2,su,ot,ot,Zb,f,h,y,C),dd=(f,h,y,C)=>is(ha,su,ot,ot,Ya,f,h,y,C),pC=(f,h,y,C)=>is(z1,xe,vc,ot,mm,f,h,y,C),Kb=(f,h,y,C)=>is(xm,sa,vc,ot,mm,f,h,y,C),B2=(f,h,y,C)=>is(Lp,On,vc,ot,il,f,h,y,C),Z1=(f,h,y,C)=>is(N2,U1(!0),ot,ot,il,f,h,y,C),Yb=(f,h,y,C)=>is($b,U1(!1),ot,ot,il,f,h,y,C),Xb=(f,h,y,C)=>is(zf,nu,ot,ot,il,f,h,y,C),Bs=(f,h,y,C)=>is(vn,nu,ot,ot,il,f,h,y,C),Ps=(f,h)=>{const y=Er(f);return pr(y,h).bind((C=>{const O=C[C.length-1],D=C[0].column,L=O.column+O.colspan,F=bt(E(y.all,(q=>Yn(q.cells,(J=>J.column>=D&&J.column<L)))));return h1(F)})).getOr("")},Or=(f,h)=>{const y=Er(f);return pr(y,h).bind(h1).getOr("")},ir=(f,h)=>{const y=Er(f);return pr(y,h).bind((C=>{const O=C[C.length-1],D=C[0].row,L=O.row+O.rowspan;return(F=>{const q=E(F,(Q=>p1(Q).type)),J=zo(q,"header"),se=zo(q,"footer");if(J||se){const Q=zo(q,"body");return!J||Q||se?J||Q||!se?ie.none():ie.some("footer"):ie.some("header")}return ie.some("body")})(y.all.slice(D,L))})).getOr("")},lr=(f,h)=>{const y=h.column,C=h.column+h.colspan-1,O=h.row,D=h.row+h.rowspan-1;return y<=f.finishCol&&C>=f.startCol&&O<=f.finishRow&&D>=f.startRow},ls=(f,h)=>h.column>=f.startCol&&h.column+h.colspan-1<=f.finishCol&&h.row>=f.startRow&&h.row+h.rowspan-1<=f.finishRow,vm=(f,h,y)=>{const C=vp(f,h,Pn),O=vp(f,y,Pn);return C.bind((D=>O.map((L=>{return F=D,q=L,{startRow:Math.min(F.row,q.row),startCol:Math.min(F.column,q.column),finishRow:Math.max(F.row+F.rowspan-1,q.row+q.rowspan-1),finishCol:Math.max(F.column+F.colspan-1,q.column+q.colspan-1)};var F,q}))))},W1=(f,h,y)=>vm(f,h,y).map((C=>{const O=tr(f,Me(lr,C));return E(O,(D=>D.element))})),Jb=(f,h)=>vp(f,h,((y,C)=>Qs(C,y))).map((y=>y.element)),P2=(f,h,y)=>{const C=zp(f);return W1(C,h,y)},wc=(f,h,y,C,O)=>{const D=zp(f),L=Pn(f,y)?ie.some(h):Jb(D,h),F=Pn(f,O)?ie.some(C):Jb(D,C);return L.bind((q=>F.bind((J=>W1(D,q,J)))))},zp=Er,Qb={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Hp=(f,h,y,C)=>Ut(f,(O=>((D,L,F,q)=>{const J=ge.fromTag("tr");for(let se=0;se<D;se++){const Q=ge.fromTag(q<L||se<F?"th":"td");se<F&&Vn(Q,"scope","row"),q<L&&Vn(Q,"scope","col"),En(Q,ge.fromTag("br")),En(J,Q)}return J})(h,y,C,O))),Ba=f=>{let h=[];return{bind:y=>{if(y===void 0)throw new Error("Event bind error: undefined handler");h.push(y)},unbind:y=>{h=Yn(h,(C=>C!==y))},trigger:(...y)=>{const C={};mo(f,((O,D)=>{C[O]=y[D]})),mo(h,(O=>{O(C)}))}}},ud=f=>({registry:Uc(f,(h=>({bind:h.bind,unbind:h.unbind}))),trigger:Uc(f,(h=>h.trigger))}),fu=bb(["compare","extract","mutate","sink"]),j1=bb(["element","start","stop","destroy"]),q1=bb(["forceDrop","drop","move","delayDrop"]),L2=()=>{const f=(()=>{const C=ud({move:Ba(["info"])});return{onEvent:ot,reset:ot,events:C.registry}})(),h=(()=>{let C=ie.none();const O=ud({move:Ba(["info"])});return{onEvent:(D,L)=>{L.extract(D).each((F=>{((J,se)=>{const Q=C.map((ne=>J.compare(ne,se)));return C=ie.some(se),Q})(L,F).each((J=>{O.trigger.move(J)}))}))},reset:()=>{C=ie.none()},events:O.registry}})();let y=f;return{on:()=>{y.reset(),y=h},off:()=>{y.reset(),y=f},isOn:()=>y===h,onEvent:(C,O)=>{y.onEvent(C,O)},events:h.events}},ex=ss("ephox-dragster").resolve;var md=fu({compare:(f,h)=>ua(h.left-f.left,h.top-f.top),extract:f=>ie.some(ua(f.x,f.y)),sink:(f,h)=>{const y=(F=>{const q={layerClass:ex("blocker"),...F},J=ge.fromTag("div");return Vn(J,"role","presentation"),vf(J,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),_f(J,ex("blocker")),_f(J,q.layerClass),{element:yt(J),destroy:()=>{Xr(J)}}})(h),C=Ku(y.element(),"mousedown",f.forceDrop),O=Ku(y.element(),"mouseup",f.drop),D=Ku(y.element(),"mousemove",f.move),L=Ku(y.element(),"mouseout",f.delayDrop);return j1({element:y.element,start:F=>{En(F,y.element())},stop:()=>{Xr(y.element())},destroy:()=>{y.destroy(),O.unbind(),D.unbind(),L.unbind(),C.unbind()}})},mutate:(f,h)=>{f.mutate(h.left,h.top)}});const Gs=ss("ephox-snooker").resolve,ym=Gs("resizer-bar"),$p=Gs("resizer-rows"),$f=Gs("resizer-cols"),_m=f=>{const h=uc(f.parent(),"."+ym);mo(h,Xr)},ui=(f,h,y)=>{const C=f.origin();mo(h,(O=>{O.each((D=>{const L=y(C,D);_f(L,ym),En(f.parent(),L)}))}))},Vf=(f,h,y,C,O)=>{const D=Vt(y),L=h.isResizable,F=C.length>0?Jc.positions(C,y):[],q=F.length>0?((Q,ne)=>Ke(Q.all,((ee,me)=>ne(ee.element)?[me]:[])))(f,L):[];((Q,ne,ee,me)=>{ui(Q,ne,((ue,Re)=>{const Be=((Ve,Ze,qe,et)=>{const nt=ge.fromTag("div");return vf(nt,{position:"absolute",left:Ze+"px",top:qe-3.5+"px",height:"7px",width:et+"px"}),Ai(nt,{"data-mce-bogus":"all","data-row":Ve,role:"presentation"}),nt})(Re.row,ee.left-ue.left,Re.y-ue.top,me);return _f(Be,$p),Be}))})(h,Yn(F,((Q,ne)=>Ee(q,(ee=>ne===ee)))),D,Tb(y));const J=O.length>0?_p.positions(O,y):[],se=J.length>0?((Q,ne)=>{const ee=[];return Ut(Q.grid.columns,(me=>{Ns(Q,me).map((ue=>ue.element)).forall(ne)&&ee.push(me)})),Yn(ee,(me=>{const ue=tr(Q,(Re=>Re.column===me));return vt(ue,(Re=>ne(Re.element)))}))})(f,L):[];((Q,ne,ee,me)=>{ui(Q,ne,((ue,Re)=>{const Be=((Ve,Ze,qe,et,nt)=>{const _t=ge.fromTag("div");return vf(_t,{position:"absolute",left:Ze-3.5+"px",top:qe+"px",height:nt+"px",width:"7px"}),Ai(_t,{"data-mce-bogus":"all","data-column":Ve,role:"presentation"}),_t})(Re.col,Re.x-ue.left,ee.top-ue.top,0,me);return _f(Be,$f),Be}))})(h,Yn(J,((Q,ne)=>Ee(se,(ee=>ne===ee)))),D,Ml(y))},Uf=(f,h)=>{if(_m(f),f.isResizable(h)){const y=Er(h),C=rl(y),O=ks(y);Vf(y,f,h,C,O)}},tx=(f,h)=>{const y=uc(f.parent(),"."+ym);mo(y,h)},I2=f=>{tx(f,(h=>{Cr(h,"display","none")}))},F2=f=>{tx(f,(h=>{Cr(h,"display","block")}))},hC=Gs("resizer-bar-dragging"),ox=f=>{const h=(()=>{const Q=ud({drag:Ba(["xDelta","yDelta","target"])});let ne=ie.none();const ee=(()=>{const me=ud({drag:Ba(["xDelta","yDelta"])});return{mutate:(ue,Re)=>{me.trigger.drag(ue,Re)},events:me.registry}})();return ee.events.drag.bind((me=>{ne.each((ue=>{Q.trigger.drag(me.xDelta,me.yDelta,ue)}))})),{assign:me=>{ne=ie.some(me)},get:()=>ne,mutate:ee.mutate,events:Q.registry}})(),y=((Q,ne={})=>{var ee;return((me,ue,Re)=>{let Be=!1;const Ve=ud({start:Ba([]),stop:Ba([])}),Ze=L2(),qe=()=>{_t.stop(),Ze.isOn()&&(Ze.off(),Ve.trigger.stop())},et=(kt=>{let Do=null;const Jt=()=>{Qt(Do)||(clearTimeout(Do),Do=null)};return{cancel:Jt,throttle:(...ho)=>{Jt(),Do=setTimeout((()=>{Do=null,kt.apply(null,ho)}),200)}}})(qe);Ze.events.move.bind((kt=>{ue.mutate(me,kt.info)}));const nt=kt=>(...Do)=>{Be&&kt.apply(null,Do)},_t=ue.sink(q1({forceDrop:qe,drop:nt(qe),move:nt((kt=>{et.cancel(),Ze.onEvent(kt,ue)})),delayDrop:nt(et.throttle)}),Re);return{element:_t.element,go:kt=>{_t.start(kt),Ze.on(),Ve.trigger.start()},on:()=>{Be=!0},off:()=>{Be=!1},isActive:()=>Be,destroy:()=>{_t.destroy()},events:Ve.registry}})(Q,(ee=ne.mode)!==null&&ee!==void 0?ee:md,ne)})(h,{});let C=ie.none();const O=(Q,ne)=>ie.from(Xd(Q,ne));h.events.drag.bind((Q=>{O(Q.target,"data-row").each((ne=>{const ee=Sf(Q.target,"top");Cr(Q.target,"top",ee+Q.yDelta+"px")})),O(Q.target,"data-column").each((ne=>{const ee=Sf(Q.target,"left");Cr(Q.target,"left",ee+Q.xDelta+"px")}))}));const D=(Q,ne)=>Sf(Q,ne)-Za(Q,"data-initial-"+ne,0);y.events.stop.bind((()=>{h.get().each((Q=>{C.each((ne=>{O(Q,"data-row").each((ee=>{const me=D(Q,"top");As(Q,"data-initial-top"),se.trigger.adjustHeight(ne,me,parseInt(ee,10))})),O(Q,"data-column").each((ee=>{const me=D(Q,"left");As(Q,"data-initial-left"),se.trigger.adjustWidth(ne,me,parseInt(ee,10))})),Uf(f,ne)}))}))}));const L=(Q,ne)=>{se.trigger.startAdjust(),h.assign(Q),Vn(Q,"data-initial-"+ne,Sf(Q,ne)),_f(Q,hC),Cr(Q,"opacity","0.2"),y.go(f.dragContainer())},F=Ku(f.parent(),"mousedown",(Q=>{var ne;ne=Q.target,Z(ne,$p)&&L(Q.target,"top"),(ee=>Z(ee,$f))(Q.target)&&L(Q.target,"left")})),q=Q=>Pn(Q,f.view()),J=Ku(f.view(),"mouseover",(Q=>{var ne;(ne=Q.target,ps(ne,"table",q).filter(eu)).fold((()=>{Nl(Q.target)&&!(ee=>Z(ee,"ephox-snooker-resizer-bar")||Z(ee,"ephox-dragster-blocker"))(Q.target)&&_m(f)}),(ee=>{y.isActive()&&(C=ie.some(ee),Uf(f,ee))}))})),se=ud({adjustHeight:Ba(["table","delta","row"]),adjustWidth:Ba(["table","delta","column"]),startAdjust:Ba([])});return{destroy:()=>{F.unbind(),J.unbind(),y.destroy(),_m(f)},refresh:Q=>{Uf(f,Q)},on:y.on,off:y.off,hideBars:Me(I2,f),showBars:Me(F2,f),events:se.registry}},gu=f=>h=>h.options.get(f),nx="100%",wm=f=>{var h;const y=f.dom,C=(h=y.getParent(f.selection.getStart(),y.isBlock))!==null&&h!==void 0?h:f.getBody();return lp(ge.fromDom(C))+"px"},G1=f=>ie.from(f.options.get("table_clone_elements")),Ii=gu("table_header_type"),fd=gu("table_column_resizing"),ml=f=>fd(f)==="preservetable",aa=f=>fd(f)==="resizetable",mi=gu("table_sizing_mode"),ia=f=>mi(f)==="relative",Cm=f=>mi(f)==="fixed",fl=f=>mi(f)==="responsive",no=gu("table_resize_bars"),Ct=gu("table_style_by_css"),Vp=gu("table_merge_content_on_paste"),Up=f=>{const h=f.options,y=h.get("table_default_attributes");return h.isSet("table_default_attributes")?y:((C,O)=>fl(C)||Ct(C)?O:Cm(C)?{...O,width:wm(C)}:{...O,width:nx})(f,y)},sx=gu("table_use_colgroups"),Zf=f=>ge.fromDom(f.getBody()),en=f=>h=>Pn(h,Zf(f)),pu=f=>{As(f,"data-mce-style");const h=y=>As(y,"data-mce-style");mo(Zr(f),h),mo(g1(f),h),mo(Wa(f),h)},Zp=f=>ge.fromDom(f.selection.getStart()),Ne=f=>f.getBoundingClientRect().width,Wp=f=>f.getBoundingClientRect().height,jp=f=>(h,y)=>{const C=h.dom.getStyle(y,f)||h.dom.getAttrib(y,f);return ie.from(C).filter(Is)},Cc=jp("width"),qp=jp("height"),gd=f=>Ju(f,Sa("table")).exists(eu),rx=f=>Qu(f,"table"),pd=(f,h,y)=>{const C=O=>D=>y!==void 0&&y(D)||Pn(D,O);return Pn(f,h)?ie.some({boxes:ie.some([f]),start:f,finish:h}):rx(f).bind((O=>rx(h).bind((D=>{if(Pn(O,D))return ie.some({boxes:P2(O,f,h),start:f,finish:h});if(Qs(O,D)){const L=os(h,"td,th",C(O)),F=L.length>0?L[L.length-1]:h;return ie.some({boxes:wc(O,f,O,h,D),start:f,finish:F})}if(Qs(D,O)){const L=os(f,"td,th",C(D)),F=L.length>0?L[L.length-1]:f;return ie.some({boxes:wc(D,f,O,h,D),start:f,finish:F})}return((L,F)=>((q,J,se,Q=ae)=>{const ne=[J].concat(q.up().all(J)),ee=[se].concat(q.up().all(se)),me=Ve=>df(Ve,Q).fold((()=>Ve),(Ze=>Ve.slice(0,Ze+1))),ue=me(ne),Re=me(ee),Be=dn(ue,(Ve=>Ee(Re,((Ze,qe)=>Me(Ze.eq,qe))(q,Ve))));return{firstpath:ue,secondpath:Re,shared:Be}})(Dp,L,F,void 0))(f,h).shared.bind((L=>ps(L,"table",y).bind((F=>{const q=os(h,"td,th",C(F)),J=q.length>0?q[q.length-1]:h,se=os(f,"td,th",C(F)),Q=se.length>0?se[se.length-1]:f;return ie.some({boxes:wc(F,f,O,h,D),start:Q,finish:J})}))))}))))},gn=(f,h)=>{const y=uc(f,h);return y.length>0?ie.some(y):ie.none()},Fi=(f,h,y)=>ma(f,h).bind((C=>ma(f,y).bind((O=>O1(rx,[C,O]).map((D=>({first:C,last:O,table:D}))))))),K1=(f,h,y,C,O)=>((D,L)=>dn(D,(F=>Yr(F,L))))(f,O).bind((D=>((L,F,q)=>Ds(L).bind((J=>((se,Q,ne,ee)=>vp(se,Q,Pn).bind((me=>{const ue=ne>0?me.row+me.rowspan-1:me.row,Re=ee>0?me.column+me.colspan-1:me.column;return Ea(se,ue+ne,Re+ee).map((Be=>Be.element))})))(zp(J),L,F,q))))(D,h,y).bind((L=>((F,q)=>Qu(F,"table").bind((J=>ma(J,q).bind((se=>pd(se,F).bind((Q=>Q.boxes.map((ne=>({boxes:ne,start:Q.start,finish:Q.finish}))))))))))(L,C))))),kc=(f,h)=>gn(f,h),Hl=(f,h,y)=>Fi(f,h,y).bind((C=>{const O=q=>Pn(f,q),D="thead,tfoot,tbody,table",L=Qu(C.first,D,O),F=Qu(C.last,D,O);return L.bind((q=>F.bind((J=>Pn(q,J)?((se,Q,ne)=>((ee,me,ue)=>vm(ee,me,ue).bind((Re=>((Be,Ve)=>{let Ze=!0;const qe=Me(ls,Ve);for(let et=Ve.startRow;et<=Ve.finishRow;et++)for(let nt=Ve.startCol;nt<=Ve.finishCol;nt++)Ze=Ze&&Ea(Be,et,nt).exists(qe);return Ze?ie.some(Ve):ie.none()})(ee,Re))))(zp(se),Q,ne))(C.table,C.first,C.last):ie.none()))))})),Wf=zt,Y1=f=>{const h=(y,C)=>Gc(y,C).exists((O=>parseInt(O,10)>1));return f.length>0&&vt(f,(y=>h(y,"rowspan")||h(y,"colspan")))?ie.some(f):ie.none()},z2=(f,h,y)=>h.length<=1?ie.none():Hl(f,y.firstSelectedSelector,y.lastSelectedSelector).map((C=>({bounds:C,cells:h}))),He=(f,h)=>({selection:f,kill:h}),bC=()=>({tag:"none"}),cs=f=>({tag:"multiple",elements:f}),ax=f=>({tag:"single",element:f}),ix=(f,h,y,C)=>({start:Fn.on(f,h),finish:Fn.on(y,C)}),X1=(f,h)=>{const y=Xg(f,h);return tm(ge.fromDom(y.startContainer),y.startOffset,ge.fromDom(y.endContainer),y.endOffset)},It=ix,km=(f,h,y,C,O)=>Pn(y,C)?ie.none():pd(y,C,h).bind((D=>{const L=D.boxes.getOr([]);return L.length>1?(O(f,L,D.start,D.finish),ie.some(He(ie.some(It(y,0,y,_o(y))),!0))):ie.none()})),Gp=Te([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),jf=f=>ps(f,"tr"),Sm={...Gp,verify:(f,h,y,C,O,D,L)=>ps(C,"td,th",L).bind((F=>ps(h,"td,th",L).map((q=>Pn(F,q)?Pn(C,F)&&_o(F)===O?D(q):Gp.none("in same cell"):O1(jf,[F,q]).fold((()=>((J,se,Q)=>{const ne=J.getRect(se),ee=J.getRect(Q);return ee.right>ne.left&&ee.left<ne.right})(f,q,F)?Gp.success():D(q)),(J=>D(q))))))).getOr(Gp.none("default")),cata:(f,h,y,C,O)=>f.fold(h,y,C,O)},Zt=Sa("br"),J1=(f,h,y)=>h(f,y).bind((C=>Gu(C)&&$s(C).trim().length===0?J1(C,h,y):ie.some(C))),hd=(f,h,y,C)=>((O,D)=>i1(O,D).filter(Zt).orThunk((()=>i1(O,D-1).filter(Zt))))(h,y).bind((O=>C.traverse(O).fold((()=>J1(O,C.gather,f).map(C.relative)),(D=>(L=>qc(L).bind((F=>{const q=Hr(F);return((J,se)=>df(J,Me(Pn,se)))(q,L).map((J=>((se,Q,ne,ee)=>({parent:se,children:Q,element:ne,index:ee}))(F,q,L,J)))})))(D).map((L=>Fn.on(L.parent,L.index))))))),ko=(f,h)=>({left:f.left,top:f.top+h,right:f.right,bottom:f.bottom+h}),Em=(f,h)=>({left:f.left,top:f.top-h,right:f.right,bottom:f.bottom-h}),Pa=(f,h,y)=>({left:f.left+h,top:f.top+y,right:f.right+h,bottom:f.bottom+y}),Tm=f=>({left:f.left,top:f.top,right:f.right,bottom:f.bottom}),bd=(f,h)=>ie.some(f.getRect(h)),qf=(f,h,y)=>ka(h)?bd(f,h).map(Tm):Gu(h)?((C,O,D)=>D>=0&&D<_o(O)?C.getRangedRect(O,D,O,D+1):D>0?C.getRangedRect(O,D-1,O,D):ie.none())(f,h,y).map(Tm):ie.none(),La=(f,h)=>ka(h)?bd(f,h).map(Tm):Gu(h)?f.getRangedRect(h,0,h,_o(h)).map(Tm):ie.none(),Sc=Te([{none:[]},{retry:["caret"]}]),Ec=(f,h,y)=>Ju(h,N1).fold(ae,(C=>La(f,C).exists((O=>((D,L)=>D.left<L.left||Math.abs(L.right-D.left)<1||D.left>L.right)(y,O))))),hu={point:f=>f.bottom,adjuster:(f,h,y,C,O)=>{const D=ko(O,5);return Math.abs(y.bottom-C.bottom)<1||y.top>O.bottom?Sc.retry(D):y.top===O.bottom?Sc.retry(ko(O,1)):Ec(f,h,O)?Sc.retry(Pa(D,5,0)):Sc.none()},move:ko,gather:bc},xd=(f,h,y,C,O)=>O===0?ie.some(C):((D,L,F)=>D.elementFromPoint(L,F).filter((q=>es(q)==="table")).isSome())(f,C.left,h.point(C))?((D,L,F,q,J)=>xd(D,L,F,L.move(q,5),J))(f,h,y,C,O-1):f.situsFromPoint(C.left,h.point(C)).bind((D=>D.start.fold(ie.none,(L=>La(f,L).bind((F=>h.adjuster(f,L,F,y,C).fold(ie.none,(q=>xd(f,h,y,q,O-1))))).orThunk((()=>ie.some(C)))),ie.none))),Q1=(f,h,y)=>{const C=f.move(y,5),O=xd(h,f,y,C,100).getOr(C);return((D,L,F)=>D.point(L)>F.getInnerHeight()?ie.some(D.point(L)-F.getInnerHeight()):D.point(L)<0?ie.some(-D.point(L)):ie.none())(f,O,h).fold((()=>h.situsFromPoint(O.left,f.point(O))),(D=>(h.scrollBy(0,D),h.situsFromPoint(O.left,f.point(O)-D))))},e0={tryUp:Me(Q1,{point:f=>f.top,adjuster:(f,h,y,C,O)=>{const D=Em(O,5);return Math.abs(y.top-C.top)<1||y.bottom<O.top?Sc.retry(D):y.bottom===O.top?Sc.retry(Em(O,1)):Ec(f,h,O)?Sc.retry(Pa(D,5,0)):Sc.none()},move:Em,gather:cl}),tryDown:Me(Q1,hu),getJumpSize:yt(5)},AE=(f,h,y)=>f.getSelection().bind((C=>((O,D,L,F)=>(Zt(D)?((J,se,Q)=>Q.traverse(se).orThunk((()=>J1(se,Q.gather,J))).map(Q.relative))(O,D,F):hd(O,D,L,F)).map((J=>({start:J,finish:J}))))(h,C.finish,C.foffset,y).fold((()=>ie.some(ll(C.finish,C.foffset))),(O=>{const D=f.fromSitus(O);return L=Sm.verify(f,C.finish,C.foffset,D.finish,D.foffset,y.failure,h),Sm.cata(L,(F=>ie.none()),(()=>ie.none()),(F=>ie.some(ll(F,0))),(F=>ie.some(ll(F,_o(F)))));var L})))),H2=(f,h,y,C,O,D)=>D===0?ie.none():Gf(f,h,y,C,O).bind((L=>{const F=f.fromSitus(L),q=Sm.verify(f,y,C,F.finish,F.foffset,O.failure,h);return Sm.cata(q,(()=>ie.none()),(()=>ie.some(L)),(J=>Pn(y,J)&&C===0?Oo(f,y,C,Em,O):H2(f,h,J,0,O,D-1)),(J=>Pn(y,J)&&C===_o(J)?Oo(f,y,C,ko,O):H2(f,h,J,_o(J),O,D-1)))})),Oo=(f,h,y,C,O)=>qf(f,h,y).bind((D=>$l(f,O,C(D,e0.getJumpSize())))),$l=(f,h,y)=>{const C=d2().browser;return C.isChromium()||C.isSafari()||C.isFirefox()?h.retry(f,y):ie.none()},Gf=(f,h,y,C,O)=>qf(f,y,C).bind((D=>$l(f,O,D))),xC=(f,h,y,C,O)=>ps(C,"td,th",h).bind((D=>ps(D,"table",h).bind((L=>((F,q)=>yf(F,(J=>qc(J).exists((se=>Pn(se,q)))),void 0).isSome())(O,L)?((F,q,J)=>AE(F,q,J).bind((se=>H2(F,q,se.element,se.offset,J,20).map(F.fromSitus))))(f,h,y).bind((F=>ps(F.finish,"td,th",h).map((q=>({start:D,finish:q,range:F}))))):ie.none())))),Kp=(f,h,y,C,O,D)=>D(C,h).orThunk((()=>xC(f,h,y,C,O).map((L=>{const F=L.range;return He(ie.some(It(F.start,F.soffset,F.finish,F.foffset)),!0)})))),co=(f,h)=>ps(f,"tr",h).bind((y=>ps(y,"table",h).bind((C=>{const O=uc(C,"tr");return Pn(y,O[0])?((D,L,F)=>E2(cu,D,(q=>Os(q).isSome()),F))(C,0,h).map((D=>{const L=_o(D);return He(ie.some(It(D,L,D,L)),!0)})):ie.none()})))),Wr=(f,h)=>ps(f,"tr",h).bind((y=>ps(y,"table",h).bind((C=>{const O=uc(C,"tr");return Pn(y,O[O.length-1])?((D,L,F)=>ld(cu,D,(q=>up(q).isSome()),F))(C,0,h).map((D=>He(ie.some(It(D,0,D,0)),!0))):ie.none()})))),Tc=(f,h,y,C,O,D,L)=>xC(f,y,C,O,D).bind((F=>km(h,y,F.start,F.finish,L))),Ac=(f,h)=>ps(f,"td,th",h),Am=f=>bf(f).exists(eu),Om={traverse:np,gather:bc,relative:Fn.before,retry:e0.tryDown,failure:Sm.failedDown},Dm={traverse:xf,gather:cl,relative:Fn.before,retry:e0.tryUp,failure:Sm.failedUp},Vl=f=>h=>h===f,t0=Vl(38),Yp=Vl(40),So=f=>f>=37&&f<=40,lx={isBackward:Vl(37),isForward:Vl(39)},o0={isBackward:Vl(39),isForward:Vl(37)},n0=f=>({elementFromPoint:(h,y)=>ge.fromPoint(ge.fromDom(f.document),h,y),getRect:h=>h.dom.getBoundingClientRect(),getRangedRect:(h,y,C,O)=>{const D=om.exact(h,y,C,O);return((L,F)=>(q=>{const J=q.getClientRects(),se=J.length>0?J[0]:q.getBoundingClientRect();return se.width>0||se.height>0?ie.some(se).map(ju):ie.none()})(Xg(L,F)))(f,D)},getSelection:()=>Ur(f).map((h=>X1(f,h))),fromSitus:h=>{const y=om.relative(h.start,h.finish);return X1(f,y)},situsFromPoint:(h,y)=>x2(f,h,y).map((C=>ix(C.start,C.soffset,C.finish,C.foffset))),clearSelection:()=>{(h=>{Qr(h).each((y=>y.removeAllRanges()))})(f)},collapseSelection:(h=!1)=>{Ur(f).each((y=>y.fold((C=>C.collapse(h)),((C,O)=>{const D=h?C:O;fp(f,D,D)}),((C,O,D,L)=>{const F=h?C:D,q=h?O:L;mp(f,F,q,F,q)}))))},setSelection:h=>{mp(f,h.start,h.soffset,h.finish,h.foffset)},setRelativeSelection:(h,y)=>{fp(f,h,y)},selectNode:h=>{hs(f,h,!1)},selectContents:h=>{hs(f,h)},getInnerHeight:()=>f.innerHeight,getScrollY:()=>(h=>{const y=h!==void 0?h.dom:document,C=y.body.scrollLeft||y.documentElement.scrollLeft,O=y.body.scrollTop||y.documentElement.scrollTop;return ua(C,O)})(ge.fromDom(f.document)).top,scrollBy:(h,y)=>{((C,O,D)=>{const L=(D!==void 0?D.dom:document).defaultView;L&&L.scrollBy(C,O)})(h,y,ge.fromDom(f.document))}}),gl=(f,h)=>({rows:f,cols:h}),cx=f=>Ju(f,u2).exists(eu),dx=(f,h)=>cx(f)||cx(h),Xp="data-mce-selected",fi="data-mce-first-selected",Nm="data-mce-last-selected",Kf="["+Xp+"]",Rm={selected:Xp,selectedSelector:"td["+Xp+"],th["+Xp+"]",firstSelected:fi,firstSelectedSelector:"td["+fi+"],th["+fi+"]",lastSelected:Nm,lastSelectedSelector:"td["+Nm+"],th["+Nm+"]"},Jp=(f,h,y)=>({element:y,mergable:z2(h,f,Rm),unmergable:Y1(f),selection:Wf(f)}),$2=f=>(h,y)=>{const C=es(h),O=C==="col"||C==="colgroup"?Ds(D=h).bind((L=>kc(L,Rm.firstSelectedSelector))).fold(yt(D),(L=>L[0])):h;var D;return ps(O,f,y)},V2=$2("th,td,caption"),bu=$2("th,td"),Ul=f=>{return h=f.model.table.getSelectedCells(),E(h,ge.fromDom);var h},Oc=(f,h)=>{f.on("BeforeGetContent",(y=>{const C=O=>{y.preventDefault(),(D=>Ds(D[0]).map((L=>{const F=((q,J)=>{const se=Ze=>Yr(Ze.element,J),Q=er(q),ne=x1(Q),ee=Df(q),me=xp(ne),ue=((Ze,qe)=>{const et=Ze.grid.columns;let nt=Ze.grid.rows,_t=et,kt=0,Do=0;const Jt=[],ho=[];return yn(Ze.access,(to=>{if(Jt.push(to),qe(to)){ho.push(to);const tn=to.row,ys=tn+to.rowspan-1,Dr=to.column,hr=Dr+to.colspan-1;tn<nt?nt=tn:ys>kt&&(kt=ys),Dr<_t?_t=Dr:hr>Do&&(Do=hr)}})),((to,tn,ys,Dr,hr,Xa)=>({minRow:to,minCol:tn,maxRow:ys,maxCol:Dr,allCells:hr,selectedCells:Xa}))(nt,_t,kt,Do,Jt,ho)})(me,se),Re="th:not("+J+"),td:not("+J+")",Be=xs(Q,"th,td",(Ze=>Yr(Ze,Re)));mo(Be,Xr),((Ze,qe,et,nt)=>{const _t=Yn(Ze,(Jt=>Jt.section!=="colgroup")),kt=qe.grid.columns,Do=qe.grid.rows;for(let Jt=0;Jt<Do;Jt++){let ho=!1;for(let to=0;to<kt;to++)Jt<et.minRow||Jt>et.maxRow||to<et.minCol||to>et.maxCol||(Ea(qe,Jt,to).filter(nt).isNone()?Ga(_t,ho,Jt):ho=!0)}})(ne,me,ue,se);const Ve=((Ze,qe,et,nt)=>{if(nt.minCol===0&&qe.grid.columns===nt.maxCol+1)return 0;const _t=od(qe,Ze,et),kt=Ge(_t,((ho,to)=>ho+to),0),Do=Ge(_t.slice(nt.minCol,nt.maxCol+1),((ho,to)=>ho+to),0),Jt=Do/kt*et.pixelWidth()-et.pixelWidth();return et.getCellDelta(Jt)})(q,Er(q),ee,ue);return((Ze,qe,et,nt)=>{yn(et.columns,(kt=>{(kt.column<qe.minCol||kt.column>qe.maxCol)&&Xr(kt.element)}));const _t=Yn(fn(Ze,"tr"),(kt=>kt.dom.childElementCount===0));mo(_t,Xr),qe.minCol!==qe.maxCol&&qe.minRow!==qe.maxRow||mo(fn(Ze,"th,td"),(kt=>{As(kt,"rowspan"),As(kt,"colspan")})),As(Ze,v1),As(Ze,"data-snooker-col-series"),Df(Ze).adjustTableWidth(nt)})(Q,ue,me,Ve),Q})(L,Kf);return pu(F),[F]})))(O).each((D=>{const L=y.format==="text"?((F,q)=>{const J=F.getDoc(),se=ol(ge.fromDom(F.getBody())),Q=ge.fromTag("div",J);Vn(Q,"data-mce-bogus","all"),vf(Q,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const ne=(me=>p2(me)?me:ge.fromDom(hf(me).dom.body))(se);Ti(Q,q),En(ne,Q);const ee=Q.dom.innerText;return Xr(Q),ee})(f,D):((F,q)=>E(q,(J=>F.selection.serializer.serialize(J.dom,{}))).join(""))(f,D);y.content=L}))};if(y.selection===!0){const O=(D=>Yn(Ul(D),(L=>Yr(L,Rm.selectedSelector))))(f);O.length>=1&&C(O)}})),f.on("BeforeSetContent",(y=>{if(y.selection===!0&&y.paste===!0){const C=Ul(f);un(C).each((O=>{Ds(O).each((D=>{const L=Yn((q=>{const J=document.createElement("div");return J.innerHTML=q,Hr(ge.fromDom(J))})(y.content),(q=>es(q)!=="meta")),F=Sa("table");if(Vp(f)&&L.length===1&&F(L[0])){y.preventDefault();const q=ge.fromDom(f.getDoc()),J=Ka(q),se=((Q,ne,ee)=>({element:Q,clipboard:ne,generators:ee}))(O,L[0],J);h.pasteCells(D,se).each((()=>{f.focus()}))}}))}))}}))},Qp=(f,h)=>f.dispatch("NewRow",{node:h}),Yf=(f,h)=>f.dispatch("NewCell",{node:h}),zi=(f,h,y)=>{f.dispatch("TableModified",{...y,table:h})},eh={structure:!1,style:!0},vs={structure:!0,style:!1},Mm={structure:!0,style:!0},ux=(f,h)=>ia(f)?Oa(h):Cm(f)?Fe(h):Df(h),U2=(f,h,y)=>{const C=se=>es(Zf(se))==="table",O=G1(f),D=aa(f)?ot:wn,L=se=>{switch(Ii(f)){case"section":return Ta();case"sectionCells":return fa();case"cells":return or();default:return((Q,ne)=>{var ee;switch((ee=Er(Q),P(ee.all,(me=>{const ue=p1(me);return ue.type==="header"?ie.from(ue.subType):ie.none()}))).getOr(ne)){case"section":return ai();case"sectionCells":return Tr();case"cells":return Zs()}})(se,"section")}},F=(se,Q,ne,ee)=>(me,ue,Re=!1)=>{pu(me);const Be=ge.fromDom(f.getDoc()),Ve=ft(ne,Be,O),Ze={sizing:ux(f,me),resize:aa(f)?rm():am(),section:L(me)};return Q(me)?se(me,ue,Ve,Ze).bind((qe=>{h.refresh(me.dom),mo(qe.newRows,(nt=>{Qp(f,nt.dom)})),mo(qe.newCells,(nt=>{Yf(f,nt.dom)}));const et=((nt,_t)=>_t.cursor.fold((()=>{const kt=Zr(nt);return un(kt).filter(Nl).map((Do=>{y.clearSelectedCells(nt.dom);const Jt=f.dom.createRng();return Jt.selectNode(Do.dom),f.selection.setRng(Jt),Vn(Do,"data-mce-selected","1"),Jt}))}),(kt=>{const Do=Mb(T1,kt),Jt=f.dom.createRng();return Jt.setStart(Do.element.dom,Do.offset),Jt.setEnd(Do.element.dom,Do.offset),f.selection.setRng(Jt),y.clearSelectedCells(nt.dom),ie.some(Jt)})))(me,qe);return Nl(me)&&(pu(me),Re||zi(f,me.dom,ee)),et.map((nt=>({rng:nt,effect:ee})))})):ie.none()},q=F(Fp,(se=>!C(f)||Co(se).rows>1),ot,vs),J=F(Wb,(se=>!C(f)||Co(se).columns>1),ot,vs);return{deleteRow:q,deleteColumn:J,insertRowsBefore:F(Hf,dt,ot,vs),insertRowsAfter:F(ar,dt,ot,vs),insertColumnsBefore:F(yc,dt,D,vs),insertColumnsAfter:F(_c,dt,D,vs),mergeCells:F(pC,dt,ot,vs),unmergeCells:F(Kb,dt,ot,vs),pasteColsBefore:F(Z1,dt,ot,vs),pasteColsAfter:F(Yb,dt,ot,vs),pasteRowsBefore:F(Xb,dt,ot,vs),pasteRowsAfter:F(Bs,dt,ot,vs),pasteCells:F(B2,dt,ot,Mm),makeCellsHeader:F(Ar,dt,ot,vs),unmakeCellsHeader:F(dd,dt,ot,vs),makeColumnsHeader:F(jb,dt,ot,vs),unmakeColumnsHeader:F(qb,dt,ot,vs),makeRowsHeader:F(R2,dt,ot,vs),makeRowsBody:F(Gb,dt,ot,vs),makeRowsFooter:F(M2,dt,ot,vs),getTableRowType:ir,getTableCellType:Or,getTableColType:Ps}},Bm=(f,h)=>{f.selection.select(h.dom,!0),f.selection.collapse(!0)},vd=(f,h,y,C,O)=>{const D=(F=>{const q=F.options,J=q.get("table_default_styles");return q.isSet("table_default_styles")?J:((se,Q)=>fl(se)||!Ct(se)?Q:Cm(se)?{...Q,width:wm(se)}:{...Q,width:nx})(F,J)})(f),L={styles:D,attributes:Up(f),colGroups:sx(f)};return f.undoManager.ignore((()=>{const F=((J,se,Q,ne,ee,me=Qb)=>{const ue=ge.fromTag("table"),Re=ee!=="cells";vf(ue,me.styles),Ai(ue,me.attributes),me.colGroups&&En(ue,(qe=>{const et=ge.fromTag("colgroup");return Ut(qe,(()=>En(et,ge.fromTag("col")))),et})(se));const Be=Math.min(J,Q);if(Re&&Q>0){const qe=ge.fromTag("thead");En(ue,qe);const et=Hp(Q,se,ee==="sectionCells"?Be:0,ne);Ti(qe,et)}const Ve=ge.fromTag("tbody");En(ue,Ve);const Ze=Hp(Re?J-Be:J,se,Re?0:Q,ne);return Ti(Ve,Ze),ue})(y,h,O,C,Ii(f),L);Vn(F,"data-mce-id","__mce");const q=(J=>{const se=ge.fromTag("div"),Q=ge.fromDom(J.dom.cloneNode(!0));return En(se,Q),(ne=>ne.dom.innerHTML)(se)})(F);f.insertContent(q),f.addVisual()})),ma(Zf(f),'table[data-mce-id="__mce"]').map((F=>(Cm(f)?Np(F):fl(f)?gm(F):(ia(f)||(q=>Ue(q)&&q.indexOf("%")!==-1)(D.width))&&zn(F),pu(F),As(F,"data-mce-id"),((q,J)=>{mo(uc(J,"tr"),(se=>{Qp(q,se.dom),mo(uc(se,"th,td"),(Q=>{Yf(q,Q.dom)}))}))})(f,F),((q,J)=>{ma(J,"td,th").each(Me(Bm,q))})(f,F),F.dom))).getOrNull()};var th=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Ks="x-tinymce/dom-table-",Xf=Ks+"rows",jr=Ks+"columns",mx=f=>{const h=th.FakeClipboardItem(f);th.write([h])},s0=f=>{var h;const y=(h=th.read())!==null&&h!==void 0?h:[];return P(y,(C=>ie.from(C.getType(f))))},xu=f=>{s0(f).isSome()&&th.clear()},Pm=f=>{f.fold(Hi,(h=>mx({[Xf]:h})))},yd=()=>s0(Xf),Hi=()=>xu(Xf),fx=f=>{f.fold(r0,(h=>mx({[jr]:h})))},Z2=()=>s0(jr),r0=()=>xu(jr),Jf=f=>V2(Zp(f),en(f)).filter(gd),a0=(f,h)=>{const y=en(f),C=Q=>Ds(Q,y),O=Q=>(ne=>bu(Zp(ne),en(ne)).filter(gd))(f).bind((ne=>C(ne).map((ee=>Q(ee,ne))))),D=Q=>{f.focus()},L=(Q,ne=!1)=>O(((ee,me)=>{const ue=Jp(Ul(f),ee,me);Q(ee,ue,ne).each(D)})),F=()=>O(((Q,ne)=>((ee,me,ue)=>{const Re=Er(ee);return pr(Re,me).bind((Be=>{const Ve=Rf(Re,ue,!1),Ze=rs(Ve).rows.slice(Be[0].row,Be[Be.length-1].row+Be[Be.length-1].rowspan),qe=Ke(Ze,(nt=>{const _t=Yn(nt.cells,(kt=>!kt.isLocked));return _t.length>0?[{...nt,cells:_t}]:[]})),et=oa(qe);return _r(et.length>0,et)})).map((Be=>E(Be,(Ve=>{const Ze=c1(Ve.element);return mo(Ve.cells,(qe=>{const et=er(qe.element);Nf(et,"colspan",qe.colspan,1),Nf(et,"rowspan",qe.rowspan,1),En(Ze,et)})),Ze}))))})(Q,Jp(Ul(f),Q,ne),ft(ot,ge.fromDom(f.getDoc()),ie.none())))),q=()=>O(((Q,ne)=>((ee,me)=>{const ue=Er(ee);return su(ue,me).map((Re=>{const Be=Re[Re.length-1],Ve=Re[0].column,Ze=Be.column+Be.colspan,qe=((nt,_t,kt)=>{if(rn(nt)){const Do=Yn(Xc(nt),S1(_t,kt)),Jt=E(Do,(to=>{const tn=er(to.element);return rd(tn,"span",kt-_t),tn})),ho=ge.fromTag("colgroup");return Ti(ho,Jt),[ho]}return[]})(ue,Ve,Ze),et=((nt,_t,kt)=>E(nt.all,(Do=>{const Jt=Yn(Do.cells,S1(_t,kt)),ho=E(Jt,(tn=>{const ys=er(tn.element);return rd(ys,"colspan",kt-_t),ys})),to=ge.fromTag("tr");return Ti(to,ho),to})))(ue,Ve,Ze);return[...qe,...et]}))})(Q,Jp(Ul(f),Q,ne)))),J=(Q,ne)=>ne().each((ee=>{const me=E(ee,(ue=>er(ue)));O(((ue,Re)=>{const Be=Ka(ge.fromDom(f.getDoc())),Ve=((Ze,qe,et,nt)=>({selection:Wf(Ze),clipboard:et,generators:nt}))(Ul(f),0,me,Be);Q(ue,Ve).each(D)}))})),se=Q=>(ne,ee)=>((me,ue)=>go(me,ue)?ie.from(me[ue]):ie.none())(ee,"type").each((me=>{L(Q(me),ee.no_events)}));yn({mceTableSplitCells:()=>L(h.unmergeCells),mceTableMergeCells:()=>L(h.mergeCells),mceTableInsertRowBefore:()=>L(h.insertRowsBefore),mceTableInsertRowAfter:()=>L(h.insertRowsAfter),mceTableInsertColBefore:()=>L(h.insertColumnsBefore),mceTableInsertColAfter:()=>L(h.insertColumnsAfter),mceTableDeleteCol:()=>L(h.deleteColumn),mceTableDeleteRow:()=>L(h.deleteRow),mceTableCutCol:()=>q().each((Q=>{fx(Q),L(h.deleteColumn)})),mceTableCutRow:()=>F().each((Q=>{Pm(Q),L(h.deleteRow)})),mceTableCopyCol:()=>q().each((Q=>fx(Q))),mceTableCopyRow:()=>F().each((Q=>Pm(Q))),mceTablePasteColBefore:()=>J(h.pasteColsBefore,Z2),mceTablePasteColAfter:()=>J(h.pasteColsAfter,Z2),mceTablePasteRowBefore:()=>J(h.pasteRowsBefore,yd),mceTablePasteRowAfter:()=>J(h.pasteRowsAfter,yd),mceTableDelete:()=>Jf(f).each((Q=>{Ds(Q,y).filter(No(y)).each((ne=>{const ee=ge.fromText("");if(sp(ne,ee),Xr(ne),f.dom.isEmpty(f.getBody()))f.setContent(""),f.selection.setCursorLocation();else{const me=f.dom.createRng();me.setStart(ee.dom,0),me.setEnd(ee.dom,0),f.selection.setRng(me),f.nodeChanged()}}))})),mceTableCellToggleClass:(Q,ne)=>{O((ee=>{const me=Ul(f),ue=vt(me,(Be=>f.formatter.match("tablecellclass",{value:ne},Be.dom))),Re=ue?f.formatter.remove:f.formatter.apply;mo(me,(Be=>Re("tablecellclass",{value:ne},Be.dom))),zi(f,ee.dom,eh)}))},mceTableToggleClass:(Q,ne)=>{O((ee=>{f.formatter.toggle("tableclass",{value:ne},ee.dom),zi(f,ee.dom,eh)}))},mceTableToggleCaption:()=>{Jf(f).each((Q=>{Ds(Q,y).each((ne=>{$e(ne,"caption").fold((()=>{const ee=ge.fromTag("caption");En(ee,ge.fromText("Caption")),((me,ue)=>{i1(me,0).fold((()=>{En(me,ue)}),(Re=>{ic(Re,ue)}))})(ne,ee),f.selection.setCursorLocation(ee.dom,0)}),(ee=>{Sa("caption")(Q)&&Jg("td",ne).each((me=>f.selection.setCursorLocation(me.dom,0))),Xr(ee)})),zi(f,ne.dom,vs)}))}))},mceTableSizingMode:(Q,ne)=>(ee=>Jf(f).each((me=>{fl(f)||Cm(f)||ia(f)||Ds(me,y).each((ue=>{ee!=="relative"||iu(ue)?ee!=="fixed"||w2(ue)?ee!=="responsive"||Bf(ue)||gm(ue):Np(ue):zn(ue),pu(ue),zi(f,ue.dom,vs)}))})))(ne),mceTableCellType:se((Q=>Q==="th"?h.makeCellsHeader:h.unmakeCellsHeader)),mceTableColType:se((Q=>Q==="th"?h.makeColumnsHeader:h.unmakeColumnsHeader)),mceTableRowType:se((Q=>{switch(Q){case"header":return h.makeRowsHeader;case"footer":return h.makeRowsFooter;default:return h.makeRowsBody}}))},((Q,ne)=>f.addCommand(ne,Q))),f.addCommand("mceInsertTable",((Q,ne)=>{((ee,me,ue,Re={})=>{const Be=Ve=>vo(Ve)&&Ve>0;if(Be(me)&&Be(ue)){const Ve=Re.headerRows||0,Ze=Re.headerColumns||0;return vd(ee,ue,me,Ze,Ve)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(f,ne.rows,ne.columns,ne.options)})),f.addCommand("mceTableApplyCellStyle",((Q,ne)=>{const ee=Re=>"tablecell"+Re.toLowerCase().replace("-","");if(!Le(ne))return;const me=Yn(Ul(f),gd);if(me.length===0)return;const ue=((Re,Be)=>{const Ve={};return((Ze,qe,et,nt)=>{yn(Ze,((_t,kt)=>{(qe(_t,kt)?et:nt)(_t,kt)}))})(Re,Be,(Ze=>(qe,et)=>{Ze[et]=qe})(Ve),ot),Ve})(ne,((Re,Be)=>f.formatter.has(ee(Be))&&Ue(Re)));(Re=>{for(const Be in Re)if(fr.call(Re,Be))return!1;return!0})(ue)||(yn(ue,((Re,Be)=>{const Ve=ee(Be);mo(me,(Ze=>{Re===""?f.formatter.remove(Ve,{value:null},Ze.dom,!0):f.formatter.apply(Ve,{value:Re},Ze.dom)}))})),C(me[0]).each((Re=>zi(f,Re.dom,eh))))}))},Qf=f=>!Z(ge.fromDom(f.target),"ephox-snooker-resizer-bar"),eg=(f,h)=>{const y=(O=Rm.selectedSelector,{get:()=>kc(ge.fromDom(f.getBody()),O).fold((()=>bu(Zp(f),en(f)).fold(bC,ax)),cs)}),C=((D,L,F)=>{const q=ne=>{As(ne,D.selected),As(ne,D.firstSelected),As(ne,D.lastSelected)},J=ne=>{Vn(ne,D.selected,"1")},se=ne=>{Q(ne),F()},Q=ne=>{const ee=uc(ne,`${D.selectedSelector},${D.firstSelectedSelector},${D.lastSelectedSelector}`);mo(ee,q)};return{clearBeforeUpdate:Q,clear:se,selectRange:(ne,ee,me,ue)=>{se(ne),mo(ee,J),Vn(me,D.firstSelected,"1"),Vn(ue,D.lastSelected,"1"),L(ee,me,ue)},selectedSelector:D.selectedSelector,firstSelectedSelector:D.firstSelectedSelector,lastSelectedSelector:D.lastSelectedSelector}})(Rm,((D,L,F)=>{Ds(L).each((q=>{const J=E(D,(ee=>ee.dom)),se=G1(f),Q=ft(ot,ge.fromDom(f.getDoc()),se),ne=((ee,me,ue)=>{const Re=Er(ee);return pr(Re,me).map((Be=>{const Ve=Rf(Re,ue,!1),{rows:Ze}=rs(Ve),qe=((nt,_t)=>{const kt=nt.slice(0,_t[_t.length-1].row+1),Do=oa(kt);return Ke(Do,(Jt=>{const ho=Jt.cells.slice(0,_t[_t.length-1].column+1);return E(ho,(to=>to.element))}))})(Ze,Be),et=((nt,_t)=>{const kt=nt.slice(_t[0].row+_t[0].rowspan-1,nt.length),Do=oa(kt);return Ke(Do,(Jt=>{const ho=Jt.cells.slice(_t[0].column+_t[0].colspan-1,Jt.cells.length);return E(ho,(to=>to.element))}))})(Ze,Be);return{upOrLeftCells:qe,downOrRightCells:et}}))})(q,{selection:Ul(f)},Q).map((ee=>Uc(ee,(me=>E(me,(ue=>ue.dom)))))).getOrUndefined();((ee,me,ue,Re,Be)=>{ee.dispatch("TableSelectionChange",{cells:me,start:ue,finish:Re,otherCells:Be})})(f,J,L.dom,F.dom,ne)}))}),(()=>(D=>{D.dispatch("TableSelectionClear")})(f)));var O;return f.on("init",(D=>{const L=f.getWin(),F=Zf(f),q=en(f),J=((ue,Re,Be,Ve)=>{const Ze=((qe,et,nt,_t)=>{const kt=Si(),Do=kt.clear,Jt=ho=>{kt.on((to=>{_t.clearBeforeUpdate(et),Ac(ho.target,nt).each((tn=>{pd(to,tn,nt).each((ys=>{const Dr=ys.boxes.getOr([]);if(Dr.length===1){const hr=Dr[0],Xa=kr(hr)==="false",ht=n1(Qd(ho.target),hr,Pn);Xa&&ht&&_t.selectRange(et,Dr,hr,hr)}else Dr.length>1&&(_t.selectRange(et,Dr,ys.start,ys.finish),qe.selectContents(tn))}))}))}))};return{clearstate:Do,mousedown:ho=>{_t.clear(et),Ac(ho.target,nt).filter(Am).each(kt.set)},mouseover:ho=>{Jt(ho)},mouseup:ho=>{Jt(ho),Do()}}})(n0(ue),Re,Be,Ve);return{clearstate:Ze.clearstate,mousedown:Ze.mousedown,mouseover:Ze.mouseover,mouseup:Ze.mouseup}})(L,F,q,C),se=((ue,Re,Be,Ve)=>{const Ze=n0(ue),qe=()=>(Ve.clear(Re),ie.none());return{keydown:(et,nt,_t,kt,Do,Jt)=>{const ho=et.raw,to=ho.which,tn=ho.shiftKey===!0;return gn(Re,Ve.selectedSelector).fold((()=>(So(to)&&!tn&&Ve.clearBeforeUpdate(Re),So(to)&&tn&&!dx(nt,kt)?ie.none:Yp(to)&&tn?Me(Tc,Ze,Re,Be,Om,kt,nt,Ve.selectRange):t0(to)&&tn?Me(Tc,Ze,Re,Be,Dm,kt,nt,Ve.selectRange):Yp(to)?Me(Kp,Ze,Be,Om,kt,nt,Wr):t0(to)?Me(Kp,Ze,Be,Dm,kt,nt,co):ie.none)),(Dr=>{const hr=Xa=>()=>P(Xa,(Ys=>((vu,_d,wd,og,Zl)=>K1(og,vu,_d,Zl.firstSelectedSelector,Zl.lastSelectedSelector).map((Dc=>(Zl.clearBeforeUpdate(wd),Zl.selectRange(wd,Dc.boxes,Dc.start,Dc.finish),Dc.boxes))))(Ys.rows,Ys.cols,Re,Dr,Ve))).fold((()=>Fi(Re,Ve.firstSelectedSelector,Ve.lastSelectedSelector).map((Ys=>{const vu=Yp(to)||Jt.isForward(to)?Fn.after:Fn.before;return Ze.setRelativeSelection(Fn.on(Ys.first,0),vu(Ys.table)),Ve.clear(Re),He(ie.none(),!0)}))),(Ys=>ie.some(He(ie.none(),!0))));return So(to)&&tn&&!dx(nt,kt)?ie.none:Yp(to)&&tn?hr([gl(1,0)]):t0(to)&&tn?hr([gl(-1,0)]):Jt.isBackward(to)&&tn?hr([gl(0,-1),gl(-1,0)]):Jt.isForward(to)&&tn?hr([gl(0,1),gl(1,0)]):So(to)&&!tn?qe:ie.none}))()},keyup:(et,nt,_t,kt,Do)=>gn(Re,Ve.selectedSelector).fold((()=>{const Jt=et.raw,ho=Jt.which;return Jt.shiftKey===!0&&So(ho)&&dx(nt,kt)?((to,tn,ys,Dr,hr,Xa,ht)=>Pn(ys,hr)&&Dr===Xa?ie.none():ps(ys,"td,th",tn).bind((Ys=>ps(hr,"td,th",tn).bind((vu=>km(to,tn,Ys,vu,ht))))))(Re,Be,nt,_t,kt,Do,Ve.selectRange):ie.none()}),ie.none)}})(L,F,q,C),Q=((ue,Re,Be,Ve)=>{const Ze=n0(ue);return(qe,et)=>{Ve.clearBeforeUpdate(Re),pd(qe,et,Be).each((nt=>{const _t=nt.boxes.getOr([]);Ve.selectRange(Re,_t,nt.start,nt.finish),Ze.selectContents(et),Ze.collapseSelection()}))}})(L,F,q,C);f.on("TableSelectorChange",(ue=>Q(ue.start,ue.finish)));const ne=(ue,Re)=>{(Be=>Be.raw.shiftKey===!0)(ue)&&(Re.kill&&ue.kill(),Re.selection.each((Be=>{const Ve=om.relative(Be.start,Be.finish),Ze=Xg(L,Ve);f.selection.setRng(Ze)})))},ee=ue=>ue.button===0,me=(()=>{const ue=Uu(ge.fromDom(F)),Re=Uu(0);return{touchEnd:Be=>{const Ve=ge.fromDom(Be.target);if(Sa("td")(Ve)||Sa("th")(Ve)){const Ze=ue.get(),qe=Re.get();Pn(Ze,Ve)&&Be.timeStamp-qe<300&&(Be.preventDefault(),Q(Ve,Ve))}ue.set(Ve),Re.set(Be.timeStamp)}}})();f.on("dragstart",(ue=>{J.clearstate()})),f.on("mousedown",(ue=>{ee(ue)&&Qf(ue)&&J.mousedown($r(ue))})),f.on("mouseover",(ue=>{var Re;((Re=ue).buttons===void 0||1&Re.buttons)&&Qf(ue)&&J.mouseover($r(ue))})),f.on("mouseup",(ue=>{ee(ue)&&Qf(ue)&&J.mouseup($r(ue))})),f.on("touchend",me.touchEnd),f.on("keyup",(ue=>{const Re=$r(ue);if(Re.raw.shiftKey&&So(Re.raw.which)){const Be=f.selection.getRng(),Ve=ge.fromDom(Be.startContainer),Ze=ge.fromDom(Be.endContainer);se.keyup(Re,Ve,Be.startOffset,Ze,Be.endOffset).each((qe=>{ne(Re,qe)}))}})),f.on("keydown",(ue=>{const Re=$r(ue);h.hide();const Be=f.selection.getRng(),Ve=ge.fromDom(Be.startContainer),Ze=ge.fromDom(Be.endContainer),qe=u1(lx,o0)(ge.fromDom(f.selection.getStart()));se.keydown(Re,Ve,Be.startOffset,Ze,Be.endOffset,qe).each((et=>{ne(Re,et)})),h.show()})),f.on("NodeChange",(()=>{const ue=f.selection,Re=ge.fromDom(ue.getStart()),Be=ge.fromDom(ue.getEnd());O1(Ds,[Re,Be]).fold((()=>C.clear(F)),ot)}))})),f.on("PreInit",(()=>{f.serializer.addTempAttr(Rm.firstSelected),f.serializer.addTempAttr(Rm.lastSelected)})),{getSelectedCells:()=>((D,L)=>{switch(D.tag){case"none":return L();case"single":return(F=>[F.dom])(D.element);case"multiple":return(F=>E(F,(q=>q.dom)))(D.elements)}})(y.get(),yt([])),clearSelectedCells:D=>C.clear(ge.fromDom(D))}},W2=f=>Ao(f)&&f.nodeName==="TABLE",tg="bar-",gx=f=>Xd(f,"data-mce-resize")!=="false",Lm=f=>{const h=Si(),y=Si(),C=Si();let O,D,L,F;const q=ee=>ux(f,ee),J=()=>ml(f)?am():rm(),se=(ee,me,ue,Re)=>{const Be=(qe=>{return Dt(et=qe,"corner-")?(nt=>nt.substring(7))(et):et;var et})(me),Ve=$o(Be,"e"),Ze=Dt(Be,"n");if(D===""&&zn(ee),F===""&&(qe=>{const et=(nt=>cc(nt)+"px")(qe);au(qe,ie.none(),ie.some(et)),di(qe)})(ee),ue!==O&&D!==""){Cr(ee,"width",D);const qe=J(),et=q(ee),nt=ml(f)||Ve?(_t=>Co(_t).columns)(ee)-1:0;al(ee,ue-O,nt,qe,et)}else if((qe=>/^(\d+(\.\d+)?)%$/.test(qe))(D)){const qe=parseFloat(D.replace("%",""));Cr(ee,"width",ue*qe/O+"%")}if((qe=>/^(\d+(\.\d+)?)px$/.test(qe))(D)&&(qe=>{const et=Er(qe);rn(et)||mo(Zr(qe),(nt=>{const _t=Kc(nt,"width");Cr(nt,"width",_t),As(nt,"width")}))})(ee),Re!==L&&F!==""){Cr(ee,"height",F);const qe=Ze?0:(et=>Co(et).rows)(ee)-1;sr(ee,Re-L,qe)}};f.on("init",(()=>{const ee=((me,ue)=>((Re,Be)=>({parent:yt(Re),view:yt(Re),dragContainer:yt(Re),origin:()=>Vt(Re),isResizable:Be}))(ge.fromDom(me.getBody()),ue))(f,gx);if(C.set(ee),(me=>{const ue=me.options.get("object_resizing");return zo(ue.split(","),"table")})(f)&&no(f)){const me=((ue,Re,Be)=>{const Ve=Jc,Ze=_p,qe=ox(ue),et=ud({beforeResize:Ba(["table","type"]),afterResize:Ba(["table","type"]),startDrag:Ba([])});return qe.events.adjustHeight.bind((nt=>{const _t=nt.table;et.trigger.beforeResize(_t,"row");const kt=Ve.delta(nt.delta,_t);sr(_t,kt,nt.row),et.trigger.afterResize(_t,"row")})),qe.events.startAdjust.bind((nt=>{et.trigger.startDrag()})),qe.events.adjustWidth.bind((nt=>{const _t=nt.table;et.trigger.beforeResize(_t,"col");const kt=Ze.delta(nt.delta,_t),Do=Be(_t);al(_t,kt,nt.column,Re,Do),et.trigger.afterResize(_t,"col")})),{on:qe.on,off:qe.off,refreshBars:qe.refresh,hideBars:qe.hideBars,showBars:qe.showBars,destroy:qe.destroy,events:et.registry}})(ee,J(),q);f.mode.isReadOnly()||me.on(),me.events.startDrag.bind((ue=>{h.set(f.selection.getRng())})),me.events.beforeResize.bind((ue=>{const Re=ue.table.dom;((Be,Ve,Ze,qe,et)=>{Be.dispatch("ObjectResizeStart",{target:Ve,width:Ze,height:qe,origin:et})})(f,Re,Ne(Re),Wp(Re),tg+ue.type)})),me.events.afterResize.bind((ue=>{const Re=ue.table,Be=Re.dom;pu(Re),h.on((Ve=>{f.selection.setRng(Ve),f.focus()})),((Ve,Ze,qe,et,nt)=>{Ve.dispatch("ObjectResized",{target:Ze,width:qe,height:et,origin:nt})})(f,Be,Ne(Be),Wp(Be),tg+ue.type),f.undoManager.add()})),y.set(me)}})),f.on("ObjectResizeStart",(ee=>{const me=ee.target;if(W2(me)&&!f.mode.isReadOnly()){const ue=ge.fromDom(me);mo(f.dom.select(".mce-clonedresizable"),(Re=>{f.dom.addClass(Re,"mce-"+fd(f)+"-columns")})),!w2(ue)&&Cm(f)?Np(ue):!iu(ue)&&ia(f)&&zn(ue),Bf(ue)&&Dt(ee.origin,tg)&&zn(ue),O=ee.width,D=fl(f)?"":Cc(f,me).getOr(""),L=ee.height,F=qp(f,me).getOr("")}})),f.on("ObjectResized",(ee=>{const me=ee.target;if(W2(me)){const ue=ge.fromDom(me),Re=ee.origin;(Be=>Dt(Be,"corner-"))(Re)&&se(ue,Re,ee.width,ee.height),pu(ue),zi(f,ue.dom,eh)}}));const Q=()=>{y.on((ee=>{ee.on(),ee.showBars()}))},ne=()=>{y.on((ee=>{ee.off(),ee.hideBars()}))};return f.on("DisabledStateChange",(ee=>{ee.state?ne():Q()})),f.on("SwitchMode",(()=>{f.mode.isReadOnly()?ne():Q()})),f.on("dragstart dragend",(ee=>{ee.type==="dragstart"?ne():Q()})),f.on("remove",(()=>{y.on((ee=>{ee.destroy()}))})),{refresh:ee=>{y.on((me=>me.refreshBars(ge.fromDom(ee))))},hide:()=>{y.on((ee=>ee.hideBars()))},show:()=>{y.on((ee=>ee.showBars()))}}},Im=f=>{(O=>{const D=O.options.register;D("table_clone_elements",{processor:"string[]"}),D("table_use_colgroups",{processor:"boolean",default:!0}),D("table_header_type",{processor:L=>{const F=zo(["section","cells","sectionCells","auto"],L);return F?{value:L,valid:F}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),D("table_sizing_mode",{processor:"string",default:"auto"}),D("table_default_attributes",{processor:"object",default:{border:"1"}}),D("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),D("table_column_resizing",{processor:L=>{const F=zo(["preservetable","resizetable"],L);return F?{value:L,valid:F}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),D("table_resize_bars",{processor:"boolean",default:!0}),D("table_style_by_css",{processor:"boolean",default:!0}),D("table_merge_content_on_paste",{processor:"boolean",default:!0})})(f);const h=Lm(f),y=eg(f,h),C=U2(f,h,y);return a0(f,C),((O,D)=>{const L=en(O),F=q=>bu(Zp(O)).bind((J=>Ds(J,L).map((se=>{const Q=Jp(Ul(O),se,J);return q(se,Q)})))).getOr("");yn({mceTableRowType:()=>F(D.getTableRowType),mceTableCellType:()=>F(D.getTableCellType),mceTableColType:()=>F(D.getTableColType)},((q,J)=>O.addQueryValueHandler(J,q)))})(f,C),Oc(f,C),{getSelectedCells:y.getSelectedCells,clearSelectedCells:y.clearSelectedCells}};X.add("dom",(f=>({table:Im(f)})))})();tinymce.Resource.add("ui/oxide/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox #accessibility-issue__subheader{font-size:16px;color:#222f3e}.tox .accessbility-sr-only{position:absolute;clip:rect(1px,1px,1px,1px);clip-path:inset(0 0 99.9% 99.9%);overflow:hidden;height:1px;width:1px;padding:0;border:0}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox #accessibility-issue__contentID{margin-top:8px;margin-bottom:8px}.tox #accessibility-issue__contentID span:first-child{font-weight:700}.tox #accessibility-issue__document{padding-bottom:8px}.tox .accessibility-issue__repair{margin-top:8px}.tox .accessibility-issue__repair .tox-form__group .tox-form__group--error{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:#e6f0fd;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{font-size:14px;color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon.accessibility-issue__icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:#fffae6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{font-size:14px;color:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon.accessibility-issue__icon svg{fill:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:#fae6e6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{font-size:14px;color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon.accessibility-issue__icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon.accessibility-issue__icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;justify-content:center;align-items:center;gap:2px;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--icon-and-text .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--icon-and-text .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon.tox-icon--success svg{fill:#78AB46}.tox .tox-button--icon-and-text .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--icon-and-text .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon.tox-icon--error svg{fill:#c00}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--icon .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--icon .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon.tox-icon--success svg{fill:#78AB46}.tox .tox-button--icon .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--icon .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon.tox-icon--error svg{fill:#c00}.tox-context-form__group .tox-button--icon,.tox-context-form__group .tox-button.tox-button--icon{margin:6px 1px 5px 0;padding:0}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-button--stretch{width:100%}.tox .tox-button--secondary.tox-button--secondary--outline{background-color:#fff;border-color:#f0f0f0}.tox .tox-button--secondary.tox-button--secondary--outline:hover:not(:disabled){background-color:#f0f0f0;border-color:#e3e3e3}.tox .tox-button--secondary.tox-button--secondary--outline:active:not(:disabled){background-color:#e3e3e3;border-color:#e3e3e3}.tox .tox-button--secondary.tox-button--secondary--outline[disabled]{background-color:#fff;border-color:#f0f0f0;color:rgba(34,47,62,.5)}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-image-selector-menu .tox-collection__item,.tox .tox-image-selector-menu .tox-collection__item-image-selector{flex-direction:column}.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-image,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-image{flex-grow:1}.tox .tox-image-selector-menu .tox-collection__item label,.tox .tox-image-selector-menu .tox-collection__item-image-selector label{width:48px;white-space:nowrap;overflow:hidden;font-size:12px;color:#222f3e;text-align:center;align-self:flex-end}.tox .tox-image-selector-menu .tox-collection__item-checkmark{height:24px;width:24px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.tox .tox-image-selector-menu .tox-collection__item-checkmark svg path{fill:#006ce7;stroke:#006ce7}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#fff}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--enabled:not(.tox-collection__item--state-disabled){z-index:2;background-color:#fff;opacity:.8;background-clip:content-box}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#006ce7;color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--grid .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e;background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-image{border:1px solid #eee;border-radius:6px;display:flex;flex-direction:column;justify-content:center;margin-bottom:4px;position:relative}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-conversations{display:flex;flex-direction:column;position:relative;height:100%;min-width:300px;max-width:300px;width:300px}.tox .tox-conversations__header{align-items:center;display:flex;justify-content:space-between;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 12px;background:#fff;z-index:1}.tox .tox-conversations__title{font-size:20px;font-weight:400;padding:8px 0 8px 0;color:#222f3e;line-height:28px}.tox .tox-comment{background:#fff;border:1px solid #fff;border-radius:6px;padding:8px;padding-bottom:16px;position:relative}.tox .tox-comment:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected{background-color:#fff2c9;border:1px solid #ffcf30;box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected:focus{border:2px solid #006ce7;margin:-1px}.tox .tox-comment.tox-comment--selected:focus:not(:first-child){margin-top:7px}.tox .tox-comment.tox-comment--selected .tox-comment__single{margin-bottom:12px}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus{position:relative}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus::after{top:-9px;pointer-events:none;position:absolute;content:"";display:block;bottom:-9px;left:-9px;right:-9px;border-radius:6px;border:2px solid #006ce7}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus:last-of-type:has(textarea):after{bottom:calc((12px + 16px + 1px) * -1)}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial;transition:max-height .5s cubic-bezier(0, 1, 0, 1);white-space:pre-wrap}.tox .tox-comment__body.tox-comment__body--expanded{max-height:100em;transition:max-height 1s ease-in-out}.tox .tox-comment__body.tox-comment__body--pending{transition:max-height 0s}.tox .tox-comment__body p{margin:0}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%;font-size:16px}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__expander p:focus{font-weight:700}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-tbtn.tox-comment__mention-btn{display:flex;width:34px;height:34px;padding:5px;justify-content:center;align-items:center;margin:0;background-color:transparent}.tox .tox-comment-thread{background:#fff;position:relative;border-radius:6px;background-color:transparent}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto;padding:12px;scroll-behavior:smooth}.tox .tox-comment__scroll:has(textarea:focus){scroll-behavior:auto}.tox .tox-comment--disappearing{transition:opacity .5s ease}.tox .tox-comment[data-transitioning-destination=deleting]{opacity:0}.tox .tox-ring-loader{width:10px;height:10px;border:1px solid #fff;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:tox-rotation 1s linear infinite}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #144782;color:#144782}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#144782;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-context-form__group .tox-button--icon.tox-lock-context-form-size-input{margin-left:8px;margin-right:8px}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled],.tox .tox-toolbar-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-focusable-wrapper:focus,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus,.tox .tox-toolbar-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{max-width:250px;min-height:unset;height:28px;margin:5px 0 6px 0}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox .tox-textfield-size{width:80px}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-selectfield select option:checked{background-color:revert;color:revert}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-image-selector-loading-spinner-wrapper{display:flex;justify-content:center;align-items:center}.tox .tox-image-selector-loading-spinner{position:absolute;width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox .tox-toolbar .tox-image-selector,.tox .tox-toolbar__overflow .tox-image-selector,.tox .tox-toolbar__primary .tox-image-selector{margin:5px 0 6px 11px}.tox .tox-image-selector-menu{border:0;border-radius:3px;margin:-4px -4px;padding:4px}.tox .tox-image-selector-menu .tox-collection--list .tox-collection__group{border:0;padding:0;margin:-4px -4px}.tox .tox-image-selector-menu .tox-collection__item{max-width:48px}.tox .tox-image-selector-menu .tox-collection__item-icon{border:1px solid #eee;border-radius:3px;margin-bottom:4px;width:100%}.tox .tox-image-selector-menu .tox-collection__item-icon svg path{stroke:#c00}.tox .tox-image-selector__row{display:flex}.tox .tox-image-selector--remove{align-items:center;display:flex;justify-content:center}.tox .tox-image-selector--remove svg path{stroke:#c00}.tox .tox-image-selector-image-wrapper{width:46px;height:46px;display:flex;align-items:center;justify-content:center}.tox .tox-image-selector-image-img{max-width:100%;max-height:100%}.tox .tox-image-selector__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-image-selector__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-image-selector__picker-btn:hover{background:#f0f0f0}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox-mentions__card-common{z-index:1200}.tox.tox-mentions__card{background:#fff;border:1px solid #eee;display:flex;padding:4px 8px}.tox.tox-mentions__card .tox-mentions__container{display:flex;flex-direction:column;align-self:center;margin:0 4px}.tox .tox-mentions__avatar{width:42px;height:42px;border-radius:50%;margin-right:4px}.tox .tox-mentions__username{font-size:14px;line-height:21px;color:#222f3e}.tox .tox-mentions__description{font-size:12px;line-height:21px;color:rgba(34,47,62,.7)}.tox .tox-collection__item--active .tox-mentions__description,.tox .tox-collection__item--active .tox-mentions__username{color:inherit}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-onboarding-overlay{height:100%;background-color:#f0f0f0;position:absolute;top:0;left:0;right:0;z-index:1302;overflow:auto;display:grid;justify-content:center;align-items:center}.tox .tox-onboarding-dialog{max-width:512px;background-color:#fff;display:flex;flex-direction:column;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);border-radius:12px;margin:8px}.tox .tox-onboarding-dialog .tox-onboarding-header{color:#222f3e;display:flex;justify-content:center;align-items:center;font-size:20px;margin:24px 0 8px}.tox .tox-onboarding-dialog .tox-onboarding-step{display:grid;grid-template-columns:min-content 1fr min-content;align-items:center;margin:0 24px}.tox .tox-onboarding-dialog .tox-onboarding-step:not(:last-child){border-bottom:1px solid #e3e3e3}.tox .tox-onboarding-dialog .tox-onboarding-step--number{width:24px;aspect-ratio:1;border-radius:50%;border:1px solid #00ad0e;display:flex;justify-content:center;align-items:center;font-size:12px;font-weight:700;color:#00ad0e}.tox .tox-onboarding-dialog .tox-onboarding-step--body{padding:24px 0 24px 16px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-onboarding-dialog .tox-onboarding-step--action{padding-left:24px}.tox .tox-onboarding-dialog .tox-onboarding-footer{background-color:#f0f0f0;display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.tox .tox-onboarding-dialog .tox-onboarding-footer p{display:flex;align-items:center;justify-content:center;gap:4px;font-size:14px;color:rgba(34,47,62,.7)}.tox .tox-onboarding-dialog svg{width:24px;fill:rgba(34,47,62,0.7)}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin{display:grid;align-items:center;grid-template-columns:min-content 1fr min-content;border-bottom:1px solid #e3e3e3;padding:24px 0;margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body{margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--icon{display:grid;place-content:center;width:56px;height:56px;line-height:24px;font-size:24px;border-radius:12px;background:linear-gradient(180deg,#fff 24%,#f0f0f0 100%);box-shadow:0 1px 1px 0 #222f3e12,0 3px 6px 0 #222f3e06;color:#006ce7}.tox .tox-promotion-dialog--subtitle{margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore{text-align:center;margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore a{color:#006ce7}.tox .tox-promotion-dialog--footer{background-color:#f0f0f0;color:rgba(34,47,62,.7);font-size:12px;text-align:center;padding:16px}.tox .tox-promotion-button{display:flex;align-items:center;height:26.6px;line-height:26.6px;font-size:14px;font-weight:700;background-color:#f1ebf9;color:#851aff;padding:8px 16px;cursor:pointer;white-space:nowrap;border-radius:5px}.tox .tox-promotion-button:focus{outline:1px solid #851AFF}.tox .tox-onboarding-dialog a,.tox .tox-promotion-dialog--footer a{color:rgba(34,47,62,.7);cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus,.tox .tox-onboarding-dialog a:hover,.tox .tox-promotion-dialog--footer a:focus,.tox .tox-promotion-dialog--footer a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus-visible,.tox .tox-promotion-dialog--footer a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-onboarding-dialog a:active,.tox .tox-promotion-dialog--footer a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#f0f0f0;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-skeleton .tox-skeleton__line{height:16px;width:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}.tox .tox-skeleton .tox-skeleton__circle{height:36px;width:36px;margin-right:8px;border-radius:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}@keyframes wave{0%{background-position:-268px 0}100%{background-position:268px 0}}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-toolbar-slider{align-items:center;display:inline-flex;height:16px}.tox .tox-toolbar-slider__input{appearance:none;background:#eee;border-radius:16px;width:130px;height:2px}.tox .tox-toolbar-slider__input::-webkit-slider-runnable-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-moz-range-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-webkit-slider-thumb{-webkit-appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input::-moz-range-thumb{appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input:focus-visible{outline:0}.tox .tox-toolbar-slider__input:focus::-webkit-slider-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:focus::-moz-range-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:hover::-webkit-slider-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:hover::-moz-range-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:active::-webkit-slider-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input:active::-moz-range-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input[disabled]::-webkit-slider-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-toolbar-slider__input[disabled]::-moz-range-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-cursor-default{cursor:ns-resize}.tox .tox-statusbar__resize-cursor-both{cursor:nwse-resize}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__resize-handle:only-child{margin-left:auto}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-toggle{--tox-private-slider-background-color:#fff;--tox-private-slider-border-color:rgb(227, 227, 227);--tox-private-slider-handle-background-color:#222f3e;display:flex;align-items:center;gap:4px;padding:4px;font-weight:400;line-height:24px;white-space:nowrap;background-color:#fff;color:#222f3e}.tox .tox-toggle input{position:absolute;opacity:0;width:0;height:0}.tox .tox-toggle__slider{position:relative;cursor:pointer;box-sizing:border-box;transition:.4s;border-radius:34px;width:28px;height:16px;background-color:var(--tox-private-slider-background-color);border:1px solid var(--tox-private-slider-border-color)}.tox .tox-toggle__slider::before{position:absolute;content:"";height:12px;width:12px;left:1px;bottom:1px;transition:.4s;border-radius:50%;background-color:var(--tox-private-slider-handle-background-color)}.tox input:checked+.tox-toggle__slider{--tox-private-slider-background-color:#006ce7;--tox-private-slider-border-color:#006ce7}.tox input:focus+.tox-toggle__slider{box-shadow:0 0 0 1px #fff,0 0 0 2px #006ce7}.tox input:checked+.tox-toggle__slider::before{transform:translateX(12px);--tox-private-slider-handle-background-color:#fff}.tox input:disabled+.tox-toggle__slider::before{opacity:50%}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-label--context-toolbar{margin:6px 1px 5px 0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn--bordered,.tox .tox-tbtn--bordered:focus,.tox .tox-tbtn--bordered:hover{border:1px solid #eee}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button__main{border-radius:3px 0 0 3px;margin-right:0;width:34px}.tox .tox-split-button__main:focus{border:0;box-shadow:none;background:#fff;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button__main:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:3px 0 0 3px}@media (forced-colors:active){.tox .tox-split-button__main:focus::after{border:2px solid highlight}}.tox .tox-split-button__chevron{width:16px;border-radius:0 3px 3px 0;margin-left:0}.tox .tox-split-button__chevron:focus{border:0;box-shadow:none;background:#fff;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button__chevron:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:0 3px 3px 0}@media (forced-colors:active){.tox .tox-split-button__chevron:focus::after{border:2px solid highlight}}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox.tox-platform-touch .tox-split-button__main{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button__chevron.tox-tbtn--disabled,.tox .tox-split-button__main.tox-tbtn--disabled{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__chevron.tox-tbtn--disabled:hover,.tox .tox-split-button__main.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__chevron.tox-tbtn--disabled:focus,.tox .tox-split-button__main.tox-tbtn--disabled:focus{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__main.tox-tbtn--disabled svg .tox-icon-highlight-bg-color__color,.tox .tox-split-button__main.tox-tbtn--disabled svg .tox-icon-text-color__color{opacity:.3}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox .tox-focusable-wrapper{border:1px solid transparent;margin-right:2px;pointer-events:none}.tox .tox-focusable-wrapper .tox-textfield-size{pointer-events:all}.tox .tox-focusable-wrapper:focus{background-color:#f7f7f7;border-radius:6px;border-style:solid;border-width:1px}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox-context-form__group{display:flex;align-items:center}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:min(80%,15em);padding:8px 0 0 0;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-icon-custom-state{flex-grow:1;display:flex;justify-content:flex-end}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-view .tox-revisionhistory__pane{padding:0}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox [data-mce-name=suggestededits] .tox-icon .tox-icon--badge{fill:#006ce7}.tox .tox-view .tox-suggestededits__pane{padding:0}.tox .tox-suggestededits__sink{position:relative;z-index:1000}.tox .tox-suggestededits__sink .tox-tiered-menu .tox-collection--list{position:absolute}.tox .tox-suggestededits__container{height:100%;display:flex;flex-direction:column}.tox .tox-suggestededits__container .tox-suggestededits__toolbar{display:flex;align-content:center;align-self:stretch;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits__toolbar .tox-suggestededits__toolbar--start{display:flex;align-items:start;flex:0;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits__toolbar .tox-suggestededits__toolbar--end{display:flex;align-items:end;flex:0;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits__toolbar .tox-suggestededits__title{color:#222f3e;font-size:20px;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-suggestededits__container .tox-suggestededits{background-color:#fff;border-top:1px solid #eee;display:flex;flex:1;height:inherit;overflow-x:auto;overflow-y:hidden;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__model{flex:1}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__content{height:100%;width:100%;overflow:scroll;background-color:#fff}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar{background-color:#f0f0f0;display:flex;flex-direction:column;justify-content:flex-end;min-width:248px;width:316px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-header{padding:4px 12px;position:sticky;top:0;background-color:#f0f0f0;margin:-4px -12px;z-index:1}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content{display:flex;flex:1;flex-direction:column;gap:12px;overflow:auto;padding:0 12px 12px 12px;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card{background-color:#fff;border-radius:6px;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--divider{background-color:#f0f0f0;height:1px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single{align-items:flex-start;align-self:stretch;display:flex;flex-direction:column;gap:6px;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header{display:flex;flex:auto;flex-direction:row;justify-content:space-between;align-items:center;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--user{display:flex;align-items:center;flex:1 0 0;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar{height:24px;width:24px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar .tox-skeleton__circle,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar img{height:24px;width:24px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--details{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--details .tox-suggestededits__card--name{color:#222f3e}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user{display:flex;align-items:center;flex:1 0 0;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--avatar{height:36px;width:36px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details .tox-suggestededits__card--name{color:#222f3e;font-size:14px;font-weight:700}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details .tox-suggestededits__card--timestamp{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__resolution{align-items:center;border:0;border-radius:20px;height:20px;width:20px;display:flex;flex:0 0 auto;justify-content:center;text-align:center}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__resolution.tox-suggestededits__resolution--accepted .tox-icon svg{fill:#78AB46}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--header .tox-suggestededits__resolution.tox-suggestededits__resolution--rejected .tox-icon svg{fill:#c00}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content{display:flex;flex-direction:column;align-self:stretch;flex:auto;gap:6px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__operations{display:flex;gap:8px;flex-direction:row}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar{align-items:center;border-radius:6px;display:flex;flex-direction:column;font-size:12px;justify-content:space-between;width:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--insert{background-color:#78ab46;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--modify{background-color:#006ce7;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--remove{background-color:#c00;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-text{color:#222f3e;font-weight:700}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__card--feedback{color:#222f3e;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__card--textarea{border:2px solid #eee;border-radius:6px;color:#222f3e;gap:8px;padding:5px 6px;resize:none;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--content .tox-suggestededits__card--textarea:focus{border:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--footer{display:flex;flex-direction:column;gap:6px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--footer .tox-suggestededits__card--timestamp{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--footer .tox-suggestededits__card--timestamp .tox-icon svg{fill:#222F3E80;transform:translate(0,8px);margin-top:-10px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--buttons{display:flex;align-items:center;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--buttons.tox-suggestededits__card--review-buttons{justify-content:space-between}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single .tox-suggestededits__card--buttons.tox-suggestededits__card--feedback-buttons{justify-content:flex-end}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--hidden{opacity:.5}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--resolved{background-color:#d3d5d8}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--selected{outline:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--selected:not(.tox-suggestededits__card--resolved){background-color:#fff}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card:hover{box-shadow:0 4px 8px 0 #d3d5d8}[data-mce-name=uploadcare-enhance-filter] .color-swatch-remove-color path{fill:#c00;stroke:#c00}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden;z-index:1301;background-color:#fff}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);const VJ=X=>{X.querySelectorAll("select").forEach(ye=>{ye.innerHTML=new BI().renderOptions()})};CE({unit:dC,fn:()=>{const X=PI.activeEditor?.getDoc();X&&VJ(X)}});PI.PluginManager.add("dropdown",X=>{X.ui.registry.addButton("dropdown",{text:"Insert",onAction:()=>{const ye=new BI().shadowRoot?.innerHTML;ye&&X.insertContent(ye||"")}})});function UJ(){PI.init({selector:"textarea#editor",license_key:"gpl",plugins:"dropdown",toolbar:"dropdown",resize:!1,menubar:!1})}FJ();UJ();
